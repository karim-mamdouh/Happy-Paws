"use strict";(self.webpackChunkHappy_Paws=self.webpackChunkHappy_Paws||[]).push([[179],{7128:(jt,Ke,M)=>{M.d(Ke,{nm:()=>fi});var h=M(6351),W=(M(4650),M(3692),M(5867),M(5861)),J=M(9681),X=M(4859),Y=M(2090),se=M(1877);const G=new Map,ee={activated:!1,tokenObservers:[]},pe={initialized:!1,enabled:!1};function ze(Ze){return G.get(Ze)||ee}function Me(Ze,$e){G.set(Ze,$e)}function Xe(){return pe}class de{constructor($e,gt,St,$t,cn){if(this.operation=$e,this.retryPolicy=gt,this.getWaitDuration=St,this.lowerBound=$t,this.upperBound=cn,this.pending=null,this.nextErrorWaitInterval=$t,$t>cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process($e){var gt=this;return(0,W.Z)(function*(){gt.stop();try{gt.pending=new Y.BH,yield function Ye(Ze){return new Promise($e=>{setTimeout($e,Ze)})}(gt.getNextRun($e)),gt.pending.resolve(),yield gt.pending.promise,gt.pending=new Y.BH,yield gt.operation(),gt.pending.resolve(),yield gt.pending.promise,gt.process(!0).catch(()=>{})}catch(St){gt.retryPolicy(St)?gt.process(!1).catch(()=>{}):gt.stop()}})()}getNextRun($e){if($e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),gt}}}const he=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ht(Ze){if(!ze(Ze).activated)throw he.create("use-before-activation",{appName:Ze.name})}function Ue(Ze,$e){return pt.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*({url:Ze,body:$e},gt){var St,$t;const cn={"Content-Type":"application/json"},_e=gt.getImmediate({optional:!0});if(_e){const Cr=yield _e.getHeartbeatsHeader();Cr&&(cn["X-Firebase-Client"]=Cr)}const ct={method:"POST",body:JSON.stringify($e),headers:cn};let je,dt;try{je=yield fetch(Ze,ct)}catch(Cr){throw he.create("fetch-network-error",{originalErrorMessage:null===(St=Cr)||void 0===St?void 0:St.message})}if(200!==je.status)throw he.create("fetch-status-error",{httpStatus:je.status});try{dt=yield je.json()}catch(Cr){throw he.create("fetch-parse-error",{originalErrorMessage:null===($t=Cr)||void 0===$t?void 0:$t.message})}const Wt=dt.ttl.match(/^([\d.]+)(s)$/);if(!Wt||!Wt[2]||isNaN(Number(Wt[1])))throw he.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${dt.ttl}`});const tn=1e3*Number(Wt[1]),rr=Date.now();return{token:dt.token,expireTimeMillis:rr+tn,issuedAtTimeMillis:rr}})).apply(this,arguments)}function lt(Ze,$e){const{projectId:gt,appId:St,apiKey:$t}=Ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${gt}/apps/${St}:exchangeDebugToken?key=${$t}`,body:{debug_token:$e}}}const at="firebase-app-check-store";let _n=null;function Cn(){return _n||(_n=new Promise((Ze,$e)=>{var gt;try{const St=indexedDB.open("firebase-app-check-database",1);St.onsuccess=$t=>{Ze($t.target.result)},St.onerror=$t=>{var cn;$e(he.create("storage-open",{originalErrorMessage:null===(cn=$t.target.error)||void 0===cn?void 0:cn.message}))},St.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(at,{keyPath:"compositeKey"})}}catch(St){$e(he.create("storage-open",{originalErrorMessage:null===(gt=St)||void 0===gt?void 0:gt.message}))}}),_n)}function pr(){return(pr=(0,W.Z)(function*(Ze,$e){const St=(yield Cn()).transaction(at,"readwrite"),cn=St.objectStore(at).put({compositeKey:Ze,value:$e});return new Promise((_e,ct)=>{cn.onsuccess=je=>{_e()},St.onerror=je=>{var dt;ct(he.create("storage-set",{originalErrorMessage:null===(dt=je.target.error)||void 0===dt?void 0:dt.message}))}})})).apply(this,arguments)}const Ar=new se.Yd("@firebase/app-check");function rn(Ze,$e){return(0,Y.hl)()?function En(Ze,$e){return function Or(Ze,$e){return pr.apply(this,arguments)}(function $n(Ze){return`${Ze.options.appId}-${Ze.name}`}(Ze),$e)}(Ze,$e).catch(gt=>{Ar.warn(`Failed to write token to IndexedDB. Error: ${gt}`)}):Promise.resolve()}function vn(){return Xe().enabled}function Nn(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,W.Z)(function*(){const Ze=Xe();if(Ze.enabled&&Ze.token)return Ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yn={error:"UNKNOWN_ERROR"};function Mr(Ze){return Y.US.encodeString(JSON.stringify(Ze),!1)}function li(Ze){return kn.apply(this,arguments)}function kn(){return(kn=(0,W.Z)(function*(Ze,$e=!1){const gt=Ze.app;ht(gt);const St=ze(gt);let cn,$t=St.token;if(!$t){const je=yield St.cachedTokenPromise;je&&Pr(je)&&($t=je)}if(!$e&&$t&&Pr($t))return{token:$t.token};let ct,_e=!1;if(vn()){St.exchangeTokenPromise||(St.exchangeTokenPromise=Ue(lt(gt,yield Nn()),Ze.heartbeatServiceProvider).then(dt=>(St.exchangeTokenPromise=void 0,dt)),_e=!0);const je=yield St.exchangeTokenPromise;return yield rn(gt,je),Me(gt,Object.assign(Object.assign({},St),{token:je})),{token:je.token}}try{St.exchangeTokenPromise||(St.exchangeTokenPromise=St.provider.getToken().then(je=>(St.exchangeTokenPromise=void 0,je)),_e=!0),$t=yield St.exchangeTokenPromise}catch(je){"appCheck/throttled"===je.code?Ar.warn(je.message):Ar.error(je),cn=je}return $t?(ct={token:$t.token},Me(gt,Object.assign(Object.assign({},St),{token:$t})),yield rn(gt,$t)):ct=cr(cn),_e&&An(gt,ct),ct})).apply(this,arguments)}function en(Ze,$e){const gt=ze(Ze),St=gt.tokenObservers.filter($t=>$t.next!==$e);0===St.length&&gt.tokenRefresher&&gt.tokenRefresher.isRunning()&&gt.tokenRefresher.stop(),Me(Ze,Object.assign(Object.assign({},gt),{tokenObservers:St}))}function zr(Ze){const{app:$e}=Ze,gt=ze($e);let St=gt.tokenRefresher;St||(St=function Ur(Ze){const{app:$e}=Ze;return new de((0,W.Z)(function*(){let St;if(St=ze($e).token?yield li(Ze,!0):yield li(Ze),St.error)throw St.error}),()=>!0,()=>{const gt=ze($e);if(gt.token){let St=gt.token.issuedAtTimeMillis+.5*(gt.token.expireTimeMillis-gt.token.issuedAtTimeMillis)+3e5;return St=Math.min(St,gt.token.expireTimeMillis-3e5),Math.max(0,St-Date.now())}return 0},3e4,96e4)}(Ze),Me($e,Object.assign(Object.assign({},gt),{tokenRefresher:St}))),!St.isRunning()&&gt.isTokenAutoRefreshEnabled&&St.start()}function An(Ze,$e){const gt=ze(Ze).tokenObservers;for(const St of gt)try{"EXTERNAL"===St.type&&null!=$e.error?St.error($e.error):St.next($e)}catch{}}function Pr(Ze){return Ze.expireTimeMillis-Date.now()>0}function cr(Ze){return{token:Mr(Yn),error:Ze}}class Qt{constructor($e,gt){this.app=$e,this.heartbeatServiceProvider=gt}_delete(){const{tokenObservers:$e}=ze(this.app);for(const gt of $e)en(this.app,gt.next);return Promise.resolve()}}const Wn="app-check-internal";!function Vn(){(0,J._registerComponent)(new X.wA("app-check",Ze=>function jn(Ze,$e){return new Qt(Ze,$e)}(Ze.getProvider("app").getImmediate(),Ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ze,$e,gt)=>{Ze.getProvider(Wn).initialize()})),(0,J._registerComponent)(new X.wA(Wn,Ze=>function $r(Ze){return{getToken:$e=>li(Ze,$e),addTokenListener:$e=>function Yt(Ze,$e,gt,St){const{app:$t}=Ze,cn=ze($t),_e={next:gt,error:St,type:$e};if(Me($t,Object.assign(Object.assign({},cn),{tokenObservers:[...cn.tokenObservers,_e]})),cn.token&&Pr(cn.token)){const ct=cn.token;Promise.resolve().then(()=>{gt({token:ct.token}),zr(Ze)}).catch(()=>{})}cn.cachedTokenPromise.then(()=>zr(Ze))}(Ze,"INTERNAL",$e),removeTokenListener:$e=>en(Ze.app,$e)}}(Ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/app-check","0.5.12")}();class fi{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},3692:(jt,Ke,M)=>{M.d(Ke,{Ot:()=>fe,ZF:()=>tt,hX:()=>ze,z6:()=>W});var h=M(5867),u=M(4650),k=M(6351);class fe{constructor(de){return de}}class W{constructor(){return(0,h.C6)()}}const Y=new u.OlP("angularfire2._apps"),se={provide:fe,useFactory:function X(Je){return Je&&1===Je.length?Je[0]:new fe((0,h.Mq)())},deps:[[new u.FiY,Y]]},G={provide:W,deps:[[new u.FiY,Y]]};function ee(Je){return(de,Ye)=>{const Ie=de.runOutsideAngular(()=>Je(Ye));return new fe(Ie)}}let pe=(()=>{class Je{constructor(Ye){(0,h.KN)("angularfire",k.q4.full,"core"),(0,h.KN)("angularfire",k.q4.full,"app"),(0,h.KN)("angular",u.q4F.full,Ye.toString())}}return Je.\u0275fac=function(Ye){return new(Ye||Je)(u.LFG(u.Lbi))},Je.\u0275mod=u.oAB({type:Je}),Je.\u0275inj=u.cJS({providers:[se,G]}),Je})();function ze(Je,...de){return{ngModule:pe,providers:[{provide:Y,useFactory:ee(Je),multi:!0,deps:[u.R0b,u.zs3,k.HU,...de]}]}}const tt=(0,k.u3)(h.ZF,!0)},1205:(jt,Ke,M)=>{M.d(Ke,{zQ:()=>nt,rT:()=>He,f7:()=>Ue,L6:()=>Ge,_Q:()=>ht,lh:()=>et,Qv:()=>he,nw:()=>pt});var h=M(4650),u=M(7579),k=M(9646),fe=M(9751),W=M(8996),J=M(6451),X=M(6063);class Y extends u.x{constructor(Pt=1/0,bt=1/0,at=X.l){super(),this._bufferSize=Pt,this._windowTime=bt,this._timestampProvider=at,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=bt===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,bt)}next(Pt){const{isStopped:bt,_buffer:at,_infiniteTimeWindow:Rt,_timestampProvider:_n,_windowTime:Cn}=this;bt||(at.push(Pt),!Rt&&at.push(_n.now()+Cn)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const bt=this._innerSubscribe(Pt),{_infiniteTimeWindow:at,_buffer:Rt}=this,_n=Rt.slice();for(let Cn=0;Cn<_n.length&&!Pt.closed;Cn+=at?1:2)Pt.next(_n[Cn]);return this._checkFinalizedStatuses(Pt),bt}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:bt,_buffer:at,_infiniteTimeWindow:Rt}=this,_n=(Rt?1:2)*Pt;if(Pt<1/0&&_n<at.length&&at.splice(0,at.length-_n),!Rt){const Cn=bt.now();let yn=0;for(let En=1;En<at.length&&at[En]<=Cn;En+=2)yn=En;yn&&at.splice(0,yn+1)}}}var se=M(3099);function G(lt,Pt,bt){let at,Rt=!1;return lt&&"object"==typeof lt?({bufferSize:at=1/0,windowTime:Pt=1/0,refCount:Rt=!1,scheduler:bt}=lt):at=lt??1/0,(0,se.B)({connector:()=>new Y(at,Pt,bt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Rt})}var ee=M(3900),pe=M(576);function ze(lt,Pt){return(0,pe.m)(Pt)?(0,ee.w)(()=>lt,Pt):(0,ee.w)(()=>lt)}var Me=M(5363),Xe=M(4004),Tt=M(590),tt=M(9468),Ne=M(9300),Pe=M(6351),Bt=M(2011),Je=M(6895),de=M(7128);M(127);const he=new h.OlP("angularfire2.auth.use-emulator"),Ge=new h.OlP("angularfire2.auth.settings"),ht=new h.OlP("angularfire2.auth.tenant-id"),He=new h.OlP("angularfire2.auth.langugage-code"),et=new h.OlP("angularfire2.auth.use-device-language"),Ue=new h.OlP("angularfire.auth.persistence"),pt=(lt,Pt,bt,at,Rt,_n,Cn,yn)=>(0,Bt.cc)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const En=Pt.runOutsideAngular(()=>lt.auth());if(bt&&En.useEmulator(...bt),at&&(En.tenantId=at),En.languageCode=Rt,_n&&En.useDeviceLanguage(),Cn)for(const[bn,zn]of Object.entries(Cn))En.settings[bn]=zn;return yn&&En.setPersistence(yn),En},[bt,at,Rt,_n,Cn,yn]);let nt=(()=>{class lt{constructor(bt,at,Rt,_n,Cn,yn,En,bn,zn,Or,pr,nn){const ei=new u.x,$n=(0,k.of)(void 0).pipe((0,Me.Q)(Cn.outsideAngular),(0,ee.w)(()=>_n.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,Xe.U)(()=>(0,Bt.on)(bt,_n,at)),(0,Xe.U)(Ar=>pt(Ar,_n,yn,bn,zn,Or,En,pr)),G({bufferSize:1,refCount:!1}));if((0,Je.PM)(Rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,k.of)(null);else{$n.pipe((0,Tt.P)()).subscribe();const nr=$n.pipe((0,ee.w)(Qn=>Qn.getRedirectResult().then(Fn=>Fn,()=>null)),Pe.iC,G({bufferSize:1,refCount:!1})),ur=$n.pipe((0,ee.w)(Qn=>new fe.y(Fn=>({unsubscribe:_n.runOutsideAngular(()=>Qn.onAuthStateChanged(vn=>Fn.next(vn),vn=>Fn.error(vn),()=>Fn.complete()))})))),rn=$n.pipe((0,ee.w)(Qn=>new fe.y(Fn=>({unsubscribe:_n.runOutsideAngular(()=>Qn.onIdTokenChanged(vn=>Fn.next(vn),vn=>Fn.error(vn),()=>Fn.complete()))}))));this.authState=nr.pipe(ze(ur),(0,tt.R)(Cn.outsideAngular),(0,Me.Q)(Cn.insideAngular)),this.user=nr.pipe(ze(rn),(0,tt.R)(Cn.outsideAngular),(0,Me.Q)(Cn.insideAngular)),this.idToken=this.user.pipe((0,ee.w)(Qn=>Qn?(0,W.D)(Qn.getIdToken()):(0,k.of)(null))),this.idTokenResult=this.user.pipe((0,ee.w)(Qn=>Qn?(0,W.D)(Qn.getIdTokenResult()):(0,k.of)(null))),this.credential=(0,J.T)(nr,ei,this.authState.pipe((0,Ne.h)(Qn=>!Qn))).pipe((0,Xe.U)(Qn=>Qn?.user?Qn:null),(0,tt.R)(Cn.outsideAngular),(0,Me.Q)(Cn.insideAngular))}return(0,Bt.pX)(this,$n,_n,{spy:{apply:(Ar,nr,ur)=>{(Ar.startsWith("signIn")||Ar.startsWith("createUser"))&&ur.then(rn=>ei.next(rn))}}})}}return lt.\u0275fac=function(bt){return new(bt||lt)(h.LFG(Bt.Dh),h.LFG(Bt.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Pe.HU),h.LFG(he,8),h.LFG(Ge,8),h.LFG(ht,8),h.LFG(He,8),h.LFG(et,8),h.LFG(Ue,8),h.LFG(de.nm,8))},lt.\u0275prov=h.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"any"}),lt})()},6185:(jt,Ke,M)=>{M.d(Ke,{ST:()=>Oe});var h=M(4650),u=M(4986),k=M(9751),fe=M(8996),W=M(9646),J=M(6351),X=M(4482),Y=M(5403);function se(){return(0,X.e)((le,V)=>{let K,Se=!1;le.subscribe((0,Y.x)(V,ot=>{const zt=K;K=ot,Se&&V.next([zt,ot]),Se=!0}))})}var G=M(8675),ee=M(4004),pe=M(5026),ze=M(1884),Me=M(9300),Xe=M(2011),Tt=M(6895),Ne=(M(5881),M(3942)),Pe=M(5525),Bt=M(2090),Je=M(4859);function Ie(le,V){if(void 0===V)return{merge:!1};if(void 0!==V.mergeFields&&void 0!==V.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${le}(): You cannot specify both "merge" and "mergeFields".`);return V}function he(){if(typeof Uint8Array>"u")throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ge(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ht{constructor(V){this._delegate=V}static fromBase64String(V){return Ge(),new ht(Pe.Jj.fromBase64String(V))}static fromUint8Array(V){return he(),new ht(Pe.Jj.fromUint8Array(V))}toBase64(){return Ge(),this._delegate.toBase64()}toUint8Array(){return he(),this._delegate.toUint8Array()}isEqual(V){return this._delegate.isEqual(V._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function He(le){return function et(le,V){if("object"!=typeof le||null===le)return!1;const K=le;for(const Se of V)if(Se in K&&"function"==typeof K[Se])return!0;return!1}(le,["next","error","complete"])}class Ue{enableIndexedDbPersistence(V,K){return(0,Pe.ST)(V._delegate,{forceOwnership:K})}enableMultiTabIndexedDbPersistence(V){return(0,Pe.fH)(V._delegate)}clearIndexedDbPersistence(V){return(0,Pe.Fc)(V._delegate)}}class pt{constructor(V,K,Se){this._delegate=K,this._persistenceProvider=Se,this.INTERNAL={delete:()=>this.terminate()},V instanceof Pe.l7||(this._appCompat=V)}get _databaseId(){return this._delegate._databaseId}settings(V){const K=this._delegate._getSettings();!V.merge&&K.host!==V.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),V.merge&&delete(V=Object.assign(Object.assign({},K),V)).merge,this._delegate._setSettings(V)}useEmulator(V,K,Se={}){(0,Pe.at)(this._delegate,V,K,Se)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(V){let K=!1,Se=!1;return V&&(K=!!V.synchronizeTabs,Se=!!V.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",K,"experimentalForceOwningTab",Se)),K?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Se)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(V){return(0,Pe.sc)(this._delegate,V)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(V){try{return new pr(this,(0,Pe.hJ)(this._delegate,V))}catch(K){throw Rt(K,"collection()","Firestore.collection()")}}doc(V){try{return new at(this,(0,Pe.JU)(this._delegate,V))}catch(K){throw Rt(K,"doc()","Firestore.doc()")}}collectionGroup(V){try{return new bn(this,(0,Pe.B$)(this._delegate,V))}catch(K){throw Rt(K,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(V){return(0,Pe.i3)(this._delegate,K=>V(new lt(this,K)))}batch(){return(0,Pe.qY)(this._delegate),new Pt(new Pe.PU(this._delegate,V=>(0,Pe.GL)(this._delegate,V)))}loadBundle(V){return(0,Pe.Pb)(this._delegate,V)}namedQuery(V){return(0,Pe.L$)(this._delegate,V).then(K=>K?new bn(this,K):null)}}class nt extends Pe.u7{constructor(V){super(),this.firestore=V}convertBytes(V){return new ht(new Pe.Jj(V))}convertReference(V){const K=this.convertDocumentKey(V,this.firestore._databaseId);return at.forKey(K,this.firestore,null)}}class lt{constructor(V,K){this._firestore=V,this._delegate=K,this._userDataWriter=new nt(V)}get(V){const K=nn(V);return this._delegate.get(K).then(Se=>new yn(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,Se._key,Se._document,Se.metadata,K.converter)))}set(V,K,Se){const ot=nn(V);return Se?(Ie("Transaction.set",Se),this._delegate.set(ot,K,Se)):this._delegate.set(ot,K),this}update(V,K,Se,...ot){const zt=nn(V);return 2===arguments.length?this._delegate.update(zt,K):this._delegate.update(zt,K,Se,...ot),this}delete(V){const K=nn(V);return this._delegate.delete(K),this}}class Pt{constructor(V){this._delegate=V}set(V,K,Se){const ot=nn(V);return Se?(Ie("WriteBatch.set",Se),this._delegate.set(ot,K,Se)):this._delegate.set(ot,K),this}update(V,K,Se,...ot){const zt=nn(V);return 2===arguments.length?this._delegate.update(zt,K):this._delegate.update(zt,K,Se,...ot),this}delete(V){const K=nn(V);return this._delegate.delete(K),this}commit(){return this._delegate.commit()}}class bt{constructor(V,K,Se){this._firestore=V,this._userDataWriter=K,this._delegate=Se}fromFirestore(V,K){const Se=new Pe.$q(this._firestore._delegate,this._userDataWriter,V._key,V._document,V.metadata,null);return this._delegate.fromFirestore(new En(this._firestore,Se),K??{})}toFirestore(V,K){return K?this._delegate.toFirestore(V,K):this._delegate.toFirestore(V)}static getInstance(V,K){const Se=bt.INSTANCES;let ot=Se.get(V);ot||(ot=new WeakMap,Se.set(V,ot));let zt=ot.get(K);return zt||(zt=new bt(V,new nt(V),K),ot.set(K,zt)),zt}}bt.INSTANCES=new WeakMap;class at{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new nt(V)}static forPath(V,K,Se){if(V.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${V.canonicalString()} has ${V.length}`);return new at(K,new Pe.my(K._delegate,Se,new Pe.Ky(V)))}static forKey(V,K,Se){return new at(K,new Pe.my(K._delegate,Se,V))}get id(){return this._delegate.id}get parent(){return new pr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(V){try{return new pr(this.firestore,(0,Pe.hJ)(this._delegate,V))}catch(K){throw Rt(K,"collection()","DocumentReference.collection()")}}isEqual(V){return(V=(0,Bt.m9)(V))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,V)}set(V,K){K=Ie("DocumentReference.set",K);try{return K?(0,Pe.pl)(this._delegate,V,K):(0,Pe.pl)(this._delegate,V)}catch(Se){throw Rt(Se,"setDoc()","DocumentReference.set()")}}update(V,K,...Se){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,V):(0,Pe.r7)(this._delegate,V,K,...Se)}catch(ot){throw Rt(ot,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...V){const K=_n(V),Se=Cn(V,ot=>new yn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,ot._key,ot._document,ot.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,K,Se)}get(V){let K;return K="cache"===V?.source?(0,Pe.kl)(this._delegate):"server"===V?.source?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),K.then(Se=>new yn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,Se._key,Se._document,Se.metadata,this._delegate.converter)))}withConverter(V){return new at(this.firestore,this._delegate.withConverter(V?bt.getInstance(this.firestore,V):null))}}function Rt(le,V,K){return le.message=le.message.replace(V,K),le}function _n(le){for(const V of le)if("object"==typeof V&&!He(V))return V;return{}}function Cn(le,V){var K,Se;let ot;return ot=He(le[0])?le[0]:He(le[1])?le[1]:"function"==typeof le[0]?{next:le[0],error:le[1],complete:le[2]}:{next:le[1],error:le[2],complete:le[3]},{next:zt=>{ot.next&&ot.next(V(zt))},error:null===(K=ot.error)||void 0===K?void 0:K.bind(ot),complete:null===(Se=ot.complete)||void 0===Se?void 0:Se.bind(ot)}}class yn{constructor(V,K){this._firestore=V,this._delegate=K}get ref(){return new at(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(V){return this._delegate.data(V)}get(V,K){return this._delegate.get(V,K)}isEqual(V){return(0,Pe.qK)(this._delegate,V._delegate)}}class En extends yn{data(V){const K=this._delegate.data(V);return(0,Pe.K9)(void 0!==K,"Document in a QueryDocumentSnapshot should exist"),K}}class bn{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new nt(V)}where(V,K,Se){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(V,K,Se)))}catch(ot){throw Rt(ot,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(V,K){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(V,K)))}catch(Se){throw Rt(Se,/(orderBy|where)\(\)/,"Query.$1()")}}limit(V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(V)))}catch(K){throw Rt(K,"limit()","Query.limit()")}}limitToLast(V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(V)))}catch(K){throw Rt(K,"limitToLast()","Query.limitToLast()")}}startAt(...V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...V)))}catch(K){throw Rt(K,"startAt()","Query.startAt()")}}startAfter(...V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...V)))}catch(K){throw Rt(K,"startAfter()","Query.startAfter()")}}endBefore(...V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...V)))}catch(K){throw Rt(K,"endBefore()","Query.endBefore()")}}endAt(...V){try{return new bn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...V)))}catch(K){throw Rt(K,"endAt()","Query.endAt()")}}isEqual(V){return(0,Pe.iE)(this._delegate,V._delegate)}get(V){let K;return K="cache"===V?.source?(0,Pe.UQ)(this._delegate):"server"===V?.source?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),K.then(Se=>new Or(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Se._snapshot)))}onSnapshot(...V){const K=_n(V),Se=Cn(V,ot=>new Or(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ot._snapshot)));return(0,Pe.cf)(this._delegate,K,Se)}withConverter(V){return new bn(this.firestore,this._delegate.withConverter(V?bt.getInstance(this.firestore,V):null))}}class zn{constructor(V,K){this._firestore=V,this._delegate=K}get type(){return this._delegate.type}get doc(){return new En(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Or{constructor(V,K){this._firestore=V,this._delegate=K}get query(){return new bn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(V=>new En(this._firestore,V))}docChanges(V){return this._delegate.docChanges(V).map(K=>new zn(this._firestore,K))}forEach(V,K){this._delegate.forEach(Se=>{V.call(K,new En(this._firestore,Se))})}isEqual(V){return(0,Pe.qK)(this._delegate,V._delegate)}}class pr extends bn{constructor(V,K){super(V,K),this.firestore=V,this._delegate=K}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const V=this._delegate.parent;return V?new at(this.firestore,V):null}doc(V){try{return new at(this.firestore,void 0===V?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,V))}catch(K){throw Rt(K,"doc()","CollectionReference.doc()")}}add(V){return(0,Pe.ET)(this._delegate,V).then(K=>new at(this.firestore,K))}isEqual(V){return(0,Pe.Eo)(this._delegate,V._delegate)}withConverter(V){return new pr(this.firestore,this._delegate.withConverter(V?bt.getInstance(this.firestore,V):null))}}function nn(le){return(0,Pe.Cf)(le,Pe.my)}class ei{constructor(...V){this._delegate=new Pe.Lz(...V)}static documentId(){return new ei(Pe.Xb.keyField().canonicalString())}isEqual(V){return(V=(0,Bt.m9)(V))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(V._internalPath)}}class $n{constructor(V){this._delegate=V}static serverTimestamp(){const V=(0,Pe.Bt)();return V._methodName="FieldValue.serverTimestamp",new $n(V)}static delete(){const V=(0,Pe.AK)();return V._methodName="FieldValue.delete",new $n(V)}static arrayUnion(...V){const K=(0,Pe.vr)(...V);return K._methodName="FieldValue.arrayUnion",new $n(K)}static arrayRemove(...V){const K=(0,Pe.Ab)(...V);return K._methodName="FieldValue.arrayRemove",new $n(K)}static increment(V){const K=(0,Pe.nP)(V);return K._methodName="FieldValue.increment",new $n(K)}isEqual(V){return this._delegate.isEqual(V._delegate)}}const Ar={Firestore:pt,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:ht,Transaction:lt,WriteBatch:Pt,DocumentReference:at,DocumentSnapshot:yn,Query:bn,QueryDocumentSnapshot:En,QuerySnapshot:Or,CollectionReference:pr,FieldPath:ei,FieldValue:$n,setLogLevel:function Ut(le){(0,Pe.Ub)(le)},CACHE_SIZE_UNLIMITED:Pe.IX};!function ur(le){(function nr(le,V){le.INTERNAL.registerComponent(new Je.wA("firestore-compat",K=>{const Se=K.getProvider("app-compat").getImmediate(),ot=K.getProvider("firestore").getImmediate();return V(Se,ot)},"PUBLIC").setServiceProps(Object.assign({},Ar)))})(le,(V,K)=>new pt(V,K,new Ue)),le.registerVersion("@firebase/firestore-compat","0.1.22")}(Ne.Z);var rn=M(1205),Qn=M(7128);function Nn(le,V){return function vn(le,V=u.z){return new k.y(K=>{let Se;return null!=V?V.schedule(()=>{Se=le.onSnapshot({includeMetadataChanges:!0},K)}):Se=le.onSnapshot({includeMetadataChanges:!0},K),()=>{Se?.()}})}(le,V)}function qr(le,V){return Nn(le,V).pipe((0,ee.U)(K=>({payload:K,type:"query"})))}function Yn(le,V){return qr(le,V).pipe((0,G.O)(void 0),se(),(0,ee.U)(([K,Se])=>{const ot=Se.payload.docChanges(),zt=ot.map(xn=>({type:xn.type,payload:xn}));return K&&JSON.stringify(K.payload.metadata)!==JSON.stringify(Se.payload.metadata)&&Se.payload.docs.forEach((xn,fn)=>{const Tn=ot.find(Ce=>Ce.doc.ref.isEqual(xn.ref)),qe=K?.payload.docs.find(Ce=>Ce.ref.isEqual(xn.ref));Tn&&JSON.stringify(Tn.doc.metadata)===JSON.stringify(xn.metadata)||!Tn&&qe&&JSON.stringify(qe.metadata)===JSON.stringify(xn.metadata)||zt.push({type:"modified",payload:{oldIndex:fn,newIndex:fn,type:"modified",doc:xn}})}),zt}))}function Mr(le,V,K){return Yn(le,K).pipe((0,pe.R)((Se,ot)=>function li(le,V,K){return V.forEach(Se=>{K.indexOf(Se.type)>-1&&(le=function Yt(le,V){switch(V.type){case"added":if(!le[V.newIndex]||!le[V.newIndex].doc.ref.isEqual(V.doc.ref))return kn(le,V.newIndex,0,V);break;case"modified":if(null==le[V.oldIndex]||le[V.oldIndex].doc.ref.isEqual(V.doc.ref)){if(V.oldIndex!==V.newIndex){const K=le.slice();return K.splice(V.oldIndex,1),K.splice(V.newIndex,0,V),K}return kn(le,V.newIndex,1,V)}break;case"removed":if(le[V.oldIndex]&&le[V.oldIndex].doc.ref.isEqual(V.doc.ref))return kn(le,V.oldIndex,1)}return le}(le,Se))}),le}(Se,ot.map(zt=>zt.payload),V),[]),(0,ze.x)(),(0,ee.U)(Se=>Se.map(ot=>({type:ot.type,payload:ot}))))}function kn(le,V,K,...Se){const ot=le.slice();return ot.splice(V,K,...Se),ot}function en(le){return(!le||0===le.length)&&(le=["added","removed","modified"]),le}M(127);class zr{constructor(V,K,Se){this.ref=V,this.query=K,this.afs=Se}stateChanges(V){let K=Yn(this.query,this.afs.schedulers.outsideAngular);return V&&V.length>0&&(K=K.pipe((0,ee.U)(Se=>Se.filter(ot=>V.indexOf(ot.type)>-1)))),K.pipe((0,G.O)(void 0),se(),(0,Me.h)(([Se,ot])=>ot.length>0||!Se),(0,ee.U)(([Se,ot])=>ot),J.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,pe.R)((K,Se)=>[...K,...Se],[]))}snapshotChanges(V){const K=en(V);return Mr(this.query,K,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return qr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(K=>K.payload.docs.map(Se=>V.idField?Object.assign(Object.assign({},Se.data()),{[V.idField]:Se.id}):Se.data())),J.iC)}get(V){return(0,fe.D)(this.query.get(V)).pipe(J.iC)}add(V){return this.ref.add(V)}doc(V){return new Ur(this.ref.doc(V),this.afs)}}class Ur{constructor(V,K){this.ref=V,this.afs=K}set(V,K){return this.ref.set(V,K)}update(V){return this.ref.update(V)}delete(){return this.ref.delete()}collection(V,K){const Se=this.ref.collection(V),{ref:ot,query:zt}=$r(Se,K);return new zr(ot,zt,this.afs)}snapshotChanges(){return function Tr(le,V){return Nn(le,V).pipe((0,G.O)(void 0),se(),(0,ee.U)(([K,Se])=>Se.exists?K?.exists?{payload:Se,type:"modified"}:{payload:Se,type:"added"}:{payload:Se,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return this.snapshotChanges().pipe((0,ee.U)(({payload:K})=>V.idField?Object.assign(Object.assign({},K.data()),{[V.idField]:K.id}):K.data()))}get(V){return(0,fe.D)(this.ref.get(V)).pipe(J.iC)}}class An{constructor(V,K){this.query=V,this.afs=K}stateChanges(V){return V&&0!==V.length?Yn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(K=>K.filter(Se=>V.indexOf(Se.type)>-1)),(0,Me.h)(K=>K.length>0),J.iC):Yn(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,pe.R)((K,Se)=>[...K,...Se],[]))}snapshotChanges(V){const K=en(V);return Mr(this.query,K,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return qr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(Se=>Se.payload.docs.map(ot=>V.idField?Object.assign({[V.idField]:ot.id},ot.data()):ot.data())),J.iC)}get(V){return(0,fe.D)(this.query.get(V)).pipe(J.iC)}}const Pr=new h.OlP("angularfire2.enableFirestorePersistence"),cr=new h.OlP("angularfire2.firestore.persistenceSettings"),Qt=new h.OlP("angularfire2.firestore.settings"),jn=new h.OlP("angularfire2.firestore.use-emulator");function $r(le,V=(K=>K)){return{query:V(le),ref:le}}let Oe=(()=>{class le{constructor(K,Se,ot,zt,xn,fn,Tn,qe,Ce,De,wt,Vt,wn,Mt,sn,Le,Re){this.schedulers=Tn;const ve=(0,Xe.on)(K,fn,Se),Fe=Ce;De&&(0,rn.nw)(ve,fn,wt,wn,Mt,sn,Vt,Le),[this.firestore,this.persistenceEnabled$]=(0,Xe.cc)(`${ve.name}.firestore`,"AngularFirestore",ve.name,()=>{const xt=fn.runOutsideAngular(()=>ve.firestore());if(zt&&xt.settings(zt),Fe&&xt.useEmulator(...Fe),ot&&!(0,Tt.PM)(xn)){const Jt=()=>{try{return(0,fe.D)(xt.enablePersistence(qe||void 0).then(()=>!0,()=>!1))}catch(Wn){return typeof console<"u"&&console.warn(Wn),(0,W.of)(!1)}};return[xt,fn.runOutsideAngular(Jt)]}return[xt,(0,W.of)(!1)]},[zt,Fe,ot])}collection(K,Se){let ot;ot="string"==typeof K?this.firestore.collection(K):K;const{ref:zt,query:xn}=$r(ot,Se),fn=this.schedulers.ngZone.run(()=>zt);return new zr(fn,xn,this)}collectionGroup(K,Se){const ot=Se||(xn=>xn),zt=this.firestore.collectionGroup(K);return new An(ot(zt),this)}doc(K){let Se;Se="string"==typeof K?this.firestore.doc(K):K;const ot=this.schedulers.ngZone.run(()=>Se);return new Ur(ot,this)}createId(){return this.firestore.collection("_").doc().id}}return le.\u0275fac=function(K){return new(K||le)(h.LFG(Xe.Dh),h.LFG(Xe.xv,8),h.LFG(Pr,8),h.LFG(Qt,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(J.HU),h.LFG(cr,8),h.LFG(jn,8),h.LFG(rn.zQ,8),h.LFG(rn.Qv,8),h.LFG(rn.L6,8),h.LFG(rn._Q,8),h.LFG(rn.rT,8),h.LFG(rn.lh,8),h.LFG(rn.f7,8),h.LFG(Qn.nm,8))},le.\u0275prov=h.Yz7({token:le,factory:le.\u0275fac,providedIn:"any"}),le})()},2011:(jt,Ke,M)=>{M.d(Ke,{Dh:()=>X,GT:()=>W,cc:()=>ze,on:()=>se,pX:()=>fe,xv:()=>Y});var h=M(4650),u=M(127);jt=M.hmd(jt);const k=["ngOnDestroy"],fe=(tt,Ne,Pe,Bt={})=>new Proxy(tt,{get:(Je,de)=>Pe.runOutsideAngular(()=>{var Ye;if(tt[de])return!(null===(Ye=Bt?.spy)||void 0===Ye)&&Ye.get&&Bt.spy.get(de,tt[de]),tt[de];if(k.indexOf(de)>-1)return()=>{};const Ie=Ne.toPromise().then(he=>{const Ge=he&&he[de];return"function"==typeof Ge?Ge.bind(he):Ge&&Ge.then?Ge.then(ht=>Pe.run(()=>ht)):Pe.run(()=>Ge)});return new Proxy(()=>{},{get:(he,Ge)=>Ie[Ge],apply:(he,Ge,ht)=>Ie.then(He=>{var et;const Ue=He&&He(...ht);return!(null===(et=Bt?.spy)||void 0===et)&&et.apply&&Bt.spy.apply(de,ht,Ue),Ue})})})}),W=(tt,Ne)=>{Ne.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Bt=>{Object.defineProperty(tt.prototype,Bt,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Bt))})})};class J{constructor(Ne){return Ne}}const X=new h.OlP("angularfire2.app.options"),Y=new h.OlP("angularfire2.app.name");function se(tt,Ne,Pe){const Je="object"==typeof Pe&&Pe||{};Je.name=Je.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ye=u.Z.apps.filter(Ie=>Ie&&Ie.name===Je.name)[0]||Ne.runOutsideAngular(()=>u.Z.initializeApp(tt,Je));try{JSON.stringify(tt)!==JSON.stringify(Ye.options)&&G("error",`${Ye.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new J(Ye)}const G=(tt,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[tt](...Ne)};function ze(tt,Ne,Pe,Bt,Je){const[,de,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===tt)||[];if(de)return function Me(tt,Ne){try{return tt.toString()===Ne.toString()}catch{return tt===Ne}}(Je,Ye)||(Tt("error",`${Ne} was already initialized on the ${Pe} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Tt("warn",{is:Je,was:Ye})),de;{const Ie=Bt();return globalThis.\u0275AngularfireInstanceCache.push([tt,Ie,Je]),Ie}}const Xe=!!jt.hot,Tt=(tt,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[tt](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(jt,Ke,M)=>{M.d(Ke,{q4:()=>ie,iC:()=>_a,fc:()=>ea,HU:()=>ou,vb:()=>Xo,JM:()=>ss,u3:()=>va});var h=M(4650),u=M(5867),k=M(5861),fe=M(9681),W=M(2090),J=M(4859),X=M(1877),Y=M(8766);const se="@firebase/installations",G="0.5.12",pe=`w:${G}`,ze="FIS_v2",Pe=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bt(R){return R instanceof W.ZR&&R.code.includes("request-failed")}function Je({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function de(R){return{token:R.token,requestStatus:2,expiresIn:et(R.expiresIn),creationTime:Date.now()}}function Ye(R,H){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(R,H){const Te=(yield H.json()).error;return Pe.create("request-failed",{requestName:R,serverCode:Te.code,serverMessage:Te.message,serverStatus:Te.status})})).apply(this,arguments)}function he({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Ge(R,{refreshToken:H}){const oe=he(R);return oe.append("Authorization",function Ue(R){return`${ze} ${R}`}(H)),oe}function ht(R){return He.apply(this,arguments)}function He(){return(He=(0,k.Z)(function*(R){const H=yield R();return H.status>=500&&H.status<600?R():H})).apply(this,arguments)}function et(R){return Number(R.replace("s","000"))}function pt(R,H){return nt.apply(this,arguments)}function nt(){return(nt=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},{fid:oe}){const Te=Je(R),st=he(R),Ct=H.getImmediate({optional:!0});if(Ct){const yr=yield Ct.getHeartbeatsHeader();yr&&st.append("x-firebase-client",yr)}const In={method:"POST",headers:st,body:JSON.stringify({fid:oe,authVersion:ze,appId:R.appId,sdkVersion:pe})},ir=yield ht(()=>fetch(Te,In));if(ir.ok){const yr=yield ir.json();return{fid:yr.fid||oe,registrationStatus:2,refreshToken:yr.refreshToken,authToken:de(yr.authToken)}}throw yield Ye("Create Installation",ir)})).apply(this,arguments)}function Ut(R){return new Promise(H=>{setTimeout(H,R)})}const Pt=/^[cdef][\w-]{21}$/;function at(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const oe=function Rt(R){return function lt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Pt.test(oe)?oe:""}catch{return""}}function _n(R){return`${R.appName}!${R.appId}`}const Cn=new Map;function yn(R,H){const oe=_n(R);zn(oe,H),function Or(R,H){const oe=function nn(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=R=>{zn(R.data.key,R.data.fid)}),pr}();oe&&oe.postMessage({key:R,fid:H}),function ei(){0===Cn.size&&pr&&(pr.close(),pr=null)}()}(oe,H)}function zn(R,H){const oe=Cn.get(R);if(oe)for(const Te of oe)Te(H)}let pr=null;const nr="firebase-installations-store";let ur=null;function rn(){return ur||(ur=(0,Y.X3)("firebase-installations-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(nr)}})),ur}function Qn(R,H){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,k.Z)(function*(R,H){const oe=_n(R),st=(yield rn()).transaction(nr,"readwrite"),Ct=st.objectStore(nr),Gt=yield Ct.get(oe);return yield Ct.put(H,oe),yield st.done,(!Gt||Gt.fid!==H.fid)&&yn(R,H.fid),H})).apply(this,arguments)}function vn(R){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(R){const H=_n(R),Te=(yield rn()).transaction(nr,"readwrite");yield Te.objectStore(nr).delete(H),yield Te.done})).apply(this,arguments)}function Tr(R,H){return qr.apply(this,arguments)}function qr(){return(qr=(0,k.Z)(function*(R,H){const oe=_n(R),st=(yield rn()).transaction(nr,"readwrite"),Ct=st.objectStore(nr),Gt=yield Ct.get(oe),In=H(Gt);return void 0===In?yield Ct.delete(oe):yield Ct.put(In,oe),yield st.done,In&&(!Gt||Gt.fid!==In.fid)&&yn(R,In.fid),In})).apply(this,arguments)}function Yn(R){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(R){let H;const oe=yield Tr(R.appConfig,Te=>{const st=li(Te),Ct=kn(R,st);return H=Ct.registrationPromise,Ct.installationEntry});return""===oe.fid?{installationEntry:yield H}:{installationEntry:oe,registrationPromise:H}})).apply(this,arguments)}function li(R){return Pr(R||{fid:at(),registrationStatus:0})}function kn(R,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Pe.create("app-offline"))};const oe={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Te=function Yt(R,H){return en.apply(this,arguments)}(R,oe);return{installationEntry:oe,registrationPromise:Te}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:zr(R)}:{installationEntry:H}}function en(){return(en=(0,k.Z)(function*(R,H){try{const oe=yield pt(R,H);return Qn(R.appConfig,oe)}catch(oe){throw Bt(oe)&&409===oe.customData.serverCode?yield vn(R.appConfig):yield Qn(R.appConfig,{fid:H.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function zr(R){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,k.Z)(function*(R){let H=yield An(R.appConfig);for(;1===H.registrationStatus;)yield Ut(100),H=yield An(R.appConfig);if(0===H.registrationStatus){const{installationEntry:oe,registrationPromise:Te}=yield Yn(R);return Te||oe}return H})).apply(this,arguments)}function An(R){return Tr(R,H=>{if(!H)throw Pe.create("installation-not-found");return Pr(H)})}function Pr(R){return function cr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Qt(R,H){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},oe){const Te=$r(R,oe),st=Ge(R,oe),Ct=H.getImmediate({optional:!0});if(Ct){const yr=yield Ct.getHeartbeatsHeader();yr&&st.append("x-firebase-client",yr)}const In={method:"POST",headers:st,body:JSON.stringify({installation:{sdkVersion:pe,appId:R.appId}})},ir=yield ht(()=>fetch(Te,In));if(ir.ok)return de(yield ir.json());throw yield Ye("Generate Auth Token",ir)})).apply(this,arguments)}function $r(R,{fid:H}){return`${Je(R)}/${H}/authTokens:generate`}function Oe(R){return ke.apply(this,arguments)}function ke(){return(ke=(0,k.Z)(function*(R,H=!1){let oe;const Te=yield Tr(R.appConfig,Ct=>{if(!zt(Ct))throw Pe.create("not-registered");const Gt=Ct.authToken;if(!H&&xn(Gt))return Ct;if(1===Gt.requestStatus)return oe=le(R,H),Ct;{if(!navigator.onLine)throw Pe.create("app-offline");const In=Tn(Ct);return oe=Se(R,In),In}});return oe?yield oe:Te.authToken})).apply(this,arguments)}function le(R,H){return V.apply(this,arguments)}function V(){return(V=(0,k.Z)(function*(R,H){let oe=yield K(R.appConfig);for(;1===oe.authToken.requestStatus;)yield Ut(100),oe=yield K(R.appConfig);const Te=oe.authToken;return 0===Te.requestStatus?Oe(R,H):Te})).apply(this,arguments)}function K(R){return Tr(R,H=>{if(!zt(H))throw Pe.create("not-registered");return function qe(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Se(R,H){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(R,H){try{const oe=yield Qt(R,H),Te=Object.assign(Object.assign({},H),{authToken:oe});return yield Qn(R.appConfig,Te),oe}catch(oe){if(!Bt(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Te=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Qn(R.appConfig,Te)}else yield vn(R.appConfig);throw oe}})).apply(this,arguments)}function zt(R){return void 0!==R&&2===R.registrationStatus}function xn(R){return 2===R.requestStatus&&!function fn(R){const H=Date.now();return H<R.creationTime||R.creationTime+R.expiresIn<H+36e5}(R)}function Tn(R){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:H})}function De(){return(De=(0,k.Z)(function*(R){const H=R,{installationEntry:oe,registrationPromise:Te}=yield Yn(H);return Te?Te.catch(console.error):Oe(H).catch(console.error),oe.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(R,H=!1){const oe=R;return yield wn(oe),(yield Oe(oe,H)).token})).apply(this,arguments)}function wn(R){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,k.Z)(function*(R){const{registrationPromise:H}=yield Yn(R);H&&(yield H)})).apply(this,arguments)}function Vn(R){return Pe.create("missing-app-config-values",{valueName:R})}const Dn="installations",fi=R=>{const H=R.getProvider("app").getImmediate(),oe=function Wn(R){if(!R||!R.options)throw Vn("App Configuration");if(!R.name)throw Vn("App Name");const H=["projectId","apiKey","appId"];for(const oe of H)if(!R.options[oe])throw Vn(oe);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(H);return{app:H,appConfig:oe,heartbeatServiceProvider:(0,fe._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},es=R=>{const H=R.getProvider("app").getImmediate(),oe=(0,fe._getProvider)(H,Dn).getImmediate();return{getId:()=>function Ce(R){return De.apply(this,arguments)}(oe),getToken:st=>function wt(R){return Vt.apply(this,arguments)}(oe,st)}};(function Ki(){(0,fe._registerComponent)(new J.wA(Dn,fi,"PUBLIC")),(0,fe._registerComponent)(new J.wA("installations-internal",es,"PRIVATE"))})(),(0,fe.registerVersion)(se,G),(0,fe.registerVersion)(se,G,"esm2017");const ti="@firebase/remote-config",pi=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rr{constructor(H,oe,Te,st){this.client=H,this.storage=oe,this.storageCache=Te,this.logger=st}isCachedDataFresh(H,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-oe,st=Te<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${st}.`),st}fetch(H){var oe=this;return(0,k.Z)(function*(){const[Te,st]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(st&&oe.isCachedDataFresh(H.cacheMaxAgeMillis,Te))return st;H.eTag=st&&st.eTag;const Ct=yield oe.client.fetch(H),Gt=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ct.status&&Gt.push(oe.storage.setLastSuccessfulFetchResponse(Ct)),yield Promise.all(Gt),Ct})()}}function Cr(R=navigator){return R.languages&&R.languages[0]||R.language}class gr{constructor(H,oe,Te,st,Ct,Gt){this.firebaseInstallations=H,this.sdkVersion=oe,this.namespace=Te,this.projectId=st,this.apiKey=Ct,this.appId=Gt}fetch(H){var oe=this;return(0,k.Z)(function*(){var Te,st,Ct;const[Gt,In]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),yr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},er={sdk_version:oe.sdkVersion,app_instance_id:Gt,app_instance_id_token:In,app_id:oe.appId,language_code:Cr()},_r={method:"POST",headers:Kn,body:JSON.stringify(er)},Xs=fetch(yr,_r),Qa=new Promise((Eo,Oo)=>{H.signal.addEventListener(()=>{const ps=new Error("The operation was aborted.");ps.name="AbortError",Oo(ps)})});let As;try{yield Promise.race([Xs,Qa]),As=yield Xs}catch(Eo){let Oo="fetch-client-network";throw"AbortError"===(null===(Te=Eo)||void 0===Te?void 0:Te.name)&&(Oo="fetch-timeout"),pi.create(Oo,{originalErrorMessage:null===(st=Eo)||void 0===st?void 0:st.message})}let Ea=As.status;const Ra=As.headers.get("ETag")||void 0;let Ja,ba;if(200===As.status){let Eo;try{Eo=yield As.json()}catch(Oo){throw pi.create("fetch-client-parse",{originalErrorMessage:null===(Ct=Oo)||void 0===Ct?void 0:Ct.message})}Ja=Eo.entries,ba=Eo.state}if("INSTANCE_STATE_UNSPECIFIED"===ba?Ea=500:"NO_CHANGE"===ba?Ea=304:("NO_TEMPLATE"===ba||"EMPTY_CONFIG"===ba)&&(Ja={}),304!==Ea&&200!==Ea)throw pi.create("fetch-status",{httpStatus:Ea});return{status:Ea,eTag:Ra,config:Ja}})()}}class ai{constructor(H,oe){this.client=H,this.storage=oe}fetch(H){var oe=this;return(0,k.Z)(function*(){const Te=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(H,Te)})()}attemptFetch(H,{throttleEndTimeMillis:oe,backoffCount:Te}){var st=this;return(0,k.Z)(function*(){yield function Ti(R,H){return new Promise((oe,Te)=>{const st=Math.max(H-Date.now(),0),Ct=setTimeout(oe,st);R.addEventListener(()=>{clearTimeout(Ct),Te(pi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,oe);try{const Ct=yield st.client.fetch(H);return yield st.storage.deleteThrottleMetadata(),Ct}catch(Ct){if(!function dr(R){if(!(R instanceof W.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Ct))throw Ct;const Gt={throttleEndTimeMillis:Date.now()+(0,W.$s)(Te),backoffCount:Te+1};return yield st.storage.setThrottleMetadata(Gt),st.attemptFetch(H,Gt)}})()}}class Rs{constructor(H,oe,Te,st,Ct){this.app=H,this._client=oe,this._storageCache=Te,this._storage=st,this._logger=Ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Us(R,H){var oe;const Te=R.target.error||void 0;return pi.create(H,{originalErrorMessage:Te&&(null===(oe=Te)||void 0===oe?void 0:oe.message)})}const ms="app_namespace_store";class cs{constructor(H,oe,Te,st=function Ns(){return new Promise((R,H)=>{var oe;try{const Te=indexedDB.open("firebase_remote_config",1);Te.onerror=st=>{H(Us(st,"storage-open"))},Te.onsuccess=st=>{R(st.target.result)},Te.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(Te){H(pi.create("storage-open",{originalErrorMessage:null===(oe=Te)||void 0===oe?void 0:oe.message}))}})}()){this.appId=H,this.appName=oe,this.namespace=Te,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var oe=this;return(0,k.Z)(function*(){const Te=yield oe.openDbPromise;return new Promise((st,Ct)=>{var Gt;const ir=Te.transaction([ms],"readonly").objectStore(ms),yr=oe.createCompositeKey(H);try{const Kn=ir.get(yr);Kn.onerror=er=>{Ct(Us(er,"storage-get"))},Kn.onsuccess=er=>{const _r=er.target.result;st(_r?_r.value:void 0)}}catch(Kn){Ct(pi.create("storage-get",{originalErrorMessage:null===(Gt=Kn)||void 0===Gt?void 0:Gt.message}))}})})()}set(H,oe){var Te=this;return(0,k.Z)(function*(){const st=yield Te.openDbPromise;return new Promise((Ct,Gt)=>{var In;const yr=st.transaction([ms],"readwrite").objectStore(ms),Kn=Te.createCompositeKey(H);try{const er=yr.put({compositeKey:Kn,value:oe});er.onerror=_r=>{Gt(Us(_r,"storage-set"))},er.onsuccess=()=>{Ct()}}catch(er){Gt(pi.create("storage-set",{originalErrorMessage:null===(In=er)||void 0===In?void 0:In.message}))}})})()}delete(H){var oe=this;return(0,k.Z)(function*(){const Te=yield oe.openDbPromise;return new Promise((st,Ct)=>{var Gt;const ir=Te.transaction([ms],"readwrite").objectStore(ms),yr=oe.createCompositeKey(H);try{const Kn=ir.delete(yr);Kn.onerror=er=>{Ct(Us(er,"storage-delete"))},Kn.onsuccess=()=>{st()}}catch(Kn){Ct(pi.create("storage-delete",{originalErrorMessage:null===(Gt=Kn)||void 0===Gt?void 0:Gt.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class xi{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,k.Z)(function*(){const oe=H.storage.getLastFetchStatus(),Te=H.storage.getLastSuccessfulFetchTimestampMillis(),st=H.storage.getActiveConfig(),Ct=yield oe;Ct&&(H.lastFetchStatus=Ct);const Gt=yield Te;Gt&&(H.lastSuccessfulFetchTimestampMillis=Gt);const In=yield st;In&&(H.activeConfig=In)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function ys(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,k.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function go(){(0,fe._registerComponent)(new J.wA("remote-config",function R(H,{instanceIdentifier:oe}){const Te=H.getProvider("app").getImmediate(),st=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pi.create("registration-window");if(!(0,W.hl)())throw pi.create("indexed-db-unavailable");const{projectId:Ct,apiKey:Gt,appId:In}=Te.options;if(!Ct)throw pi.create("registration-project-id");if(!Gt)throw pi.create("registration-api-key");if(!In)throw pi.create("registration-app-id");const ir=new cs(In,Te.name,oe=oe||"firebase"),yr=new xi(ir),Kn=new X.Yd(ti);Kn.logLevel=X.in.ERROR;const er=new gr(st,fe.SDK_VERSION,oe,Ct,Gt,In),_r=new ai(er,ir),Xs=new rr(_r,ir,yr,Kn),Qa=new Rs(Te,Xs,yr,ir,Kn);return function gt(R){const H=(0,W.m9)(R);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(ti,"0.3.11"),(0,fe.registerVersion)(ti,"0.3.11","esm2017")}();const qi="/firebase-messaging-sw.js",$i="/firebase-cloud-messaging-push-scope",Hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vs="google.c.a.c_id",Es="google.c.a.c_l",bs="google.c.a.ts",$s="google.c.a.e";var Vr=(()=>{return(R=Vr||(Vr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Vr;var R})();function si(R){const H=new Uint8Array(R);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function te(R){const oe=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Te=atob(oe),st=new Uint8Array(Te.length);for(let Ct=0;Ct<Te.length;++Ct)st[Ct]=Te.charCodeAt(Ct);return st}const Z="fcm_token_details_db",Ve="fcm_token_object_Store";function ut(R){return yt.apply(this,arguments)}function yt(){return yt=(0,k.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ct=>Ct.name).includes(Z))return null;let H=null;return(yield(0,Y.X3)(Z,5,{upgrade:(Te=(0,k.Z)(function*(st,Ct,Gt,In){var ir;if(Ct<2||!st.objectStoreNames.contains(Ve))return;const yr=In.objectStore(Ve),Kn=yield yr.index("fcmSenderId").get(R);if(yield yr.clear(),Kn)if(2===Ct){const er=Kn;if(!er.auth||!er.p256dh||!er.endpoint)return;H={token:er.fcmToken,createTime:null!==(ir=er.createTime)&&void 0!==ir?ir:Date.now(),subscriptionOptions:{auth:er.auth,p256dh:er.p256dh,endpoint:er.endpoint,swScope:er.swScope,vapidKey:"string"==typeof er.vapidKey?er.vapidKey:si(er.vapidKey)}}}else if(3===Ct){const er=Kn;H={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:si(er.auth),p256dh:si(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:si(er.vapidKey)}}}else if(4===Ct){const er=Kn;H={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:si(er.auth),p256dh:si(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:si(er.vapidKey)}}}}),function(Ct,Gt,In,ir){return Te.apply(this,arguments)})})).close(),yield(0,Y.Lj)(Z),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),an(H)?H:null;var Te}),yt.apply(this,arguments)}function an(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:H}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Un="firebase-messaging-store";let sr=null;function mr(){return sr||(sr=(0,Y.X3)("firebase-messaging-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(Un)}})),sr}function Jr(R){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(R){const H=Be(R),Te=yield(yield mr()).transaction(Un).objectStore(Un).get(H);if(Te)return Te;{const st=yield ut(R.appConfig.senderId);if(st)return yield F(R,st),st}})).apply(this,arguments)}function F(R,H){return re.apply(this,arguments)}function re(){return(re=(0,k.Z)(function*(R,H){const oe=Be(R),st=(yield mr()).transaction(Un,"readwrite");return yield st.objectStore(Un).put(H,oe),yield st.done,H})).apply(this,arguments)}function U(R){return ce.apply(this,arguments)}function ce(){return(ce=(0,k.Z)(function*(R){const H=Be(R),Te=(yield mr()).transaction(Un,"readwrite");yield Te.objectStore(Un).delete(H),yield Te.done})).apply(this,arguments)}function Be({appConfig:R}){return R.appId}const it=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function un(R,H){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,k.Z)(function*(R,H){var oe;const Te=yield gi(R),st=or(H),Ct={method:"POST",headers:Te,body:JSON.stringify(st)};let Gt;try{Gt=yield(yield fetch(ni(R.appConfig),Ct)).json()}catch(In){throw it.create("token-subscribe-failed",{errorInfo:null===(oe=In)||void 0===oe?void 0:oe.toString()})}if(Gt.error)throw it.create("token-subscribe-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw it.create("token-subscribe-no-token");return Gt.token})).apply(this,arguments)}function jr(R,H){return kr.apply(this,arguments)}function kr(){return(kr=(0,k.Z)(function*(R,H){var oe;const Te=yield gi(R),st=or(H.subscriptionOptions),Ct={method:"PATCH",headers:Te,body:JSON.stringify(st)};let Gt;try{Gt=yield(yield fetch(`${ni(R.appConfig)}/${H.token}`,Ct)).json()}catch(In){throw it.create("token-update-failed",{errorInfo:null===(oe=In)||void 0===oe?void 0:oe.toString()})}if(Gt.error)throw it.create("token-update-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw it.create("token-update-no-token");return Gt.token})).apply(this,arguments)}function Er(R,H){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(R,H){var oe;const st={method:"DELETE",headers:yield gi(R)};try{const Gt=yield(yield fetch(`${ni(R.appConfig)}/${H}`,st)).json();if(Gt.error)throw it.create("token-unsubscribe-failed",{errorInfo:Gt.error.message})}catch(Ct){throw it.create("token-unsubscribe-failed",{errorInfo:null===(oe=Ct)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function ni({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function gi(R){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*({appConfig:R,installations:H}){const oe=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function or({p256dh:R,auth:H,endpoint:oe,vapidKey:Te}){const st={web:{endpoint:oe,auth:H,p256dh:R}};return Te!==Hs&&(st.web.applicationPubKey=Te),st}const ji=6048e5;function hs(R){return ri.apply(this,arguments)}function ri(){return(ri=(0,k.Z)(function*(R){const H=yield Ha(R.swRegistration,R.vapidKey),oe={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:H.endpoint,auth:si(H.getKey("auth")),p256dh:si(H.getKey("p256dh"))},Te=yield Jr(R.firebaseDependencies);if(Te){if($(Te.subscriptionOptions,oe))return Date.now()>=Te.createTime+ji?ts(R,{token:Te.token,createTime:Date.now(),subscriptionOptions:oe}):Te.token;try{yield Er(R.firebaseDependencies,Te.token)}catch(st){console.warn(st)}return Di(R.firebaseDependencies,oe)}return Di(R.firebaseDependencies,oe)})).apply(this,arguments)}function mo(R){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(R){const H=yield Jr(R.firebaseDependencies);H&&(yield Er(R.firebaseDependencies,H.token),yield U(R.firebaseDependencies));const oe=yield R.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function ts(R,H){return wo.apply(this,arguments)}function wo(){return(wo=(0,k.Z)(function*(R,H){try{const oe=yield jr(R.firebaseDependencies,H),Te=Object.assign(Object.assign({},H),{token:oe,createTime:Date.now()});return yield F(R.firebaseDependencies,Te),oe}catch(oe){throw yield mo(R),oe}})).apply(this,arguments)}function Di(R,H){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(R,H){const Te={token:yield un(R,H),createTime:Date.now(),subscriptionOptions:H};return yield F(R,Te),Te.token})).apply(this,arguments)}function Ha(R,H){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,k.Z)(function*(R,H){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:te(H)})})).apply(this,arguments)}function $(R,H){return H.vapidKey===R.vapidKey&&H.endpoint===R.endpoint&&H.auth===R.auth&&H.p256dh===R.p256dh}function L(R){const H={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function O(R,H){if(!H.notification)return;R.notification={};const oe=H.notification.title;oe&&(R.notification.title=oe);const Te=H.notification.body;Te&&(R.notification.body=Te);const st=H.notification.image;st&&(R.notification.image=st)}(H,R),function ue(R,H){!H.data||(R.data=H.data)}(H,R),function vt(R,H){var oe,Te,st,Ct,Gt;if(!(H.fcmOptions||null!==(oe=H.notification)&&void 0!==oe&&oe.click_action))return;R.fcmOptions={};const In=null!==(st=null===(Te=H.fcmOptions)||void 0===Te?void 0:Te.link)&&void 0!==st?st:null===(Ct=H.notification)||void 0===Ct?void 0:Ct.click_action;In&&(R.fcmOptions.link=In);const ir=null===(Gt=H.fcmOptions)||void 0===Gt?void 0:Gt.analytics_label;ir&&(R.fcmOptions.analyticsLabel=ir)}(H,R),H}function dn(R){return"object"==typeof R&&!!R&&vs in R}function Ei(R,H){const oe=[];for(let Te=0;Te<R.length;Te++)oe.push(R.charAt(Te)),Te<H.length&&oe.push(H.charAt(Te));return oe.join("")}function Qs(R){return it.create("missing-app-config-values",{valueName:R})}Ei("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ei("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class io{constructor(H,oe,Te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function Ri(R){if(!R||!R.options)throw Qs("App Configuration Object");if(!R.name)throw Qs("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=R;for(const Te of H)if(!oe[Te])throw Qs(Te);return{appName:R.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:st,installations:oe,analyticsProvider:Te}}_delete(){return Promise.resolve()}}function so(R){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(R){var H;try{R.swRegistration=yield navigator.serviceWorker.register(qi,{scope:$i}),R.swRegistration.update().catch(()=>{})}catch(oe){throw it.create("failed-service-worker-registration",{browserErrorMessage:null===(H=oe)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function ll(R,H){return jo.apply(this,arguments)}function jo(){return(jo=(0,k.Z)(function*(R,H){if(!H&&!R.swRegistration&&(yield so(R)),H||!R.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");R.swRegistration=H}})).apply(this,arguments)}function ul(R,H){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,k.Z)(function*(R,H){H?R.vapidKey=H:R.vapidKey||(R.vapidKey=Hs)})).apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(R,H){if(!navigator)throw it.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw it.create("permission-blocked");return yield ul(R,H?.vapidKey),yield ll(R,H?.serviceWorkerRegistration),hs(R)})).apply(this,arguments)}function Oi(R,H,oe){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(R,H,oe){const Te=Go(H);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Te,{message_id:oe[vs],message_name:oe[Es],message_time:oe[bs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Go(R){switch(R){case Vr.NOTIFICATION_CLICKED:return"notification_open";case Vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $a(){return($a=(0,k.Z)(function*(R,H){const oe=H.data;if(!oe.isFirebaseMessaging)return;R.onMessageHandler&&oe.messageType===Vr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(L(oe)):R.onMessageHandler.next(L(oe)));const Te=oe.data;dn(Te)&&"1"===Te[$s]&&(yield Oi(R,oe.messageType,Te))})).apply(this,arguments)}const Ma="@firebase/messaging",Ls=R=>{const H=new io(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function Tl(R,H){return $a.apply(this,arguments)}(H,oe)),H},mi=R=>{const H=R.getProvider("messaging").getImmediate();return{getToken:Te=>function Wo(R,H){return ci.apply(this,arguments)}(H,Te)}};function ua(){return Io.apply(this,arguments)}function Io(){return(Io=(0,k.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function No(){(0,fe._registerComponent)(new J.wA("messaging",Ls,"PUBLIC")),(0,fe._registerComponent)(new J.wA("messaging-internal",mi,"PRIVATE")),(0,fe.registerVersion)(Ma,"0.9.16"),(0,fe.registerVersion)(Ma,"0.9.16","esm2017")}();const zo="analytics",ca="firebase_id",Ga="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",da="https://www.googletagmanager.com/gtag/js",bi=new X.Yd("@firebase/analytics");function Gl(R){return Promise.all(R.map(H=>H.catch(oe=>oe)))}function za(R,H){const oe=document.createElement("script");oe.src=`${da}?l=${R}&id=${H}`,oe.async=!0,document.head.appendChild(oe)}function Lo(R,H,oe,Te,st,Ct){return wi.apply(this,arguments)}function wi(){return(wi=(0,k.Z)(function*(R,H,oe,Te,st,Ct){const Gt=Te[st];try{if(Gt)yield H[Gt];else{const ir=(yield Gl(oe)).find(yr=>yr.measurementId===st);ir&&(yield H[ir.appId])}}catch(In){bi.error(In)}R("config",st,Ct)})).apply(this,arguments)}function yo(R,H,oe,Te,st){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,k.Z)(function*(R,H,oe,Te,st){try{let Ct=[];if(st&&st.send_to){let Gt=st.send_to;Array.isArray(Gt)||(Gt=[Gt]);const In=yield Gl(oe);for(const ir of Gt){const yr=In.find(er=>er.measurementId===ir),Kn=yr&&H[yr.appId];if(!Kn){Ct=[];break}Ct.push(Kn)}}0===Ct.length&&(Ct=Object.values(H)),yield Promise.all(Ct),R("event",Te,st||{})}catch(Ct){bi.error(Ct)}})).apply(this,arguments)}function Kt(){const R=window.document.getElementsByTagName("script");for(const H of Object.values(R))if(H.src&&H.src.includes(da))return H;return null}const fs=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Al=new class Jn{constructor(H={},oe=1e3){this.throttleMetadata=H,this.intervalMillis=oe}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,oe){this.throttleMetadata[H]=oe}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function hn(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function At(R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(R){var H;const{appId:oe,apiKey:Te}=R,st={method:"GET",headers:hn(Te)},Ct=Ga.replace("{app-id}",oe),Gt=yield fetch(Ct,st);if(200!==Gt.status&&304!==Gt.status){let In="";try{const ir=yield Gt.json();null!==(H=ir.error)&&void 0!==H&&H.message&&(In=ir.error.message)}catch{}throw fs.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:In})}return Gt.json()})).apply(this,arguments)}function yi(R){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(R,H=Al,oe){const{appId:Te,apiKey:st,measurementId:Ct}=R.options;if(!Te)throw fs.create("no-app-id");if(!st){if(Ct)return{measurementId:Ct,appId:Te};throw fs.create("no-api-key")}const Gt=H.getThrottleMetadata(Te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},In=new Zo;return setTimeout((0,k.Z)(function*(){In.abort()}),void 0!==oe?oe:6e4),qo({appId:Te,apiKey:st,measurementId:Ct},Gt,In,H)})).apply(this,arguments)}function qo(R,H,oe){return ha.apply(this,arguments)}function ha(){return(ha=(0,k.Z)(function*(R,{throttleEndTimeMillis:H,backoffCount:oe},Te,st=Al){var Ct,Gt;const{appId:In,measurementId:ir}=R;try{yield fa(Te,H)}catch(yr){if(ir)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ir} provided in the "measurementId" field in the local Firebase config. [${null===(Ct=yr)||void 0===Ct?void 0:Ct.message}]`),{appId:In,measurementId:ir};throw yr}try{const yr=yield At(R);return st.deleteThrottleMetadata(In),yr}catch(yr){const Kn=yr;if(!pa(Kn)){if(st.deleteThrottleMetadata(In),ir)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ir} provided in the "measurementId" field in the local Firebase config. [${Kn?.message}]`),{appId:In,measurementId:ir};throw yr}const er=503===Number(null===(Gt=Kn?.customData)||void 0===Gt?void 0:Gt.httpStatus)?(0,W.$s)(oe,st.intervalMillis,30):(0,W.$s)(oe,st.intervalMillis),_r={throttleEndTimeMillis:Date.now()+er,backoffCount:oe+1};return st.setThrottleMetadata(In,_r),bi.debug(`Calling attemptFetch again in ${er} millis`),qo(R,_r,Te,st)}})).apply(this,arguments)}function fa(R,H){return new Promise((oe,Te)=>{const st=Math.max(H-Date.now(),0),Ct=setTimeout(oe,st);R.addEventListener(()=>{clearTimeout(Ct),Te(fs.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function pa(R){if(!(R instanceof W.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Zo{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let hl,hr;function Oa(){return(Oa=(0,k.Z)(function*(R,H,oe,Te,st){if(st&&st.global)R("event",oe,Te);else{const Ct=yield H;R("event",oe,Object.assign(Object.assign({},Te),{send_to:Ct}))}})).apply(this,arguments)}function ns(R){hr=R}function Ii(R){hl=R}function Xt(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,k.Z)(function*(){var R;if(!(0,W.hl)())return bi.warn(fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(H){return bi.warn(fs.create("indexeddb-unavailable",{errorInfo:null===(R=H)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function _o(){return(_o=(0,k.Z)(function*(R,H,oe,Te,st,Ct,Gt){var In;const ir=yi(R);ir.then(Xs=>{oe[Xs.measurementId]=Xs.appId,R.options.measurementId&&Xs.measurementId!==R.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xs=>bi.error(Xs)),H.push(ir);const yr=Xt().then(Xs=>{if(Xs)return Te.getId()}),[Kn,er]=yield Promise.all([ir,yr]);Kt()||za(Ct,Kn.measurementId),hr&&(st("consent","default",hr),ns(void 0)),st("js",new Date);const _r=null!==(In=Gt?.config)&&void 0!==In?In:{};return _r.origin="firebase",_r.update=!0,null!=er&&(_r[ca]=er),st("config",Kn.measurementId,_r),hl&&(st("set",hl),Ii(void 0)),Kn.measurementId})).apply(this,arguments)}class ws{constructor(H){this.app=H}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},Do=[];const Pa={};let zl,Js,Qi="dataLayer",Kr=!1;function Za(R,H,oe){!function It(){const R=[];if((0,W.ru)()&&R.push("This is a browser extension environment."),(0,W.zI)()||R.push("Cookies are not available."),R.length>0){const H=R.map((Te,st)=>`(${st+1}) ${Te}`).join(" "),oe=fs.create("invalid-analytics-context",{errorInfo:H});bi.warn(oe.message)}}();const Te=R.options.appId;if(!Te)throw fs.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw fs.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[Te])throw fs.create("already-exists",{id:Te});if(!Kr){!function Ws(R){let H=[];Array.isArray(window[R])?H=window[R]:window[R]=H}(Qi);const{wrappedGtag:Ct,gtagCore:Gt}=function dl(R,H,oe,Te,st){let Ct=function(...Gt){window[Te].push(arguments)};return window[st]&&"function"==typeof window[st]&&(Ct=window[st]),window[st]=function xa(R,H,oe,Te){function Ct(){return(Ct=(0,k.Z)(function*(Gt,In,ir){try{"event"===Gt?yield yo(R,H,oe,In,ir):"config"===Gt?yield Lo(R,H,oe,Te,In,ir):"consent"===Gt?R("consent","update",ir):R("set",In)}catch(yr){bi.error(yr)}})).apply(this,arguments)}return function st(Gt,In,ir){return Ct.apply(this,arguments)}}(Ct,R,H,oe),{gtagCore:Ct,wrappedGtag:window[st]}}(rs,Do,Pa,Qi,"gtag");Js=Ct,zl=Gt,Kr=!0}return rs[Te]=function qa(R,H,oe,Te,st,Ct,Gt){return _o.apply(this,arguments)}(R,Do,Pa,H,zl,Qi,oe),new ws(R)}function fl(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,k.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const Ya="@firebase/analytics";!function oo(){(0,fe._registerComponent)(new J.wA(zo,(H,{options:oe})=>Za(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,fe._registerComponent)(new J.wA("analytics-internal",function R(H){try{const oe=H.getProvider(zo).getImmediate();return{logEvent:(Te,st,Ct)=>function ma(R,H,oe,Te){R=(0,W.m9)(R),function Ka(R,H,oe,Te,st){return Oa.apply(this,arguments)}(Js,rs[R.app.options.appId],H,oe,Te).catch(st=>bi.error(st))}(oe,Te,st,Ct)}}catch(oe){throw fs.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,fe.registerVersion)(Ya,"0.8.0"),(0,fe.registerVersion)(Ya,"0.8.0","esm2017")}();var Gi=M(233),T=M(4986),C=M(9751),w=M(8505),P=M(5363),B=M(9468);const ie=new h.GfV("7.4.1"),Ee="__angularfire_symbol__analyticsIsSupportedValue",Ae="__angularfire_symbol__analyticsIsSupported",Et="__angularfire_symbol__remoteConfigIsSupportedValue",on="__angularfire_symbol__remoteConfigIsSupported",Mn="__angularfire_symbol__messagingIsSupportedValue",Pn="__angularfire_symbol__messagingIsSupported";function ss(R,H,oe){if(H){if(1===H.length)return H[0];const Ct=H.filter(Gt=>Gt.app===oe);if(1===Ct.length)return Ct[0]}return oe.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ae]||(globalThis[Ae]=fl().then(R=>globalThis[Ee]=R).catch(()=>globalThis[Ee]=!1)),globalThis[Pn]||(globalThis[Pn]=ua().then(R=>globalThis[Mn]=R).catch(()=>globalThis[Mn]=!1)),globalThis[on]||(globalThis[on]=ys().then(R=>globalThis[Et]=R).catch(()=>globalThis[Et]=!1));const Xo=(R,H)=>{const oe=H?[H]:(0,u.C6)(),Te=[];return oe.forEach(st=>{st.container.getProvider(R).instances.forEach(Gt=>{Te.includes(Gt)||Te.push(Gt)})}),Te};function Ks(){}class ya{constructor(H,oe=Gi.N){this.zone=H,this.delegate=oe}now(){return this.delegate.now()}schedule(H,oe,Te){const st=this.zone;return this.delegate.schedule(function(Gt){st.runGuarded(()=>{H.apply(this,[Gt])})},oe,Te)}}class vo{constructor(H){this.zone=H,this.task=null}call(H,oe){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),oe.pipe((0,w.b)({next:Te,complete:Te,error:Te})).subscribe(H).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class R{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new ya(Zone.current)),this.insideAngular=oe.run(()=>new ya(Zone.current,T.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(oe){return new(oe||R)(h.LFG(h.R0b))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function os(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Mo(R){return os().ngZone.runOutsideAngular(()=>R())}function lo(R){return os().ngZone.run(()=>R())}function ea(R){return R.pipe((0,P.Q)(os().outsideAngular))}function _a(R){return os(),function ql(R){return function(oe){return(oe=oe.lift(new vo(R.ngZone))).pipe((0,B.R)(R.outsideAngular),(0,P.Q)(R.insideAngular))}}(os())(R)}const xo=(R,H)=>function(){const Te=arguments;return H&&setTimeout(()=>{"scheduled"===H.state&&H.invoke()},10),lo(()=>R.apply(void 0,Te))},va=(R,H)=>function(){let oe;const Te=arguments;for(let Ct=0;Ct<arguments.length;Ct++)"function"==typeof Te[Ct]&&(H&&(oe||(oe=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)))),Te[Ct]=xo(Te[Ct],oe));const st=Mo(()=>R.apply(this,Te));if(!H){if(st instanceof C.y){const Ct=os();return st.pipe((0,B.R)(Ct.outsideAngular),(0,P.Q)(Ct.insideAngular))}return lo(()=>st)}return st instanceof C.y?st.pipe(_a):st instanceof Promise?lo(()=>new Promise((Ct,Gt)=>st.then(In=>lo(()=>Ct(In)),In=>lo(()=>Gt(In))))):"function"==typeof st&&oe?function(){return setTimeout(()=>{oe&&"scheduled"===oe.state&&oe.invoke()},10),st.apply(this,arguments)}:lo(()=>st)}},6457:(jt,Ke,M)=>{M.d(Ke,{$:()=>ni,A:()=>ee,B:()=>Me,G:()=>es,H:()=>Qr,J:()=>ai,L:()=>xn,M:()=>Zi,N:()=>_s,P:()=>ie,Q:()=>vs,R:()=>Ji,T:()=>Es,U:()=>Hs,V:()=>Vr,W:()=>si,X:()=>ut,Y:()=>_t,Z:()=>un,_:()=>jr,a:()=>On,a0:()=>hs,a1:()=>mo,a2:()=>ts,a3:()=>Di,a4:()=>Ha,a5:()=>$,a6:()=>O,a7:()=>ue,a8:()=>dn,a9:()=>Ei,aA:()=>Ra,aB:()=>_r,aC:()=>xo,aD:()=>ql,aE:()=>Br,aI:()=>hn,aL:()=>$s,aa:()=>so,ab:()=>ll,ac:()=>ul,af:()=>Oi,ag:()=>Go,ah:()=>Tl,ak:()=>Un,al:()=>ja,an:()=>da,ao:()=>wi,ap:()=>Re,aq:()=>ht,ar:()=>Le,as:()=>wn,at:()=>Bt,au:()=>Na,av:()=>Oo,aw:()=>Je,ax:()=>he,ay:()=>et,az:()=>fn,b:()=>fs,c:()=>ao,d:()=>Ks,e:()=>ss,f:()=>H,g:()=>In,h:()=>st,i:()=>Qo,j:()=>Kn,k:()=>as,l:()=>Xi,m:()=>xl,n:()=>Bc,o:()=>Y,r:()=>Gi,s:()=>zs,u:()=>P});var h=M(5861),u=M(2090),k=M(9681),fe=M(655),W=M(1877),J=M(4859);const Y={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new u.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new W.Yd("@firebase/auth");function Pe(I,...g){Ne.logLevel<=W.in.ERROR&&Ne.error(`Auth (${k.SDK_VERSION}): ${I}`,...g)}function Bt(I,...g){throw Ie(I,...g)}function Je(I,...g){return Ie(I,...g)}function de(I,g,y){const S=Object.assign(Object.assign({},Xe()),{[g]:y});return new u.LL("auth","Firebase",S).create(g,{appName:I.name})}function Ye(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Bt(I,"argument-error"),de(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(I,...g){if("string"!=typeof I){const y=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(y,...S)}return Tt.create(I,...g)}function he(I,g,...y){if(!I)throw Ie(g,...y)}function Ge(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Pe(g),new Error(g)}function ht(I,g){I||Ge(g)}const He=new Map;function et(I){ht(I instanceof Function,"Expected a class definition");let g=He.get(I);return g?(ht(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,He.set(I,g),g)}function nt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ut(){return"http:"===lt()||"https:"===lt()}function lt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class at{constructor(g,y){this.shortDelay=g,this.longDelay=y,ht(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,u.uI)()||(0,u.b$)()}get(){return function Pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,u.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(I,g){ht(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class _n{static initialize(g,y,S){this.fetchImpl=g,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yn=new at(3e4,6e4);function En(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function bn(I,g,y,S){return zn.apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(I,g,y,S,ne={}){return Or(I,ne,(0,h.Z)(function*(){let ge={},rt={};S&&("GET"===g?rt=S:ge={body:JSON.stringify(S)});const Ot=(0,u.xO)(Object.assign({key:I.config.apiKey},rt)).slice(1),Sn=yield I._getAdditionalHeaders();return Sn["Content-Type"]="application/json",I.languageCode&&(Sn["X-Firebase-Locale"]=I.languageCode),_n.fetch()($n(I,I.config.apiHost,y,Ot),Object.assign({method:g,headers:Sn,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function Or(I,g,y){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(I,g,y){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Cn),g);try{const ne=new Ar(I),ge=yield Promise.race([y(),ne.promise]);ne.clearNetworkTimeout();const rt=yield ge.json();if("needConfirmation"in rt)throw nr(I,"account-exists-with-different-credential",rt);if(ge.ok&&!("errorMessage"in rt))return rt;{const Ot=ge.ok?rt.errorMessage:rt.error.message,[Sn,Ln]=Ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Sn)throw nr(I,"credential-already-in-use",rt);if("EMAIL_EXISTS"===Sn)throw nr(I,"email-already-in-use",rt);if("USER_DISABLED"===Sn)throw nr(I,"user-disabled",rt);const Fr=S[Sn]||Sn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw de(I,Fr,Ln);Bt(I,Fr)}}catch(ne){if(ne instanceof u.ZR)throw ne;Bt(I,"network-request-failed")}})).apply(this,arguments)}function nn(I,g,y,S){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(I,g,y,S,ne={}){const ge=yield bn(I,g,y,S,ne);return"mfaPendingCredential"in ge&&Bt(I,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function $n(I,g,y,S){const ne=`${g}${y}?${S}`;return I.config.emulator?Rt(I.config,ne):`${I.config.apiScheme}://${ne}`}class Ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Je(this.auth,"network-request-failed")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(I,g,y){const S={appName:I.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const ne=Je(I,g,S);return ne.customData._tokenResponse=y,ne}function rn(){return(rn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Qn(I,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vn(I,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Tr(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Mr(){return(Mr=(0,h.Z)(function*(I,g=!1){const y=(0,u.m9)(I),S=yield y.getIdToken(g),ne=kn(S);he(ne&&ne.exp&&ne.auth_time&&ne.iat,y.auth,"internal-error");const ge="object"==typeof ne.firebase?ne.firebase:void 0,rt=ge?.sign_in_provider;return{claims:ne,token:S,authTime:Tr(li(ne.auth_time)),issuedAtTime:Tr(li(ne.iat)),expirationTime:Tr(li(ne.exp)),signInProvider:rt||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function li(I){return 1e3*Number(I)}function kn(I){var g;const[y,S,ne]=I.split(".");if(void 0===y||void 0===S||void 0===ne)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const ge=(0,u.tV)(S);return ge?JSON.parse(ge):(Pe("Failed to decode base64 JWT payload"),null)}catch(ge){return Pe("Caught error parsing JWT payload as JSON",null===(g=ge)||void 0===g?void 0:g.toString()),null}}function en(I,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(S){throw S instanceof u.ZR&&Ur(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function Ur({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class An{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const ne=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),S)}iteration(){var g=this;return(0,h.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(y=S)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Pr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(I){var g;const y=I.auth,S=yield I.getIdToken(),ne=yield en(I,vn(y,{idToken:S}));he(ne?.users.length,y,"internal-error");const ge=ne.users[0];I._notifyReloadListener(ge);const rt=null!==(g=ge.providerUserInfo)&&void 0!==g&&g.length?ke(ge.providerUserInfo):[],Ot=Oe(I.providerData,rt),Fr=!!I.isAnonymous&&!(I.email&&ge.passwordHash||Ot?.length),ki={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Ot,metadata:new Pr(ge.createdAt,ge.lastLoginAt),isAnonymous:Fr};Object.assign(I,ki)})).apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(I){const g=(0,u.m9)(I);yield cr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Oe(I,g){return[...I.filter(S=>!g.some(ne=>ne.providerId===S.providerId)),...g]}function ke(I){return I.map(g=>{var{providerId:y}=g,S=(0,fe._T)(g,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function V(){return(V=(0,h.Z)(function*(I,g){const y=yield Or(I,{},(0,h.Z)(function*(){const S=(0,u.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:ne,apiKey:ge}=I.config,rt=$n(I,ne,"/v1/token",`key=${ge}`),Ot=yield I._getAdditionalHeaders();return Ot["Content-Type"]="application/x-www-form-urlencoded",_n.fetch()(rt,{method:"POST",headers:Ot,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){he(g.idToken,"internal-error"),he(typeof g.idToken<"u","internal-error"),he(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Yt(I){const g=kn(I);return he(g,"internal-error"),he(typeof g.exp<"u","internal-error"),he(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var S=this;return(0,h.Z)(function*(){return he(!S.accessToken||S.refreshToken,g,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var S=this;return(0,h.Z)(function*(){const{accessToken:ne,refreshToken:ge,expiresIn:rt}=yield function le(I,g){return V.apply(this,arguments)}(g,y);S.updateTokensAndExpiration(ne,ge,Number(rt))})()}updateTokensAndExpiration(g,y,S){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,y){const{refreshToken:S,accessToken:ne,expirationTime:ge}=y,rt=new K;return S&&(he("string"==typeof S,"internal-error",{appName:g}),rt.refreshToken=S),ne&&(he("string"==typeof ne,"internal-error",{appName:g}),rt.accessToken=ne),ge&&(he("number"==typeof ge,"internal-error",{appName:g}),rt.expirationTime=ge),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Se(I,g){he("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class ot{constructor(g){var{uid:y,auth:S,stsTokenManager:ne}=g,ge=(0,fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Pr(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,h.Z)(function*(){const S=yield en(y,y.stsTokenManager.getToken(y.auth,g));return he(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(g){return function Yn(I){return Mr.apply(this,arguments)}(this,g)}reload(){return function jn(I){return $r.apply(this,arguments)}(this)}_assign(g){this!==g&&(he(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ot(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var S=this;return(0,h.Z)(function*(){let ne=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),ne=!0),y&&(yield cr(S)),yield S.auth._persistUserIfCurrent(S),ne&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,h.Z)(function*(){const y=yield g.getIdToken();return yield en(g,function ur(I,g){return rn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var S,ne,ge,rt,Ot,Sn,Ln,Fr;const ki=null!==(S=y.displayName)&&void 0!==S?S:void 0,ka=null!==(ne=y.email)&&void 0!==ne?ne:void 0,el=null!==(ge=y.phoneNumber)&&void 0!==ge?ge:void 0,Rl=null!==(rt=y.photoURL)&&void 0!==rt?rt:void 0,La=null!==(Ot=y.tenantId)&&void 0!==Ot?Ot:void 0,cu=null!==(Sn=y._redirectEventId)&&void 0!==Sn?Sn:void 0,Nl=null!==(Ln=y.createdAt)&&void 0!==Ln?Ln:void 0,Ou=null!==(Fr=y.lastLoginAt)&&void 0!==Fr?Fr:void 0,{uid:ra,emailVerified:uc,isAnonymous:Cd,providerData:ls,stsTokenManager:oi}=y;he(ra&&oi,g,"internal-error");const Hc=K.fromJSON(this.name,oi);he("string"==typeof ra,g,"internal-error"),Se(ki,g.name),Se(ka,g.name),he("boolean"==typeof uc,g,"internal-error"),he("boolean"==typeof Cd,g,"internal-error"),Se(el,g.name),Se(Rl,g.name),Se(La,g.name),Se(cu,g.name),Se(Nl,g.name),Se(Ou,g.name);const Pu=new ot({uid:ra,auth:g,email:ka,emailVerified:uc,displayName:ki,isAnonymous:Cd,photoURL:Rl,phoneNumber:el,tenantId:La,stsTokenManager:Hc,createdAt:Nl,lastLoginAt:Ou});return ls&&Array.isArray(ls)&&(Pu.providerData=ls.map(kl=>Object.assign({},kl))),cu&&(Pu._redirectEventId=cu),Pu}static _fromIdTokenResponse(g,y,S=!1){return(0,h.Z)(function*(){const ne=new K;ne.updateFromServerResponse(y);const ge=new ot({uid:y.localId,auth:g,stsTokenManager:ne,isAnonymous:S});return yield cr(ge),ge})()}}const xn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,S){var ne=this;return(0,h.Z)(function*(){ne.storage[y]=S})()}_get(y){var S=this;return(0,h.Z)(function*(){const ne=S.storage[y];return void 0===ne?null:ne})()}_remove(y){var S=this;return(0,h.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return I.type="NONE",I})();function fn(I,g,y){return`firebase:${I}:${g}:${y}`}class Tn{constructor(g,y,S){this.persistence=g,this.auth=y,this.userKey=S;const{config:ne,name:ge}=this.auth;this.fullUserKey=fn(this.userKey,ne.apiKey,ge),this.fullPersistenceKey=fn("persistence",ne.apiKey,ge),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?ot._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,h.Z)(function*(){if(y.persistence===g)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,S="authUser"){return(0,h.Z)(function*(){if(!y.length)return new Tn(et(xn),g,S);const ne=(yield Promise.all(y.map(function(){var Ln=(0,h.Z)(function*(Fr){if(yield Fr._isAvailable())return Fr});return function(Fr){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let ge=ne[0]||et(xn);const rt=fn(S,g.config.apiKey,g.name);let Ot=null;for(const Ln of y)try{const Fr=yield Ln._get(rt);if(Fr){const ki=ot._fromJSON(g,Fr);Ln!==ge&&(Ot=ki),ge=Ln;break}}catch{}const Sn=ne.filter(Ln=>Ln._shouldAllowMigration);return ge._shouldAllowMigration&&Sn.length?(ge=Sn[0],Ot&&(yield ge._set(rt,Ot.toJSON())),yield Promise.all(y.map(function(){var Ln=(0,h.Z)(function*(Fr){if(Fr!==ge)try{yield Fr._remove(rt)}catch{}});return function(Fr){return Ln.apply(this,arguments)}}())),new Tn(ge,g,S)):new Tn(ge,g,S)})()}}function qe(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ce(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Mt(g))return"Blackberry";if(sn(g))return"Webos";if(De(g))return"Safari";if((g.includes("chrome/")||wt(g))&&!g.includes("edge/"))return"Chrome";if(wn(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Ce(I=(0,u.z$)()){return/firefox\//i.test(I)}function De(I=(0,u.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function wt(I=(0,u.z$)()){return/crios\//i.test(I)}function Vt(I=(0,u.z$)()){return/iemobile/i.test(I)}function wn(I=(0,u.z$)()){return/android/i.test(I)}function Mt(I=(0,u.z$)()){return/blackberry/i.test(I)}function sn(I=(0,u.z$)()){return/webos/i.test(I)}function Le(I=(0,u.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Re(I=(0,u.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function xt(I=(0,u.z$)()){return Le(I)||wn(I)||sn(I)||Mt(I)||/windows phone/i.test(I)||Vt(I)}function Wn(I,g=[]){let y;switch(I){case"Browser":y=qe((0,u.z$)());break;case"Worker":y=`${qe((0,u.z$)())}-${I}`;break;default:y=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${S}`}class Vn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const S=ge=>new Promise((rt,Ot)=>{try{rt(g(ge))}catch(Sn){Ot(Sn)}});S.onAbort=y,this.queue.push(S);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,h.Z)(function*(){var S;if(y.auth.currentUser===g)return;const ne=[];try{for(const ge of y.queue)yield ge(g),ge.onAbort&&ne.push(ge.onAbort)}catch(ge){ne.reverse();for(const rt of ne)try{rt()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=ge)||void 0===S?void 0:S.message})}})()}}class Dn{constructor(g,y,S){this.app=g,this.heartbeatServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fi(this),this.idTokenSubscription=new fi(this),this.beforeStateQueue=new Vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var S=this;return y&&(this._popupRedirectResolver=et(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var ne,ge;if(!S._deleted&&(S.persistenceManager=yield Tn.create(S,g),!S._deleted)){if(null!==(ne=S._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(ge=S.currentUser)||void 0===ge?void 0:ge.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,h.Z)(function*(){var S;const ne=yield y.assertedPersistence.getCurrentUser();let ge=ne,rt=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ot=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,Sn=ge?._redirectEventId,Ln=yield y.tryRedirectSignIn(g);(!Ot||Ot===Sn)&&Ln?.user&&(ge=Ln.user,rt=!0)}if(!ge)return y.directlySetCurrentUser(null);if(!ge._redirectEventId){if(rt)try{yield y.beforeStateQueue.runMiddleware(ge)}catch(Ot){ge=ne,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ot))}return ge?y.reloadAndSetCurrentUserOrClear(ge):y.directlySetCurrentUser(null)}return he(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ge._redirectEventId?y.directlySetCurrentUser(ge):y.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(g){var y=this;return(0,h.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,h.Z)(function*(){var S;try{yield cr(g)}catch(ne){if("auth/network-request-failed"!==(null===(S=ne)||void 0===S?void 0:S.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,h.Z)(function*(){const S=g?(0,u.m9)(g):null;return S&&he(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(g,y=!1){var S=this;return(0,h.Z)(function*(){if(!S._deleted)return g&&he(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,h.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(et(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new u.LL("auth","Firebase",g())}onAuthStateChanged(g,y,S){return this.registerStateListener(this.authStateSubscription,g,y,S)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,S){return this.registerStateListener(this.idTokenSubscription,g,y,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var S=this;return(0,h.Z)(function*(){const ne=yield S.getOrInitRedirectPersistenceManager(y);return null===g?ne.removeCurrentUser():ne.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const S=g&&et(g)||y._popupRedirectResolver;he(S,y,"argument-error"),y.redirectPersistenceManager=yield Tn.create(y,[et(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,h.Z)(function*(){var S,ne;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===g?y._currentUser:(null===(ne=y.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,h.Z)(function*(){if(g===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,S,ne){if(this._deleted)return()=>{};const ge="function"==typeof y?y:y.next.bind(y),rt=this._isInitialized?Promise.resolve():this._initializationPromise;return he(rt,this,"internal-error"),rt.then(()=>ge(this.currentUser)),"function"==typeof y?g.addObserver(y,S,ne):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var y;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const ne=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return ne&&(S["X-Firebase-Client"]=ne),S})()}}function Br(I){return(0,u.m9)(I)}class fi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,u.ne)(y=>this.observer=y)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function es(I,g,y){const S=Br(I);he(S._canInitEmulator,S,"emulator-config-failed"),he(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const ne=!!y?.disableWarnings,ge=Ki(g),{host:rt,port:Ot}=function ti(I){const g=Ki(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(S);if(ne){const ge=ne[1];return{host:ge,port:Hr(S.substr(ge.length+1))}}{const[ge,rt]=S.split(":");return{host:ge,port:Hr(rt)}}}(g);S.config.emulator={url:`${ge}//${rt}${null===Ot?"":`:${Ot}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:rt,port:Ot,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Ai(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ki(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Hr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Qr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Ge("not implemented")}_getIdTokenResponse(g){return Ge("not implemented")}_linkToIdToken(g,y){return Ge("not implemented")}_getReauthenticationResolver(g){return Ge("not implemented")}}function ui(I,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:resetPassword",En(I,g))})).apply(this,arguments)}function Rr(I,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mi(I,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",En(I,g))})).apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithPassword",En(I,g))})).apply(this,arguments)}function Pi(I,g){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:sendOobCode",En(I,g))})).apply(this,arguments)}function $e(I,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(I,g){return Pi(I,g)})).apply(this,arguments)}function St(I,g){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(I,g){return Pi(I,g)})).apply(this,arguments)}function cn(I,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,h.Z)(function*(I,g){return Pi(I,g)})).apply(this,arguments)}function ct(I,g){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(I,g){return Pi(I,g)})).apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithEmailLink",En(I,g))})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithEmailLink",En(I,g))})).apply(this,arguments)}class Cr extends Qr{constructor(g,y,S,ne=null){super("password",S),this._email=g,this._password=y,this._tenantId=ne}static _fromEmailAndPassword(g,y){return new Cr(g,y,"password")}static _fromEmailAndCode(g,y,S=null){return new Cr(g,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,h.Z)(function*(){switch(y.signInMethod){case"password":return function Os(I,g){return Ci.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function dt(I,g){return Wt.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Bt(g,"internal-error")}})()}_linkToIdToken(g,y){var S=this;return(0,h.Z)(function*(){switch(S.signInMethod){case"password":return Rr(g,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function tn(I,g){return rr.apply(this,arguments)}(g,{idToken:y,email:S._email,oobCode:S._password});default:Bt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function gr(I,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithIdp",En(I,g))})).apply(this,arguments)}class ai extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ai(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Bt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:ne}=y,ge=(0,fe._T)(y,["providerId","signInMethod"]);if(!S||!ne)return null;const rt=new ai(S,ne);return rt.idToken=ge.idToken||void 0,rt.accessToken=ge.accessToken||void 0,rt.secret=ge.secret,rt.nonce=ge.nonce,rt.pendingToken=ge.pendingToken||null,rt}_getIdTokenResponse(g){return gr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,gr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,gr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,u.xO)(y)}return g}}function Ps(I,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:sendVerificationCode",En(I,g))})).apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,g))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(I,g){const y=yield nn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,g));if(y.temporaryProof)throw nr(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Ho={USER_NOT_FOUND:"user-not-found"};function cs(){return(cs=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ho)})).apply(this,arguments)}class xi extends Qr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new xi({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new xi({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Rs(I,g){return Us.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function ms(I,g){return Bs.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ns(I,g){return cs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:S,verificationCode:ne}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:S,code:ne}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:S,phoneNumber:ne,temporaryProof:ge}=g;return S||y||ne||ge?new xi({verificationId:y,verificationCode:S,phoneNumber:ne,temporaryProof:ge}):null}}class ds{constructor(g){var y,S,ne,ge,rt,Ot;const Sn=(0,u.zd)((0,u.pd)(g)),Ln=null!==(y=Sn.apiKey)&&void 0!==y?y:null,Fr=null!==(S=Sn.oobCode)&&void 0!==S?S:null,ki=function go(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=Sn.mode)&&void 0!==ne?ne:null);he(Ln&&Fr&&ki,"argument-error"),this.apiKey=Ln,this.operation=ki,this.code=Fr,this.continueUrl=null!==(ge=Sn.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(rt=Sn.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(Ot=Sn.tenantId)&&void 0!==Ot?Ot:null}static parseLink(g){const y=function $o(I){const g=(0,u.zd)((0,u.pd)(I)).link,y=g?(0,u.zd)((0,u.pd)(g)).deep_link_id:null,S=(0,u.zd)((0,u.pd)(I)).deep_link_id;return(S?(0,u.zd)((0,u.pd)(S)).link:null)||S||y||g||I}(g);try{return new ds(y)}catch{return null}}}let Zi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,S){return Cr._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const ne=ds.parseLink(S);return he(ne,"argument-error"),Cr._fromEmailAndCode(y,ne.code,ne.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class qi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class $i extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Hs extends $i{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return he("providerId"in y&&"signInMethod"in y,"argument-error"),ai._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return he(g.idToken||g.accessToken,"argument-error"),ai._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Hs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Hs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:ne,pendingToken:ge,nonce:rt,providerId:Ot}=g;if(!S&&!ne&&!y&&!ge||!Ot)return null;try{return new Hs(Ot)._credential({idToken:y,accessToken:S,nonce:rt,pendingToken:ge})}catch{return null}}}let _s=(()=>{class I extends $i{constructor(){super("facebook.com")}static credential(y){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),vs=(()=>{class I extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:ne}=y;if(!S&&!ne)return null;try{return I.credential(S,ne)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Es=(()=>{class I extends $i{constructor(){super("github.com")}static credential(y){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class $s extends Qr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return gr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,gr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,gr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:ne,pendingToken:ge}=y;return S&&ne&&ge&&S===ne?new $s(S,ge):null}static _create(g,y){return new $s(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vr extends qi{constructor(g){he(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Vr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Vr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=$s.fromJSON(g);return he(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:S}=g;if(!y||!S)return null;try{return $s._create(S,y)}catch{return null}}}let si=(()=>{class I extends $i{constructor(){super("twitter.com")}static credential(y,S){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:ne}=y;if(!S||!ne)return null;try{return I.credential(S,ne)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function te(I,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signUp",En(I,g))})).apply(this,arguments)}class we{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,S,ne=!1){return(0,h.Z)(function*(){const ge=yield ot._fromIdTokenResponse(g,S,ne),rt=Ve(S);return new we({user:ge,providerId:rt,_tokenResponse:S,operationType:y})})()}static _forOperation(g,y,S){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const ne=Ve(S);return new we({user:g,providerId:ne,_tokenResponse:S,operationType:y})})()}}function Ve(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ut(I){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(I){var g;const y=Br(I);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new we({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield te(y,{returnSecureToken:!0}),ne=yield we._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class an extends u.ZR{constructor(g,y,S,ne){var ge;super(y.code,y.message),this.operationType=S,this.user=ne,Object.setPrototypeOf(this,an.prototype),this.customData={appName:g.name,tenantId:null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,y,S,ne){return new an(g,y,S,ne)}}function pn(I,g,y,S){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?an._fromErrorAndOperation(I,ge,g,S):ge})}function gn(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Un(I,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I);yield Nr(!0,y,g);const{providerUserInfo:S}=yield Qn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),ne=gn(S||[]);return y.providerData=y.providerData.filter(ge=>ne.has(ge.providerId)),ne.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function mr(I,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(I,g,y=!1){const S=yield en(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return we._forOperation(I,"link",S)})).apply(this,arguments)}function Nr(I,g,y){return F.apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(I,g,y){yield cr(g);const ne=!1===I?"provider-already-linked":"no-such-provider";he(gn(g.providerData).has(y)===I,g.auth,ne)})).apply(this,arguments)}function re(I,g){return U.apply(this,arguments)}function U(){return(U=(0,h.Z)(function*(I,g,y=!1){var S;const{auth:ne}=I,ge="reauthenticate";try{const rt=yield en(I,pn(ne,ge,g,I),y);he(rt.idToken,ne,"internal-error");const Ot=kn(rt.idToken);he(Ot,ne,"internal-error");const{sub:Sn}=Ot;return he(I.uid===Sn,ne,"user-mismatch"),we._forOperation(I,ge,rt)}catch(rt){throw"auth/user-not-found"===(null===(S=rt)||void 0===S?void 0:S.code)&&Bt(ne,"user-mismatch"),rt}})).apply(this,arguments)}function ce(I,g){return Be.apply(this,arguments)}function Be(){return(Be=(0,h.Z)(function*(I,g,y=!1){const S="signIn",ne=yield pn(I,S,g),ge=yield we._fromIdTokenResponse(I,S,ne);return y||(yield I._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function _t(I,g){return it.apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(I,g){return ce(Br(I),g)})).apply(this,arguments)}function un(I,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I);return yield Nr(!1,y,g.providerId),mr(y,g)})).apply(this,arguments)}function jr(I,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(I,g){return re((0,u.m9)(I),g)})).apply(this,arguments)}function Er(I,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(I,g){return nn(I,"POST","/v1/accounts:signInWithCustomToken",En(I,g))})).apply(this,arguments)}function ni(I,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(I,g){const y=Br(I),S=yield Er(y,{token:g,returnSecureToken:!0}),ne=yield we._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Lt{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?or._fromServerResponse(g,y):Bt(g,"internal-error")}}class or extends Lt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new or(y)}}function ji(I,g,y){var S;he((null===(S=y.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),he(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(he(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(he(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function hs(I,g,y){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne={requestType:"PASSWORD_RESET",email:g};y&&ji(S,ne,y),yield St(S,ne)})).apply(this,arguments)}function mo(I,g,y){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(I,g,y){yield ui((0,u.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ts(I,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(I,g){yield Mi((0,u.m9)(I),{oobCode:g})})).apply(this,arguments)}function Di(I,g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I),S=yield ui(y,{oobCode:g}),ne=S.requestType;switch(he(ne,y,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(S.mfaInfo,y,"internal-error");default:he(S.email,y,"internal-error")}let ge=null;return S.mfaInfo&&(ge=Lt._fromServerResponse(Br(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ge},operation:ne}})).apply(this,arguments)}function Ha(I,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(I,g){const{data:y}=yield Di((0,u.m9)(I),g);return y.email})).apply(this,arguments)}function $(I,g,y){return L.apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(I,g,y){const S=Br(I),ne=yield te(S,{returnSecureToken:!0,email:g,password:y}),ge=yield we._fromIdTokenResponse(S,"signIn",ne);return yield S._updateCurrentUser(ge.user),ge})).apply(this,arguments)}function O(I,g,y){return _t((0,u.m9)(I),Zi.credential(g,y))}function ue(I,g,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne={requestType:"EMAIL_SIGNIN",email:g};he(y.handleCodeInApp,S,"argument-error"),y&&ji(S,ne,y),yield cn(S,ne)})).apply(this,arguments)}function dn(I,g){return"EMAIL_SIGNIN"===ds.parseLink(g)?.operation}function Ei(I,g,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne=Zi.credentialWithLink(g,y||nt());return he(ne._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),_t(S,ne)})).apply(this,arguments)}function Qs(I,g){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:createAuthUri",En(I,g))})).apply(this,arguments)}function so(I,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(I,g){const S={identifier:g,continueUri:Ut()?nt():"http://localhost"},{signinMethods:ne}=yield Qs((0,u.m9)(I),S);return ne||[]})).apply(this,arguments)}function ll(I,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I),ne={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&ji(y.auth,ne,g);const{email:ge}=yield $e(y.auth,ne);ge!==I.email&&(yield I.reload())})).apply(this,arguments)}function ul(I,g,y){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&ji(S.auth,ge,y);const{email:rt}=yield ct(S.auth,ge);rt!==I.email&&(yield I.reload())})).apply(this,arguments)}function Wo(I,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oi(I,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const S=(0,u.m9)(I),ge={idToken:yield S.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},rt=yield en(S,Wo(S.auth,ge));S.displayName=rt.displayName||null,S.photoURL=rt.photoUrl||null;const Ot=S.providerData.find(({providerId:Sn})=>"password"===Sn);Ot&&(Ot.displayName=S.displayName,Ot.photoURL=S.photoURL),yield S._updateTokensIfNecessary(rt)})).apply(this,arguments)}function Go(I,g){return $a((0,u.m9)(I),g,null)}function Tl(I,g){return $a((0,u.m9)(I),null,g)}function $a(I,g,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(I,g,y){const{auth:S}=I,ge={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(ge.email=g),y&&(ge.password=y);const rt=yield en(I,Rr(S,ge));yield I._updateTokensIfNecessary(rt,!0)})).apply(this,arguments)}class Ls{constructor(g,y,S={}){this.isNewUser=g,this.providerId=y,this.profile=S}}class mi extends Ls{constructor(g,y,S,ne){super(g,y,S),this.username=ne}}class No extends Ls{constructor(g,y){super(g,"facebook.com",y)}}class ua extends mi{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Io extends Ls{constructor(g,y){super(g,"google.com",y)}}class js extends mi{constructor(g,y,S){super(g,"twitter.com",y,S)}}function ja(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Wi(I){var g,y;if(!I)return null;const{providerId:S}=I,ne=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ge=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const rt=null===(y=null===(g=kn(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(rt)return new Ls(ge,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!S)return null;switch(S){case"facebook.com":return new No(ge,ne);case"github.com":return new ua(ge,ne);case"google.com":return new Io(ge,ne);case"twitter.com":return new js(ge,ne,I.screenName||null);case"custom":case"anonymous":return new Ls(ge,null);default:return new Ls(ge,S,ne)}}(y)}class Co{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Co("enroll",g)}static _fromMfaPendingCredential(g){return new Co("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,S;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Co._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return Co._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ga{constructor(g,y,S){this.session=g,this.hints=y,this.signInResolver=S}static _fromError(g,y){const S=Br(g),ne=y.customData._serverResponse,ge=(ne.mfaInfo||[]).map(Ot=>Lt._fromServerResponse(S,Ot));he(ne.mfaPendingCredential,S,"internal-error");const rt=Co._fromMfaPendingCredential(ne.mfaPendingCredential);return new Ga(rt,ge,function(){var Ot=(0,h.Z)(function*(Sn){const Ln=yield Sn._process(S,rt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Fr=Object.assign(Object.assign({},ne),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(y.operationType){case"signIn":const ki=yield we._fromIdTokenResponse(S,y.operationType,Fr);return yield S._updateCurrentUser(ki.user),ki;case"reauthenticate":return he(y.user,S,"internal-error"),we._forOperation(y.user,y.operationType,Fr);default:Bt(S,"internal-error")}});return function(Sn){return Ot.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,h.Z)(function*(){return y.signInResolver(g)})()}}function da(I,g){var y;const S=(0,u.m9)(I),ne=g;return he(g.customData.operationType,S,"argument-error"),he(null===(y=ne.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),Ga._fromError(S,ne)}function bi(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:start",En(I,g))}class Ws{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>Lt._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Ws(g)}getSession(){var g=this;return(0,h.Z)(function*(){return Co._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var S=this;return(0,h.Z)(function*(){const ne=g,ge=yield S.getSession(),rt=yield en(S.user,ne._process(S.user.auth,ge,y));return yield S.user._updateTokensIfNecessary(rt),S.user.reload()})()}unenroll(g){var y=this;return(0,h.Z)(function*(){var S;const ne="string"==typeof g?g:g.uid,ge=yield y.user.getIdToken(),rt=yield en(y.user,function za(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",En(I,g))}(y.user.auth,{idToken:ge,mfaEnrollmentId:ne}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ot})=>Ot!==ne),yield y.user._updateTokensIfNecessary(rt);try{yield y.user.reload()}catch(Ot){if("auth/user-token-expired"!==(null===(S=Ot)||void 0===S?void 0:S.code))throw Ot}})()}}const Lo=new WeakMap;function wi(I){const g=(0,u.m9)(I);return Lo.has(g)||Lo.set(g,Ws._fromUser(g)),Lo.get(g)}const yo="__sak";class Gs{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class I extends Gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xa(){const I=(0,u.z$)();return De(I)||Le(I)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const ne=this.storage.getItem(S),ge=this.localCache[S];ne!==ge&&y(S,ge,ne)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((Ot,Sn,Ln)=>{this.notifyListeners(Ot,Ln)});const ne=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ot=this.storage.getItem(ne);if(y.newValue!==Ot)null!==y.newValue?this.storage.setItem(ne,y.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===y.newValue&&!S)return}const ge=()=>{const Ot=this.storage.getItem(ne);!S&&this.localCache[ne]===Ot||this.notifyListeners(ne,Ot)},rt=this.storage.getItem(ne);!function Fe(){return(0,u.w1)()&&10===document.documentMode}()||rt===y.newValue||y.newValue===y.oldValue?ge():setTimeout(ge,10)}notifyListeners(y,S){this.localCache[y]=S;const ne=this.listeners[y];if(ne)for(const ge of Array.from(ne))ge(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var ne=()=>super._set,ge=this;return(0,h.Z)(function*(){yield ne().call(ge,y,S),ge.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,ne=this;return(0,h.Z)(function*(){const ge=yield S().call(ne,y);return ne.localCache[y]=JSON.stringify(ge),ge})()}_remove(y){var S=()=>super._remove,ne=this;return(0,h.Z)(function*(){yield S().call(ne,y),delete ne.localCache[y]})()}}return I.type="LOCAL",I})(),On=(()=>{class I extends Gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return I.type="SESSION",I})();let Al=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(ge=>ge.isListeningto(y));if(S)return S;const ne=new I(y);return this.receivers.push(ne),ne}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,h.Z)(function*(){const ne=y,{eventId:ge,eventType:rt,data:Ot}=ne.data,Sn=S.handlersMap[rt];if(!Sn?.size)return;ne.ports[0].postMessage({status:"ack",eventId:ge,eventType:rt});const Ln=Array.from(Sn).map(function(){var ki=(0,h.Z)(function*(ka){return ka(ne.origin,Ot)});return function(ka){return ki.apply(this,arguments)}}()),Fr=yield function Jn(I){return Promise.all(I.map(function(){var g=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return g.apply(this,arguments)}}()))}(Ln);ne.ports[0].postMessage({status:"done",eventId:ge,eventType:rt,response:Fr})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function hn(I="",g=10){let y="";for(let S=0;S<g;S++)y+=Math.floor(10*Math.random());return I+y}class At{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,S=50){var ne=this;return(0,h.Z)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let rt,Ot;return new Promise((Sn,Ln)=>{const Fr=hn("",20);ge.port1.start();const ki=setTimeout(()=>{Ln(new Error("unsupported_event"))},S);Ot={messageChannel:ge,onMessage(ka){const el=ka;if(el.data.eventId===Fr)switch(el.data.status){case"ack":clearTimeout(ki),rt=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),Sn(el.data.response);break;default:clearTimeout(ki),clearTimeout(rt),Ln(new Error("invalid_response"))}}},ne.handlers.add(Ot),ge.port1.addEventListener("message",Ot.onMessage),ne.target.postMessage({eventType:g,eventId:Fr,data:y},[ge.port2])}).finally(()=>{Ot&&ne.removeMessageHandler(Ot)})})()}}function Nt(){return window}function Ko(){return typeof Nt().WorkerGlobalScope<"u"&&"function"==typeof Nt().importScripts}function ha(){return(ha=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zo="firebaseLocalStorageDb",Ka="firebaseLocalStorage",Oa="fbase_key";class Ui{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Yo(I,g){return I.transaction([Ka],g?"readwrite":"readonly").objectStore(Ka)}function Ss(){const I=indexedDB.open(Zo,1);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Ka,{keyPath:Oa})}catch(ne){y(ne)}}),I.addEventListener("success",(0,h.Z)(function*(){const S=I.result;S.objectStoreNames.contains(Ka)?g(S):(S.close(),yield function br(){const I=indexedDB.deleteDatabase(Zo);return new Ui(I).toPromise()}(),g(yield Ss()))}))})}function To(I,g,y){return di.apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(I,g,y){const S=Yo(I,!0).put({[Oa]:g,value:y});return new Ui(S).toPromise()})).apply(this,arguments)}function Dr(){return(Dr=(0,h.Z)(function*(I,g){const y=Yo(I,!1).get(g),S=yield new Ui(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function hr(I,g){const y=Yo(I,!0).delete(g);return new Ui(y).toPromise()}const Qo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield Ss()),y.db})()}_withRetries(y){var S=this;return(0,h.Z)(function*(){let ne=0;for(;;)try{const ge=yield S._openDb();return yield y(ge)}catch(ge){if(ne++>3)throw ge;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return Ko()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=Al._getInstance(function pa(){return Ko()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,h.Z)(function*(ne,ge){return{keyProcessed:(yield y._poll()).includes(ge.key)}});return function(ne,ge){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,h.Z)(function*(ne,ge){return["keyChanged"]});return function(ne,ge){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var S,ne;if(y.activeServiceWorker=yield function qo(){return ha.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new At(y.activeServiceWorker);const ge=yield y.sender._send("ping",{},800);!ge||(null===(S=ge[0])||void 0===S?void 0:S.fulfilled)&&(null===(ne=ge[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,h.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function fa(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ss();return yield To(y,yo,"1"),yield hr(y,yo),!0}catch{}return!1})()}_withPendingWrite(y){var S=this;return(0,h.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var ne=this;return(0,h.Z)(function*(){return ne._withPendingWrite((0,h.Z)(function*(){return yield ne._withRetries(ge=>To(ge,y,S)),ne.localCache[y]=S,ne.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,h.Z)(function*(){const ne=yield S._withRetries(ge=>function Xn(I,g){return Dr.apply(this,arguments)}(ge,y));return S.localCache[y]=ne,ne})()}_remove(y){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(ne=>hr(ne,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const S=yield y._withRetries(rt=>{const Ot=Yo(rt,!1).getAll();return new Ui(Ot).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const ne=[],ge=new Set;for(const{fbase_key:rt,value:Ot}of S)ge.add(rt),JSON.stringify(y.localCache[rt])!==JSON.stringify(Ot)&&(y.notifyListeners(rt,Ot),ne.push(rt));for(const rt of Object.keys(y.localCache))y.localCache[rt]&&!ge.has(rt)&&(y.notifyListeners(rt,null),ne.push(rt));return ne})()}notifyListeners(y,S){this.localCache[y]=S;const ne=this.listeners[y];if(ne)for(const ge of Array.from(ne))ge(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function qa(I,g){return bn(I,"POST","/v2/accounts/mfaSignIn:start",En(I,g))}function rs(){return(rs=(0,h.Z)(function*(I){return(yield bn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(I){return new Promise((g,y)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=ne=>{const ge=Je("internal-error");ge.customData=ne,y(ge)},S.type="text/javascript",S.charset="UTF-8",function Do(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function Qi(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Js=1e12;class Kr{constructor(g){this.auth=g,this.counter=Js,this._widgets=new Map}render(g,y){const S=this.counter;return this._widgets.set(S,new Kl(g,this.auth.name,y||{})),this.counter++,S}reset(g){var y;const S=g||Js;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Js))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,h.Z)(function*(){var S;return null===(S=y._widgets.get(g||Js))||void 0===S||S.execute(),""})()}}class Kl{constructor(g,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof g?document.getElementById(g):g;he(ne,"argument-error",{appName:y}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function It(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Za=Qi("rcb"),Ao=new at(3e4,6e4);class fl{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Nt().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return he(function Fo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Nt().grecaptcha):new Promise((S,ne)=>{const ge=Nt().setTimeout(()=>{ne(Je(g,"network-request-failed"))},Ao.get());Nt()[Za]=()=>{Nt().clearTimeout(ge),delete Nt()[Za];const Ot=Nt().grecaptcha;if(!Ot)return void ne(Je(g,"internal-error"));const Sn=Ot.render;Ot.render=(Ln,Fr)=>{const ki=Sn(Ln,Fr);return this.counter++,ki},this.hostLanguage=y,S(Ot)},Pa(`https://www.google.com/recaptcha/api.js??${(0,u.xO)({onload:Za,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ge),ne(Je(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Nt().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pl{load(g){return(0,h.Z)(function*(){return new Kr(g)})()}clearedOneInstance(){}}const ga="recaptcha",Cu={theme:"light",type:"image"};class Ji{constructor(g,y=Object.assign({},Cu),S){this.parameters=y,this.type=ga,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(S),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof g?document.getElementById(g):g;he(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new fl,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(y)||new Promise(ge=>{const rt=Ot=>{!Ot||(g.tokenChangeListeners.delete(rt),ge(Ot))};g.tokenChangeListeners.add(rt),g.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof g)g(y);else if("string"==typeof g){const S=Nt()[g];"function"==typeof S&&S(y)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){he(Ut()&&!Ko(),g.auth,"internal-error"),yield function Ml(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function ws(I){return rs.apply(this,arguments)}(g.auth);he(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ma{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=xi._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function zs(I,g,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(I,g,y){const S=Br(I),ne=yield C(S,g,(0,u.m9)(y));return new ma(ne,ge=>_t(S,ge))})).apply(this,arguments)}function Xi(I,g,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);yield Nr(!1,S,"phone");const ne=yield C(S.auth,g,(0,u.m9)(y));return new ma(ne,ge=>un(S,ge))})).apply(this,arguments)}function Gi(I,g,y){return T.apply(this,arguments)}function T(){return(T=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne=yield C(S.auth,g,(0,u.m9)(y));return new ma(ne,ge=>jr(S,ge))})).apply(this,arguments)}function C(I,g,y){return w.apply(this,arguments)}function w(){return(w=(0,h.Z)(function*(I,g,y){var S;const ne=yield y.verify();try{let ge;if(he("string"==typeof ne,I,"argument-error"),he(y.type===ga,I,"argument-error"),ge="string"==typeof g?{phoneNumber:g}:g,"session"in ge){const rt=ge.session;if("phoneNumber"in ge)return he("enroll"===rt.type,I,"internal-error"),(yield bi(I,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{he("signin"===rt.type,I,"internal-error");const Ot=(null===(S=ge.multiFactorHint)||void 0===S?void 0:S.uid)||ge.multiFactorUid;return he(Ot,I,"missing-multi-factor-info"),(yield qa(I,{mfaPendingCredential:rt.credential,mfaEnrollmentId:Ot,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield Ps(I,{phoneNumber:ge.phoneNumber,recaptchaToken:ne});return rt}}finally{y._reset()}})).apply(this,arguments)}function P(I,g){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(I,g){yield mr((0,u.m9)(I),g)})).apply(this,arguments)}let ie=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Br(y)}verifyPhoneNumber(y,S){return C(this.auth,y,(0,u.m9)(S))}static credential(y,S){return xi._fromVerification(y,S)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:ne}=y;return S&&ne?xi._fromTokenResponse(S,ne):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ee(I,g){return g?et(g):(he(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ae extends Qr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return gr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return gr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return gr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Et(I){return ce(I.auth,new Ae(I),I.bypassAuthState)}function on(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),re(y,new Ae(I),I.bypassAuthState)}function Mn(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),mr(y,new Ae(I),I.bypassAuthState)})).apply(this,arguments)}class Zr{constructor(g,y,S,ne,ge=!1){this.auth=g,this.resolver=S,this.user=ne,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,h.Z)(function*(S,ne){g.pendingPromise={resolve:S,reject:ne};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ge){g.reject(ge)}});return function(S,ne){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,h.Z)(function*(){const{urlResponse:S,sessionId:ne,postBody:ge,tenantId:rt,error:Ot,type:Sn}=g;if(Ot)return void y.reject(Ot);const Ln={auth:y.auth,requestUri:S,sessionId:ne,tenantId:rt||void 0,postBody:ge||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Sn)(Ln))}catch(Fr){y.reject(Fr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Et;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return on;default:Bt(this.auth,"internal-error")}}resolve(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const is=new at(2e3,1e4);function ao(I,g,y){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(I,g,y){const S=Br(I);Ye(I,g,qi);const ne=Ee(S,y);return new vo(S,"signInViaPopup",g,ne).executeNotNull()})).apply(this,arguments)}function ss(I,g,y){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ye(S.auth,g,qi);const ne=Ee(S.auth,y);return new vo(S.auth,"reauthViaPopup",g,ne,S).executeNotNull()})).apply(this,arguments)}function Ks(I,g,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ye(S.auth,g,qi);const ne=Ee(S.auth,y);return new vo(S.auth,"linkViaPopup",g,ne,S).executeNotNull()})).apply(this,arguments)}let vo=(()=>{class I extends Zr{constructor(y,S,ne,ge,rt){super(y,S,ge,rt),this.provider=ne,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const S=yield y.execute();return he(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,h.Z)(function*(){ht(1===y.filter.length,"Popup operations only handle one event");const S=hn();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(ne=>{y.reject(ne)}),y.resolver._isIframeWebStorageSupported(y.auth,ne=>{ne||y.reject(Je(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,ne;this.pollId=null!==(ne=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,is.get())};y()}}return I.currentPopupAction=null,I})();const os=new Map;class Mo extends Zr{constructor(g,y,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,h.Z)(function*(){let S=os.get(y.auth._key());if(!S){try{const ge=(yield function lo(I,g){return ea.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;S=()=>Promise.resolve(ge)}catch(ne){S=()=>Promise.reject(ne)}os.set(y.auth._key(),S)}return y.bypassAuthState||os.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,S=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(S,g);if("unknown"!==g.type){if(g.eventId){const ne=yield S.auth._redirectUserForId(g.eventId);if(ne)return S.user=ne,y().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,h.Z)(function*(I,g){const y=R(g),S=va(I);if(!(yield S._isAvailable()))return!1;const ne="true"===(yield S._get(y));return yield S._remove(y),ne})).apply(this,arguments)}function au(I,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(I,g){return va(I)._set(R(g),"true")})).apply(this,arguments)}function ql(){os.clear()}function xo(I,g){os.set(I._key(),g)}function va(I){return et(I._redirectPersistence)}function R(I){return fn("pendingRedirect",I.config.apiKey,I.name)}function H(I,g,y){return function oe(I,g,y){return Te.apply(this,arguments)}(I,g,y)}function Te(){return(Te=(0,h.Z)(function*(I,g,y){const S=Br(I);Ye(I,g,qi);const ne=Ee(S,y);return yield au(ne,S),ne._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function st(I,g,y){return function Ct(I,g,y){return Gt.apply(this,arguments)}(I,g,y)}function Gt(){return(Gt=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ye(S.auth,g,qi);const ne=Ee(S.auth,y);yield au(ne,S.auth);const ge=yield Qa(S);return ne._openRedirect(S.auth,g,"reauthViaRedirect",ge)})).apply(this,arguments)}function In(I,g,y){return function ir(I,g,y){return yr.apply(this,arguments)}(I,g,y)}function yr(){return(yr=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ye(S.auth,g,qi);const ne=Ee(S.auth,y);yield Nr(!1,S,g.providerId),yield au(ne,S.auth);const ge=yield Qa(S);return ne._openRedirect(S.auth,g,"linkViaRedirect",ge)})).apply(this,arguments)}function Kn(I,g){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(I,g){return yield Br(I)._initializationPromise,_r(I,g,!1)})).apply(this,arguments)}function _r(I,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(I,g,y=!1){const S=Br(I),ne=Ee(S,g),rt=yield new Mo(S,ne,y).execute();return rt&&!y&&(delete rt.user._redirectEventId,yield S._persistUserIfCurrent(rt.user),yield S._setRedirectUser(null,g)),rt})).apply(this,arguments)}function Qa(I){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(I){const g=hn(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Ra{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(y=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Eo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var S;if(g.error&&!ba(g)){const ne=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Je(this.auth,ne))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const S=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(g))}saveEventToCache(g){this.cachedEventUids.add(Ja(g)),this.lastProcessedEventTime=Date.now()}}function Ja(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function ba({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function Oo(I){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(I,g={}){return bn(I,"GET","/v1/projects",g)})).apply(this,arguments)}const ah=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kc=/^https?/;function rc(){return(rc=(0,h.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Oo(I);for(const y of g)try{if(Ed(y))return}catch{}Bt(I,"unauthorized-domain")})).apply(this,arguments)}function Ed(I){const g=nt(),{protocol:y,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const rt=new URL(I);return""===rt.hostname&&""===S?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&rt.hostname===S}if(!kc.test(y))return!1;if(ah.test(I))return S===I;const ne=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(S)}const ic=new at(3e4,6e4);function Lc(){const I=Nt().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let ta=null;function Zl(I){return ta=ta||function Tu(I){return new Promise((g,y)=>{var S,ne,ge;function rt(){Lc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Lc(),y(Je(I,"network-request-failed"))},timeout:ic.get()})}if(null!==(ne=null===(S=Nt().gapi)||void 0===S?void 0:S.iframes)&&void 0!==ne&&ne.Iframe)g(gapi.iframes.getContext());else{if(null===(ge=Nt().gapi)||void 0===ge||!ge.load){const Ot=Qi("iframefcb");return Nt()[Ot]=()=>{gapi.load?rt():y(Je(I,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${Ot}`).catch(Sn=>y(Sn))}rt()}}).catch(g=>{throw ta=null,g})}(I),ta}const Fc=new at(5e3,15e3),gl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Du=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yl(I){const g=I.config;he(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?Rt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:k.SDK_VERSION},ne=Du.get(I.config.apiHost);ne&&(S.eid=ne);const ge=I._getFrameworks();return ge.length&&(S.fw=ge.join(",")),`${y}?${(0,u.xO)(S).slice(1)}`}function ml(){return ml=(0,h.Z)(function*(I){const g=yield Zl(I),y=Nt().gapi;return he(y,I,"internal-error"),g.open({where:document.body,url:Yl(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gl,dontclear:!0},S=>new Promise(function(){var ne=(0,h.Z)(function*(ge,rt){yield S.restyle({setHideOnLeave:!1});const Ot=Je(I,"network-request-failed"),Sn=Nt().setTimeout(()=>{rt(Ot)},Fc.get());function Ln(){Nt().clearTimeout(Sn),ge(S)}S.ping(Ln).then(Ln,()=>{rt(Ot)})});return function(ge,rt){return ne.apply(this,arguments)}}()))}),ml.apply(this,arguments)}const lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xa{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Na(I,g,y,S,ne,ge){he(I.config.authDomain,I,"auth-domain-config-required"),he(I.config.apiKey,I,"invalid-api-key");const rt={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:S,v:k.SDK_VERSION,eventId:ne};if(g instanceof qi){g.setDefaultLanguage(I.languageCode),rt.providerId=g.providerId||"",(0,u.xb)(g.getCustomParameters())||(rt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Sn,Ln]of Object.entries(ge||{}))rt[Sn]=Ln}if(g instanceof $i){const Sn=g.getScopes().filter(Ln=>""!==Ln);Sn.length>0&&(rt.scopes=Sn.join(","))}I.tenantId&&(rt.tid=I.tenantId);const Ot=rt;for(const Sn of Object.keys(Ot))void 0===Ot[Sn]&&delete Ot[Sn];return`${function Id({config:I}){return I.emulator?Rt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,u.xO)(Ot).slice(1)}`}const xu="webStorageSupport",as=class Uc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=On,this._completeRedirectFn=_r,this._overrideRedirectResult=xo}_openPopup(g,y,S,ne){var ge=this;return(0,h.Z)(function*(){var rt;ht(null===(rt=ge.eventManagers[g._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const Ot=Na(g,y,S,nt(),ne);return function Su(I,g,y,S=500,ne=600){const ge=Math.max((window.screen.availHeight-ne)/2,0).toString(),rt=Math.max((window.screen.availWidth-S)/2,0).toString();let Ot="";const Sn=Object.assign(Object.assign({},lu),{width:S.toString(),height:ne.toString(),top:ge,left:rt}),Ln=(0,u.z$)().toLowerCase();y&&(Ot=wt(Ln)?"_blank":y),Ce(Ln)&&(g=g||"http://localhost",Sn.scrollbars="yes");const Fr=Object.entries(Sn).reduce((ka,[el,Rl])=>`${ka}${el}=${Rl},`,"");if(function ve(I=(0,u.z$)()){var g;return Le(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ln)&&"_self"!==Ot)return function Au(I,g){const y=document.createElement("a");y.href=I,y.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(g||"",Ot),new Xa(null);const ki=window.open(g||"",Ot,Fr);he(ki,I,"popup-blocked");try{ki.focus()}catch{}return new Xa(ki)}(g,Ot,hn())})()}_openRedirect(g,y,S,ne){var ge=this;return(0,h.Z)(function*(){return yield ge._originValidation(g),function yi(I){Nt().location.href=I}(Na(g,y,S,nt(),ne)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:ne,promise:ge}=this.eventManagers[y];return ne?Promise.resolve(ne):(ht(ge,"If manager is not set, promise should be"),ge)}const S=this.initAndGetManager(g);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(g){var y=this;return(0,h.Z)(function*(){const S=yield function Vc(I){return ml.apply(this,arguments)}(g),ne=new Ra(g);return S.register("authEvent",ge=>(he(ge?.authEvent,g,"invalid-auth-event"),{status:ne.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:ne},y.iframes[g._key()]=S,ne})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(xu,{type:xu},ne=>{var ge;const rt=null===(ge=ne?.[0])||void 0===ge?void 0:ge[xu];void 0!==rt&&y(!!rt),Bt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function vd(I){return rc.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return xt()||De()||Le()}};class wa extends class uu{constructor(g){this.factorId=g}_process(g,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,S);case"signin":return this._finalizeSignIn(g,y.credential);default:return Ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new wa(g)}_finalizeEnroll(g,y,S){return function Gl(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:finalize",En(I,g))}(g,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function _o(I,g){return bn(I,"POST","/v2/accounts/mfaSignIn:finalize",En(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xl=(()=>{class I{constructor(){}static assertion(y){return wa._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var ac="@firebase/auth";class _l{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(S=>{var ne;g((null===(ne=S)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bc(I=(0,k.getApp)()){const g=(0,k._getProvider)(I,"auth");return g.isInitialized()?g.getImmediate():function Ue(I,g){const y=(0,k._getProvider)(I,"auth");if(y.isInitialized()){const ne=y.getImmediate(),ge=y.getOptions();if((0,u.vZ)(ge,g??{}))return ne;Bt(ne,"already-initialized")}return y.initialize({options:g})}(I,{popupRedirectResolver:as,persistence:[Qo,fs,On]})}!function Pl(I){(0,k._registerComponent)(new J.wA("auth",(g,{options:y})=>{const S=g.getProvider("app").getImmediate(),ne=g.getProvider("heartbeat"),{apiKey:ge,authDomain:rt}=S.options;return((Ot,Sn)=>{he(ge&&!ge.includes(":"),"invalid-api-key",{appName:Ot.name}),he(!rt?.includes(":"),"argument-error",{appName:Ot.name});const Ln={apiKey:ge,authDomain:rt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(I)},Fr=new Dn(Ot,Sn,Ln);return function pt(I,g){const y=g?.persistence||[],S=(Array.isArray(y)?y:[y]).map(et);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,g?.popupRedirectResolver)}(Fr,y),Fr})(S,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,S)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new J.wA("auth-internal",g=>{const y=Br(g.getProvider("auth").getImmediate());return new _l(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(ac,"0.20.5",function lc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,k.registerVersion)(ac,"0.20.5","esm2017")}("Browser")},5525:(jt,Ke,M)=>{M.d(Ke,{u7:()=>_f,Jj:()=>ru,IX:()=>Ny,my:()=>Ms,xU:()=>Eu,Lz:()=>qu,WA:()=>Nt,F8:()=>ol,$q:()=>Pc,W:()=>Rc,EK:()=>di,PU:()=>Eg,l7:()=>ss,Ky:()=>Xt,Xb:()=>Ii,Cf:()=>Yr,K9:()=>Al,Me:()=>Ee,yq:()=>fs,Wi:()=>tg,ET:()=>Wy,Ab:()=>qy,vr:()=>zm,Fc:()=>Ly,hJ:()=>Py,B$:()=>Qd,at:()=>Oy,oe:()=>jm,AK:()=>zy,TF:()=>Uy,JU:()=>Tm,ST:()=>sg,fH:()=>ky,Ix:()=>Vy,Wu:()=>Fm,Lx:()=>Lm,qY:()=>qs,GL:()=>md,QT:()=>Bm,kl:()=>Hm,Xk:()=>iv,PL:()=>Hy,UQ:()=>$y,zN:()=>$m,ad:()=>Sm,nP:()=>Km,b9:()=>Nm,vh:()=>pg,Pb:()=>Mc,L$:()=>nv,cf:()=>Gy,sc:()=>Wm,Xo:()=>hg,IO:()=>gf,iE:()=>Dm,Eo:()=>ev,i3:()=>yd,Bt:()=>Ky,pl:()=>jy,Ub:()=>dl,qK:()=>ff,TQ:()=>km,e0:()=>By,r7:()=>bo,Mx:()=>Fy,ar:()=>dg});var Y,h=M(5861),u=M(9681),k=M(4859),fe=M(1877),W=M(2090),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={},se=se||{},G=J||self;function ee(){}function pe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ze(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Xe="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function Ne(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Pe(i,e,n){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:Ne).apply(null,arguments)}function Bt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Je(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,f){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[l].apply(o,v)}}function de(){this.s=this.s,this.o=this.o}var Ie={};de.prototype.s=!1,de.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Me(i){return Object.prototype.hasOwnProperty.call(i,Xe)&&i[Xe]||(i[Xe]=++Tt)}(this);delete Ie[i]}},de.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const he=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ge=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in l&&e.call(n,l[f],f,i)};function He(i){return Array.prototype.concat.apply([],arguments)}function et(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ue(i){return/^[\s\xa0]*$/.test(i)}var lt,pt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function nt(i,e){return-1!=i.indexOf(e)}function Ut(i,e){return i<e?-1:i>e?1:0}e:{var Pt=G.navigator;if(Pt){var bt=Pt.userAgent;if(bt){lt=bt;break e}}lt=""}function at(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Rt(i){const e={};for(const n in i)e[n]=i[n];return e}var _n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cn(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let f=0;f<_n.length;f++)n=_n[f],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function yn(i){return yn[" "](i),i}yn[" "]=ee;var Ar,i,bn=nt(lt,"Opera"),zn=nt(lt,"Trident")||nt(lt,"MSIE"),Or=nt(lt,"Edge"),pr=Or||zn,nn=nt(lt,"Gecko")&&!(nt(lt.toLowerCase(),"webkit")&&!nt(lt,"Edge"))&&!(nt(lt,"Trident")||nt(lt,"MSIE"))&&!nt(lt,"Edge"),ei=nt(lt.toLowerCase(),"webkit")&&!nt(lt,"Edge");function $n(){var i=G.document;return i?i.documentMode:void 0}e:{var nr="",ur=(i=lt,nn?/rv:([^\);]+)(\)|;)/.exec(i):Or?/Edge\/([\d\.]+)/.exec(i):zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ei?/WebKit\/(\S+)/.exec(i):bn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ur&&(nr=ur?ur[1]:""),zn){var rn=$n();if(null!=rn&&rn>parseFloat(nr)){Ar=String(rn);break e}}Ar=nr}var Qn={};var Tr=G.document&&zn&&($n()||parseInt(Ar,10))||void 0,qr=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{G.addEventListener("test",ee,e),G.removeEventListener("test",ee,e)}catch{}return i}();function Yn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Mr(i,e){if(Yn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(nn){e:{try{yn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:li[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mr.Z.h.call(this)}}Yn.prototype.h=function(){this.defaultPrevented=!0},Je(Mr,Yn);var li={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function en(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++Yt,this.ca=this.fa=!1}function zr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ur(i){this.src=i,this.g={},this.h=0}function An(i,e){var n=e.type;if(n in i.g){var f,o=i.g[n],l=he(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&(zr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Pr(i,e,n,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==e&&f.capture==!!n&&f.ia==o)return l}return-1}Ur.prototype.add=function(i,e,n,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=Pr(i,e,o,l);return-1<v?(e=i[v],n||(e.fa=!1)):((e=new en(e,this.src,f,!!o,l)).fa=n,i.push(e)),e};var cr="closure_lm_"+(1e6*Math.random()|0),Qt={};function jn(i,e,n,o,l){if(o&&o.once)return ke(i,e,n,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)jn(i,e[f],n,o,l);return null}return n=xn(n),i&&i[kn]?i.N(e,n,ze(o)?!!o.capture:!!o,l):$r(i,e,n,!1,o,l)}function $r(i,e,n,o,l,f){if(!e)throw Error("Invalid event type");var v=ze(l)?!!l.capture:!!l,A=ot(i);if(A||(i[cr]=A=new Ur(i)),(n=A.add(e,n,o,v,f)).proxy)return n;if(o=function Oe(){var e=Se;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)qr||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(K(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function ke(i,e,n,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)ke(i,e[f],n,o,l);return null}return n=xn(n),i&&i[kn]?i.O(e,n,ze(o)?!!o.capture:!!o,l):$r(i,e,n,!0,o,l)}function le(i,e,n,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)le(i,e[f],n,o,l);else o=ze(o)?!!o.capture:!!o,n=xn(n),i&&i[kn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Pr(f=i.g[e],n,o,l))&&(zr(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=ot(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Pr(e,n,o,l)),(n=-1<i?e[i]:null)&&V(n))}function V(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[kn])An(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(K(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ot(e))?(An(n,i),0==n.h&&(n.src=null,e[cr]=null)):zr(i)}}}function K(i){return i in Qt?Qt[i]:Qt[i]="on"+i}function Se(i,e){if(i.ca)i=!0;else{e=new Mr(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&V(i),i=n.call(o,e)}return i}function ot(i){return(i=i[cr])instanceof Ur?i:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(i){return"function"==typeof i?i:(i[zt]||(i[zt]=function(e){return i.handleEvent(e)}),i[zt])}function fn(){de.call(this),this.i=new Ur(this),this.P=this,this.I=null}function Tn(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Yn(e,i);else if(e instanceof Yn)e.target=e.target||i;else{var l=e;Cn(e=new Yn(o,i),l)}if(l=!0,n)for(var f=n.length-1;0<=f;f--){var v=e.g=n[f];l=qe(v,o,!0,e)&&l}if(l=qe(v=e.g=i,o,!0,e)&&l,l=qe(v,o,!1,e)&&l,n)for(f=0;f<n.length;f++)l=qe(v=e.g=n[f],o,!1,e)&&l}function qe(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==n){var A=v.listener,j=v.ia||v.src;v.fa&&An(i.i,v),l=!1!==A.call(j,o)&&l}}return l&&!o.defaultPrevented}Je(fn,de),fn.prototype[kn]=!0,fn.prototype.removeEventListener=function(i,e,n,o){le(this,i,e,n,o)},fn.prototype.M=function(){if(fn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)zr(n[o]);delete i.g[e],i.h--}}this.I=null},fn.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},fn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Ce=G.JSON.stringify;function De(){var i=Fe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Le,Vt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new wn,i=>i.reset());class wn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mt(i){G.setTimeout(()=>{throw i},0)}function sn(i,e){Le||function Re(){var i=G.Promise.resolve(void 0);Le=function(){i.then(xt)}}(),ve||(Le(),ve=!0),Fe.add(i,e)}var ve=!1,Fe=new class wt{constructor(){this.h=this.g=null}add(e,n){const o=Vt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function xt(){for(var i;i=De();){try{i.h.call(i.g)}catch(n){Mt(n)}var e=Vt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1}function Jt(i,e){fn.call(this),this.h=i||1,this.g=e||G,this.j=Pe(this.kb,this),this.l=Date.now()}function Wn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Vn(i,e,n){if("function"==typeof i)n&&(i=Pe(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Pe(i.handleEvent,i)}return 2147483647<Number(e)?-1:G.setTimeout(i,e||0)}function Dn(i){i.g=Vn(()=>{i.g=null,i.i&&(i.i=!1,Dn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Je(Jt,fn),(Y=Jt.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tn(this,"tick"),this.da&&(Wn(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){Jt.Z.M.call(this),Wn(this),delete this.g};class Br extends de{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dn(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(i){de.call(this),this.h=i,this.g={}}Je(fi,de);var es=[];function Ki(i,e,n,o){Array.isArray(n)||(n&&(es[0]=n.toString()),n=es);for(var l=0;l<n.length;l++){var f=jn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function ti(i){at(i.g,function(e,n){this.g.hasOwnProperty(n)&&V(e)},i),i.g={}}function Hr(){this.g=!0}function ui(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<l.length;v++)l[v]=""}}}return Ce(n)}catch{return e}}(i,n)+(o?" "+o:"")})}fi.prototype.M=function(){fi.Z.M.call(this),ti(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hr.prototype.Aa=function(){this.g=!1},Hr.prototype.info=function(){};var Li={},Mi=null;function Fi(){return Mi=Mi||new fn}function Os(i){Yn.call(this,Li.Ma,i)}function Ci(i){const e=Fi();Tn(e,new Os(e,i))}function Pi(i,e){Yn.call(this,Li.STAT_EVENT,i),this.stat=e}function Ze(i){const e=Fi();Tn(e,new Pi(e,i))}function $e(i,e){Yn.call(this,Li.Na,i),this.size=e}function gt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){i()},e)}Li.Ma="serverreachability",Je(Os,Yn),Li.STAT_EVENT="statevent",Je(Pi,Yn),Li.Na="timingevent",Je($e,Yn);var St={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$t={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cn(){}function ct(){}cn.prototype.h=null;var tn,je={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){Yn.call(this,"d")}function Wt(){Yn.call(this,"c")}function rr(){}function Cr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new fi(this),this.P=Ti,this.W=new Jt(i=pr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}Je(dt,Yn),Je(Wt,Yn),Je(rr,cn),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},tn=new rr;var Ti=45e3,dr={},ai={};function Ps(i,e,n){i.K=1,i.v=si(vs(e)),i.s=n,i.U=!0,Ds(i,null)}function Ds(i,e){i.F=Date.now(),Bs(i),i.A=vs(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(n.h,"t",o),i.C=0,n=i.l.H,i.h=new gr,i.g=su(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Br(Pe(i.Ia,i,i.g),i.O)),Ki(i.V,i.g,"readystatechange",i.gb),e=i.H?Rt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ci(1),function Ai(i,e,n,o,l,f){i.info(function(){if(i.g)if(f)for(var v="",A=f.split("&"),j=0;j<A.length;j++){var Q=A[j].split("=");if(1<Q.length){var me=Q[0];Q=Q[1];var We=me.split("_");v=2<=We.length&&"type"==We[1]?v+(me+"=")+Q+"&":v+(me+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Rs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Us(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=ms(i,n),l==ai){4==e&&(i.o=4,Ze(14),o=!1),ui(i.j,i.m,null,"[Incomplete Response]");break}if(l==dr){i.o=4,Ze(15),ui(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ui(i.j,i.m,l,null),go(i,l)}Rs(i)&&l!=ai&&l!=dr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ze(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wi(e),e.L=!0,Ze(11))):(ui(i.j,i.m,n,"[Invalid Chunked Response]"),xi(i),cs(i))}function ms(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ai:(n=Number(e.substring(n,o)),isNaN(n)?dr:(o+=1)+n>e.length?ai:(e=e.substr(o,n),i.C=o+n,e))}function Bs(i){i.Y=Date.now()+i.P,Ho(i,i.P)}function Ho(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gt(Pe(i.eb,i),e)}function Ns(i){i.B&&(G.clearTimeout(i.B),i.B=null)}function cs(i){0==i.l.G||i.I||No(i.l,i)}function xi(i){Ns(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Wn(i.W),ti(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function go(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Zn(n.i,i)))if(n.I=i.N,!i.J&&Zn(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;mi(n),ul(n)}Ma(n),Ze(18)}}else n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=gt(Pe(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Io(n,11)}else if((i.J||n.g==i)&&mi(n),!Ue(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(n.U=Q[0],Q=Q[1],2==n.G)if("c"==Q[0]){n.J=Q[1],n.la=Q[2];const me=Q[3];null!=me&&(n.ma=me,n.h.info("VER="+n.ma));const We=Q[4];null!=We&&(n.za=We,n.h.info("SVER="+n.za));const Dt=Q[5];null!=Dt&&"number"==typeof Dt&&0<Dt&&(n.K=o=1.5*Dt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ft=i.g;if(Ft){const qt=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var f=o.i;!f.g&&(nt(qt,"spdy")||nt(qt,"quic")||nt(qt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(jr(f,f.h),f.h=null))}if(o.D){const Hn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Hn&&(o.sa=Hn,Vr(o.F,o.D,Hn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=i;if((o=n).oa=ja(o,o.H?o.la:null,o.W),v.J){kr(o.i,v);var A=v,j=o.K;j&&A.setTimeout(j),A.B&&(Ns(A),Bs(A)),o.g=v}else $a(o);0<n.l.length&&ci(n)}else"stop"!=Q[0]&&"close"!=Q[0]||Io(n,7);else 3==n.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Io(n,7):jo(n):"noop"!=Q[0]&&n.j&&n.j.wa(Q),n.A=0)}Ci(4)}catch{}}function ds(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(pe(i)||"string"==typeof i)Ge(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(pe(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function $o(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(pe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var f=0;f<l;f++)e.call(void 0,o[f],n&&n[f],i)}}function ys(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ys)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Zi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];qi(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)qi(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function qi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Y=Cr.prototype).setTimeout=function(i){this.P=i},Y.gb=function(i){i=i.target;const e=this.L;e&&3==Ri(i)?e.l():this.Ia(i)},Y.Ia=function(i){try{if(i==this.g)e:{const me=Ri(this.g);var e=this.g.Da();const We=this.g.ba();if(!(3>me)&&(3!=me||pr||this.g&&(this.h.h||this.g.ga()||Qs(this.g)))){this.I||4!=me||7==e||Ci(8==e||0>=We?3:2),Ns(this);var n=this.g.ba();this.N=n;t:if(Rs(this)){var o=Qs(this.g);i="";var l=o.length,f=4==Ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),cs(this);var v="";break t}this.h.i=new G.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function Qr(i,e,n,o,l,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,me,n),this.i){if(this.$&&!this.J){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(A)){var Q=A;break t}}Q=null}if(!(n=Q)){this.i=!1,this.o=3,Ze(12),xi(this),cs(this);break e}ui(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,go(this,n)}this.U?(Us(this,me,v),pr&&this.i&&3==me&&(Ki(this.V,this.W,"tick",this.fb),this.W.start())):(ui(this.j,this.m,v,null),go(this,v)),4==me&&xi(this),this.i&&!this.I&&(4==me?No(this.l,this):(this.i=!1,Bs(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),xi(this),cs(this)}}}catch{}},Y.fb=function(){if(this.g){var i=Ri(this.g),e=this.g.ga();this.C<e.length&&(Ns(this),Us(this,i,e),this.i&&4!=i&&Bs(this))}},Y.cancel=function(){this.I=!0,xi(this)},Y.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function pi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ci(3),Ze(17)),xi(this),this.o=2,cs(this)):Ho(this,this.Y-i)},(Y=ys.prototype).R=function(){Zi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Y.T=function(){return Zi(this),this.g.concat()},Y.get=function(i,e){return qi(this.h,i)?this.h[i]:e},Y.set=function(i,e){qi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Y.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],f=this.get(l);i.call(e,f,l,this)}};var $i=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _s(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _s){this.g=void 0!==e?e:i.g,Es(this,i.j),this.s=i.s,bs(this,i.i),$s(this,i.m),this.l=i.l,e=i.h;var n=new sr;n.i=e.i,e.g&&(n.g=new ys(e.g),n.h=e.h),Ys(this,n),this.o=i.o}else i&&(n=String(i).match($i))?(this.g=!!e,Es(this,n[1]||"",!0),this.s=we(n[2]||""),bs(this,n[3]||"",!0),$s(this,n[4]),this.l=we(n[5]||"",!0),Ys(this,n[6]||"",!0),this.o=we(n[7]||"")):(this.g=!!e,this.h=new sr(null,this.g))}function vs(i){return new _s(i)}function Es(i,e,n){i.j=n?we(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function bs(i,e,n){i.i=n?we(e,!0):e}function $s(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ys(i,e,n){e instanceof sr?(i.h=e,function U(i,e){e&&!i.j&&(mr(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(Jr(this,o),F(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ve(e,gn)),i.h=new sr(e,i.g))}function Vr(i,e,n){i.h.set(e,n)}function si(i){return Vr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function we(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ve(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ut),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ut(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_s.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ve(e,yt,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ve(e,yt,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ve(n,"/"==n.charAt(0)?pn:an,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ve(n,Un)),i.join("")};var yt=/[#\/\?@]/g,an=/[#\?:]/g,pn=/[#\?]/g,gn=/[#\?@]/g,Un=/#/g;function sr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function mr(i){i.g||(i.g=new ys,i.h=0,i.i&&function Hs(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var f=i[n].substring(0,o);l=i[n].substring(o+1)}else f=i[n];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jr(i,e){mr(i),e=re(i,e),qi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,qi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Zi(i)))}function Nr(i,e){return mr(i),e=re(i,e),qi(i.g.h,e)}function F(i,e,n){Jr(i,e),0<n.length&&(i.i=null,i.g.set(re(i,e),et(n)),i.h+=n.length)}function re(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Be(i){this.l=i||_t,i=G.PerformanceNavigationTiming?0<(i=G.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(G.g&&G.g.Ea&&G.g.Ea()&&G.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=sr.prototype).add=function(i,e){mr(this),this.i=null,i=re(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Y.forEach=function(i,e){mr(this),this.g.forEach(function(n,o){Ge(n,function(l){i.call(e,l,o,this)},this)},this)},Y.T=function(){mr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],f=0;f<l.length;f++)n.push(e[o]);return n},Y.R=function(i){mr(this);var e=[];if("string"==typeof i)Nr(this,i)&&(e=He(e,this.g.get(re(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=He(e,i[n])}return e},Y.set=function(i,e){return mr(this),this.i=null,Nr(this,i=re(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Y.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=l;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var _t=10;function it(i){return!!i.h||!!i.g&&i.g.size>=i.j}function un(i){return i.h?1:i.g?i.g.size:0}function Zn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function jr(i,e){i.g?i.g.add(e):i.h=e}function kr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Er(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return et(i.i)}function vi(){}function ni(){this.g=new vi}function gi(i,e,n){const o=n||"";try{ds(i,function(l,f){let v=l;ze(l)&&(v=Ce(l)),e.push(o+f+"="+encodeURIComponent(v))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function or(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function ji(i){this.l=i.$b||null,this.j=i.ib||!1}function hs(i,e){fn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be.prototype.cancel=function(){if(this.i=Er(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vi.prototype.stringify=function(i){return G.JSON.stringify(i,void 0)},vi.prototype.parse=function(i){return G.JSON.parse(i,void 0)},Je(ji,cn),ji.prototype.g=function(){return new hs(this.l,this.j)},ji.prototype.i=function(i){return function(){return i}}({}),Je(hs,fn);var ri=0;function mo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function tr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ts(i)}function ts(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Y=hs.prototype).open=function(i,e){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ts(this)},Y.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||G).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tr(this)),this.readyState=ri},Y.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?tr(this):ts(this),3==this.readyState&&mo(this)}},Y.Ua=function(i){this.g&&(this.response=this.responseText=i,tr(this))},Y.Ta=function(i){this.g&&(this.response=i,tr(this))},Y.ha=function(){this.g&&tr(this)},Y.setRequestHeader=function(i,e){this.v.append(i,e)},Y.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var wo=G.JSON.parse;function Di(i){fn.call(this),this.headers=new ys,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=la,this.K=this.L=!1}Je(Di,fn);var la="",Ha=/^https?$/i,Aa=["POST","PUT"];function L(i){return"content-type"==i.toLowerCase()}function O(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ue(i),dn(i)}function ue(i){i.D||(i.D=!0,Tn(i,"complete"),Tn(i,"error"))}function vt(i){if(i.h&&typeof se<"u"&&(!i.C[1]||4!=Ri(i)||2!=i.ba()))if(i.v&&4==Ri(i))Vn(i.Fa,0,i);else if(Tn(i,"readystatechange"),4==Ri(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===A){var l=String(i.H).match($i)[1]||null;if(!l&&G.self&&G.self.location){var f=G.self.location.protocol;l=f.substr(0,f.length-1)}o=!Ha.test(l?l.toLowerCase():"")}n=o}if(n)Tn(i,"complete"),Tn(i,"success");else{i.m=6;try{var v=2<Ri(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.ba()+"]",ue(i)}}finally{dn(i)}}}function dn(i,e){if(i.g){Ei(i);const n=i.g,o=i.C[0]?ee:null;i.g=null,i.C=null,e||Tn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Ei(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(G.clearTimeout(i.A),i.A=null)}function Ri(i){return i.g?i.g.readyState:0}function Qs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case la:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function so(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function io(i){let e="";return at(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Vr(i,e,n))}function ks(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ll(i){this.za=0,this.l=[],this.h=new Hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ks("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ks("baseRetryDelayMs",5e3,i),this.$a=ks("retryDelaySeedMs",1e4,i),this.Ya=ks("forwardChannelMaxRetries",2,i),this.ra=ks("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Be(i&&i.concurrentRequestLimit),this.Ca=new ni,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function jo(i){if(Vi(i),3==i.G){var e=i.V++,n=vs(i.F);Vr(n,"SID",i.J),Vr(n,"RID",e),Vr(n,"TYPE","terminate"),Go(i,n),(e=new Cr(i,i.h,e,void 0)).K=2,e.v=si(vs(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=su(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Bs(e)}js(i)}function ul(i){i.g&&(Wi(i),i.g.cancel(),i.g=null)}function Vi(i){ul(i),i.u&&(G.clearTimeout(i.u),i.u=null),mi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&G.clearTimeout(i.m),i.m=null)}function Wo(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ci(i)}function ci(i){it(i.i)||i.m||(i.m=!0,sn(i.Ha,i),i.C=0)}function Lr(i,e){var n;n=e?e.m:i.V++;const o=vs(i.F);Vr(o,"SID",i.J),Vr(o,"RID",n),Vr(o,"AID",i.U),Go(i,o),i.o&&i.s&&so(o,i.o,i.s),n=new Cr(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Tl(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),jr(i.i,n),Ps(n,o,e)}function Go(i,e){i.j&&ds({},function(n,o){Vr(e,o,n)})}function Tl(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Pe(i.j.Oa,i.j,i):null;e:{var l=i.l;let f=-1;for(;;){const v=["count="+n];-1==f?0<n?(f=l[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let A=!0;for(let j=0;j<n;j++){let Q=l[j].h;const me=l[j].g;if(Q-=f,0>Q)f=Math.max(0,l[j].h-100),A=!1;else try{gi(me,v,"req"+Q+"_")}catch{o&&o(me)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function $a(i){i.g||i.u||(i.Y=1,sn(i.Ga,i),i.A=0)}function Ma(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=gt(Pe(i.Ga,i),ua(i,i.A)),i.A++,0))}function Wi(i){null!=i.B&&(G.clearTimeout(i.B),i.B=null)}function Ls(i){i.g=new Cr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=vs(i.oa);Vr(e,"RID","rpc"),Vr(e,"SID",i.J),Vr(e,"CI",i.N?"0":"1"),Vr(e,"AID",i.U),Go(i,e),Vr(e,"TYPE","xmlhttp"),i.o&&i.s&&so(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=si(vs(e)),n.s=null,n.U=!0,Ds(n,i)}function mi(i){null!=i.v&&(G.clearTimeout(i.v),i.v=null)}function No(i,e){var n=null;if(i.g==e){mi(i),Wi(i),i.g=null;var o=2}else{if(!Zn(i.i,e))return;n=e.D,kr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Tn(o=Fi(),new $e(o,n,e,l)),ci(i)}else $a(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Oi(i,e){return!(un(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=gt(Pe(i.Ha,i,e),ua(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ma(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Io(i,5);break;case 4:Io(i,10);break;case 3:Io(i,6);break;default:Io(i,2)}}function ua(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Io(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Pe(i.jb,i);n||(n=new _s("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||Es(n,"https"),si(n)),function Lt(i,e){const n=new Hr;if(G.Image){const o=new Image;o.onload=Bt(or,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Bt(or,n,o,"TestLoadImage: error",!1,e),o.onabort=Bt(or,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Bt(or,n,o,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Ze(2);i.G=0,i.j&&i.j.va(e),js(i),Vi(i)}function js(i){i.G=0,i.I=-1,i.j&&((0!=Er(i.i).length||0!=i.l.length)&&(i.i.i.length=0,et(i.l),i.l.length=0),i.j.ua())}function ja(i,e,n){let o=function te(i){return i instanceof _s?vs(i):new _s(i,void 0)}(n);if(""!=o.i)e&&bs(o,e+"."+o.i),$s(o,o.m);else{const l=G.location;o=function Z(i,e,n,o){var l=new _s(null,void 0);return i&&Es(l,i),e&&bs(l,e),n&&$s(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&at(i.aa,function(l,f){Vr(o,f,l)}),n=i.sa,(e=i.D)&&n&&Vr(o,e,n),Vr(o,"VER",i.ma),Go(i,o),o}function su(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(n&&i.Ba&&!i.qa?new ji({ib:!0}):i.qa)).L=i.H,e}function Dl(){}function Wa(){if(zn&&!(10<=Number(Tr)))throw Error("Environmental error: no available transport.")}function Yi(i,e){fn.call(this),this.g=new ll(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ue(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new zo(this)}function Sl(i){dt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function cl(){Wt.call(this),this.status=1}function zo(i){this.g=i}(Y=Di.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tn.g(),this.C=function _e(i){return i.h||(i.h=i.i())}(this.u?this.u:tn),this.g.onreadystatechange=Pe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void O(this,f)}i=n||"";const l=new ys(this.headers);o&&ds(o,function(f,v){l.set(v,f)}),o=function ht(i){e:{var e=L;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=G.FormData&&i instanceof G.FormData,!(0<=he(Aa,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ei(this),0<this.B&&((this.K=function $(i){return zn&&function Fn(){return function En(i){var e=Qn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=pt(String(Ar)).split("."),n=pt("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==i&&v<o;v++){var l=e[v]||"",f=n[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=Ut(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Ut(0==l[2].length,0==f[2].length)||Ut(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pe(this.pa,this)):this.A=Vn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){O(this,f)}},Y.pa=function(){typeof se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},Y.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tn(this,"complete"),Tn(this,"abort"),dn(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dn(this,!0)),Di.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?vt(this):this.cb())},Y.cb=function(){vt(this)},Y.ba=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),wo(e)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=ll.prototype).ma=8,Y.G=1,Y.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},Y.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Cr(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=Rt(f),Cn(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Tl(this,l,e),Vr(n=vs(this.F),"RID",i),Vr(n,"CVER",22),this.D&&Vr(n,"X-HTTP-Session-Id",this.D),Go(this,n),this.o&&f&&so(n,this.o,f),jr(this.i,l),this.Ra&&Vr(n,"TYPE","init"),this.ja?(Vr(n,"$req",e),Vr(n,"SID","null"),l.$=!0,Ps(l,n,null)):Ps(l,n,e),this.G=2}}else 3==this.G&&(i?Lr(this,i):0==this.l.length||it(this.i)||Lr(this))},Y.Ga=function(){if(this.u=null,Ls(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=gt(Pe(this.bb,this),i)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),ul(this),Ls(this))},Y.ab=function(){null!=this.v&&(this.v=null,ul(this),Ma(this),Ze(19))},Y.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(Y=Dl.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},Wa.prototype.g=function(i,e){return new Yi(i,e)},Je(Yi,fn),Yi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),sn(Pe(i.hb,i,e))),Ze(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=ja(i,null,i.W),ci(i)},Yi.prototype.close=function(){jo(this.g)},Yi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Wo(this.g,e)}else this.v?((e={}).__data__=Ce(i),Wo(this.g,e)):Wo(this.g,i)},Yi.prototype.M=function(){this.g.j=null,delete this.j,jo(this.g),delete this.g,Yi.Z.M.call(this)},Je(Sl,dt),Je(cl,Wt),Je(zo,Dl),zo.prototype.xa=function(){Tn(this.g,"a")},zo.prototype.wa=function(i){Tn(this.g,new Sl(i))},zo.prototype.va=function(i){Tn(this.g,new cl(i))},zo.prototype.ua=function(){Tn(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,$t.COMPLETE="complete",ct.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",fn.prototype.listen=fn.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.La,Di.prototype.getLastErrorCode=Di.prototype.Da,Di.prototype.getStatus=Di.prototype.ba,Di.prototype.getResponseJson=Di.prototype.Qa,Di.prototype.getResponseText=Di.prototype.ga,Di.prototype.send=Di.prototype.ea;var ca=X.createWebChannelTransport=function(){return new Wa},ko=X.getStatEventTarget=function(){return Fi()},Co=X.ErrorCode=St,Ga=X.EventType=$t,da=X.Event=Li,bi=X.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gl=X.FetchXmlHttpFactory=ji,za=X.WebChannel=ct,Ws=X.XhrIo=Di;const Lo="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let yo="9.9.1";const Gs=new fe.Yd("@firebase/firestore");function xa(){return Gs.logLevel}function dl(i){Gs.setLogLevel(i)}function Kt(i,...e){if(Gs.logLevel<=fe.in.DEBUG){const n=e.map(Fs);Gs.debug(`Firestore (${yo}): ${i}`,...n)}}function Ni(i,...e){if(Gs.logLevel<=fe.in.ERROR){const n=e.map(Fs);Gs.error(`Firestore (${yo}): ${i}`,...n)}}function fs(i,...e){if(Gs.logLevel<=fe.in.WARN){const n=e.map(Fs);Gs.warn(`Firestore (${yo}): ${i}`,...n)}}function Fs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function On(i="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+i;throw Ni(e),new Error(e)}function Jn(i,e){i||On()}function Al(i,e){i||On()}function hn(i,e){return i}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends W.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ko{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wi.UNAUTHENTICATED))}shutdown(){}}class ha{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fa{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const f=Q=>this.i!==l?(l=this.i,n(Q)):Promise.resolve();let v=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new yi,e.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const Q=v;e.enqueueRetryable((0,h.Z)(function*(){yield Q.promise,yield f(o.currentUser)}))},j=Q=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Q=>j(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?j(Q):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new yi)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Jn("string"==typeof o.accessToken),new Ko(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jn(null===e||"string"==typeof e),new wi(e)}}class pa{constructor(e,n,o){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Zo{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new pa(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ka{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=f=>{null!=f.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.p;return this.p=f.token,Kt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const l=f=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?l(f):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jn("string"==typeof n.token),this.p=n.token,new hl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ui(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Yo{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Ui(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<n&&(o+=e.charAt(l[f]%e.length))}return o}}function br(i,e){return i<e?-1:i>e?1:0}function Ss(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function To(i){return i+"\0"}class di{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new di(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?br(this.nanoseconds,e.nanoseconds):br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xn(e)}static min(){return new Xn(new di(0,0))}static max(){return new Xn(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,n,o){void 0===n?n=0:n>e.length&&On(),void 0===o?o=e.length-n:o>e.length-n&&On(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const f=e.get(l),v=n.get(l);if(f<v)return-1;if(f>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class hr extends Dr{construct(e,n,o){return new hr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Nt(At.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new hr(n)}static emptyPath(){return new hr([])}}const ns=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Dr{construct(e,n,o){return new Ii(e,n,o)}static isValidIdentifier(e){return ns.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const f=()=>{if(0===o.length)throw new Nt(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new Nt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Nt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,l+=2}else"`"===A?(v=!v,l++):"."!==A||v?(o+=A,l++):(f(),l++)}if(f(),v)throw new Nt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(n)}static emptyPath(){return new Ii([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(hr.fromString(e))}static fromName(e){return new Xt(hr.fromString(e).popFirst(5))}static empty(){return new Xt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return hr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new hr(e.slice()))}}class Qo{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function qa(i){return i.fields.find(e=>2===e.kind)}function _o(i){return i.fields.filter(e=>2!==e.kind)}Qo.UNKNOWN_ID=-1;class ws{constructor(e,n){this.fieldPath=e,this.kind=n}}class rs{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new rs(0,Qi.min())}}function Do(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Xn.fromTimestamp(1e9===o?new di(n+1,0):new di(n,o));return new Qi(l,Xt.empty(),e)}function Pa(i){return new Qi(i.readTime,i.key,-1)}class Qi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Qi(Xn.min(),Xt.empty(),-1)}static max(){return new Qi(Xn.max(),Xt.empty(),-1)}}function So(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Xt.comparator(i.documentKey,e.documentKey),0!==n?n:br(i.largestBatchId,e.largestBatchId))}const zl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Js{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Kr(i){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,h.Z)(function*(i){if(i.code!==At.FAILED_PRECONDITION||i.message!==zl)throw i;Kt("LocalStore","Unexpectedly lost primary lease")}),Kl.apply(this,arguments)}class It{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&On(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new It((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(n,f).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof It?n:It.resolve(n)}catch(n){return It.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):It.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):It.reject(n)}static resolve(e){return new It((n,o)=>{n(e)})}static reject(e){return new It((n,o)=>{o(e)})}static waitFor(e){return new It((n,o)=>{let l=0,f=0,v=!1;e.forEach(A=>{++l,A.next(()=>{++f,v&&f===l&&n()},j=>o(j))}),v=!0,f===l&&n()})}static or(e){let n=It.resolve(!1);for(const o of e)n=n.next(l=>l?It.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,f)=>{o.push(n.call(this,l,f))}),this.waitFor(o)}static mapArray(e,n){return new It((o,l)=>{const f=e.length,v=new Array(f);let A=0;for(let j=0;j<f;j++){const Q=j;n(e[Q]).next(me=>{v[Q]=me,++A,A===f&&o(v)},me=>l(me))}})}static doWhile(e,n){return new It((o,l)=>{const f=()=>{!0===e()?n().next(()=>{f()},l):o()};f()})}}class Za{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new yi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new fl(e,n.error)):this.T.resolve()},this.transaction.onerror=o=>{const l=Ji(o.target.error);this.T.reject(new fl(e,l))}}static open(e,n,o,l){try{return new Za(n,e.transaction(l,o))}catch(f){throw new fl(n,f)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pl(n)}}class Ao{constructor(e,n,o){this.name=e,this.version=n,this.P=o,12.2===Ao.v((0,W.z$)())&&Ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),ga(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,W.hl)())return!1;if(Ao.S())return!0;const e=(0,W.z$)(),n=Ao.v(e),o=0<n&&n<10,l=Ao.D(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var n=this;return(0,h.Z)(function*(){return n.db||(Kt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const f=indexedDB.open(n.name,n.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{l(new fl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const A=v.target.error;l("VersionError"===A.name?new Nt(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Nt(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new fl(e,A))},f.onupgradeneeded=v=>{Kt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.P.O(v.target.result,f.transaction,v.oldVersion,n.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.M&&(n.db.onversionchange=o=>n.M(o)),n.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var f=this;return(0,h.Z)(function*(){const v="readonly"===n;let A=0;for(;;){++A;try{f.db=yield f.k(e);const j=Za.open(f.db,e,v?"readonly":"readwrite",o),Q=l(j).next(me=>(j.R(),me)).catch(me=>(j.abort(me),It.reject(me))).toPromise();return Q.catch(()=>{}),yield j.A,Q}catch(j){const Q=j,me="FirebaseError"!==Q.name&&A<3;if(Kt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",me),f.close(),!me)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Iu{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ga(this.$.delete())}}class fl extends Nt{constructor(e,n){super(At.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fo(i){return"IndexedDbTransactionError"===i.name}class pl{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Kt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ga(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),ga(this.store.add(e))}get(e){return ga(this.store.get(e)).next(n=>(void 0===n&&(n=null),Kt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),ga(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),ga(this.store.count())}K(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),f=[];return this.G(l,(v,A)=>{f.push(A)}).next(()=>f)}{const l=this.store.getAll(o.range);return new It((f,v)=>{l.onerror=A=>{v(A.target.error)},l.onsuccess=A=>{f(A.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new It((l,f)=>{o.onerror=v=>{f(v.target.error)},o.onsuccess=v=>{l(v.target.result)}})}W(e,n){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.H=!1;const l=this.cursor(o);return this.G(l,(f,v,A)=>A.delete())}J(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Y(e){const n=this.cursor({});return new It((o,l)=>{n.onerror=f=>{const v=Ji(f.target.error);l(v)},n.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}G(e,n){const o=[];return new It((l,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void l();const j=new Iu(A),Q=n(A.primaryKey,A.value,j);if(Q instanceof It){const me=Q.catch(We=>(j.done(),It.reject(We)));o.push(me)}j.isDone?l():null===j.U?A.continue():A.continue(j.U)}}).next(()=>It.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ga(i){return new It((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Ji(o.target.error);n(l)}})}let Cu=!1;function Ji(i){const e=Ao.v((0,W.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cu||(Cu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ml{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var n=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){n.task=null;try{Kt("IndexBackiller",`Documents written: ${yield n.X.tt()}`)}catch(o){Fo(o)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Kr(o)}yield n.Z(1)}))}}class ma{constructor(e,n){this.localStore=e,this.persistence=n}tt(e=50){var n=this;return(0,h.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.et(o,e))})()}et(e,n){const o=new Set;let l=n,f=!0;return It.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return Kt("IndexBackiller",`Processing collection: ${v}`),this.nt(e,v,l).next(A=>{l-=A,o.add(v)});f=!1})).next(()=>n-l)}nt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.st(l,f)).next(A=>(Kt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,n,A))).next(()=>v.size)}))}st(e,n){let o=e;return n.changes.forEach((l,f)=>{const v=Pa(f);So(v,o)>0&&(o=v)}),new Qi(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class zs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.it(o),this.rt=o=>n.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Ya(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Xi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function oo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}zs.ot=-1;class Gi{constructor(e,n){this.comparator=e,this.root=n||C.EMPTY}insert(e,n){return new Gi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,C.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T(this.root,e,this.comparator,!1)}getReverseIterator(){return new T(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T(this.root,e,this.comparator,!0)}}class T{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?o(e.key,n):1,n&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class C{constructor(e,n,o,l,f){this.key=e,this.value=n,this.color=o??C.RED,this.left=l??C.EMPTY,this.right=f??C.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,f){return new C(e??this.key,n??this.value,o??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===f?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return C.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return C.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,C.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,C.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw On();const e=this.left.check();if(e!==this.right.check())throw On();return e+(this.isRed()?0:1)}}C.EMPTY=null,C.RED=!0,C.BLACK=!1,C.EMPTY=new class{constructor(){this.size=0}get key(){throw On()}get value(){throw On()}get color(){throw On()}get left(){throw On()}get right(){throw On()}copy(i,e,n,o,l){return this}insert(i,e,n){return new C(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class w{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P(this.data.getIterator())}getIteratorFrom(e){return new P(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof w)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new w(this.comparator);return n.data=e,n}}class P{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B(i){return i.hasNext()?i.getNext():void 0}class ie{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new ie([])}unionWith(e){let n=new w(Ii.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ie(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ee(){return typeof atob<"u"}class Ae{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ae(n)}static fromUint8Array(e){const n=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Ae(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ae.EMPTY_BYTE_STRING=new Ae("");const Et=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function on(i){if(Jn(!!i),"string"==typeof i){let e=0;const n=Et.exec(i);if(Jn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Mn(i.seconds),nanos:Mn(i.nanos)}}function Mn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Pn(i){return"string"==typeof i?Ae.fromBase64String(i):Ae.fromUint8Array(i)}function Zr(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function is(i){const e=i.mapValue.fields.__previous_value__;return Zr(e)?is(e):e}function ao(i){const e=on(i.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class Jo{constructor(e,n,o,l,f,v,A,j){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=j}}class ss{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ss&&e.projectId===this.projectId&&e.database===this.database}}function Xo(i){return null==i}function Ks(i){return 0===i&&1/i==-1/0}function ya(i){return"number"==typeof i&&Number.isInteger(i)&&!Ks(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ou={nullValue:"NULL_VALUE"};function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zr(i)?4:Ct(i)?9007199254740991:10:On()}function Mo(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ao(i).isEqual(ao(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=on(o.timestampValue),v=on(l.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Pn(i.bytesValue).isEqual(Pn(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Mn(o.geoPointValue.latitude)===Mn(l.geoPointValue.latitude)&&Mn(o.geoPointValue.longitude)===Mn(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Mn(o.integerValue)===Mn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=Mn(o.doubleValue),v=Mn(l.doubleValue);return f===v?Ks(f)===Ks(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return Ss(i.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(o,l){const f=o.mapValue.fields||{},v=l.mapValue.fields||{};if(Ya(f)!==Ya(v))return!1;for(const A in f)if(f.hasOwnProperty(A)&&(void 0===v[A]||!Mo(f[A],v[A])))return!1;return!0}(i,e);default:return On()}var l}function lo(i,e){return void 0!==(i.values||[]).find(n=>Mo(n,e))}function ea(i,e){if(i===e)return 0;const n=os(i),o=os(e);if(n!==o)return br(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return br(i.booleanValue,e.booleanValue);case 2:return function(l,f){const v=Mn(l.integerValue||l.doubleValue),A=Mn(f.integerValue||f.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return au(i.timestampValue,e.timestampValue);case 4:return au(ao(i),ao(e));case 5:return br(i.stringValue,e.stringValue);case 6:return function(l,f){const v=Pn(l),A=Pn(f);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const v=l.split("/"),A=f.split("/");for(let j=0;j<v.length&&j<A.length;j++){const Q=br(v[j],A[j]);if(0!==Q)return Q}return br(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const v=br(Mn(l.latitude),Mn(f.latitude));return 0!==v?v:br(Mn(l.longitude),Mn(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const v=l.values||[],A=f.values||[];for(let j=0;j<v.length&&j<A.length;++j){const Q=ea(v[j],A[j]);if(Q)return Q}return br(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===vo.mapValue&&f===vo.mapValue)return 0;if(l===vo.mapValue)return 1;if(f===vo.mapValue)return-1;const v=l.fields||{},A=Object.keys(v),j=f.fields||{},Q=Object.keys(j);A.sort(),Q.sort();for(let me=0;me<A.length&&me<Q.length;++me){const We=br(A[me],Q[me]);if(0!==We)return We;const Dt=ea(v[A[me]],j[Q[me]]);if(0!==Dt)return Dt}return br(A.length,Q.length)}(i.mapValue,e.mapValue);default:throw On()}}function au(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return br(i,e);const n=on(i),o=on(e),l=br(n.seconds,o.seconds);return 0!==l?l:br(n.nanos,o.nanos)}function _a(i){return ql(i)}function ql(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=on(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Pn(i.bytesValue).toBase64():"referenceValue"in i?Xt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const v of o.values||[])f?f=!1:l+=",",l+=ql(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const A of l)v?v=!1:f+=",",f+=`${A}:${ql(o.fields[A])}`;return f+"}"}(i.mapValue):On();var e}function xo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function va(i){return!!i&&"integerValue"in i}function R(i){return!!i&&"arrayValue"in i}function H(i){return!!i&&"nullValue"in i}function oe(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Te(i){return!!i&&"mapValue"in i}function st(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=st(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=st(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ct(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gt(i){return"nullValue"in i?ou:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?xo(ss.empty(),Xt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:On()}function In(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?xo(ss.empty(),Xt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?vo:On()}function ir(i,e){const n=ea(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function yr(i,e){const n=ea(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Te(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=st(n)}setAll(e){let n=Ii.emptyPath(),o={},l=[];e.forEach((v,A)=>{if(!n.isImmediateParentOf(A)){const j=this.getFieldsMap(n);this.applyChanges(j,o,l),o={},l=[],n=A.popLast()}v?o[A.lastSegment()]=st(v):l.push(A.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,o,l)}delete(e){const n=this.field(e.popLast());Te(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Te(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Xi(n,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new Kn(st(this.value))}}function er(i){const e=[];return Xi(i.fields,(n,o)=>{const l=new Ii([n]);if(Te(o)){const f=er(o.mapValue).fields;if(0===f.length)e.push(l);else for(const v of f)e.push(l.child(v))}else e.push(l)}),new ie(e)}class _r{constructor(e,n,o,l,f,v){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=f,this.documentState=v}static newInvalidDocument(e){return new _r(e,0,Xn.min(),Xn.min(),Kn.empty(),0)}static newFoundDocument(e,n,o){return new _r(e,1,n,Xn.min(),o,0)}static newNoDocument(e,n){return new _r(e,2,n,Xn.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,Xn.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xs{constructor(e,n=null,o=[],l=[],f=null,v=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=v,this.endAt=A,this.ut=null}}function Qa(i,e=null,n=[],o=[],l=null,f=null,v=null){return new Xs(i,e,n,o,l,f,v)}function As(i){const e=hn(i);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+_a(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Xo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>_a(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>_a(o)).join(",")),e.ut=n}return e.ut}function Ra(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Fc(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!Mo(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sc(i.startAt,e.startAt)&&sc(i.endAt,e.endAt)}function Ja(i){return Xt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ba(i,e){return i.filters.filter(n=>n instanceof ps&&n.field.isEqual(e))}function Eo(i,e,n){let o=ou,l=!0;for(const f of ba(i,e)){let v=ou,A=!0;switch(f.op){case"<":case"<=":v=Gt(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,A=!1;break;case"!=":case"not-in":v=ou}ir({value:o,inclusive:l},{value:v,inclusive:A})<0&&(o=v,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=n.position[f];ir({value:o,inclusive:l},{value:v,inclusive:n.inclusive})<0&&(o=v,l=n.inclusive);break}return{value:o,inclusive:l}}function Oo(i,e,n){let o=vo,l=!0;for(const f of ba(i,e)){let v=vo,A=!0;switch(f.op){case">=":case">":v=In(f.value),A=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,A=!1;break;case"!=":case"not-in":v=vo}yr({value:o,inclusive:l},{value:v,inclusive:A})>0&&(o=v,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=n.position[f];yr({value:o,inclusive:l},{value:v,inclusive:n.inclusive})>0&&(o=v,l=n.inclusive);break}return{value:o,inclusive:l}}class ps extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,o):new ah(e,n,o):"array-contains"===n?new Ed(e,o):"in"===n?new ic(e,o):"not-in"===n?new Lc(e,o):"array-contains-any"===n?new Tu(e,o):new ps(e,n,o)}static ct(e,n,o){return"in"===n?new kc(e,o):new vd(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(ea(n,this.value)):null!==n&&os(this.value)===os(n)&&this.at(ea(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return On()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ah extends ps{constructor(e,n,o){super(e,n,o),this.key=Xt.fromName(o.referenceValue)}matches(e){const n=Xt.comparator(e.key,this.key);return this.at(n)}}class kc extends ps{constructor(e,n){super(e,"in",n),this.keys=rc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vd extends ps{constructor(e,n){super(e,"not-in",n),this.keys=rc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Xt.fromName(o.referenceValue))}class Ed extends ps{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R(n)&&lo(n.arrayValue,this.value)}}class ic extends ps{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&lo(this.value.arrayValue,n)}}class Lc extends ps{constructor(e,n){super(e,"not-in",n)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!lo(this.value.arrayValue,n)}}class Tu extends ps{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>lo(this.value.arrayValue,o))}}class ta{constructor(e,n){this.position=e,this.inclusive=n}}class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function bd(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],v=i.position[l];if(o=f.field.isKeyField()?Xt.comparator(Xt.fromName(v.referenceValue),n.key):ea(v,n.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function sc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Mo(i.position[n],e.position[n]))return!1;return!0}class gl{constructor(e,n=null,o=[],l=[],f=null,v="F",A=null,j=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=v,this.startAt=A,this.endAt=j,this.lt=null,this.ft=null}}function Du(i,e,n,o,l,f,v,A){return new gl(i,e,n,o,l,f,v,A)}function Yl(i){return new gl(i)}function ml(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function lu(i){for(const e of i.filters)if(e.ht())return e.field;return null}function yl(i){return null!==i.collectionGroup}function Ql(i){const e=hn(i);if(null===e.lt){e.lt=[];const n=lu(e),o=ml(e);if(null!==n&&null===o)n.isKeyField()||e.lt.push(new Zl(n)),e.lt.push(new Zl(Ii.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.lt.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Zl(Ii.keyField(),f))}}}return e.lt}function na(i){const e=hn(i);if(!e.ft)if("F"===e.limitType)e.ft=Qa(e.path,e.collectionGroup,Ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const f of Ql(e))n.push(new Zl(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new ta(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new ta(e.startAt.position,e.startAt.inclusive):null;e.ft=Qa(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.ft}function wd(i,e,n){return new gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xa(i,e){return Ra(na(i),na(e))&&i.limitType===e.limitType}function Su(i){return`${As(na(i))}|lt:${i.limitType}`}function Au(i){return`Query(target=${function Ea(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${_a(o.value)}`;var o}).join(", ")}]`),Xo(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>_a(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>_a(n)).join(",")),`Target(${e})`}(na(i))}; limitType=${i.limitType})`}function Mu(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Xt.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,f,v){const A=bd(l,f,v);return l.inclusive?A<=0:A<0}(n.startAt,Ql(n),o)||n.endAt&&!function(l,f,v){const A=bd(l,f,v);return l.inclusive?A>=0:A>0}(n.endAt,Ql(n),o)));var n,o}function oc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Na(i){return(e,n)=>{let o=!1;for(const l of Ql(i)){const f=Id(l,e,n);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function Id(i,e,n){const o=i.field.isKeyField()?Xt.comparator(e.key,n.key):function(l,f,v){const A=f.data.field(l),j=v.data.field(l);return null!==A&&null!==j?ea(A,j):On()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return On()}}function xu(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function Uc(i){return{integerValue:""+i}}function as(i,e){return ya(e)?Uc(e):xu(i,e)}class uu{constructor(){this._=void 0}}function wa(i,e,n){return i instanceof Ol?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof _l?lc(i,e):i instanceof Pl?Bc(i,e):function(o,l){const f=ac(o,l),v=g(f)+g(o._t);return va(f)&&va(o._t)?Uc(v):xu(o.wt,v)}(i,e)}function xl(i,e,n){return i instanceof _l?lc(i,e):i instanceof Pl?Bc(i,e):n}function ac(i,e){return i instanceof I?va(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Ol extends uu{}class _l extends uu{constructor(e){super(),this.elements=e}}function lc(i,e){const n=y(e);for(const o of i.elements)n.some(l=>Mo(l,o))||n.push(o);return{arrayValue:{values:n}}}class Pl extends uu{constructor(e){super(),this.elements=e}}function Bc(i,e){let n=y(e);for(const o of i.elements)n=n.filter(l=>!Mo(l,o));return{arrayValue:{values:n}}}class I extends uu{constructor(e,n){super(),this.wt=e,this._t=n}}function g(i){return Mn(i.integerValue||i.doubleValue)}function y(i){return R(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class S{constructor(e,n){this.field=e,this.transform=n}}class ge{constructor(e,n){this.version=e,this.transformResults=n}}class rt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rt}static exists(e){return new rt(void 0,e)}static updateTime(e){return new rt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ot(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Sn{}function Ln(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ra(i.key,rt.none()):new Rl(i.key,i.data,rt.none());{const n=i.data,o=Kn.empty();let l=new w(Ii.comparator);for(let f of e.fields)if(!l.has(f)){let v=n.field(f);null===v&&f.length>1&&(f=f.popLast(),v=n.field(f)),null===v?o.delete(f):o.set(f,v),l=l.add(f)}return new La(i.key,o,new ie(l.toArray()),rt.none())}}function Fr(i,e,n){i instanceof Rl?function(o,l,f){const v=o.value.clone(),A=Nl(o.fieldTransforms,l,f.transformResults);v.setAll(A),l.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,n):i instanceof La?function(o,l,f){if(!Ot(o.precondition,l))return void l.convertToUnknownDocument(f.version);const v=Nl(o.fieldTransforms,l,f.transformResults),A=l.data;A.setAll(cu(o)),A.setAll(v),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ki(i,e,n,o){return i instanceof Rl?function(l,f,v,A){if(!Ot(l.precondition,f))return v;const j=l.value.clone(),Q=Ou(l.fieldTransforms,A,f);return j.setAll(Q),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(i,e,n,o):i instanceof La?function(l,f,v,A){if(!Ot(l.precondition,f))return v;const j=Ou(l.fieldTransforms,A,f),Q=f.data;return Q.setAll(cu(l)),Q.setAll(j),f.convertToFoundDocument(f.version,Q).setHasLocalMutations(),null===v?null:v.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(me=>me.field))}(i,e,n,o):(v=n,Ot(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):v);var f,v}function ka(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=ac(o.transform,l||null);null!=f&&(null===n&&(n=Kn.empty()),n.set(o.field,f))}return n||null}function el(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Ss(n,o,(l,f)=>function ne(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof _l&&o instanceof _l||n instanceof Pl&&o instanceof Pl?Ss(n.elements,o.elements,Mo):n instanceof I&&o instanceof I?Mo(n._t,o._t):n instanceof Ol&&o instanceof Ol);var n,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Rl extends Sn{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class La extends Sn{constructor(e,n,o,l,f=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function cu(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Nl(i,e,n){const o=new Map;Jn(i.length===n.length);for(let l=0;l<n.length;l++){const f=i[l],v=f.transform,A=e.data.field(f.field);o.set(f.field,xl(v,A,n[l]))}return o}function Ou(i,e,n){const o=new Map;for(const l of i){const f=l.transform,v=n.data.field(l.field);o.set(l.field,wa(f,v,e))}return o}class ra extends Sn{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uc extends Sn{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cd{constructor(e){this.count=e}}var ls,oi;function Hc(i){switch(i){default:return On();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}function Pu(i){if(void 0===i)return Ni("GRPC error has no .code"),At.UNKNOWN;switch(i){case ls.OK:return At.OK;case ls.CANCELLED:return At.CANCELLED;case ls.UNKNOWN:return At.UNKNOWN;case ls.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ls.INTERNAL:return At.INTERNAL;case ls.UNAVAILABLE:return At.UNAVAILABLE;case ls.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ls.NOT_FOUND:return At.NOT_FOUND;case ls.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ls.ABORTED:return At.ABORTED;case ls.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ls.DATA_LOSS:return At.DATA_LOSS;default:return On()}}(oi=ls||(ls={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return oo(this.inner)}size(){return this.innerSize}}const Af=new Gi(Xt.comparator);function Po(){return Af}const lh=new Gi(Xt.comparator);function Ru(...i){let e=lh;for(const n of i)e=e.insert(n.key,n);return e}function Mf(i){let e=lh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Bi(){return $c()}function uh(){return $c()}function $c(){return new kl(i=>i.toString(),(i,e)=>i.isEqual(e))}const ch=new Gi(Xt.comparator),xf=new w(Xt.comparator);function Xr(...i){let e=xf;for(const n of i)e=e.add(n);return e}const Of=new w(br);function Td(){return Of}class jc{constructor(e,n,o,l,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,n)),new jc(Xn.min(),o,Td(),Po(),Xr())}}class Wc{constructor(e,n,o,l,f){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Wc(Ae.EMPTY_BYTE_STRING,n,Xr(),Xr(),Xr())}}class dh{constructor(e,n,o,l){this.gt=e,this.removedTargetIds=n,this.key=o,this.yt=l}}class Mg{constructor(e,n){this.targetId=e,this.It=n}}class cc{constructor(e,n,o=Ae.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class Dd{constructor(){this.Tt=0,this.Et=fh(),this.At=Ae.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Xr(),n=Xr(),o=Xr();return this.Et.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:On()}}),new Wc(this.At,this.Rt,e,n,o)}Dt(){this.bt=!1,this.Et=fh()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Pf{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Po(),this.Bt=hh(),this.Lt=new w(br)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const o=this.Qt(n);switch(e.state){case 0:this.jt(n)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),o.Vt(e.resumeToken));break;default:On()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((o,l)=>{this.jt(l)&&n(l)})}zt(e){const n=e.targetId,o=e.It.count,l=this.Ht(n);if(l){const f=l.target;if(Ja(f))if(0===o){const v=new Xt(f.path);this.Kt(n,v,_r.newNoDocument(v,Xn.min()))}else Jn(1===o);else this.Jt(n)!==o&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((f,v)=>{const A=this.Ht(v);if(A){if(f.current&&Ja(A.target)){const j=new Xt(A.target.path);null!==this.$t.get(j)||this.Xt(v,j)||this.Kt(v,j,_r.newNoDocument(j,e))}f.vt&&(n.set(v,f.St()),f.Dt())}});let o=Xr();this.Bt.forEach((f,v)=>{let A=!0;v.forEachWhile(j=>{const Q=this.Ht(j);return!Q||2===Q.purpose||(A=!1,!1)}),A&&(o=o.add(f))}),this.$t.forEach((f,v)=>v.setReadTime(e));const l=new jc(e,n,this.Lt,this.$t,o);return this.$t=Po(),this.Bt=hh(),this.Lt=new w(br),l}qt(e,n){if(!this.jt(e))return;const o=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,o),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,o){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,n)?l.Ct(n,1):l.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),o&&(this.$t=this.$t.insert(n,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Dd,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new w(br),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||Kt("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Dd),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function hh(){return new Gi(Xt.comparator)}function fh(){return new Gi(Xt.comparator)}const xg={asc:"ASCENDING",desc:"DESCENDING"},Rf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nf{constructor(e,n){this.databaseId=e,this.dt=n}}function Nu(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Og(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Pg(i,e){return Nu(i,e.toTimestamp())}function eo(i){return Jn(!!i),Xn.fromTimestamp(function(e){const n=on(e);return new di(n.seconds,n.nanos)}(i))}function Sd(i,e){return(n=i,new hr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ph(i){const e=hr.fromString(i);return Jn(Fu(e)),e}function vl(i,e){return Sd(i.databaseId,e.path)}function Ll(i,e){const n=ph(e);if(n.get(1)!==i.databaseId.projectId)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Xt(Ad(n))}function Gc(i,e){return Sd(i.databaseId,e)}function zc(i){const e=ph(i);return 4===e.length?hr.emptyPath():Ad(e)}function Kc(i){return new hr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ad(i){return Jn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function qc(i,e,n){return{name:vl(i,e),fields:n.value.mapValue.fields}}function du(i,e,n){const o=Ll(i,e.name),l=eo(e.updateTime),f=new Kn({mapValue:{fields:e.fields}}),v=_r.newFoundDocument(o,l,f);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function Zc(i,e){let n;if(e instanceof Rl)n={update:qc(i,e.key,e.value)};else if(e instanceof ra)n={delete:vl(i,e.key)};else if(e instanceof La)n={update:qc(i,e.key,e.data),updateMask:Eh(e.fieldMask)};else{if(!(e instanceof uc))return On();n={verify:vl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const v=f.transform;if(v instanceof Ol)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof _l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof I)return{fieldPath:f.field.canonicalString(),increment:v._t};throw On()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Pg(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:On()),n;var l}function mh(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?rt.updateTime(eo(l.updateTime)):void 0!==l.exists?rt.exists(l.exists):rt.none():rt.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,v){let A=null;"setToServerValue"in v?(Jn("REQUEST_TIME"===v.setToServerValue),A=new Ol):"appendMissingElements"in v?A=new _l(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new Pl(v.removeAllFromArray.values||[]):"increment"in v?A=new I(f,v.increment):On();const j=Ii.fromServerFormat(v.fieldPath);return new S(j,A)}(i,l)):[];var l;if(e.update){const l=Ll(i,e.update.name),f=new Kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new ie((e.updateMask.fieldPaths||[]).map(Q=>Ii.fromServerFormat(Q)));return new La(l,f,v,n,o)}return new Rl(l,f,n,o)}if(e.delete){const l=Ll(i,e.delete);return new ra(l,n)}if(e.verify){const l=Ll(i,e.verify);return new uc(l,n)}return On()}function ku(i,e){return{documents:[Gc(i,e.path)]}}function Ff(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Gc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(j){if(0===j.length)return;const Q=j.map(me=>function(We){if("=="===We.op){if(oe(We.value))return{unaryFilter:{field:Lu(We.field),op:"IS_NAN"}};if(H(We.value))return{unaryFilter:{field:Lu(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(oe(We.value))return{unaryFilter:{field:Lu(We.field),op:"IS_NOT_NAN"}};if(H(We.value))return{unaryFilter:{field:Lu(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(We.field),op:Ng(We.op),value:We.value}}}(me));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);l&&(n.structuredQuery.where=l);const f=function(j){if(0!==j.length)return j.map(Q=>{return{field:Lu((me=Q).field),direction:yh(me.dir)};var me})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const v=(Q=e.limit,i.dt||Xo(Q)?Q:{value:Q});var Q,A,j;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),n}function Vf(i){let e=zc(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Jn(1===o);const me=n.from[0];me.allDescendants?l=me.collectionId:e=e.child(me.collectionId)}let f=[];n.where&&(f=Uf(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(me=>{return new Zl(dc((We=me).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let A=null;n.limit&&(A=function(me){let We;return We="object"==typeof me?me.value:me,Xo(We)?null:We}(n.limit));let j=null;var me;n.startAt&&(j=new ta((me=n.startAt).values||[],!!me.before));let Q=null;return n.endAt&&(Q=function(me){return new ta(me.values||[],!me.before)}(n.endAt)),Du(e,l,v,f,A,"F",j,Q)}function Uf(i){return i?void 0!==i.unaryFilter?[vh(i)]:void 0!==i.fieldFilter?[_h(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Uf(e)).reduce((e,n)=>e.concat(n)):On():[]}function yh(i){return xg[i]}function Ng(i){return Rf[i]}function Lu(i){return{fieldPath:i.canonicalString()}}function dc(i){return Ii.fromServerFormat(i.fieldPath)}function _h(i){return ps.create(dc(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return On()}}(i.fieldFilter.op),i.fieldFilter.value)}function vh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=dc(i.unaryFilter.field);return ps.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=dc(i.unaryFilter.field);return ps.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dc(i.unaryFilter.field);return ps.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dc(i.unaryFilter.field);return ps.create(l,"!=",{nullValue:"NULL_VALUE"});default:return On()}}function Eh(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ia(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vu(e)),e=Jl(i.get(n),e);return Vu(e)}function Jl(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const f=i.charAt(l);switch(f){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=f}}return n}function Vu(i){return i+"\x01\x01"}function El(i){const e=i.length;if(Jn(e>=2),2===e)return Jn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),hr.emptyPath();const n=e-2,o=[];let l="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>n)&&On(),i.charAt(v+1)){case"\x01":const A=i.substring(f,v);let j;0===l.length?j=A:(l+=A,j=l,l=""),o.push(j);break;case"\x10":l+=i.substring(f,v),l+="\0";break;case"\x11":l+=i.substring(f,v+1);break;default:On()}f=v+2}return new hr(o)}const Bf=["userId","batchId"];function hc(i,e){return[i,ia(e)]}function bh(i,e,n){return[i,ia(e),n]}const Hf={},kg=["prefixPath","collectionGroup","readTime","documentId"],$f=["prefixPath","collectionGroup","documentId"],jf=["collectionGroup","readTime","prefixPath","documentId"],wh=["canonicalId","targetId"],Lg=["targetId","path"],Fg=["path","targetId"],Ih=["collectionId","parent"],uy=["indexId","uid"],cy=["uid","sequenceNumber"],Ch=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dy=["indexId","uid","orderedDocumentKey"],hy=["userId","collectionPath","documentId"],fy=["userId","collectionPath","largestBatchId"],py=["userId","collectionGroup","largestBatchId"],Vg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ug=[...Vg,"documentOverlays"],Th=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Md=Th,Wf=[...Md,"indexConfiguration","indexState","indexEntries"];class Dh extends Js{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function uo(i,e){const n=hn(i);return Ao.N(n.ee,e)}class Yc{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&Fr(f,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ki(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ki(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=uh();return this.mutations.forEach(l=>{const f=e.get(l.key),v=f.overlayedDocument;let A=this.applyToLocalView(v,f.mutatedFields);A=n.has(l.key)?null:A;const j=Ln(v,A);null!==j&&o.set(l.key,j),v.isValidDocument()||v.convertToNoDocument(Xn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xr())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,o)=>el(n,o))&&Ss(this.baseMutations,e.baseMutations,(n,o)=>el(n,o))}}class Sh{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Jn(e.mutations.length===o.length);let l=ch;const f=e.mutations;for(let v=0;v<f.length;v++)l=l.insert(f[v].key,o[v].version);return new Sh(e,n,o,l)}}class Qc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tl{constructor(e,n,o,l,f=Xn.min(),v=Xn.min(),A=Ae.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gf{constructor(e){this.ne=e}}function zf(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:vl(l=i.ne,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:Nu(l,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Uu(e.version)};else{if(!e.isUnknownDocument())return On();o.unknownDocument={path:n.path.toArray(),version:Uu(e.version)}}var l,f;return o}function Jc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Uu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(i){const e=new di(i.seconds,i.nanoseconds);return Xn.fromTimestamp(e)}function Hu(i,e){const n=(e.baseMutations||[]).map(f=>mh(i.ne,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>mh(i.ne,f)),l=di.fromMillis(e.localWriteTimeMs);return new Yc(e.batchId,l,n,o)}function fc(i){const e=Bu(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Bu(i.lastLimboFreeSnapshotVersion):Xn.min();let o;var l;return void 0!==i.query.documents?(Jn(1===(l=i.query).documents.length),o=na(Yl(zc(l.documents[0])))):o=na(Vf(i.query)),new tl(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Ae.fromBase64String(i.resumeToken))}function xd(i,e){const n=Uu(e.snapshotVersion),o=Uu(e.lastLimboFreeSnapshotVersion);let l;l=Ja(e.target)?ku(i.ne,e.target):Ff(i.ne,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:As(e.target),readTime:n,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Ah(i){const e=Vf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?wd(e,e.limit,"L"):e}function Mh(i,e){return new Qc(e.largestBatchId,mh(i.ne,e.overlayMutation))}function Kf(i,e){const n=e.path.lastSegment();return[i,ia(e.path.popLast()),n]}function xh(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Uu(o.readTime),documentKey:ia(o.documentKey.path),largestBatchId:o.largestBatchId}}class Hg{getBundleMetadata(e,n){return qf(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Bu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return qf(e).put({bundleId:(o=n).id,createTime:Uu(eo(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Vo(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:Ah(l.bundledQuery),readTime:Bu(l.readTime)};var l})}saveNamedQuery(e,n){return Vo(e).put({name:(o=n).name,readTime:Uu(eo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function qf(i){return uo(i,"bundles")}function Vo(i){return uo(i,"namedQueries")}class pc{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){return new pc(e,n.uid||"")}getOverlay(e,n){return gc(e).get(Kf(this.userId,n)).next(o=>o?Mh(this.wt,o):null)}getOverlays(e,n){const o=Bi();return It.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((f,v)=>{const A=new Qc(n,v);l.push(this.ie(e,A))}),It.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(v=>l.add(ia(v.getCollectionPath())));const f=[];return l.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);f.push(gc(e).W("collectionPathOverlayIndex",A))}),It.waitFor(f)}getOverlaysForCollection(e,n,o){const l=Bi(),f=ia(n),v=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return gc(e).K("collectionPathOverlayIndex",v).next(A=>{for(const j of A){const Q=Mh(this.wt,j);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const f=Bi();let v;const A=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gc(e).J({index:"collectionGroupOverlayIndex",range:A},(j,Q,me)=>{const We=Mh(this.wt,Q);f.size()<l||We.largestBatchId===v?(f.set(We.getKey(),We),v=We.largestBatchId):me.done()}).next(()=>f)}ie(e,n){return gc(e).put(function(o,l,f){const[v,A,j]=Kf(l,f.mutation.key);return{userId:l,collectionPath:A,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Zc(o.ne,f.mutation)}}(this.wt,this.userId,n))}}function gc(i){return uo(i,"documentOverlays")}class Xl{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(Mn(e.integerValue));else if("doubleValue"in e){const o=Mn(e.doubleValue);isNaN(o)?this.ce(n,13):(this.ce(n,15),Ks(o)?n.ae(0):n.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(n,20),"string"==typeof o?n.he(o):(n.he(`${o.seconds||""}`),n.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(Pn(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(n,45),n.ae(o.latitude||0),n.ae(o.longitude||0)}else"mapValue"in e?Ct(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):On()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const o=e.fields||{};this.ce(n,55);for(const l of Object.keys(o))this.le(l,n),this.oe(o[l],n)}me(e,n){const o=e.values||[];this.ce(n,50);for(const l of o)this.oe(l,n)}_e(e,n){this.ce(n,37),Xt.fromName(e).path.forEach(o=>{this.ce(n,60),this.ge(o,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}function Uo(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function mc(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const f=Uo(255&n[l]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}Xl.ye=new Xl;class Oh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ie(o.value),o=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const l=n.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const l=n.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const n=this.Ve(e),o=mc(n);this.Se(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}De(e){const n=this.Ve(e),o=mc(n);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(l){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,l,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Ie(e){const n=255&e;0===n?(this.xe(0),this.xe(255)):255===n?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class $g{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class jg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class yc{constructor(){this.Me=new Oh,this.Fe=new $g(this.Me),this.$e=new jg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class $u{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Le(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new $u(this.indexId,this.documentKey,this.arrayValue,o)}}function hu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Zf(i.arrayValue,e.arrayValue),0!==n?n:(n=Zf(i.directionalValue,e.directionalValue),0!==n?n:Xt.comparator(i.documentKey,e.documentKey)))}function Zf(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Yf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const o=n;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const n=qa(e);if(void 0!==n&&!this.Qe(n))return!1;const o=_o(e);let l=0,f=0;for(;l<o.length&&this.Qe(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Ke){const v=o[l];if(!this.je(this.Ke,v)||!this.We(this.Ue[f++],v))return!1;++l}for(;l<o.length;++l){const v=o[l];if(f>=this.Ue.length||!this.We(this.Ue[f++],v))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Wg{constructor(){this.ze=new Ph}addToCollectionParentIndex(e,n){return this.ze.add(n),It.resolve()}getCollectionParents(e,n){return It.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return It.resolve()}deleteFieldIndex(e,n){return It.resolve()}getDocumentsMatchingTarget(e,n){return It.resolve(null)}getIndexType(e,n){return It.resolve(0)}getFieldIndexes(e,n){return It.resolve([])}getNextCollectionGroupToUpdate(e){return It.resolve(null)}getMinOffset(e,n){return It.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return It.resolve(Qi.min())}updateCollectionGroup(e,n,o){return It.resolve()}updateIndexEntries(e,n){return It.resolve()}}class Ph{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new w(hr.comparator),f=!l.has(o);return this.index[n]=l.add(o),f}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new w(hr.comparator)).toArray()}}const Od=new Uint8Array(0);class Qf{constructor(e,n){this.user=e,this.databaseId=n,this.He=new Ph,this.Je=new kl(o=>As(o),(o,l)=>Ra(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const f={collectionId:o,parent:ia(l)};return Xc(e).put(f)}return It.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[To(n),""],!1,!0);return Xc(e).K(l).next(f=>{for(const v of f){if(v.collectionId!==n)break;o.push(El(v.parent))}return o})}addFieldIndex(e,n){const o=Fl(e),l={indexId:(v=n).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var v;delete l.indexId;const f=o.add(l);if(n.indexState){const v=Fa(e);return f.next(A=>{v.put(xh(A,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return f.next()}deleteFieldIndex(e,n){const o=Fl(e),l=Fa(e),f=ju(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=ju(e);let l=!0;const f=new Map;return It.forEach(this.Ye(n),v=>this.Xe(e,v).next(A=>{l&&(l=!!A),f.set(v,A)})).next(()=>{if(l){let v=Xr();const A=[];return It.forEach(f,(j,Q)=>{var me;Kt("IndexedDbIndexManager",`Using index ${me=j,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(gs=>`${gs.fieldPath}:${gs.kind}`).join(",")}`} to execute ${As(n)}`);const We=function(gs,oa){const fo=qa(oa);if(void 0===fo)return null;for(const Zs of ba(gs,fo.fieldPath))switch(Zs.op){case"array-contains-any":return Zs.value.arrayValue.values||[];case"array-contains":return[Zs.value]}return null}(Q,j),Dt=function(gs,oa){const fo=new Map;for(const Zs of _o(oa))for(const aa of ba(gs,Zs.fieldPath))switch(aa.op){case"==":case"in":fo.set(Zs.fieldPath.canonicalString(),aa.value);break;case"not-in":case"!=":return fo.set(Zs.fieldPath.canonicalString(),aa.value),Array.from(fo.values())}return null}(Q,j),Ft=function(gs,oa){const fo=[];let Zs=!0;for(const aa of _o(oa)){const tc=0===aa.kind?Eo(gs,aa.fieldPath,gs.startAt):Oo(gs,aa.fieldPath,gs.startAt);fo.push(tc.value),Zs&&(Zs=tc.inclusive)}return new ta(fo,Zs)}(Q,j),qt=function(gs,oa){const fo=[];let Zs=!0;for(const aa of _o(oa)){const tc=0===aa.kind?Oo(gs,aa.fieldPath,gs.endAt):Eo(gs,aa.fieldPath,gs.endAt);fo.push(tc.value),Zs&&(Zs=tc.inclusive)}return new ta(fo,Zs)}(Q,j),Hn=this.Ze(j,Q,Ft),lr=this.Ze(j,Q,qt),zi=this.tn(j,Q,Dt),Ts=this.en(j.indexId,We,Hn,Ft.inclusive,lr,qt.inclusive,zi);return It.forEach(Ts,gs=>o.j(gs,n.limit).next(oa=>{oa.forEach(fo=>{const Zs=Xt.fromSegments(fo.documentKey);v.has(Zs)||(v=v.add(Zs),A.push(Zs))})}))}).next(()=>A)}return It.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,o,l,f,v,A){const j=(null!=n?n.length:1)*Math.max(o.length,f.length),Q=j/(null!=n?n.length:1),me=[];for(let We=0;We<j;++We){const Dt=n?this.nn(n[We/Q]):Od,Ft=this.sn(e,Dt,o[We%Q],l),qt=this.rn(e,Dt,f[We%Q],v),Hn=A.map(lr=>this.sn(e,Dt,lr,!0));me.push(...this.createRange(Ft,qt,Hn))}return me}sn(e,n,o,l){const f=new $u(e,Xt.empty(),n,o);return l?f:f.Le()}rn(e,n,o,l){const f=new $u(e,Xt.empty(),n,o);return l?f.Le():f}Xe(e,n){const o=new Yf(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let v=null;for(const A of f)o.Ge(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(e,n){let o=2;return It.forEach(this.Ye(n),l=>this.Xe(e,l).next(f=>{f?0!==o&&f.fields.length<function(v){let A=new w(Ii.comparator),j=!1;for(const Q of v.filters){const me=Q;me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?j=!0:A=A.add(me.field))}for(const Q of v.orderBy)Q.field.isKeyField()||(A=A.add(Q.field));return A.size+(j?1:0)}(l)&&(o=1):o=0})).next(()=>o)}on(e,n){const o=new yc;for(const l of _o(e)){const f=n.data.field(l.fieldPath);if(null==f)return null;const v=o.Be(l.kind);Xl.ye.re(f,v)}return o.Oe()}nn(e){const n=new yc;return Xl.ye.re(e,n.Be(0)),n.Oe()}un(e,n){const o=new yc;return Xl.ye.re(xo(this.databaseId,n),o.Be(function(l){const f=_o(l);return 0===f.length?0:f[f.length-1].kind}(e))),o.Oe()}tn(e,n,o){if(null===o)return[];let l=[];l.push(new yc);let f=0;for(const v of _o(e)){const A=o[f++];for(const j of l)if(this.cn(n,v.fieldPath)&&R(A))l=this.an(l,v,A);else{const Q=j.Be(v.kind);Xl.ye.re(A,Q)}}return this.hn(l)}Ze(e,n,o){return this.tn(e,n,o.position)}hn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Oe();return n}an(e,n,o){const l=[...e],f=[];for(const v of o.arrayValue.values||[])for(const A of l){const j=new yc;j.seed(A.Oe()),Xl.ye.re(v,j.Be(n.kind)),f.push(j)}return f}cn(e,n){return!!e.filters.find(o=>o instanceof ps&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Fl(e),l=Fa(e);return(n?o.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.K()).next(f=>{const v=[];return It.forEach(f,A=>l.get([A.indexId,this.uid]).next(j=>{v.push(function(Q,me){const We=me?new rs(me.sequenceNumber,new Qi(Bu(me.readTime),new Xt(El(me.documentKey)),me.largestBatchId)):rs.empty(),Dt=Q.fields.map(([Ft,qt])=>new ws(Ii.fromServerFormat(Ft),qt));return new Qo(Q.indexId,Q.collectionGroup,Dt,We)}(A,j))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const f=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:br(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Fl(e),f=Fa(e);return this.ln(e).next(v=>l.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(A=>It.forEach(A,j=>f.put(xh(j.indexId,this.user,v,o)))))}updateIndexEntries(e,n){const o=new Map;return It.forEach(n,(l,f)=>{const v=o.get(l.collectionGroup);return(v?It.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(o.set(l.collectionGroup,A),It.forEach(A,j=>this.fn(e,l,j).next(Q=>{const me=this.dn(f,j);return Q.isEqual(me)?It.resolve():this._n(e,f,j,Q,me)}))))})}wn(e,n,o,l){return ju(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(o,n.key),documentKey:n.key.path.toArray()})}mn(e,n,o,l){return ju(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(o,n.key),n.key.path.toArray()])}fn(e,n,o){const l=ju(e);let f=new w(hu);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,n)])},(v,A)=>{f=f.add(new $u(o.indexId,n,A.arrayValue,A.directionalValue))}).next(()=>f)}dn(e,n){let o=new w(hu);const l=this.on(n,e);if(null==l)return o;const f=qa(n);if(null!=f){const v=e.data.field(f.fieldPath);if(R(v))for(const A of v.arrayValue.values||[])o=o.add(new $u(n.indexId,e.key,this.nn(A),l))}else o=o.add(new $u(n.indexId,e.key,Od,l));return o}_n(e,n,o,l,f){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(A,j,Q,me,We){const Dt=A.getIterator(),Ft=j.getIterator();let qt=B(Dt),Hn=B(Ft);for(;qt||Hn;){let lr=!1,zi=!1;if(qt&&Hn){const Ts=Q(qt,Hn);Ts<0?zi=!0:Ts>0&&(lr=!0)}else null!=qt?zi=!0:lr=!0;lr?(me(Hn),Hn=B(Ft)):zi?(We(qt),qt=B(Dt)):(qt=B(Dt),Hn=B(Ft))}}(l,f,hu,A=>{v.push(this.wn(e,n,o,A))},A=>{v.push(this.mn(e,n,o,A))}),It.waitFor(v)}ln(e){let n=1;return Fa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,f)=>{f.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,A)=>hu(v,A)).filter((v,A,j)=>!A||0!==hu(v,j[A-1]));const l=[];l.push(e);for(const v of o){const A=hu(v,e),j=hu(v,n);if(0===A)l[0]=e.Le();else if(A>0&&j<0)l.push(v),l.push(v.Le());else if(j>0)break}l.push(n);const f=[];for(let v=0;v<l.length;v+=2)f.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,Od,[]],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,Od,[]]));return f}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ed)}getMinOffset(e,n){return It.mapArray(this.Ye(n),o=>this.Xe(e,o).next(l=>l||On())).next(ed)}}function Xc(i){return uo(i,"collectionParents")}function ju(i){return uo(i,"indexEntries")}function Fl(i){return uo(i,"indexConfiguration")}function Fa(i){return uo(i,"indexState")}function ed(i){Jn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;So(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Qi(e.readTime,e.documentKey,n)}const Rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jf(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),f=[],v=IDBKeyRange.only(n.batchId);let A=0;const j=o.J({range:v},(me,We,Dt)=>(A++,Dt.delete()));f.push(j.next(()=>{Jn(1===A)}));const Q=[];for(const me of n.mutations){const We=bh(e,me.key.path,n.batchId);f.push(l.delete(We)),Q.push(me.key)}return It.waitFor(f).next(()=>Q)}function _c(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw On();e=i.noDocument}return JSON.stringify(e).length}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Pd{constructor(e,n,o,l){this.userId=e,this.wt=n,this.indexManager=o,this.referenceDelegate=l,this.gn={}}static se(e,n,o,l){Jn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Pd(f,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).J({index:"userMutationsIndex",range:o},(l,f,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const f=fu(e),v=Vl(e);return v.add({}).next(A=>{Jn("number"==typeof A);const j=new Yc(A,n,o,l),Q=function(Dt,Ft,qt){const Hn=qt.baseMutations.map(zi=>Zc(Dt.ne,zi)),lr=qt.mutations.map(zi=>Zc(Dt.ne,zi));return{userId:Ft,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:Hn,mutations:lr}}(this.wt,this.userId,j),me=[];let We=new w((Dt,Ft)=>br(Dt.canonicalString(),Ft.canonicalString()));for(const Dt of l){const Ft=bh(this.userId,Dt.key.path,A);We=We.add(Dt.key.path.popLast()),me.push(v.put(Q)),me.push(f.put(Ft,Hf))}return We.forEach(Dt=>{me.push(this.indexManager.addToCollectionParentIndex(e,Dt))}),e.addOnCommittedListener(()=>{this.gn[A]=j.keys()}),It.waitFor(me).next(()=>j)})}lookupMutationBatch(e,n){return Vl(e).get(n).next(o=>o?(Jn(o.userId===this.userId),Hu(this.wt,o)):null)}yn(e,n){return this.gn[n]?It.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.gn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Vl(e).J({index:"userMutationsIndex",range:l},(v,A,j)=>{A.userId===this.userId&&(Jn(A.batchId>=o),f=Hu(this.wt,A)),j.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vl(e).J({index:"userMutationsIndex",range:n,reverse:!0},(l,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).K("userMutationsIndex",n).next(o=>o.map(l=>Hu(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=hc(this.userId,n.path),l=IDBKeyRange.lowerBound(o),f=[];return fu(e).J({range:l},(v,A,j)=>{const[Q,me,We]=v,Dt=El(me);if(Q===this.userId&&n.path.isEqual(Dt))return Vl(e).get(We).next(Ft=>{if(!Ft)throw On();Jn(Ft.userId===this.userId),f.push(Hu(this.wt,Ft))});j.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(br);const l=[];return n.forEach(f=>{const v=hc(this.userId,f.path),A=IDBKeyRange.lowerBound(v),j=fu(e).J({range:A},(Q,me,We)=>{const[Dt,Ft,qt]=Q,Hn=El(Ft);Dt===this.userId&&f.path.isEqual(Hn)?o=o.add(qt):We.done()});l.push(j)}),It.waitFor(l).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,f=hc(this.userId,o),v=IDBKeyRange.lowerBound(f);let A=new w(br);return fu(e).J({range:v},(j,Q,me)=>{const[We,Dt,Ft]=j,qt=El(Dt);We===this.userId&&o.isPrefixOf(qt)?qt.length===l&&(A=A.add(Ft)):me.done()}).next(()=>this.pn(e,A))}pn(e,n){const o=[],l=[];return n.forEach(f=>{l.push(Vl(e).get(f).next(v=>{if(null===v)throw On();Jn(v.userId===this.userId),o.push(Hu(this.wt,v))}))}),It.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Jf(e.ee,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),It.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return It.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return fu(e).J({range:o},(f,v,A)=>{if(f[0]===this.userId){const j=El(f[1]);l.push(j)}else A.done()}).next(()=>{Jn(0===l.length)})})}containsKey(e,n){return nl(e,this.userId,n)}Tn(e){return Xf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nl(i,e,n){const o=hc(e,n.path),l=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return fu(i).J({range:f,H:!0},(A,j,Q)=>{const[me,We,Dt]=A;me===e&&We===l&&(v=!0),Q.done()}).next(()=>v)}function Vl(i){return uo(i,"mutations")}function fu(i){return uo(i,"documentMutations")}function Xf(i){return uo(i,"mutationQueues")}class pu{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new pu(0)}static Rn(){return new pu(-1)}}class Gg{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const o=new pu(n.highestTargetId);return n.highestTargetId=o.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>Xn.fromTimestamp(new di(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Pn(e,l)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(n,o),this.Pn(e,o))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ul(e).delete(n.targetId)).next(()=>this.bn(e)).next(o=>(Jn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,n,o){let l=0;const f=[];return Ul(e).J((v,A)=>{const j=fc(A);j.sequenceNumber<=n&&null===o.get(j.targetId)&&(l++,f.push(this.removeTargetData(e,j)))}).next(()=>It.waitFor(f)).next(()=>l)}forEachTarget(e,n){return Ul(e).J((o,l)=>{const f=fc(l);n(f)})}bn(e){return ep(e).get("targetGlobalKey").next(n=>(Jn(null!==n),n))}Pn(e,n){return ep(e).put("targetGlobalKey",n)}vn(e,n){return Ul(e).put(xd(this.wt,n))}Vn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=As(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Ul(e).J({range:l,index:"queryTargetsIndex"},(v,A,j)=>{const Q=fc(A);Ra(n,Q.target)&&(f=Q,j.done())}).next(()=>f)}addMatchingKeys(e,n,o){const l=[],f=eu(e);return n.forEach(v=>{const A=ia(v.path);l.push(f.put({targetId:o,path:A})),l.push(this.referenceDelegate.addReference(e,o,v))}),It.waitFor(l)}removeMatchingKeys(e,n,o){const l=eu(e);return It.forEach(n,f=>{const v=ia(f.path);return It.waitFor([l.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,n){const o=eu(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=eu(e);let f=Xr();return l.J({range:o,H:!0},(v,A,j)=>{const Q=El(v[1]),me=new Xt(Q);f=f.add(me)}).next(()=>f)}containsKey(e,n){const o=ia(n.path),l=IDBKeyRange.bound([o],[To(o)],!1,!0);let f=0;return eu(e).J({index:"documentTargetsIndex",H:!0,range:l},([v,A],j,Q)=>{0!==v&&(f++,Q.done())}).next(()=>f>0)}te(e,n){return Ul(e).get(n).next(o=>o?fc(o):null)}}function Ul(i){return uo(i,"targets")}function ep(i){return uo(i,"targetGlobal")}function eu(i){return uo(i,"targetDocuments")}function td([i,e],[n,o]){const l=br(i,n);return 0===l?br(e,o):l}class Nh{constructor(e){this.Sn=e,this.buffer=new w(td),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();td(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tp{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var n=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){n.Nn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Fo(o)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Kr(o)}yield n.kn(3e5)}))}}class gy{constructor(e,n){this.On=e,this.params=n}calculateTargetCount(e,n){return this.On.Mn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return It.resolve(zs.ot);const o=new Nh(n);return this.On.forEachTarget(e,l=>o.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>o.xn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.On.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.On.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(Rh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rh):this.$n(e,n))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,n){let o,l,f,v,A,j,Q;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),l=this.params.maximumSequenceNumbersToCollect):l=We,v=Date.now(),this.nthSequenceNumber(e,l))).next(We=>(o=We,A=Date.now(),this.removeTargets(e,o,n))).next(We=>(f=We,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(We=>(Q=Date.now(),xa()<=fe.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-me}ms\n\tDetermined least recently used ${l} in `+(A-v)+`ms\n\tRemoved ${f} targets in `+(j-A)+`ms\n\tRemoved ${We} documents in `+(Q-j)+`ms\nTotal Duration: ${Q-me}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:We})))}}class vc{constructor(e,n){this.db=e,this.garbageCollector=new gy(this,n)}Mn(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Bn(e){let n=0;return this.Fn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(o,l)=>n(l))}addReference(e,n,o){return Ec(e,o)}removeReference(e,n,o){return Ec(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Ec(e,n)}Un(e,n){return function(o,l){let f=!1;return Xf(o).Y(v=>nl(o,v,l).next(A=>(A&&(f=!0),It.resolve(!A)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Ln(e,(v,A)=>{if(A<=n){const j=this.Un(e,v).next(Q=>{if(!Q)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Xn.min()),eu(e).delete([0,ia(v.path)])))});l.push(j)}}).next(()=>It.waitFor(l)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Ec(e,n)}Ln(e,n){const o=eu(e);let l,f=zs.ot;return o.J({index:"documentTargetsIndex"},([v,A],{path:j,sequenceNumber:Q})=>{0===v?(f!==zs.ot&&n(new Xt(El(l)),f),f=Q,l=j):f=zs.ot}).next(()=>{f!==zs.ot&&n(new Xt(El(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ec(i,e){return eu(i).put((o=i.currentSequenceNumber,{targetId:0,path:ia(e.path),sequenceNumber:o}));var o}class kh{constructor(){this.changes=new kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?It.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zg{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return gu(e).put(o)}removeEntry(e,n,o){return gu(e).delete(function(l,f){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Jc(f),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.qn(e,o)))}getEntry(e,n){let o=_r.newInvalidDocument(n);return gu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bc(n))},(l,f)=>{o=this.Kn(n,f)}).next(()=>o)}Gn(e,n){let o={size:0,document:_r.newInvalidDocument(n)};return gu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bc(n))},(l,f)=>{o={document:this.Kn(n,f),size:_c(f)}}).next(()=>o)}getEntries(e,n){let o=Po();return this.Qn(e,n,(l,f)=>{const v=this.Kn(l,f);o=o.insert(l,v)}).next(()=>o)}jn(e,n){let o=Po(),l=new Gi(Xt.comparator);return this.Qn(e,n,(f,v)=>{const A=this.Kn(f,v);o=o.insert(f,A),l=l.insert(f,_c(v))}).next(()=>({documents:o,Wn:l}))}Qn(e,n,o){if(n.isEmpty())return It.resolve();let l=new w(Vh);n.forEach(j=>l=l.add(j));const f=IDBKeyRange.bound(bc(l.first()),bc(l.last())),v=l.getIterator();let A=v.getNext();return gu(e).J({index:"documentKeyIndex",range:f},(j,Q,me)=>{const We=Xt.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;A&&Vh(A,We)<0;)o(A,null),A=v.getNext();A&&A.isEqual(We)&&(o(A,Q),A=v.hasNext()?v.getNext():null),A?me.q(bc(A)):me.done()}).next(()=>{for(;A;)o(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),Jc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gu(e).K(IDBKeyRange.bound(l,f,!0)).next(v=>{let A=Po();for(const j of v){const Q=this.Kn(Xt.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);A=A.insert(Q.key,Q)}return A})}getAllFromCollectionGroup(e,n,o,l){let f=Po();const v=Fh(n,o),A=Fh(n,Qi.max());return gu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(j,Q,me)=>{const We=this.Kn(Xt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(We.key,We),f.size===l&&me.done()}).next(()=>f)}newChangeBuffer(e){return new np(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Lh(e).get("remoteDocumentGlobalKey").next(n=>(Jn(!!n),n))}qn(e,n){return Lh(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const o=function Bg(i,e){let n;if(e.document)n=du(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Xt.fromSegments(e.noDocument.path),l=Bu(e.noDocument.readTime);n=_r.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return On();{const o=Xt.fromSegments(e.unknownDocument.path),l=Bu(e.unknownDocument.version);n=_r.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new di(o[0],o[1]);return Xn.fromTimestamp(l)}(e.readTime)),n}(this.wt,n);if(!o.isNoDocument()||!o.version.isEqual(Xn.min()))return o}return _r.newInvalidDocument(e)}}function Rd(i){return new zg(i)}class np extends kh{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new kl(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new w((f,v)=>br(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const A=this.Hn.get(f);if(n.push(this.zn.removeEntry(e,f,A.readTime)),v.isValidDocument()){const j=zf(this.zn.wt,v);l=l.add(f.path.popLast()),o+=_c(j)-A.size,n.push(this.zn.addEntry(e,f,j))}else if(o-=A.size,this.trackRemovals){const j=zf(this.zn.wt,v.convertToNoDocument(Xn.min()));n.push(this.zn.addEntry(e,f,j))}}),l.forEach(f=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,f))}),n.push(this.zn.updateMetadata(e,o)),It.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(o=>(this.Hn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:o,Wn:l})=>(l.forEach((f,v)=>{this.Hn.set(f,{size:v,readTime:o.get(f).readTime})}),o))}}function Lh(i){return uo(i,"remoteDocumentGlobal")}function gu(i){return uo(i,"remoteDocumentsV14")}function bc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fh(i,e){const n=e.documentKey.path.toArray();return[i,Jc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Vh(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let f=0;f<n.length-2&&f<o.length-2;++f)if(l=br(n[f],o[f]),l)return l;return l=br(n.length,o.length),l||(l=br(n[n.length-2],o[o.length-2]),l||br(n[n.length-1],o[o.length-1]))}class Uh{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nd{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.getBaseDocument(e,n,o))).next(l=>(null!==o&&ki(o.mutation,l,ie.empty(),di.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Xr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Xr()){const l=Bi();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(f=>{let v=Ru();return f.forEach((A,j)=>{v=v.insert(A,j.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const o=Bi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Xr()))}populateOverlays(e,n,o){const l=[];return o.forEach(f=>{n.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((v,A)=>{n.set(v,A)})})}computeViews(e,n,o,l){let f=Po();const v=$c(),A=$c();return n.forEach((j,Q)=>{const me=o.get(Q.key);l.has(Q.key)&&(void 0===me||me.mutation instanceof La)?f=f.insert(Q.key,Q):void 0!==me&&(v.set(Q.key,me.mutation.getFieldMask()),ki(me.mutation,Q,me.mutation.getFieldMask(),di.now()))}),this.recalculateAndSaveOverlays(e,f).next(j=>(j.forEach((Q,me)=>v.set(Q,me)),n.forEach((Q,me)=>{var We;return A.set(Q,new Uh(me,null!==(We=v.get(Q))&&void 0!==We?We:null))}),A))}recalculateAndSaveOverlays(e,n){const o=$c();let l=new Gi((v,A)=>v-A),f=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const A of v)A.keys().forEach(j=>{const Q=n.get(j);if(null===Q)return;let me=o.get(j)||ie.empty();me=A.applyToLocalView(Q,me),o.set(j,me);const We=(l.get(A.batchId)||Xr()).add(j);l=l.insert(A.batchId,We)})}).next(()=>{const v=[],A=l.getReverseIterator();for(;A.hasNext();){const j=A.getNext(),Q=j.key,me=j.value,We=uh();me.forEach(Dt=>{if(!f.has(Dt)){const Ft=Ln(n.get(Dt),o.get(Dt));null!==Ft&&We.set(Dt,Ft),f=f.add(Dt)}}),v.push(this.documentOverlayCache.saveOverlays(e,Q,We))}return It.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Xt.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):yl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var l}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(f=>{const v=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-f.size):It.resolve(Bi());let A=-1,j=f;return v.next(Q=>It.forEach(Q,(me,We)=>(A<We.largestBatchId&&(A=We.largestBatchId),f.get(me)?It.resolve():this.getBaseDocument(e,me,We).next(Dt=>{j=j.insert(me,Dt)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,j,Q,Xr())).next(me=>({batchId:A,changes:Mf(me)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xt(n)).next(o=>{let l=Ru();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const l=n.collectionGroup;let f=Ru();return this.indexManager.getCollectionParents(e,l).next(v=>It.forEach(v,A=>{const j=(Q=n,me=A.child(l),new gl(me,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,me;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Q=>{Q.forEach((me,We)=>{f=f.insert(me,We)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(f=>(l=f,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(f=>{f.forEach((A,j)=>{const Q=j.getKey();null===l.get(Q)&&(l=l.insert(Q,_r.newInvalidDocument(Q)))});let v=Ru();return l.forEach((A,j)=>{const Q=f.get(A);void 0!==Q&&ki(Q.mutation,j,ie.empty(),di.now()),Mu(n,j)&&(v=v.insert(A,j))}),v})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):It.resolve(_r.newInvalidDocument(n))}}class E{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return It.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var o;return this.Jn.set(n.id,{id:(o=n).id,version:o.version,createTime:eo(o.createTime)}),It.resolve()}getNamedQuery(e,n){return It.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(o=n).name,query:Ah(o.bundledQuery),readTime:eo(o.readTime)}),It.resolve();var o}}class m{constructor(){this.overlays=new Gi(Xt.comparator),this.Xn=new Map}getOverlay(e,n){return It.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Bi();return It.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,f)=>{this.ie(e,n,f)}),It.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.Xn.get(o);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Xn.delete(o)),It.resolve()}getOverlaysForCollection(e,n,o){const l=Bi(),f=n.length+1,v=new Xt(n.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const j=A.getNext().value,Q=j.getKey();if(!n.isPrefixOf(Q.path))break;Q.path.length===f&&j.largestBatchId>o&&l.set(j.getKey(),j)}return It.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let f=new Gi((Q,me)=>Q-me);const v=this.overlays.getIterator();for(;v.hasNext();){const Q=v.getNext().value;if(Q.getKey().getCollectionGroup()===n&&Q.largestBatchId>o){let me=f.get(Q.largestBatchId);null===me&&(me=Bi(),f=f.insert(Q.largestBatchId,me)),me.set(Q.getKey(),Q)}}const A=Bi(),j=f.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Q,me)=>A.set(Q,me)),!(A.size()>=l)););return It.resolve(A)}ie(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const v=this.Xn.get(l.largestBatchId).delete(o.key);this.Xn.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Qc(n,o));let f=this.Xn.get(n);void 0===f&&(f=Xr(),this.Xn.set(n,f)),this.Xn.set(n,f.add(o.key))}}class d{constructor(){this.Zn=new w(_.ts),this.es=new w(_.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const o=new _(e,n);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.rs(new _(e,n))}os(e,n){e.forEach(o=>this.removeReference(o,n))}us(e){const n=new Xt(new hr([])),o=new _(n,e),l=new _(n,e+1),f=[];return this.es.forEachInRange([o,l],v=>{this.rs(v),f.push(v.key)}),f}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new Xt(new hr([])),o=new _(n,e),l=new _(n,e+1);let f=Xr();return this.es.forEachInRange([o,l],v=>{f=f.add(v.key)}),f}containsKey(e){const n=new _(e,0),o=this.Zn.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class _{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return Xt.comparator(e.key,n.key)||br(e.ls,n.ls)}static ns(e,n){return br(e.ls,n.ls)||Xt.comparator(e.key,n.key)}}class N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new w(_.ts)}checkEmpty(e){return It.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const f=this.fs;this.fs++;const v=new Yc(f,n,o,l);this.mutationQueue.push(v);for(const A of l)this.ds=this.ds.add(new _(A.key,f)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return It.resolve(v)}lookupMutationBatch(e,n){return It.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.ws(n+1),f=l<0?0:l;return It.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new _(n,0),l=new _(n,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([o,l],v=>{const A=this._s(v.ls);f.push(A)}),It.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(br);return n.forEach(l=>{const f=new _(l,0),v=new _(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,v],A=>{o=o.add(A.ls)})}),It.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let f=o;Xt.isDocumentKey(f)||(f=f.child(""));const v=new _(new Xt(f),0);let A=new w(br);return this.ds.forEachWhile(j=>{const Q=j.key.path;return!!o.isPrefixOf(Q)&&(Q.length===l&&(A=A.add(j.ls)),!0)},v),It.resolve(this.gs(A))}gs(e){const n=[];return e.forEach(o=>{const l=this._s(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Jn(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return It.forEach(n.mutations,l=>{const f=new _(l.key,n.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,n){const o=new _(n,0),l=this.ds.firstAfterOrEqual(o);return It.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return It.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class q{constructor(e){this.ps=e,this.docs=new Gi(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),f=l?l.size:0,v=this.ps(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return It.resolve(o?o.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let o=Po();return n.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():_r.newInvalidDocument(l))}),It.resolve(o)}getAllFromCollection(e,n,o){let l=Po();const f=new Xt(n.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:A,value:{document:j}}=v.getNext();if(!n.isPrefixOf(A.path))break;A.path.length>n.length+1||So(Pa(j),o)<=0||(l=l.insert(j.key,j.mutableCopy()))}return It.resolve(l)}getAllFromCollectionGroup(e,n,o,l){On()}Is(e,n){return It.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new ye(this)}getSize(e){return It.resolve(this.size)}}class ye extends kh{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.zn.addEntry(e,l)):this.zn.removeEntry(o)}),It.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class xe{constructor(e){this.persistence=e,this.Ts=new kl(n=>As(n),Ra),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.Es=0,this.As=new d,this.targetCount=0,this.Rs=pu.An()}forEachTarget(e,n){return this.Ts.forEach((o,l)=>n(l)),It.resolve()}getLastRemoteSnapshotVersion(e){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return It.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Es&&(this.Es=n),It.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,It.resolve()}updateTargetData(e,n){return this.vn(n),It.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,It.resolve()}removeTargets(e,n,o){let l=0;const f=[];return this.Ts.forEach((v,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Ts.delete(v),f.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),It.waitFor(f).next(()=>l)}getTargetCount(e){return It.resolve(this.targetCount)}getTargetData(e,n){const o=this.Ts.get(n)||null;return It.resolve(o)}addMatchingKeys(e,n,o){return this.As.ss(n,o),It.resolve()}removeMatchingKeys(e,n,o){this.As.os(n,o);const l=this.persistence.referenceDelegate,f=[];return l&&n.forEach(v=>{f.push(l.markPotentiallyOrphaned(e,v))}),It.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),It.resolve()}getMatchingKeysForTargetId(e,n){const o=this.As.hs(n);return It.resolve(o)}containsKey(e,n){return It.resolve(this.As.containsKey(n))}}class ft{constructor(e,n){this.bs={},this.overlays={},this.Ps=new zs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new xe(this),this.indexManager=new Wg,this.remoteDocumentCache=new q(o=>this.referenceDelegate.Ss(o)),this.wt=new Gf(n),this.Ds=new E(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.bs[e.toKey()];return o||(o=new N(n,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,o){Kt("MemoryPersistence","Starting transaction:",e);const l=new kt(this.Ps.next());return this.referenceDelegate.Cs(),o(l).next(f=>this.referenceDelegate.xs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ns(e,n){return It.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,n)))}}class kt extends Js{constructor(e){super(),this.currentSequenceNumber=e}}class mn{constructor(e){this.persistence=e,this.ks=new d,this.Os=null}static Ms(e){return new mn(e)}get Fs(){if(this.Os)return this.Os;throw On()}addReference(e,n,o){return this.ks.addReference(o,n),this.Fs.delete(o.toString()),It.resolve()}removeReference(e,n,o){return this.ks.removeReference(o,n),this.Fs.add(o.toString()),It.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),It.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(l=>this.Fs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(f=>this.Fs.add(f.toString()))}).next(()=>o.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.Fs,o=>{const l=Xt.fromPath(o);return this.$s(e,l).next(f=>{f||n.removeEntry(l,Xn.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(o=>{o?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return It.or([()=>It.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class Bn{constructor(e){this.wt=e}O(e,n,o,l){const f=new Za("createOrUpgrade",n);var A;o<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bf,{unique:!0}),A.createObjectStore("documentMutations"),ii(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=It.resolve();return o<3&&l>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),ii(e)),v=v.next(()=>function(A){const j=A.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Q)}(f))),o<4&&l>=4&&(0!==o&&(v=v.next(()=>function(A,j){return j.store("mutations").K().next(Q=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bf,{unique:!0});const me=j.store("mutations"),We=Q.map(Dt=>me.put(Dt));return It.waitFor(We)})}(e,f))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(v=v.next(()=>this.Bs(f))),o<6&&l>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(f)))),o<7&&l>=7&&(v=v.next(()=>this.Us(f))),o<8&&l>=8&&(v=v.next(()=>this.qs(e,f))),o<9&&l>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(v=v.next(()=>this.Ks(f))),o<11&&l>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(v=v.next(()=>{!function(A){const j=A.createObjectStore("documentOverlays",{keyPath:hy});j.createIndex("collectionPathOverlayIndex",fy,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",py,{unique:!1})}(e)})),o<13&&l>=13&&(v=v.next(()=>function(A){const j=A.createObjectStore("remoteDocumentsV14",{keyPath:kg});j.createIndex("documentKeyIndex",$f),j.createIndex("collectionGroupIndex",jf)}(e)).next(()=>this.Gs(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(v=v.next(()=>this.Qs(e,f))),o<15&&l>=15&&(v=v.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:uy}).createIndex("sequenceNumberIndex",cy,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Ch}).createIndex("documentKeyIndex",dy,{unique:!1})}(e))),v}Ls(e){let n=0;return e.store("remoteDocuments").J((o,l)=>{n+=_c(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.K().next(l=>It.forEach(l,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",v).next(A=>It.forEach(A,j=>{Jn(j.userId===f.userId);const Q=Hu(this.wt,j);return Jf(e,f.userId,Q).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return o.J((v,A)=>{const j=new hr(v),Q=[0,ia(j)];f.push(n.get(Q).next(me=>me?It.resolve():n.put({targetId:0,path:ia(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>It.waitFor(f))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:Ih});const o=n.store("collectionParents"),l=new Ph,f=v=>{if(l.add(v)){const A=v.lastSegment(),j=v.popLast();return o.put({collectionId:A,parent:ia(j)})}};return n.store("remoteDocuments").J({H:!0},(v,A)=>{const j=new hr(v);return f(j.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([v,A,j],Q)=>{const me=El(A);return f(me.popLast())}))}Ks(e){const n=e.store("targets");return n.J((o,l)=>{const f=fc(l),v=xd(this.wt,f);return n.put(v)})}Gs(e,n){const o=n.store("remoteDocuments"),l=[];return o.J((f,v)=>{const A=n.store("remoteDocumentsV14"),j=(Q=v,Q.document?new Xt(hr.fromString(Q.document.name).popFirst(5)):Q.noDocument?Xt.fromSegments(Q.noDocument.path):Q.unknownDocument?Xt.fromSegments(Q.unknownDocument.path):On()).path.toArray();var Q;const me={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(A.put(me))}).next(()=>It.waitFor(l))}Qs(e,n){const o=n.store("mutations"),l=Rd(this.wt),f=new ft(mn.Ms,this.wt.ne);return o.K().next(v=>{const A=new Map;return v.forEach(j=>{var Q;let me=null!==(Q=A.get(j.userId))&&void 0!==Q?Q:Xr();Hu(this.wt,j).keys().forEach(We=>me=me.add(We)),A.set(j.userId,me)}),It.forEach(A,(j,Q)=>{const me=new wi(Q),We=pc.se(this.wt,me),Dt=f.getIndexManager(me),Ft=Pd.se(me,this.wt,Dt,f.referenceDelegate);return new nd(l,Ft,We,Dt).recalculateAndSaveOverlaysForDocumentKeys(new Dh(n,zs.ot),j).next()})})}}function ii(i){i.createObjectStore("targetDocuments",{keyPath:Lg}).createIndex("documentTargetsIndex",Fg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wh,{unique:!0}),i.createObjectStore("targetGlobal")}const Wr="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fr{constructor(e,n,o,l,f,v,A,j,Q,me,We=14){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.js=f,this.window=v,this.document=A,this.Ws=Q,this.zs=me,this.Hs=We,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Dt=>Promise.resolve(),!fr.V())throw new Nt(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vc(this,l),this.ei=n+"main",this.wt=new Gf(j),this.ni=new Ao(this.ei,this.Hs,new Bn(this.wt)),this.Vs=new Gg(this.referenceDelegate,this.wt),this.remoteDocumentCache=Rd(this.wt),this.Ds=new Hg,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===me&&Ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(At.FAILED_PRECONDITION,Wr);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new zs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var n=this;return this.ti=function(){var o=(0,h.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var n=(0,h.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_i(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(Fo(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return wr(e).get("owner").next(n=>It.resolve(this.di(n)))}_i(e){return _i(e).delete(this.clientId)}wi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=uo(o,"clientMetadata");return l.K().next(f=>{const v=e.gi(f,18e5),A=f.filter(j=>-1===v.indexOf(j));return It.forEach(A,j=>l.delete(j.clientId)).next(()=>A)})}).catch(()=>[]);if(e.si)for(const o of n)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?It.resolve(!0):wr(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new Nt(At.FAILED_PRECONDITION,Wr);return!1}}return!(!this.networkEnabled||!this.inForeground)||_i(e).K().next(o=>void 0===this.gi(o,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,A=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&A)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Kt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Dh(n,zs.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,n){return e.filter(o=>this.mi(o.updateTimeMs,n)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>_i(e).K().next(n=>this.gi(n,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return Pd.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qf(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return pc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,o){Kt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",f=15===(v=this.Hs)?Wf:14===v?Md:13===v?Th:12===v?Ug:11===v?Vg:void On();var v;let A;return this.ni.runTransaction(e,l,f,j=>(A=new Dh(j,this.Ps?this.Ps.next():zs.ot),"readwrite-primary"===n?this.ai(A).next(Q=>!!Q||this.hi(A)).next(Q=>{if(!Q)throw Ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Nt(At.FAILED_PRECONDITION,zl);return o(A)}).next(Q=>this.fi(A).next(()=>Q)):this.bi(A).next(()=>o(A)))).then(j=>(A.raiseOnCommittedEvent(),j))}bi(e){return wr(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Nt(At.FAILED_PRECONDITION,Wr)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wr(e).put("owner",n)}static V(){return Ao.V()}li(e){const n=wr(e);return n.get("owner").next(o=>this.di(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):It.resolve())}mi(e,n){const o=Date.now();return!(e<o-n||e>o&&(Ni(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,W.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const o=null!==(null===(n=this.si)||void 0===n?void 0:n.getItem(this.yi(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ni("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ni("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wr(i){return uo(i,"owner")}function _i(i){return uo(i,"clientMetadata")}function Hi(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Is{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Pi=o,this.vi=l}static Vi(e,n){let o=Xr(),l=Xr();for(const f of n.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Is(e,n.fromCache,o,l)}}class to{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,o,l){return this.Ci(e,n).next(f=>f||this.xi(e,n,l,o)).next(f=>f||this.Ni(e,n))}Ci(e,n){return It.resolve(null)}xi(e,n,o,l){return function Vc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||l.isEqual(Xn.min())?this.Ni(e,n):this.Di.getDocuments(e,o).next(f=>{const v=this.ki(n,f);return this.Oi(n,v,o,l)?this.Ni(e,n):(xa()<=fe.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Au(n)),this.Mi(e,v,n,Do(l,-1)))})}ki(e,n){let o=new w(Na(e));return n.forEach((l,f)=>{Mu(e,f)&&(o=o.add(f))}),o}Oi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Ni(e,n){return xa()<=fe.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",Au(n)),this.Di.getDocumentsMatchingQuery(e,n,Qi.min())}Mi(e,n,o,l){return this.Di.getDocumentsMatchingQuery(e,o,l).next(f=>(n.forEach(v=>{f=f.insert(v.key,v)}),f))}}class co{constructor(e,n,o,l){this.persistence=e,this.Fi=n,this.wt=l,this.$i=new Gi(br),this.Bi=new kl(f=>As(f),Ra),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nd(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function Bl(i,e,n,o){return new co(i,e,n,o)}function Va(i,e){return no.apply(this,arguments)}function no(){return no=(0,h.Z)(function*(i,e){const n=hn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(f=>(l=f,n.qi(e),n.mutationQueue.getAllMutationBatches(o))).next(f=>{const v=[],A=[];let j=Xr();for(const Q of l){v.push(Q.batchId);for(const me of Q.mutations)j=j.add(me.key)}for(const Q of f){A.push(Q.batchId);for(const me of Q.mutations)j=j.add(me.key)}return n.localDocuments.getDocuments(o,j).next(Q=>({Ki:Q,removedBatchIds:v,addedBatchIds:A}))})})}),no.apply(this,arguments)}function Ca(i,e){const n=hn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=n.Ui.newChangeBuffer({trackRemovals:!0});return function(v,A,j,Q){const me=j.batch,We=me.keys();let Dt=It.resolve();return We.forEach(Ft=>{Dt=Dt.next(()=>Q.getEntry(A,Ft)).next(qt=>{const Hn=j.docVersions.get(Ft);Jn(null!==Hn),qt.version.compareTo(Hn)<0&&(me.applyToRemoteDocument(qt,j),qt.isValidDocument()&&(qt.setReadTime(j.commitVersion),Q.addEntry(qt)))})}),Dt.next(()=>v.mutationQueue.removeMutationBatch(A,me))}(n,o,e,f).next(()=>f.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let A=Xr();for(let j=0;j<v.mutationResults.length;++j)v.mutationResults[j].transformResults.length>0&&(A=A.add(v.batch.mutations[j].key));return A}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}function bl(i){const e=hn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function wl(i,e){const n=hn(i),o=e.snapshotVersion;let l=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=n.Ui.newChangeBuffer({trackRemovals:!0});l=n.$i;const A=[];e.targetChanges.forEach((me,We)=>{const Dt=l.get(We);if(!Dt)return;A.push(n.Vs.removeMatchingKeys(f,me.removedDocuments,We).next(()=>n.Vs.addMatchingKeys(f,me.addedDocuments,We)));let Ft=Dt.withSequenceNumber(f.currentSequenceNumber);var qt,Hn,lr;e.targetMismatches.has(We)?Ft=Ft.withResumeToken(Ae.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):me.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(me.resumeToken,o)),l=l.insert(We,Ft),Hn=Ft,lr=me,(0===(qt=Dt).resumeToken.approximateByteSize()||Hn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||lr.addedDocuments.size+lr.modifiedDocuments.size+lr.removedDocuments.size>0)&&A.push(n.Vs.updateTargetData(f,Ft))});let j=Po(),Q=Xr();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(f,me))}),A.push(Nd(f,v,e.documentUpdates).next(me=>{j=me.Gi,Q=me.Qi})),!o.isEqual(Xn.min())){const me=n.Vs.getLastRemoteSnapshotVersion(f).next(We=>n.Vs.setTargetsMetadata(f,f.currentSequenceNumber,o));A.push(me)}return It.waitFor(A).next(()=>v.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,j,Q)).next(()=>j)}).then(f=>(n.$i=l,f))}function Nd(i,e,n){let o=Xr(),l=Xr();return n.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let v=Po();return n.forEach((A,j)=>{const Q=f.get(A);j.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(A)),j.isNoDocument()&&j.version.isEqual(Xn.min())?(e.removeEntry(A,j.readTime),v=v.insert(A,j)):!Q.isValidDocument()||j.version.compareTo(Q.version)>0||0===j.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(j),v=v.insert(A,j)):Kt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Q.version," Watch version:",j.version)}),{Gi:v,Qi:l}})}function wc(i,e){const n=hn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ta(i,e){const n=hn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Vs.getTargetData(o,e).next(f=>f?(l=f,It.resolve(l)):n.Vs.allocateTargetId(o).next(v=>(l=new tl(e,v,0,o.currentSequenceNumber),n.Vs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.$i.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.$i=n.$i.insert(o.targetId,o),n.Bi.set(e,o.targetId)),o})}function Hl(i,e,n){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,h.Z)(function*(i,e,n){const o=hn(i),l=o.$i.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!Fo(v))throw v;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.$i=o.$i.remove(e),o.Bi.delete(l.target)}),Ic.apply(this,arguments)}function Gn(i,e,n){const o=hn(i);let l=Xn.min(),f=Xr();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,j,Q){const me=hn(A),We=me.Bi.get(Q);return void 0!==We?It.resolve(me.$i.get(We)):me.Vs.getTargetData(j,Q)}(o,v,na(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(v,A.targetId).next(j=>{f=j})}).next(()=>o.Fi.getDocumentsMatchingQuery(v,e,n?l:Xn.min(),n?f:Xr())).next(A=>(hi(o,oc(e),A),{documents:A,ji:f})))}function ar(i,e){const n=hn(i),o=hn(n.Vs),l=n.$i.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",f=>o.te(f,e).next(v=>v?v.target:null))}function Ir(i,e){const n=hn(i),o=n.Li.get(e)||Xn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Ui.getAllFromCollectionGroup(l,e,Do(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(hi(n,e,l),l))}function hi(i,e,n){let o=Xn.min();n.forEach((l,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Li.set(e,o)}function Ua(){return Ua=(0,h.Z)(function*(i,e,n,o){const l=hn(i);let f=Xr(),v=Po();for(const Q of n){const me=e.Wi(Q.metadata.name);Q.document&&(f=f.add(me));const We=e.zi(Q);We.setReadTime(e.Hi(Q.metadata.readTime)),v=v.insert(me,We)}const A=l.Ui.newChangeBuffer({trackRemovals:!0}),j=yield Ta(l,(Q=o,na(Yl(hr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Nd(Q,A,v).next(me=>(A.apply(Q),me)).next(me=>l.Vs.removeMatchingKeysForTargetId(Q,j.targetId).next(()=>l.Vs.addMatchingKeys(Q,f,j.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,me.Gi,me.Qi)).next(()=>me.Gi)))}),Ua.apply(this,arguments)}function Cs(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,h.Z)(function*(i,e,n=Xr()){const o=yield Ta(i,na(Ah(e.bundledQuery))),l=hn(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const v=eo(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return l.Ds.saveNamedQuery(f,e);const A=o.withResumeToken(Ae.EMPTY_BYTE_STRING,v);return l.$i=l.$i.insert(A.targetId,A),l.Vs.updateTargetData(f,A).next(()=>l.Vs.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>l.Vs.addMatchingKeys(f,n,o.targetId)).next(()=>l.Ds.saveNamedQuery(f,e))})}),Il.apply(this,arguments)}function us(i,e){return`firestore_clients_${i}_${e}`}function kd(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ld(i,e){return`firestore_targets_${i}_${e}`}class ro{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Ji(e,n,o){const l=JSON.parse(o);let f,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(f=new Nt(l.error.code,l.error.message))),v?new ro(e,n,l.state,f):(Ni("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rl{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let l,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(l=new Nt(o.error.code,o.error.message))),f?new rl(e,o.state,l):(Ni("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ro{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,f=Td();for(let v=0;l&&v<o.activeTargetIds.length;++v)l=ya(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return l?new Ro(e,f):(Ni("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Wu{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Wu(n.clientId,n.onlineState):(Ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Cc{constructor(){this.activeTargetIds=Td()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rp{constructor(e,n,o,l,f){this.window=e,this.js=n,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Gi(br),this.started=!1,this.ir=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.rr=us(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Cc),this.cr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.Ri();for(const l of n){if(l===e.tr)continue;const f=e.getItem(us(e.persistenceKey,l));if(f){const v=Ro.Ji(l,f);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ld(this.persistenceKey,e));if(o){const l=rl.Ji(e,o);l&&(n=l.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ld(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Kt("SharedClientState","READ",e,n),n}setItem(e,n){Kt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const l=n.Rr(o.key);return n.br(l,null)}{const l=n.Pr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.ar.test(o.key)){if(null!==o.newValue){const l=n.vr(o.key,o.newValue);if(l)return n.Vr(l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.Sr(o.key,o.newValue);if(l)return n.Dr(l)}}else if(o.key===n.lr){if(null!==o.newValue){const l=n.wr(o.newValue);if(l)return n.mr(l)}}else if(o.key===n.ur){const l=function(f){let v=zs.ot;if(null!=f)try{const A=JSON.parse(f);Jn("number"==typeof A),v=A}catch(A){Ni("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);l!==zs.ot&&n.sequenceNumberHandler(l)}else if(o.key===n.dr){const l=n.Cr(o.newValue);yield Promise.all(l.map(f=>n.syncEngine.Nr(f)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const l=new ro(this.currentUser,e,n,o),f=kd(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Yi())}pr(e){const n=kd(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const l=Ld(this.persistenceKey,e),f=new rl(e,n,o);this.setItem(l,f.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return Ro.Ji(o,n)}vr(e,n){const o=this.ar.exec(e),l=Number(o[1]);return ro.Ji(new wi(void 0!==o[2]?o[2]:null),l,n)}Sr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return rl.Ji(l,n)}wr(e){return Wu.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),l=this.gr(this.sr),f=this.gr(o),v=[],A=[];return f.forEach(j=>{l.has(j)||v.push(j)}),l.forEach(j=>{f.has(j)||A.push(j)}),this.syncEngine.Mr(v,A).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Td();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Gr{constructor(){this.Fr=new Cc,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Cc,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kg{Br(e){}shutdown(){}}class ip{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class my{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class yy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,l,f){const v=this.oo(e,n);Kt("RestConnection","Sending: ",v,o);const A={};return this.uo(A,l,f),this.co(e,v,A,o).then(j=>(Kt("RestConnection","Received: ",j),j),j=>{throw fs("RestConnection",`${e} failed with error: `,j,"url: ",v,"request:",o),j})}ao(e,n,o,l,f,v){return this.ro(e,n,o,l,f)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}oo(e,n){return`${this.so}/v1/${n}:${qg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,l){return new Promise((f,v)=>{const A=new Ws;A.listenOnce(Ga.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Co.NO_ERROR:const Q=A.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(Q)),f(Q);break;case Co.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),v(new Nt(At.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const me=A.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',me,"response text:",A.getResponseText()),me>0){const We=A.getResponseJson().error;if(We&&We.status&&We.message){const Dt=function(Ft){const qt=Ft.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(qt)>=0?qt:At.UNKNOWN}(We.status);v(new Nt(Dt,We.message))}else v(new Nt(At.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new Nt(At.UNAVAILABLE,"Connection failed."));break;default:On()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(l);A.send(n,"POST",j,o,15)})}ho(e,n,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ca(),v=ko(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Gl({})),this.uo(A.initMessageHeaders,n,o),(0,W.uI)()||(0,W.b$)()||(0,W.d)()||(0,W.w1)()||(0,W.Mn)()||(0,W.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const j=l.join("");Kt("Connection","Creating WebChannel: "+j,A);const Q=f.createWebChannel(j,A);let me=!1,We=!1;const Dt=new my({jr:qt=>{We?Kt("Connection","Not sending because WebChannel is closed:",qt):(me||(Kt("Connection","Opening WebChannel transport."),Q.open(),me=!0),Kt("Connection","WebChannel sending:",qt),Q.send(qt))},Wr:()=>Q.close()}),Ft=(qt,Hn,lr)=>{qt.listen(Hn,zi=>{try{lr(zi)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return Ft(Q,za.EventType.OPEN,()=>{We||Kt("Connection","WebChannel transport opened.")}),Ft(Q,za.EventType.CLOSE,()=>{We||(We=!0,Kt("Connection","WebChannel transport closed"),Dt.eo())}),Ft(Q,za.EventType.ERROR,qt=>{We||(We=!0,fs("Connection","WebChannel transport errored:",qt),Dt.eo(new Nt(At.UNAVAILABLE,"The operation could not be completed")))}),Ft(Q,za.EventType.MESSAGE,qt=>{var Hn;if(!We){const lr=qt.data[0];Jn(!!lr);const zi=lr,Ts=zi.error||(null===(Hn=zi[0])||void 0===Hn?void 0:Hn.error);if(Ts){Kt("Connection","WebChannel received error:",Ts);const gs=Ts.status;let oa=function(Zs){const aa=ls[Zs];if(void 0!==aa)return Pu(aa)}(gs),fo=Ts.message;void 0===oa&&(oa=At.INTERNAL,fo="Unknown error status: "+gs+" with message "+Ts.message),We=!0,Dt.eo(new Nt(oa,fo)),Q.close()}else Kt("Connection","WebChannel received:",lr),Dt.no(lr)}}),Ft(v,da.STAT_EVENT,qt=>{qt.stat===bi.PROXY?Kt("Connection","Detected buffering proxy"):qt.stat===bi.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Dt.Zr()},0),Dt}}function sp(){return typeof window<"u"?window:null}function Bh(){return typeof document<"u"?document:null}function rd(i){return new Nf(i,!0)}class op{constructor(e,n,o=1e3,l=1.5,f=6e4){this.js=e,this.timerId=n,this.lo=o,this.fo=l,this._o=f,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,n-o);l>0&&Kt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Zg{constructor(e,n,o,l,f,v,A,j){this.js=e,this.Ao=o,this.Ro=l,this.bo=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=j,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new op(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,h.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,h.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var o=this;return(0,h.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===At.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===n&&this.Uo(o,l)},o=>{e(()=>{const l=new Nt(At.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,h.Z)(function*(){e.state=0,e.start()}))}qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B_ extends Zg{constructor(e,n,o,l,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,v),this.wt=f}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function gh(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:On(),l=e.targetChange.targetIds||[],f=function(j,Q){return j.dt?(Jn(void 0===Q||"string"==typeof Q),Ae.fromBase64String(Q||"")):(Jn(void 0===Q||Q instanceof Uint8Array),Ae.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(j){const Q=void 0===j.code?At.UNKNOWN:Pu(j.code);return new Nt(Q,j.message||"")}(v);n=new cc(o,l,f,A||null)}else if("documentChange"in e){const o=e.documentChange,l=Ll(i,o.document.name),f=eo(o.document.updateTime),v=new Kn({mapValue:{fields:o.document.fields}}),A=_r.newFoundDocument(l,f,v);n=new dh(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,l=Ll(i,o.document),f=o.readTime?eo(o.readTime):Xn.min(),v=_r.newNoDocument(l,f);n=new dh([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,l=Ll(i,o.document);n=new dh([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return On();{const o=e.filter,f=new Cd(o.count||0);n=new Mg(o.targetId,f)}}var j;return n}(this.wt,e),o=function(l){if(!("targetChange"in l))return Xn.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Xn.min():f.readTime?eo(f.readTime):Xn.min()}(e);return this.listener.Go(n,o)}Qo(e){const n={};n.database=Kc(this.wt),n.addTarget=function(l,f){let v;const A=f.target;return v=Ja(A)?{documents:ku(l,A)}:{query:Ff(l,A)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=Og(l,f.resumeToken):f.snapshotVersion.compareTo(Xn.min())>0&&(v.readTime=Nu(l,f.snapshotVersion.toTimestamp())),v}(this.wt,e);const o=function Rg(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return On()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Mo(n)}jo(e){const n={};n.database=Kc(this.wt),n.removeTarget=e,this.Mo(n)}}class Yg extends Zg{constructor(e,n,o,l,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,v),this.wt=f,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function Lf(i,e){return i&&i.length>0?(Jn(void 0!==e),i.map(n=>function(o,l){let f=eo(o.updateTime?o.updateTime:l);return f.isEqual(Xn.min())&&(f=eo(l)),new ge(f,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=eo(e.commitTime);return this.listener.Jo(o,n)}return Jn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Kc(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Zc(this.wt,o))};this.Mo(n)}}class Qg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.bo.ro(e,n,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(At.UNKNOWN,l.toString())})}ao(e,n,o,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.bo.ao(e,n,o,f,v,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Nt(At.UNKNOWN,f.toString())})}terminate(){this.Zo=!0}}class Tc{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ni(n),this.su=!1):Kt("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class _y{constructor(e,n,o,l,f){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=f,this.du.Br(A=>{o.enqueueAndForget((0,h.Z)(function*(){var j;il(v)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,h.Z)(function*(Q){const me=hn(Q);me.lu.add(4),yield id(me),me._u.set("Unknown"),me.lu.delete(4),yield Dc(me)}),function(Q){return j.apply(this,arguments)})(v))}))}),this._u=new Tc(o,l)}}function Dc(i){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,h.Z)(function*(i){if(il(i))for(const e of i.fu)yield e(!0)}),Fd.apply(this,arguments)}function id(i){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,h.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Jg.apply(this,arguments)}function ap(i,e){const n=hn(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),cp(n)?Xg(n):zu(n).Co()&&lp(n,e))}function Hh(i,e){const n=hn(i),o=zu(n);n.hu.delete(e),o.Co()&&up(n,e),0===n.hu.size&&(o.Co()?o.ko():il(n)&&n._u.set("Unknown"))}function lp(i,e){i.wu.Nt(e.targetId),zu(i).Qo(e)}function up(i,e){i.wu.Nt(e),zu(i).jo(e)}function Xg(i){i.wu=new Pf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),zu(i).start(),i._u.iu()}function cp(i){return il(i)&&!zu(i).Do()&&i.hu.size>0}function il(i){return 0===hn(i).lu.size}function em(i){i.wu=void 0}function tm(i){return sd.apply(this,arguments)}function sd(){return sd=(0,h.Z)(function*(i){i.hu.forEach((e,n)=>{lp(i,e)})}),sd.apply(this,arguments)}function vy(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,h.Z)(function*(i,e){em(i),cp(i)?(i._u.uu(e),Xg(i)):i._u.set("Unknown")}),$h.apply(this,arguments)}function Ey(i,e,n){return dp.apply(this,arguments)}function dp(){return dp=(0,h.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof cc&&2===e.state&&e.cause)try{yield(o=(0,h.Z)(function*(l,f){const v=f.cause;for(const A of f.targetIds)l.hu.has(A)&&(yield l.remoteSyncer.rejectListen(A,v),l.hu.delete(A),l.wu.removeTarget(A))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield jh(i,o)}else if(e instanceof dh?i.wu.Ut(e):e instanceof Mg?i.wu.zt(e):i.wu.Gt(e),!n.isEqual(Xn.min()))try{const o=yield bl(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const v=l.wu.Yt(f);return v.targetChanges.forEach((A,j)=>{if(A.resumeToken.approximateByteSize()>0){const Q=l.hu.get(j);Q&&l.hu.set(j,Q.withResumeToken(A.resumeToken,f))}}),v.targetMismatches.forEach(A=>{const j=l.hu.get(A);if(!j)return;l.hu.set(A,j.withResumeToken(Ae.EMPTY_BYTE_STRING,j.snapshotVersion)),up(l,A);const Q=new tl(j.target,A,1,j.sequenceNumber);lp(l,Q)}),l.remoteSyncer.applyRemoteEvent(v)}(i,n))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield jh(i,o)}var o}),dp.apply(this,arguments)}function jh(i,e,n){return hp.apply(this,arguments)}function hp(){return hp=(0,h.Z)(function*(i,e,n){if(!Fo(e))throw e;i.lu.add(1),yield id(i),i._u.set("Offline"),n||(n=()=>bl(i.localStore)),i.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield Dc(i)}))}),hp.apply(this,arguments)}function nm(i,e){return e().catch(n=>jh(i,n,e))}function Sc(i){return fp.apply(this,arguments)}function fp(){return fp=(0,h.Z)(function*(i){const e=hn(i),n=mu(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;rm(e);)try{const l=yield wc(e.localStore,o);if(null===l){0===e.au.length&&n.ko();break}o=l.batchId,im(e,l)}catch(l){yield jh(e,l)}Wh(e)&&by(e)}),fp.apply(this,arguments)}function rm(i){return il(i)&&i.au.length<10}function im(i,e){i.au.push(e);const n=mu(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function Wh(i){return il(i)&&!mu(i).Do()&&i.au.length>0}function by(i){mu(i).start()}function pp(i){return gp.apply(this,arguments)}function gp(){return gp=(0,h.Z)(function*(i){mu(i).Xo()}),gp.apply(this,arguments)}function H_(i){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,h.Z)(function*(i){const e=mu(i);for(const n of i.au)e.Ho(n.mutations)}),Gu.apply(this,arguments)}function sm(i,e,n){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,h.Z)(function*(i,e,n){const o=i.au.shift(),l=Sh.from(o,e,n);yield nm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Sc(i)}),Gh.apply(this,arguments)}function zh(i,e){return sl.apply(this,arguments)}function sl(){return sl=(0,h.Z)(function*(i,e){var n;e&&mu(i).zo&&(yield(n=(0,h.Z)(function*(o,l){if(Hc(f=l.code)&&f!==At.ABORTED){const v=o.au.shift();mu(o).No(),yield nm(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield Sc(o)}var f}),function(o,l){return n.apply(this,arguments)})(i,e)),Wh(i)&&by(i)}),sl.apply(this,arguments)}function mp(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,h.Z)(function*(i,e){const n=hn(i);n.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=il(n);n.lu.add(3),yield id(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield Dc(n)}),yp.apply(this,arguments)}function Vd(i,e){return $l.apply(this,arguments)}function $l(){return $l=(0,h.Z)(function*(i,e){const n=hn(i);e?(n.lu.delete(2),yield Dc(n)):e||(n.lu.add(2),yield id(n),n._u.set("Unknown"))}),$l.apply(this,arguments)}function zu(i){return i.mu||(i.mu=function(e,n,o){const l=hn(e);return l.tu(),new B_(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:tm.bind(null,i),Jr:vy.bind(null,i),Go:Ey.bind(null,i)}),i.fu.push(function(){var e=(0,h.Z)(function*(n){n?(i.mu.No(),cp(i)?Xg(i):i._u.set("Unknown")):(yield i.mu.stop(),em(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function mu(i){return i.gu||(i.gu=function(e,n,o){const l=hn(e);return l.tu(),new Yg(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:pp.bind(null,i),Jr:zh.bind(null,i),Yo:H_.bind(null,i),Jo:sm.bind(null,i)}),i.fu.push(function(){var e=(0,h.Z)(function*(n){n?(i.gu.No(),yield Sc(i)):(yield i.gu.stop(),i.au.length>0&&(Kt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class Ud{constructor(e,n,o,l,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,l,f){const v=Date.now()+o,A=new Ud(e,n,v,l,f);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(i,e){if(Ni("AsyncQueue",`${e}: ${i}`),Fo(i))return new Nt(At.UNAVAILABLE,`${e}: ${i}`);throw i}class Ac{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Xt.comparator(n.key,o.key):(n,o)=>Xt.comparator(n.key,o.key),this.keyedMap=Ru(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new Ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Ac;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class wy{constructor(){this.yu=new Gi(Xt.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):On():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class yu{constructor(e,n,o,l,f,v,A,j){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=j}static fromInitialDocuments(e,n,o,l){const f=[];return n.forEach(v=>{f.push({type:0,doc:v})}),new yu(e,n,Ac.emptySet(n),f,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class Kh{constructor(){this.Iu=void 0,this.listeners=[]}}class _p{constructor(){this.queries=new kl(e=>Su(e),Xa),this.onlineState="Unknown",this.Tu=new Set}}function Hd(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,h.Z)(function*(i,e){const n=hn(i),o=e.query;let l=!1,f=n.queries.get(o);if(f||(l=!0,f=new Kh),l)try{f.Iu=yield n.onListen(o)}catch(v){const A=Bd(v,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,f),f.listeners.push(e),e.Eu(n.onlineState),f.Iu&&e.Au(f.Iu)&&Ep(n)}),$d.apply(this,arguments)}function om(i,e){return vp.apply(this,arguments)}function vp(){return vp=(0,h.Z)(function*(i,e){const n=hn(i),o=e.query;let l=!1;const f=n.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),l=0===f.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),vp.apply(this,arguments)}function Iy(i,e){const n=hn(i);let o=!1;for(const l of e){const v=n.queries.get(l.query);if(v){for(const A of v.listeners)A.Au(l)&&(o=!0);v.Iu=l}}o&&Ep(n)}function Cy(i,e,n){const o=hn(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(n);o.queries.delete(e)}function Ep(i){i.Tu.forEach(e=>{e.next()})}class qh{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new yu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class $_{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class am{constructor(e){this.wt=e}Wi(e){return Ll(this.wt,e)}zi(e){return e.metadata.exists?du(this.wt,e.document,!1):_r.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return eo(e)}}class j_{constructor(e,n,o){this.xu=e,this.localStore=n,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bp(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=hr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new am(this.wt);for(const l of e)if(l.metadata.queries){const f=o.Wi(l.metadata.name);for(const v of l.metadata.queries){const A=(n.get(v)||Xr()).add(f);n.set(v,A)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function ho(i,e,n,o){return Ua.apply(this,arguments)}(e.localStore,new am(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Cs(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:n}})()}}function bp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class wp{constructor(e){this.key=e}}class lm{constructor(e){this.key=e}}class Zh{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Xr(),this.mutatedKeys=Xr(),this.Lu=Na(e),this.Uu=new Ac(this.Lu)}get qu(){return this.Fu}Ku(e,n){const o=n?n.Gu:new wy,l=n?n.Uu:this.Uu;let f=n?n.mutatedKeys:this.mutatedKeys,v=l,A=!1;const j="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((me,We)=>{const Dt=l.get(me),Ft=Mu(this.query,We)?We:null,qt=!!Dt&&this.mutatedKeys.has(Dt.key),Hn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let lr=!1;Dt&&Ft?Dt.data.isEqual(Ft.data)?qt!==Hn&&(o.track({type:3,doc:Ft}),lr=!0):this.Qu(Dt,Ft)||(o.track({type:2,doc:Ft}),lr=!0,(j&&this.Lu(Ft,j)>0||Q&&this.Lu(Ft,Q)<0)&&(A=!0)):!Dt&&Ft?(o.track({type:0,doc:Ft}),lr=!0):Dt&&!Ft&&(o.track({type:1,doc:Dt}),lr=!0,(j||Q)&&(A=!0)),lr&&(Ft?(v=v.add(Ft),f=Hn?f.add(me):f.delete(me)):(v=v.delete(me),f=f.delete(me)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const me="F"===this.query.limitType?v.last():v.first();v=v.delete(me.key),f=f.delete(me.key),o.track({type:1,doc:me})}return{Uu:v,Gu:o,Oi:A,mutatedKeys:f}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const f=e.Gu.pu();f.sort((Q,me)=>function(We,Dt){const Ft=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return On()}};return Ft(We)-Ft(Dt)}(Q.type,me.type)||this.Lu(Q.doc,me.doc)),this.ju(o);const v=n?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,j=A!==this.$u;return this.$u=A,0!==f.length||j?{snapshot:new yu(this.query,e.Uu,l,f,e.mutatedKeys,0===A,j,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new wy,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Xr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new lm(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new wp(o))}),n}Ju(e){this.Fu=e.ji,this.Bu=Xr();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return yu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class W_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class G_{constructor(e){this.key=e,this.Xu=!1}}class z_{constructor(e,n,o,l,f,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Zu={},this.tc=new kl(A=>Su(A),Xa),this.ec=new Map,this.nc=new Set,this.sc=new Gi(Xt.comparator),this.ic=new Map,this.rc=new d,this.oc={},this.uc=new Map,this.cc=pu.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function K_(i,e){return um.apply(this,arguments)}function um(){return um=(0,h.Z)(function*(i,e){const n=_m(i);let o,l;const f=n.tc.get(e);if(f)o=f.targetId,n.sharedClientState.addLocalQueryTarget(o),l=f.view.Yu();else{const v=yield Ta(n.localStore,na(e));n.isPrimaryClient&&ap(n.remoteStore,v);const A=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,l=yield cm(n,e,o,"current"===A)}return l}),um.apply(this,arguments)}function cm(i,e,n,o){return dm.apply(this,arguments)}function dm(){return dm=(0,h.Z)(function*(i,e,n,o){i.hc=(me,We,Dt)=>{return(Ft=(0,h.Z)(function*(qt,Hn,lr,zi){let Ts=Hn.view.Ku(lr);Ts.Oi&&(Ts=yield Gn(qt.localStore,Hn.query,!1).then(({documents:fo})=>Hn.view.Ku(fo,Ts)));const gs=zi&&zi.targetChanges.get(Hn.targetId),oa=Hn.view.applyChanges(Ts,qt.isPrimaryClient,gs);return ad(qt,Hn.targetId,oa.zu),oa.snapshot}),function(qt,Hn,lr,zi){return Ft.apply(this,arguments)})(i,me,We,Dt);var Ft};const l=yield Gn(i.localStore,e,!0),f=new Zh(e,l.ji),v=f.Ku(l.documents),A=Wc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),j=f.applyChanges(v,i.isPrimaryClient,A);ad(i,n,j.zu);const Q=new W_(e,n,f);return i.tc.set(e,Q),i.ec.has(n)?i.ec.get(n).push(e):i.ec.set(n,[e]),j.snapshot}),dm.apply(this,arguments)}function q_(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,h.Z)(function*(i,e){const n=hn(i),o=n.tc.get(e),l=n.ec.get(o.targetId);if(l.length>1)return n.ec.set(o.targetId,l.filter(f=>!Xa(f,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Hl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Hh(n.remoteStore,o.targetId),od(n,o.targetId)}).catch(Kr))):(od(n,o.targetId),yield Hl(n.localStore,o.targetId,!0))}),hm.apply(this,arguments)}function tu(){return tu=(0,h.Z)(function*(i,e,n){const o=Vp(i);try{const l=yield function(f,v){const A=hn(f),j=di.now(),Q=v.reduce((Dt,Ft)=>Dt.add(Ft.key),Xr());let me,We;return A.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Ft=Po(),qt=Xr();return A.Ui.getEntries(Dt,Q).next(Hn=>{Ft=Hn,Ft.forEach((lr,zi)=>{zi.isValidDocument()||(qt=qt.add(lr))})}).next(()=>A.localDocuments.getOverlayedDocuments(Dt,Ft)).next(Hn=>{me=Hn;const lr=[];for(const zi of v){const Ts=ka(zi,me.get(zi.key).overlayedDocument);null!=Ts&&lr.push(new La(zi.key,Ts,er(Ts.value.mapValue),rt.exists(!0)))}return A.mutationQueue.addMutationBatch(Dt,j,lr,v)}).next(Hn=>{We=Hn;const lr=Hn.applyToLocalDocumentSet(me,qt);return A.documentOverlayCache.saveOverlays(Dt,Hn.batchId,lr)})}).then(()=>({batchId:We.batchId,changes:Mf(me)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,v,A){let j=f.oc[f.currentUser.toKey()];j||(j=new Gi(br)),j=j.insert(v,A),f.oc[f.currentUser.toKey()]=j}(o,l.batchId,n),yield Ba(o,l.changes),yield Sc(o.remoteStore)}catch(l){const f=Bd(l,"Failed to persist write");n.reject(f)}}),tu.apply(this,arguments)}function Yh(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,h.Z)(function*(i,e){const n=hn(i);try{const o=yield wl(n.localStore,e);e.targetChanges.forEach((l,f)=>{const v=n.ic.get(f);v&&(Jn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Xu=!0:l.modifiedDocuments.size>0?Jn(v.Xu):l.removedDocuments.size>0&&(Jn(v.Xu),v.Xu=!1))}),yield Ba(n,o,e)}catch(o){yield Kr(o)}}),Ip.apply(this,arguments)}function Cp(i,e,n){const o=hn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.tc.forEach((f,v)=>{const A=v.view.Eu(e);A.snapshot&&l.push(A.snapshot)}),function(f,v){const A=hn(f);A.onlineState=v;let j=!1;A.queries.forEach((Q,me)=>{for(const We of me.listeners)We.Eu(v)&&(j=!0)}),j&&Ep(A)}(o.eventManager,e),l.length&&o.Zu.Go(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Tp(i,e,n){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,h.Z)(function*(i,e,n){const o=hn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ic.get(e),f=l&&l.key;if(f){let v=new Gi(Xt.comparator);v=v.insert(f,_r.newNoDocument(f,Xn.min()));const A=Xr().add(f),j=new jc(Xn.min(),new Map,new w(br),v,A);yield Yh(o,j),o.sc=o.sc.remove(f),o.ic.delete(e),Wd(o)}else yield Hl(o.localStore,e,!1).then(()=>od(o,e,n)).catch(Kr)}),Qh.apply(this,arguments)}function Dp(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,h.Z)(function*(i,e){const n=hn(i),o=e.batch.batchId;try{const l=yield Ca(n.localStore,e);Xh(n,o,null),Ap(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ba(n,l)}catch(l){yield Kr(l)}}),Sp.apply(this,arguments)}function Ku(i,e,n){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,h.Z)(function*(i,e,n){const o=hn(i);try{const l=yield function(f,v){const A=hn(f);return A.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Q;return A.mutationQueue.lookupMutationBatch(j,v).next(me=>(Jn(null!==me),Q=me.keys(),A.mutationQueue.removeMutationBatch(j,me))).next(()=>A.mutationQueue.performConsistencyCheck(j)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(j,Q,v)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Q)).next(()=>A.localDocuments.getDocuments(j,Q))})}(o.localStore,e);Xh(o,e,n),Ap(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ba(o,l)}catch(l){yield Kr(l)}}),Jh.apply(this,arguments)}function jd(){return jd=(0,h.Z)(function*(i,e){const n=hn(i);il(n.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=hn(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.mutationQueue.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(-1===o)return void e.resolve();const l=n.uc.get(o)||[];l.push(e),n.uc.set(o,l)}catch(o){const l=Bd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),jd.apply(this,arguments)}function Ap(i,e){(i.uc.get(e)||[]).forEach(n=>{n.resolve()}),i.uc.delete(e)}function Xh(i,e,n){const o=hn(i);let l=o.oc[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(n?f.reject(n):f.resolve(),l=l.remove(e)),o.oc[o.currentUser.toKey()]=l}}function od(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),n&&i.Zu.lc(o,n);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||fm(i,o)})}function fm(i,e){i.nc.delete(e.path.canonicalString());const n=i.sc.get(e);null!==n&&(Hh(i.remoteStore,n),i.sc=i.sc.remove(e),i.ic.delete(n),Wd(i))}function ad(i,e,n){for(const o of n)o instanceof wp?(i.rc.addReference(o.key,e),ld(i,o)):o instanceof lm?(Kt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||fm(i,o.key)):On()}function ld(i,e){const n=e.key,o=n.path.canonicalString();i.sc.get(n)||i.nc.has(o)||(Kt("SyncEngine","New document in limbo: "+n),i.nc.add(o),Wd(i))}function Wd(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const n=new Xt(hr.fromString(e)),o=i.cc.next();i.ic.set(o,new G_(n)),i.sc=i.sc.insert(n,o),ap(i.remoteStore,new tl(na(Yl(n.path)),o,2,zs.ot))}}function Ba(i,e,n){return ud.apply(this,arguments)}function ud(){return ud=(0,h.Z)(function*(i,e,n){const o=hn(i),l=[],f=[],v=[];var A;o.tc.isEmpty()||(o.tc.forEach((A,j)=>{v.push(o.hc(j,e,n).then(Q=>{if(Q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,Q.fromCache?"not-current":"current"),l.push(Q);const me=Is.Vi(j.targetId,Q);f.push(me)}}))}),yield Promise.all(v),o.Zu.Go(l),yield(A=(0,h.Z)(function*(j,Q){const me=hn(j);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>It.forEach(Q,Dt=>It.forEach(Dt.Pi,Ft=>me.persistence.referenceDelegate.addReference(We,Dt.targetId,Ft)).next(()=>It.forEach(Dt.vi,Ft=>me.persistence.referenceDelegate.removeReference(We,Dt.targetId,Ft)))))}catch(We){if(!Fo(We))throw We;Kt("LocalStore","Failed to update sequence numbers: "+We)}for(const We of Q){const Dt=We.targetId;if(!We.fromCache){const Ft=me.$i.get(Dt),Hn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);me.$i=me.$i.insert(Dt,Hn)}}}),function(j,Q){return A.apply(this,arguments)})(o.localStore,f))}),ud.apply(this,arguments)}function Gd(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,h.Z)(function*(i,e){const n=hn(i);if(!n.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield Va(n.localStore,e);n.currentUser=e,(l=n).uc.forEach(v=>{v.forEach(A=>{A.reject(new Nt(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ba(n,o.Ki)}var l}),Mp.apply(this,arguments)}function pm(i,e){const n=hn(i),o=n.ic.get(e);if(o&&o.Xu)return Xr().add(o.key);{let l=Xr();const f=n.ec.get(e);if(!f)return l;for(const v of f){const A=n.tc.get(v);l=l.unionWith(A.view.qu)}return l}}function gm(i,e){return zd.apply(this,arguments)}function zd(){return zd=(0,h.Z)(function*(i,e){const n=hn(i),o=yield Gn(n.localStore,e.query,!0),l=e.view.Ju(o);return n.isPrimaryClient&&ad(n,e.targetId,l.zu),l}),zd.apply(this,arguments)}function xp(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,h.Z)(function*(i,e){const n=hn(i);return Ir(n.localStore,e).then(o=>Ba(n,o))}),ef.apply(this,arguments)}function Op(i,e,n,o){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,h.Z)(function*(i,e,n,o){const l=hn(i),f=yield function(v,A){const j=hn(v),Q=hn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",me=>Q.yn(me,A).next(We=>We?j.localDocuments.getDocuments(me,We):It.resolve(null)))}(l.localStore,e);var A;null!==f?("pending"===n?yield Sc(l.remoteStore):"acknowledged"===n||"rejected"===n?(Xh(l,e,o||null),Ap(l,e),A=e,hn(hn(l.localStore).mutationQueue).In(A)):On(),yield Ba(l,f)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pp.apply(this,arguments)}function Rp(){return Rp=(0,h.Z)(function*(i,e){const n=hn(i);if(_m(n),Vp(n),!0===e&&!0!==n.ac){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Np(n,o.toArray());n.ac=!0,yield Vd(n.remoteStore,!0);for(const f of l)ap(n.remoteStore,f)}else if(!1===e&&!1!==n.ac){const o=[];let l=Promise.resolve();n.ec.forEach((f,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):l=l.then(()=>(od(n,v),Hl(n.localStore,v,!0))),Hh(n.remoteStore,v)}),yield l,yield Np(n,o),function(f){const v=hn(f);v.ic.forEach((A,j)=>{Hh(v.remoteStore,j)}),v.rc.cs(),v.ic=new Map,v.sc=new Gi(Xt.comparator)}(n),n.ac=!1,yield Vd(n.remoteStore,!1)}}),Rp.apply(this,arguments)}function Np(i,e,n){return kp.apply(this,arguments)}function kp(){return kp=(0,h.Z)(function*(i,e,n){const o=hn(i),l=[],f=[];for(const v of e){let A;const j=o.ec.get(v);if(j&&0!==j.length){A=yield Ta(o.localStore,na(j[0]));for(const Q of j){const me=o.tc.get(Q),We=yield gm(o,me);We.snapshot&&f.push(We.snapshot)}}else{const Q=yield ar(o.localStore,v);A=yield Ta(o.localStore,Q),yield cm(o,Lp(Q),v,!1)}l.push(A)}return o.Zu.Go(f),l}),kp.apply(this,arguments)}function Lp(i){return Du(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function mm(i){const e=hn(i);return hn(hn(e.localStore).persistence).Ri()}function Dy(i,e,n,o){return Da.apply(this,arguments)}function Da(){return Da=(0,h.Z)(function*(i,e,n,o){const l=hn(i);if(l.ac)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const f=l.ec.get(e);if(f&&f.length>0)switch(n){case"current":case"not-current":{const v=yield Ir(l.localStore,oc(f[0])),A=jc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Ba(l,v,A);break}case"rejected":yield Hl(l.localStore,e,!0),od(l,e,o);break;default:On()}}),Da.apply(this,arguments)}function ym(i,e,n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,h.Z)(function*(i,e,n){const o=_m(i);if(o.ac){for(const l of e){if(o.ec.has(l)){Kt("SyncEngine","Adding an already active target "+l);continue}const f=yield ar(o.localStore,l),v=yield Ta(o.localStore,f);yield cm(o,Lp(f),v.targetId,!1),ap(o.remoteStore,v)}for(const l of n)o.ec.has(l)&&(yield Hl(o.localStore,l,!1).then(()=>{Hh(o.remoteStore,l),od(o,l)}).catch(Kr))}}),Fp.apply(this,arguments)}function _m(i){const e=hn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tp.bind(null,e),e.Zu.Go=Iy.bind(null,e.eventManager),e.Zu.lc=Cy.bind(null,e.eventManager),e}function Vp(i){const e=hn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ku.bind(null,e),e}class Bp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.wt=rd(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return Bl(this.persistence,new to,e.initialUser,this.wt)}_c(e){return new ft(mn.Ms,this.wt)}dc(e){return new Gr}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vm extends Bp{constructor(e,n,o){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e),yield o.yc.initialize(o,e),yield Vp(o.yc.syncEngine),yield Sc(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Bl(this.persistence,new to,e.initialUser,this.wt)}mc(e,n){return new tp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}gc(e,n){const o=new ma(n,this.persistence);return new Ml(e.asyncQueue,o)}_c(e){const n=Hi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new fr(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,sp(),Bh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new Gr}}class Sy extends vm{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e);const l=o.yc.syncEngine;o.sharedClientState instanceof rp&&(o.sharedClientState.syncEngine={kr:Op.bind(null,l),Or:Dy.bind(null,l),Mr:ym.bind(null,l),Ri:mm.bind(null,l),Nr:xp.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var f=(0,h.Z)(function*(v){yield function Y_(i,e){return Rp.apply(this,arguments)}(o.yc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}dc(e){const n=sp();if(!rp.V(n))throw new Nt(At.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Hi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rp(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Hp{initialize(e,n){var o=this;return(0,h.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Cp(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Gd.bind(null,o.syncEngine),yield Vd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _p}createDatastore(e){const n=rd(e.databaseInfo.databaseId),o=new yy(e.databaseInfo);return new Qg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,f=A=>Cp(this.syncEngine,A,0),v=ip.V()?new ip:new Kg,new _y(n,o,l,f,v);var n,o,l,f,v}createSyncEngine(e,n){return function(o,l,f,v,A,j,Q){const me=new z_(o,l,f,v,A,j);return Q&&(me.ac=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(n){const o=hn(n);Kt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield id(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function $p(i,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Em{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new yi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,h.Z)(function*(){const n=yield e.bc();if(null===n)return null;const o=e.Ac.decode(n),l=Number(o);isNaN(l)&&e.Pc(`length string (${o}) is not valid number`);const f=yield e.vc(l);return new $_(JSON.parse(f),n.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,h.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const n=e.Vc();n<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}vc(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.Sc())&&n.Pc("Reached the end of bundle when more is expected.");const o=n.Ac.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ec.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Ay{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Nt(At.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,h.Z)(function*(f,v){const A=hn(f),j=Kc(A.wt)+"/documents",Q={documents:v.map(Ft=>vl(A.wt,Ft))},me=yield A.ao("BatchGetDocuments",j,Q,v.length),We=new Map;me.forEach(Ft=>{const qt=function kf(i,e){return"found"in e?function(n,o){Jn(!!o.found);const l=Ll(n,o.found.name),f=eo(o.found.updateTime),v=new Kn({mapValue:{fields:o.found.fields}});return _r.newFoundDocument(l,f,v)}(i,e):"missing"in e?function(n,o){Jn(!!o.missing),Jn(!!o.readTime);const l=Ll(n,o.missing),f=eo(o.readTime);return _r.newNoDocument(l,f)}(i,e):On()}(A.wt,Ft);We.set(qt.key.toString(),qt)});const Dt=[];return v.forEach(Ft=>{const qt=We.get(Ft.toString());Jn(!!qt),Dt.push(qt)}),Dt}),function(f,v){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ra(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const f=Xt.fromPath(l);e.mutations.push(new uc(f,e.precondition(f)))}),yield(o=(0,h.Z)(function*(l,f){const v=hn(l),A=Kc(v.wt)+"/documents",j={writes:f.map(Q=>Zc(v.wt,Q))};yield v.ro("Commit",A,j)}),function(l,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw On();n=Xn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Nt(At.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?rt.updateTime(n):rt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Xn.min()))throw new Nt(At.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rt.updateTime(n)}return rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class My{constructor(e,n,o,l,f){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=f,this.Dc=o.maxAttempts,this.So=new op(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,h.Z)(function*(){const n=new Ay(e.datastore),o=e.xc(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.Nc(f)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const n=this.updateFunction(e);return!Xo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Hc(n)}return!1}}class bm{constructor(e,n,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=wi.UNAUTHENTICATED,this.clientId=Yo.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,h.Z)(function*(A){Kt("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Kt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Bd(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function jp(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,h.Z)(function*(f){o.isEqual(f)||(yield Va(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Wp.apply(this,arguments)}function jl(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Gp(i);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>mp(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>mp(e.remoteStore,f)),i.onlineComponents=e}),Kd.apply(this,arguments)}function Gp(i){return zp.apply(this,arguments)}function zp(){return zp=(0,h.Z)(function*(i){return i.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield jp(i,new Bp)),i.offlineComponents}),zp.apply(this,arguments)}function Kp(i){return nf.apply(this,arguments)}function nf(){return nf=(0,h.Z)(function*(i){return i.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield jl(i,new Hp)),i.onlineComponents}),nf.apply(this,arguments)}function wm(i){return Gp(i).then(e=>e.persistence)}function qp(i){return Gp(i).then(e=>e.localStore)}function Im(i){return Kp(i).then(e=>e.remoteStore)}function qd(i){return Kp(i).then(e=>e.syncEngine)}function cd(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,h.Z)(function*(i){const e=yield Kp(i),n=e.eventManager;return n.onListen=K_.bind(null,e.syncEngine),n.onUnlisten=q_.bind(null,e.syncEngine),n}),Zp.apply(this,arguments)}function Qp(i,e,n={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,f,v,A,j){const Q=new tf({next:We=>{f.enqueueAndForget(()=>om(l,me));const Dt=We.docs.has(v);!Dt&&We.fromCache?j.reject(new Nt(At.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&We.fromCache&&A&&"server"===A.source?j.reject(new Nt(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(We)},error:We=>j.reject(We)}),me=new qh(Yl(v.path),Q,{includeMetadataChanges:!0,Du:!0});return Hd(l,me)}(yield cd(i),i.asyncQueue,e,n,o)})),o.promise}function Xp(i,e,n={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,f,v,A,j){const Q=new tf({next:We=>{f.enqueueAndForget(()=>om(l,me)),We.fromCache&&"server"===A.source?j.reject(new Nt(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(We)},error:We=>j.reject(We)}),me=new qh(v,Q,{includeMetadataChanges:!0,Du:!0});return Hd(l,me)}(yield cd(i),i.asyncQueue,e,n,o)})),o.promise}const Cm=new Map;function sf(i,e,n){if(!n)throw new Nt(At.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tg(i,e,n,o){if(!0===e&&!0===o)throw new Nt(At.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ng(i){if(!Xt.isDocumentKey(i))throw new Nt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rg(i){if(Xt.isDocumentKey(i))throw new Nt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":On()}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(i);throw new Nt(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Zd(i,e){if(e<=0)throw new Nt(At.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Yd{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _u{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yd({}),this._settingsFrozen=!1,e instanceof ss?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Nt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ss(l.options.projectId)}(e))}get app(){if(!this._app)throw new Nt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yd(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new qo;switch(n.type){case"gapi":const o=n.client;return Jn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Zo(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Nt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Cm.get(e);n&&(Kt("ComponentProvider","Removing Datastore"),Cm.delete(e),n.terminate())}(this),Promise.resolve()}}function Oy(i,e,n,o={}){var l;const f=(i=Yr(i,_u))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=wi.MOCK_USER;else{v=(0,W.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Nt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new wi(j)}i._authCredentials=new ha(new Ko(v,A))}}class Ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Bo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class nu extends Bo{constructor(e,n,o){super(e,n,Yl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new Xt(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function Py(i,e,...n){if(i=(0,W.m9)(i),sf("collection","path",e),i instanceof _u){const o=hr.fromString(e,...n);return rg(o),new nu(i,null,o)}{if(!(i instanceof Ms||i instanceof nu))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...n));return rg(o),new nu(i.firestore,null,o)}}function Qd(i,e){if(i=Yr(i,_u),sf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(At.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(i,null,(n=e,new gl(hr.emptyPath(),n)));var n}function Tm(i,e,...n){if(i=(0,W.m9)(i),1===arguments.length&&(e=Yo.I()),sf("doc","path",e),i instanceof _u){const o=hr.fromString(e,...n);return ng(o),new Ms(i,null,new Xt(o))}{if(!(i instanceof Ms||i instanceof nu))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...n));return ng(o),new Ms(i.firestore,i instanceof nu?i.converter:null,new Xt(o))}}function ev(i,e){return i=(0,W.m9)(i),e=(0,W.m9)(e),(i instanceof Ms||i instanceof nu)&&(e instanceof Ms||e instanceof nu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dm(i,e){return i=(0,W.m9)(i),e=(0,W.m9)(e),i instanceof Bo&&e instanceof Bo&&i.firestore===e.firestore&&Xa(i._query,e._query)&&i.converter===e.converter}class tv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new op(this,"async_queue_retry"),this.Kc=()=>{const n=Bh();n&&Kt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Bh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Bh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new yi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,h.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(n){if(!Fo(n))throw n;Kt("AsyncQueue","Operation failed with retryable error: "+n)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Ni("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=n,n}enqueueAfterDelay(e,n,o){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const l=Ud.createAndSchedule(this,e,n,o,f=>this.Wc(f));return this.$c.push(l),l}Gc(){this.Bc&&On()}verifyOperationInProgress(){}zc(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.Oc,yield n}while(n!==e.Oc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function ig(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Ry{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ny=-1;class xs extends _u{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new tv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Am(this),this._firestoreClient.terminate()}}function Sm(i=(0,u.getApp)()){return(0,u._getProvider)(i,"firestore").getImmediate()}function qs(i){return i._firestoreClient||Am(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Am(i){var e;const n=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Jo(i._databaseId,f,i._persistenceKey,(A=n).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var f,A;i._firestoreClient=new bm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function sg(i,e){hd(i=Yr(i,xs));const n=qs(i),o=i._freezeSettings(),l=new Hp;return Mm(n,l,new vm(l,o.cacheSizeBytes,e?.forceOwnership))}function ky(i){hd(i=Yr(i,xs));const e=qs(i),n=i._freezeSettings(),o=new Hp;return Mm(e,o,new Sy(o,n.cacheSizeBytes))}function Mm(i,e,n){const o=new yi;return i.asyncQueue.enqueue((0,h.Z)(function*(){try{yield jp(i,n),yield jl(i,e),o.resolve()}catch(l){const f=l;if(!("FirebaseError"===(v=f).name?v.code===At.FAILED_PRECONDITION||v.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var v})).then(()=>o.promise)}function Ly(i){if(i._initialized&&!i._terminated)throw new Nt(At.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(o){if(!Ao.V())return Promise.resolve();const l=o+"main";yield Ao.delete(l)}),function(o){return n.apply(this,arguments)})(Hi(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Fy(i){return function(e){const n=new yi;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Ty(i,e){return jd.apply(this,arguments)}(yield qd(e),n)})),n.promise}(qs(i=Yr(i,xs)))}function Vy(i){return function rf(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield wm(i),n=yield Im(i);return e.setNetworkEnabled(!0),function(o){const l=hn(o);return l.lu.delete(0),Dc(l)}(n)}))}(qs(i=Yr(i,xs)))}function Uy(i){return function Yp(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield wm(i),n=yield Im(i);return e.setNetworkEnabled(!1),(o=(0,h.Z)(function*(l){const f=hn(l);f.lu.add(0),yield id(f),f._u.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(qs(i=Yr(i,xs)))}function Mc(i,e){const n=qs(i=Yr(i,xs)),o=new Ry;return function eg(i,e,n,o){const l=function(f,v){let A;return A="string"==typeof f?(new TextEncoder).encode(f):f,j=function(j,Q){if(j instanceof Uint8Array)return $p(j,Q);if(j instanceof ArrayBuffer)return $p(new Uint8Array(j),Q);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Em(j,v);var j}(n,rd(e));i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function Up(i,e,n){const o=hn(i);var l;(l=(0,h.Z)(function*(f,v,A){try{const j=yield v.getMetadata();if(yield function(Dt,Ft){const qt=hn(Dt),Hn=eo(Ft.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",lr=>qt.Ds.getBundleMetadata(lr,Ft.id)).then(lr=>!!lr&&lr.createTime.compareTo(Hn)>=0)}(f.localStore,j))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(Dt=j).totalDocuments,bytesLoaded:Dt.totalBytes,totalDocuments:Dt.totalDocuments,totalBytes:Dt.totalBytes}),Promise.resolve(new Set);A._updateProgress(bp(j));const Q=new j_(j,f.localStore,v.wt);let me=yield v.fc();for(;me;){const Dt=yield Q.Nu(me);Dt&&A._updateProgress(Dt),me=yield v.fc()}const We=yield Q.complete();return yield Ba(f,We.Mu,void 0),yield function(Dt,Ft){const qt=hn(Dt);return qt.persistence.runTransaction("Save bundle","readwrite",Hn=>qt.Ds.saveBundleMetadata(Hn,Ft))}(f.localStore,j),A._completeWith(We.progress),Promise.resolve(We.Ou)}catch(j){return fs("SyncEngine",`Loading bundle failed with ${j}`),A._failWith(j),Promise.resolve(new Set)}var Dt}),function(f,v,A){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield qd(i),l,o)}))}(n,i._databaseId,e,o),o}function nv(i,e){return function X_(i,e){return i.asyncQueue.enqueue((0,h.Z)(function*(){return function(n,o){const l=hn(n);return l.persistence.runTransaction("Get named query","readonly",f=>l.Ds.getNamedQuery(f,o))}(yield qp(i),e)}))}(qs(i=Yr(i,xs)),e).then(n=>n?new Bo(i,null,n.query):null)}function hd(i){if(i._initialized||i._terminated)throw new Nt(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Nt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Ae.fromBase64String(e))}catch(n){throw new Nt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ru(Ae.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(e){this._methodName=e}}class ol{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Nt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Nt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return br(this._lat,e._lat)||br(this._long,e._long)}}const Jd=/^__.*__$/;class sa{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class Zu{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new La(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw On()}}class Sa{constructor(e,n,o,l,f,v){this.settings=e,this.databaseId=n,this.wt=o,this.ignoreUndefinedProperties=l,void 0===f&&this.Xc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Sa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.sa(e),l}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return cf(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Xd(this.Zc)&&Jd.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ag{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=o||rd(e)}aa(e,n,o,l=!1){return new Sa({Zc:e,methodName:n,ca:o,path:Ii.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Cl(i){const e=i._freezeSettings(),n=rd(i._databaseId);return new ag(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vu(i,e,n,o,l,f={}){const v=i.aa(f.merge||f.mergeFields?2:0,e,n,l);lf("Data must be an object, but it was:",v,o);const A=ug(o,v);let j,Q;if(f.merge)j=new ie(v.fieldMask),Q=v.fieldTransforms;else if(f.mergeFields){const me=[];for(const We of f.mergeFields){const Dt=uf(e,We,n);if(!v.contains(Dt))throw new Nt(At.INVALID_ARGUMENT,`Field '${Dt}' is specified in your field mask but missing from your input data.`);Om(me,Dt)||me.push(Dt)}j=new ie(me),Q=v.fieldTransforms.filter(We=>j.covers(We.field))}else j=null,Q=v.fieldTransforms;return new sa(new Kn(A),j,Q)}class iu extends xc{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iu}}function Oc(i,e,n){return new Sa({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Yu extends xc{_toFieldTransform(e){return new S(e.path,new Ol)}isEqual(e){return e instanceof Yu}}class fd extends xc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=Oc(this,e,!0),o=this.ha.map(f=>Ju(f,n)),l=new _l(o);return new S(e.path,l)}isEqual(e){return this===e}}class pd extends xc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=Oc(this,e,!0),o=this.ha.map(f=>Ju(f,n)),l=new Pl(o);return new S(e.path,l)}isEqual(e){return this===e}}class gd extends xc{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new I(e.wt,as(e.wt,this.la));return new S(e.path,n)}isEqual(e){return this===e}}function Qu(i,e,n,o){const l=i.aa(1,e,n);lf("Data must be an object, but it was:",l,o);const f=[],v=Kn.empty();Xi(o,(j,Q)=>{const me=eh(e,j,n);Q=(0,W.m9)(Q);const We=l.ia(me);if(Q instanceof iu)f.push(me);else{const Dt=Ju(Q,We);null!=Dt&&(f.push(me),v.set(me,Dt))}});const A=new ie(f);return new Zu(v,A,l.fieldTransforms)}function af(i,e,n,o,l,f){const v=i.aa(1,e,n),A=[uf(e,o,n)],j=[l];if(f.length%2!=0)throw new Nt(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Dt=0;Dt<f.length;Dt+=2)A.push(uf(e,f[Dt])),j.push(f[Dt+1]);const Q=[],me=Kn.empty();for(let Dt=A.length-1;Dt>=0;--Dt)if(!Om(Q,A[Dt])){const Ft=A[Dt];let qt=j[Dt];qt=(0,W.m9)(qt);const Hn=v.ia(Ft);if(qt instanceof iu)Q.push(Ft);else{const lr=Ju(qt,Hn);null!=lr&&(Q.push(Ft),me.set(Ft,lr))}}const We=new ie(Q);return new Zu(me,We,v.fieldTransforms)}function lg(i,e,n,o=!1){return Ju(n,i.aa(o?4:3,e))}function Ju(i,e){if(cg(i=(0,W.m9)(i)))return lf("Unsupported field value:",e,i),ug(i,e);if(i instanceof xc)return function(n,o){if(!Xd(o.Zc))throw o.oa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,o){const l=[];let f=0;for(const v of n){let A=Ju(v,o.ra(f));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),f++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,W.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return as(o.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=di.fromDate(n);return{timestampValue:Nu(o.wt,l)}}if(n instanceof di){const l=new di(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nu(o.wt,l)}}if(n instanceof ol)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ru)return{bytesValue:Og(o.wt,n._byteString)};if(n instanceof Ms){const l=o.databaseId,f=n.firestore._databaseId;if(!f.isEqual(l))throw o.oa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.oa(`Unsupported field value: ${dd(n)}`)}(i,e)}function ug(i,e){const n={};return oo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(o,l)=>{const f=Ju(l,e.ea(o));null!=f&&(n[o]=f)}),{mapValue:{fields:n}}}function cg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof di||i instanceof ol||i instanceof ru||i instanceof Ms||i instanceof xc)}function lf(i,e,n){if(!cg(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=dd(n);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function uf(i,e,n){if((e=(0,W.m9)(e))instanceof qu)return e._internalPath;if("string"==typeof e)return eh(i,e);throw cf("Field path arguments must be of type string or ",i,!1,void 0,n)}const xm=new RegExp("[~\\*/\\[\\]]");function eh(i,e,n){if(e.search(xm)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cf(i,e,n,o,l){const f=o&&!o.isEmpty(),v=void 0!==l;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let j="";return(f||v)&&(j+=" (found",f&&(j+=` in field ${o}`),v&&(j+=` in document ${l}`),j+=")"),new Nt(At.INVALID_ARGUMENT,A+i+j)}function Om(i,e){return i.some(n=>n.isEqual(e))}class th{constructor(e,n,o,l,f){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Pm extends th{data(){return super.data()}}function df(i,e){return"string"==typeof e?eh(i,e):e instanceof qu?e._internalPath:e._delegate._internalPath}class Xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends th{constructor(e,n,o,l,f,v){super(e,n,o,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Pc extends Eu{data(e={}){return super.data(e)}}class Rc{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Pc(this._firestore,this._userDataWriter,o.key,o,new Xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Pc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Xu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const A=new Pc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Xu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Q=-1;return 0!==v.type&&(j=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),Q=f.indexOf(v.doc.key)),{type:hf(v.type),doc:A,oldIndex:j,newIndex:Q}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hf(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return On()}}function ff(i,e){return i instanceof Eu&&e instanceof Eu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Rc&&e instanceof Rc&&i._firestore===e._firestore&&Dm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function pf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nh{}function gf(i,...e){for(const n of e)i=n._apply(i);return i}class mf extends nh{constructor(e,n,o){super(),this.fa=e,this.da=n,this._a=o,this.type="where"}_apply(e){const n=Cl(e.firestore),o=function(l,f,v,A,j,Q,me){let We;if(j.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){_g(me,Q);const Ft=[];for(const qt of me)Ft.push(yg(A,l,qt));We={arrayValue:{values:Ft}}}else We=yg(A,l,me)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||_g(me,Q),We=lg(v,"where",me,"in"===Q||"not-in"===Q);const Dt=ps.create(j,Q,We);return function(Ft,qt){if(qt.ht()){const lr=lu(Ft);if(null!==lr&&!lr.isEqual(qt.field))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${lr.toString()}' and '${qt.field.toString()}'`);const zi=ml(Ft);null!==zi&&yf(0,qt.field,zi)}const Hn=function(lr,zi){for(const Ts of lr.filters)if(zi.indexOf(Ts.op)>=0)return Ts.op;return null}(Ft,function(lr){switch(lr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(qt.op));if(null!==Hn)throw new Nt(At.INVALID_ARGUMENT,Hn===qt.op?`Invalid query. You cannot use more than one '${qt.op.toString()}' filter.`:`Invalid query. You cannot use '${qt.op.toString()}' filters with '${Hn.toString()}' filters.`)}(l,Dt),Dt}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new Bo(e.firestore,e.converter,function(l,f){const v=l.filters.concat([f]);return new gl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function dg(i,e,n){const o=e,l=df("where",i);return new mf(l,o,n)}class Rm extends nh{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(o,l,f){if(null!==o.startAt)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Zl(l,f);return function(A,j){if(null===ml(A)){const Q=lu(A);null!==Q&&yf(0,Q,j.field)}}(o,v),v}(e._query,this.fa,this.wa);return new Bo(e.firestore,e.converter,function(o,l){const f=o.explicitOrderBy.concat([l]);return new gl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function hg(i,e="asc"){const n=e,o=df("orderBy",i);return new Rm(o,n)}class fg extends nh{constructor(e,n,o){super(),this.type=e,this.ma=n,this.ga=o}_apply(e){return new Bo(e.firestore,e.converter,wd(e._query,this.ma,this.ga))}}function Nm(i){return Zd("limit",i),new fg("limit",i,"F")}function pg(i){return Zd("limitToLast",i),new fg("limitToLast",i,"L")}class gg extends nh{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=Vm(e,this.type,this.ya,this.pa);return new Bo(e.firestore,e.converter,(l=n,new gl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function By(...i){return new gg("startAt",i,!0)}function km(...i){return new gg("startAfter",i,!1)}class mg extends nh{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=Vm(e,this.type,this.ya,this.pa);return new Bo(e.firestore,e.converter,(l=n,new gl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Lm(...i){return new mg("endBefore",i,!1)}function Fm(...i){return new mg("endAt",i,!0)}function Vm(i,e,n,o){if(n[0]=(0,W.m9)(n[0]),n[0]instanceof th)return function(l,f,v,A,j){if(!A)throw new Nt(At.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const Q=[];for(const me of Ql(l))if(me.field.isKeyField())Q.push(xo(f,A.key));else{const We=A.data.field(me.field);if(Zr(We))throw new Nt(At.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const Dt=me.field.canonicalString();throw new Nt(At.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}Q.push(We)}return new ta(Q,j)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=Cl(i.firestore);return function(f,v,A,j,Q,me){const We=f.explicitOrderBy;if(Q.length>We.length)throw new Nt(At.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Ft=0;Ft<Q.length;Ft++){const qt=Q[Ft];if(We[Ft].field.isKeyField()){if("string"!=typeof qt)throw new Nt(At.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof qt}`);if(!yl(f)&&-1!==qt.indexOf("/"))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${qt}' contains a slash.`);const Hn=f.path.child(hr.fromString(qt));if(!Xt.isDocumentKey(Hn))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Hn}' is not because it contains an odd number of segments.`);const lr=new Xt(Hn);Dt.push(xo(v,lr))}else{const Hn=lg(A,j,qt);Dt.push(Hn)}}return new ta(Dt,me)}(i._query,i.firestore._databaseId,l,e,n,o)}}function yg(i,e,n){if("string"==typeof(n=(0,W.m9)(n))){if(""===n)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yl(e)&&-1!==n.indexOf("/"))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(hr.fromString(n));if(!Xt.isDocumentKey(o))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return xo(i,new Xt(o))}if(n instanceof Ms)return xo(i,n._key);throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function _g(i,e){if(!Array.isArray(i)||0===i.length)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yf(i,e,n){if(!n.isEqual(e))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const vg={maxAttempts:5};class _f{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw On()}}convertObject(e,n){const o={};return Xi(e.fields,(l,f)=>{o[l]=this.convertValue(f,n)}),o}convertGeoPoint(e){return new ol(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=is(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const n=on(e);return new di(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=hr.fromString(e);Jn(Fu(o));const l=new ss(o.get(1),o.get(3)),f=new Xt(o.popFirst(5));return l.isEqual(n)||Ni(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function rh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Um extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}class Eg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cl(e)}set(e,n,o){this._verifyNotCommitted();const l=bu(e,this._firestore),f=rh(l.converter,n,o),v=vu(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,o);return this._mutations.push(v.toMutation(l._key,rt.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const f=bu(e,this._firestore);let v;return v="string"==typeof(n=(0,W.m9)(n))||n instanceof qu?af(this._dataReader,"WriteBatch.update",f._key,n,o,l):Qu(this._dataReader,"WriteBatch.update",f._key,n),this._mutations.push(v.toMutation(f._key,rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bu(e,this._firestore);return this._mutations=this._mutations.concat(new ra(n._key,rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(At.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bu(i,e){if((i=(0,W.m9)(i)).firestore!==e)throw new Nt(At.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Bm(i){i=Yr(i,Ms);const e=Yr(i.firestore,xs);return Qp(qs(e),i._key).then(n=>vf(e,i,n))}class ec extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function Hm(i){i=Yr(i,Ms);const e=Yr(i.firestore,xs),n=qs(e),o=new ec(e);return function xy(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,f,v){try{const A=yield function(j,Q){const me=hn(j);return me.persistence.runTransaction("read document","readonly",We=>me.localDocuments.getDocument(We,Q))}(l,f);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new Nt(At.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const j=Bd(A,`Failed to get document '${f} from cache`);v.reject(j)}}),function(l,f,v){return o.apply(this,arguments)})(yield qp(i),e,n);var o})),n.promise}(n,i._key).then(l=>new Eu(e,o,i._key,l,new Xu(null!==l&&l.hasLocalMutations,!0),i.converter))}function iv(i){i=Yr(i,Ms);const e=Yr(i.firestore,xs);return Qp(qs(e),i._key,{source:"server"}).then(n=>vf(e,i,n))}function Hy(i){i=Yr(i,Bo);const e=Yr(i.firestore,xs),n=qs(e),o=new ec(e);return pf(i._query),Xp(n,i._query).then(l=>new Rc(e,o,i,l))}function $y(i){i=Yr(i,Bo);const e=Yr(i.firestore,xs),n=qs(e),o=new ec(e);return function Jp(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,f,v){try{const A=yield Gn(l,f,!0),j=new Zh(f,A.ji),Q=j.Ku(A.documents),me=j.applyChanges(Q,!1);v.resolve(me.snapshot)}catch(A){const j=Bd(A,`Failed to execute query '${f} against cache`);v.reject(j)}}),function(l,f,v){return o.apply(this,arguments)})(yield qp(i),e,n);var o})),n.promise}(n,i._query).then(l=>new Rc(e,o,i,l))}function $m(i){i=Yr(i,Bo);const e=Yr(i.firestore,xs),n=qs(e),o=new ec(e);return Xp(n,i._query,{source:"server"}).then(l=>new Rc(e,o,i,l))}function jy(i,e,n){i=Yr(i,Ms);const o=Yr(i.firestore,xs),l=rh(i.converter,e,n);return md(o,[vu(Cl(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,rt.none())])}function bo(i,e,n,...o){i=Yr(i,Ms);const l=Yr(i.firestore,xs),f=Cl(l);let v;return v="string"==typeof(e=(0,W.m9)(e))||e instanceof qu?af(f,"updateDoc",i._key,e,n,o):Qu(f,"updateDoc",i._key,e),md(l,[v.toMutation(i._key,rt.exists(!0))])}function jm(i){return md(Yr(i.firestore,xs),[new ra(i._key,rt.none())])}function Wy(i,e){const n=Yr(i.firestore,xs),o=Tm(i),l=rh(i.converter,e);return md(n,[vu(Cl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,rt.exists(!1))]).then(()=>o)}function Gy(i,...e){var n,o,l;i=(0,W.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||ig(e[v])||(f=e[v],v++);const A={includeMetadataChanges:f.includeMetadataChanges};if(ig(e[v])){const We=e[v];e[v]=null===(n=We.next)||void 0===n?void 0:n.bind(We),e[v+1]=null===(o=We.error)||void 0===o?void 0:o.bind(We),e[v+2]=null===(l=We.complete)||void 0===l?void 0:l.bind(We)}let j,Q,me;if(i instanceof Ms)Q=Yr(i.firestore,xs),me=Yl(i._key.path),j={next:We=>{e[v]&&e[v](vf(Q,i,We))},error:e[v+1],complete:e[v+2]};else{const We=Yr(i,Bo);Q=Yr(We.firestore,xs),me=We._query;const Dt=new ec(Q);j={next:Ft=>{e[v]&&e[v](new Rc(Q,Dt,We,Ft))},error:e[v+1],complete:e[v+2]},pf(i._query)}return function(We,Dt,Ft,qt){const Hn=new tf(qt),lr=new qh(Dt,Hn,Ft);return We.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Hd(yield cd(We),lr)})),()=>{Hn.Tc(),We.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return om(yield cd(We),lr)}))}}(qs(Q),me,A,j)}function Wm(i,e){return function Q_(i,e){const n=new tf(e);return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield cd(i),l=n,hn(o).Tu.add(l),void l.next();var o,l})),()=>{n.Tc(),i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield cd(i),l=n,void hn(o).Tu.delete(l);var o,l}))}}(qs(i=Yr(i,xs)),ig(e)?e:{next:e})}function md(i,e){return function(n,o){const l=new yi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Z_(i,e,n){return tu.apply(this,arguments)}(yield qd(n),o,l)})),l.promise}(qs(i),e)}function vf(i,e,n){const o=n.docs.get(e._key),l=new ec(i);return new Eu(i,l,e._key,o,new Xu(n.hasPendingWrites,n.fromCache),e.converter)}class Gm extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Cl(e)}get(e){const n=bu(e,this._firestore),o=new Um(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return On();const f=l[0];if(f.isFoundDocument())return new th(this._firestore,o,f.key,f,n.converter);if(f.isNoDocument())return new th(this._firestore,o,n._key,null,n.converter);throw On()})}set(e,n,o){const l=bu(e,this._firestore),f=rh(l.converter,n,o),v=vu(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,o);return this._transaction.set(l._key,v),this}update(e,n,o,...l){const f=bu(e,this._firestore);let v;return v="string"==typeof(n=(0,W.m9)(n))||n instanceof qu?af(this._dataReader,"Transaction.update",f._key,n,o,l):Qu(this._dataReader,"Transaction.update",f._key,n),this._transaction.update(f._key,v),this}delete(e){const n=bu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=bu(e,this._firestore),o=new ec(this._firestore);return super.get(e).then(l=>new Eu(this._firestore,o,n._key,l._document,new Xu(!1,!1),n.converter))}}function yd(i,e,n){i=Yr(i,xs);const o=Object.assign(Object.assign({},vg),n);return function(l){if(l.maxAttempts<1)throw new Nt(At.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function J_(i,e,n){const o=new yi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const l=yield(f=i,Kp(f).then(v=>v.datastore));var f;new My(i.asyncQueue,l,n,e,o).run()})),o.promise}(qs(i),l=>e(new Gm(i,l)),o)}function zy(){return new iu("deleteField")}function Ky(){return new Yu("serverTimestamp")}function zm(...i){return new fd("arrayUnion",i)}function qy(...i){return new pd("arrayRemove",i)}function Km(i){return new gd("increment",i)}!function(i,e=!0){yo=u.SDK_VERSION,(0,u._registerComponent)(new k.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),f=new xs(l,new fa(n.getProvider("auth-internal")),new Ka(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,u.registerVersion)(Lo,"3.4.13",i),(0,u.registerVersion)(Lo,"3.4.13","esm2017")}()},6961:(jt,Ke,M)=>{M.d(Ke,{$Y:()=>Hr,B0:()=>$o,FN:()=>ti,IX:()=>Ze,Jt:()=>$i,UJ:()=>en,Ym:()=>ys,a1:()=>bs,aF:()=>qi,bm:()=>Fn,cF:()=>Es,g6:()=>vs,gE:()=>Ue,gH:()=>he,iH:()=>_s,oq:()=>Hs,pb:()=>Zi,qm:()=>Nn,sd:()=>ds,y4:()=>ht});var h=M(5861),u=M(9681),k=M(2090),fe=M(4859);const W="firebasestorage.googleapis.com",J="storageBucket";class se extends k.ZR{constructor(Z,we){super(G(Z),`Firebase Storage: ${we} (${G(Z)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,se.prototype)}_codeEquals(Z){return G(Z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Z){this.customData.serverResponse=Z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function G(te){return"storage/"+te}function ee(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function Ne(){return new se("canceled","User canceled the upload/download.")}function de(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function he(te){return new se("invalid-argument",te)}function Ge(){return new se("app-deleted","The Firebase app was deleted.")}function ht(te){return new se("invalid-root-operation","The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function He(te,Z){return new se("invalid-format","String does not match format '"+te+"': "+Z)}function et(te){throw new se("internal-error","Internal error: "+te)}class Ue{constructor(Z,we){this.bucket=Z,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Z=encodeURIComponent;return"/b/"+Z(this.bucket)+"/o/"+Z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Z,we){let Ve;try{Ve=Ue.makeFromUrl(Z,we)}catch{return new Ue(Z,"")}if(""===Ve.path)return Ve;throw function Bt(te){return new se("invalid-default-bucket","Invalid default bucket '"+te+"'.")}(Z)}static makeFromUrl(Z,we){let Ve=null;const ut="([A-Za-z0-9.\\-_]+)",pn=new RegExp("^gs://"+ut+"(/(.*))?$","i");function Un(it){it.path_=decodeURIComponent(it.path)}const mr=we.replace(/[.]/g,"\\."),_t=[{regex:pn,indices:{bucket:1,path:3},postModify:function yt(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${mr}/v[A-Za-z0-9_]+/b/${ut}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Un},{regex:new RegExp(`^https?://${we===W?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${ut}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Un}];for(let it=0;it<_t.length;it++){const un=_t[it],Zn=un.regex.exec(Z);if(Zn){let kr=Zn[un.indices.path];kr||(kr=""),Ve=new Ue(Zn[un.indices.bucket],kr),un.postModify(Ve);break}}if(null==Ve)throw function Pe(te){return new se("invalid-url","Invalid URL '"+te+"'.")}(Z);return Ve}}class pt{constructor(Z){this.promise_=Promise.reject(Z)}getPromise(){return this.promise_}cancel(Z=!1){}}function at(te){return"string"==typeof te||te instanceof String}function Rt(te){return _n()&&te instanceof Blob}function _n(){return typeof Blob<"u"}function Cn(te,Z,we,Ve){if(Ve<Z)throw he(`Invalid value for '${te}'. Expected ${Z} or greater.`);if(Ve>we)throw he(`Invalid value for '${te}'. Expected ${we} or less.`)}function yn(te,Z,we){let Ve=Z;return null==we&&(Ve=`https://${Z}`),`${we}://${Ve}/v0${te}`}function En(te){const Z=encodeURIComponent;let we="?";for(const Ve in te)te.hasOwnProperty(Ve)&&(we=we+(Z(Ve)+"=")+Z(te[Ve])+"&");return we=we.slice(0,-1),we}var bn=(()=>{return(te=bn||(bn={}))[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",bn;var te})();class zn{constructor(Z,we,Ve,ut,yt,an,pn,gn,Un,sr,mr){this.url_=Z,this.method_=we,this.headers_=Ve,this.body_=ut,this.successCodes_=yt,this.additionalRetryCodes_=an,this.callback_=pn,this.errorCallback_=gn,this.timeout_=Un,this.progressCallback_=sr,this.connectionFactory_=mr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Jr,Nr)=>{this.resolve_=Jr,this.reject_=Nr,this.start_()})}start_(){const we=(Ve,ut)=>{const yt=this.resolve_,an=this.reject_,pn=ut.connection;if(ut.wasSuccessCode)try{const gn=this.callback_(pn,pn.getResponse());!function lt(te){return void 0!==te}(gn)?yt():yt(gn)}catch(gn){an(gn)}else if(null!==pn){const gn=ee();gn.serverResponse=pn.getErrorText(),an(this.errorCallback_?this.errorCallback_(pn,gn):gn)}else an(ut.canceled?this.appDelete_?Ge():Ne():function tt(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new Or(!1,null,!0)):this.backoffId_=function nt(te,Z,we){let Ve=1,ut=null,yt=null,an=!1,pn=0;function gn(){return 2===pn}let Un=!1;function sr(...U){Un||(Un=!0,Z.apply(null,U))}function mr(U){ut=setTimeout(()=>{ut=null,te(Nr,gn())},U)}function Jr(){yt&&clearTimeout(yt)}function Nr(U,...ce){if(Un)return void Jr();if(U)return Jr(),void sr.call(null,U,...ce);if(gn()||an)return Jr(),void sr.call(null,U,...ce);let _t;Ve<64&&(Ve*=2),1===pn?(pn=2,_t=0):_t=1e3*(Ve+Math.random()),mr(_t)}let F=!1;function re(U){F||(F=!0,Jr(),!Un&&(null!==ut?(U||(pn=2),clearTimeout(ut),mr(0)):U||(pn=1)))}return mr(0),yt=setTimeout(()=>{an=!0,re(!0)},we),re}((Ve,ut)=>{if(ut)return void Ve(!1,new Or(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const an=pn=>{null!==this.progressCallback_&&this.progressCallback_(pn.loaded,pn.lengthComputable?pn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(an),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(an),this.pendingConnection_=null;const pn=yt.getErrorCode()===bn.NO_ERROR,gn=yt.getStatus();if(!pn||this.isRetryStatusCode_(gn)){const sr=yt.getErrorCode()===bn.ABORT;return void Ve(!1,new Or(!1,null,sr))}const Un=-1!==this.successCodes_.indexOf(gn);Ve(!0,new Or(Un,yt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(Z){this.canceled_=!0,this.appDelete_=Z||!1,null!==this.backoffId_&&function Ut(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(Z){const we=Z>=500&&Z<600,ut=-1!==[408,429].indexOf(Z),yt=-1!==this.additionalRetryCodes_.indexOf(Z);return we||ut||yt}}class Or{constructor(Z,we,Ve){this.wasSuccessCode=Z,this.connection=we,this.canceled=!!Ve}}function ur(...te){const Z=function nr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Z){const we=new Z;for(let Ve=0;Ve<te.length;Ve++)we.append(te[Ve]);return we.getBlob()}if(_n())return new Blob(te);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vn{constructor(Z,we){this.data=Z,this.contentType=we||null}}function Nn(te,Z){switch(te){case Fn.RAW:return new vn(Tr(Z));case Fn.BASE64:case Fn.BASE64URL:return new vn(Yn(te,Z));case Fn.DATA_URL:return new vn(function li(te){const Z=new Mr(te);return Z.base64?Yn(Fn.BASE64,Z.rest):function qr(te){let Z;try{Z=decodeURIComponent(te)}catch{throw He(Fn.DATA_URL,"Malformed data URL.")}return Tr(Z)}(Z.rest)}(Z),function kn(te){return new Mr(te).contentType}(Z))}throw ee()}function Tr(te){const Z=[];for(let we=0;we<te.length;we++){let Ve=te.charCodeAt(we);Ve<=127?Z.push(Ve):Ve<=2047?Z.push(192|Ve>>6,128|63&Ve):55296==(64512&Ve)?we<te.length-1&&56320==(64512&te.charCodeAt(we+1))?(Ve=65536|(1023&Ve)<<10|1023&te.charCodeAt(++we),Z.push(240|Ve>>18,128|Ve>>12&63,128|Ve>>6&63,128|63&Ve)):Z.push(239,191,189):56320==(64512&Ve)?Z.push(239,191,189):Z.push(224|Ve>>12,128|Ve>>6&63,128|63&Ve)}return new Uint8Array(Z)}function Yn(te,Z){switch(te){case Fn.BASE64:{const ut=-1!==Z.indexOf("-"),yt=-1!==Z.indexOf("_");if(ut||yt)throw He(te,"Invalid character '"+(ut?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const ut=-1!==Z.indexOf("+"),yt=-1!==Z.indexOf("/");if(ut||yt)throw He(te,"Invalid character '"+(ut?"+":"/")+"' found: is it base64 encoded?");Z=Z.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function Qn(te){return atob(te)}(Z)}catch{throw He(te,"Invalid character found")}const Ve=new Uint8Array(we.length);for(let ut=0;ut<we.length;ut++)Ve[ut]=we.charCodeAt(ut);return Ve}class Mr{constructor(Z){this.base64=!1,this.contentType=null;const we=Z.match(/^data:([^,]+)?,/);if(null===we)throw He(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ve=we[1]||null;null!=Ve&&(this.base64=function Yt(te,Z){return te.length>=Z.length&&te.substring(te.length-Z.length)===Z}(Ve,";base64"),this.contentType=this.base64?Ve.substring(0,Ve.length-7):Ve),this.rest=Z.substring(Z.indexOf(",")+1)}}class en{constructor(Z,we){let Ve=0,ut="";Rt(Z)?(this.data_=Z,Ve=Z.size,ut=Z.type):Z instanceof ArrayBuffer?(we?this.data_=new Uint8Array(Z):(this.data_=new Uint8Array(Z.byteLength),this.data_.set(new Uint8Array(Z))),Ve=this.data_.length):Z instanceof Uint8Array&&(we?this.data_=Z:(this.data_=new Uint8Array(Z.length),this.data_.set(Z)),Ve=Z.length),this.size_=Ve,this.type_=ut}size(){return this.size_}type(){return this.type_}slice(Z,we){if(Rt(this.data_)){const ut=function rn(te,Z,we){return te.webkitSlice?te.webkitSlice(Z,we):te.mozSlice?te.mozSlice(Z,we):te.slice?te.slice(Z,we):null}(this.data_,Z,we);return null===ut?null:new en(ut)}{const Ve=new Uint8Array(this.data_.buffer,Z,we-Z);return new en(Ve,!0)}}static getBlob(...Z){if(_n()){const we=Z.map(Ve=>Ve instanceof en?Ve.data_:Ve);return new en(ur.apply(null,we))}{const we=Z.map(an=>at(an)?Nn(Fn.RAW,an).data:an.data_);let Ve=0;we.forEach(an=>{Ve+=an.byteLength});const ut=new Uint8Array(Ve);let yt=0;return we.forEach(an=>{for(let pn=0;pn<an.length;pn++)ut[yt++]=an[pn]}),new en(ut,!0)}}uploadData(){return this.data_}}function zr(te){let Z;try{Z=JSON.parse(te)}catch{return null}return function bt(te){return"object"==typeof te&&!Array.isArray(te)}(Z)?Z:null}function Pr(te){const Z=te.lastIndexOf("/",te.length-2);return-1===Z?te:te.slice(Z+1)}function cr(te,Z){return Z}class Qt{constructor(Z,we,Ve,ut){this.server=Z,this.local=we||Z,this.writable=!!Ve,this.xform=ut||cr}}let jn=null;function Oe(){if(jn)return jn;const te=[];te.push(new Qt("bucket")),te.push(new Qt("generation")),te.push(new Qt("metageneration")),te.push(new Qt("name","fullPath",!0));const we=new Qt("name");we.xform=function Z(yt,an){return function $r(te){return!at(te)||te.length<2?te:Pr(te)}(an)},te.push(we);const ut=new Qt("size");return ut.xform=function Ve(yt,an){return void 0!==an?Number(an):an},te.push(ut),te.push(new Qt("timeCreated")),te.push(new Qt("updated")),te.push(new Qt("md5Hash",null,!0)),te.push(new Qt("cacheControl",null,!0)),te.push(new Qt("contentDisposition",null,!0)),te.push(new Qt("contentEncoding",null,!0)),te.push(new Qt("contentLanguage",null,!0)),te.push(new Qt("contentType",null,!0)),te.push(new Qt("metadata","customMetadata",!0)),jn=te,jn}function V(te,Z,we){const Ve=zr(Z);return null===Ve?null:function le(te,Z,we){const Ve={type:"file"},ut=we.length;for(let yt=0;yt<ut;yt++){const an=we[yt];Ve[an.local]=an.xform(Ve,Z[an.server])}return function ke(te,Z){Object.defineProperty(te,"ref",{get:function we(){const yt=new Ue(te.bucket,te.fullPath);return Z._makeStorageReference(yt)}})}(Ve,te),Ve}(te,Ve,we)}function Se(te,Z){const we={},Ve=Z.length;for(let ut=0;ut<Ve;ut++){const yt=Z[ut];yt.writable&&(we[yt.server]=te[yt.local])}return JSON.stringify(we)}const ot="prefixes";class Tn{constructor(Z,we,Ve,ut){this.url=Z,this.method=we,this.handler=Ve,this.timeout=ut,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qe(te){if(!te)throw ee()}function Ce(te,Z){return function we(Ve,ut){const yt=V(te,ut,Z);return qe(null!==yt),yt}}function Vt(te){return function Z(we,Ve){let ut;return ut=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function Xe(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Me(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function ze(te){return new se("quota-exceeded","Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===we.getStatus()?function Tt(te){return new se("unauthorized","User does not have permission to access '"+te+"'.")}(te.path):Ve,ut.serverResponse=Ve.serverResponse,ut}}function wn(te){const Z=Vt(te);return function we(Ve,ut){let yt=Z(Ve,ut);return 404===Ve.getStatus()&&(yt=function pe(te){return new se("object-not-found","Object '"+te+"' does not exist.")}(te.path)),yt.serverResponse=ut.serverResponse,yt}}function Mt(te,Z,we){const ut=yn(Z.fullServerUrl(),te.host,te._protocol),an=te.maxOperationRetryTime,pn=new Tn(ut,"GET",Ce(te,we),an);return pn.errorHandler=wn(Z),pn}function sn(te,Z,we,Ve,ut){const yt={};yt.prefix=Z.isRoot?"":Z.path+"/",we&&we.length>0&&(yt.delimiter=we),Ve&&(yt.pageToken=Ve),ut&&(yt.maxResults=ut);const pn=yn(Z.bucketOnlyServerUrl(),te.host,te._protocol),Un=te.maxOperationRetryTime,sr=new Tn(pn,"GET",function De(te,Z){return function we(Ve,ut){const yt=function fn(te,Z,we){const Ve=zr(we);return null===Ve?null:function xn(te,Z,we){const Ve={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[ot])for(const ut of we[ot]){const yt=ut.replace(/\/$/,""),an=te._makeStorageReference(new Ue(Z,yt));Ve.prefixes.push(an)}if(we.items)for(const ut of we.items){const yt=te._makeStorageReference(new Ue(Z,ut.name));Ve.items.push(yt)}return Ve}(te,Z,Ve)}(te,Z,ut);return qe(null!==yt),yt}}(te,Z.bucket),Un);return sr.urlParams=yt,sr.errorHandler=Vt(Z),sr}function Jt(te,Z,we){const Ve=Object.assign({},we);return Ve.fullPath=te.path,Ve.size=Z.size(),Ve.contentType||(Ve.contentType=function xt(te,Z){return te&&te.contentType||Z&&Z.type()||"application/octet-stream"}(null,Z)),Ve}class Vn{constructor(Z,we,Ve,ut){this.current=Z,this.total=we,this.finalized=!!Ve,this.metadata=ut||null}}function Dn(te,Z){let we=null;try{we=te.getResponseHeader("X-Goog-Upload-Status")}catch{qe(!1)}return qe(!!we&&-1!==(Z||["active"]).indexOf(we)),we}const ti={STATE_CHANGED:"state_changed"},Hr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ai(te){switch(te){case"running":case"pausing":case"canceling":return Hr.RUNNING;case"paused":return Hr.PAUSED;case"success":return Hr.SUCCESS;case"canceled":return Hr.CANCELED;default:return Hr.ERROR}}class Qr{constructor(Z,we,Ve){if(function Pt(te){return"function"==typeof te}(Z)||null!=we||null!=Ve)this.next=Z,this.error=we??void 0,this.complete=Ve??void 0;else{const yt=Z;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function ui(te){return(...Z)=>{Promise.resolve().then(()=>te(...Z))}}class Li extends class Rr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bn.NO_ERROR,this.sendPromise_=new Promise(Z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bn.ABORT,Z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bn.NETWORK_ERROR,Z()}),this.xhr_.addEventListener("load",()=>{Z()})})}send(Z,we,Ve,ut){if(this.sent_)throw et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,Z,!0),void 0!==ut)for(const yt in ut)ut.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,ut[yt].toString());return void 0!==Ve?this.xhr_.send(Ve):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Z){return this.xhr_.getResponseHeader(Z)}addUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Z)}removeUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Z)}}{initXhr(){this.xhr_.responseType="text"}}function Mi(){return new Li}class Ze{constructor(Z,we,Ve=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Z,this._blob=we,this._metadata=Ve,this._mappings=Oe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ut=>{this._request=void 0,this._chunkMultiplier=1,ut._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ut,this._transition("error"))},this._metadataErrorHandler=ut=>{this._request=void 0,ut._codeEquals("canceled")?this.completeTransitions_():(this._error=ut,this._transition("error"))},this._promise=new Promise((ut,yt)=>{this._resolve=ut,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const Z=this._transferred;return we=>this._updateProgress(Z+we)}_shouldDoResumable(Z){return Z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(Z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Ve])=>{switch(this._state){case"running":Z(we,Ve);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Z,we)=>{const Ve=function Br(te,Z,we,Ve,ut){const yt=Z.bucketOnlyServerUrl(),an=Jt(Z,Ve,ut),pn={name:an.fullPath},gn=yn(yt,te.host,te._protocol),sr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ve.size()}`,"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},mr=Se(an,we),F=new Tn(gn,"POST",function Nr(re){let U;Dn(re);try{U=re.getResponseHeader("X-Goog-Upload-URL")}catch{qe(!1)}return qe(at(U)),U},te.maxUploadRetryTime);return F.urlParams=pn,F.headers=sr,F.body=mr,F.errorHandler=Vt(Z),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ve,Mi,Z,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Z=this._uploadUrl;this._resolveToken((we,Ve)=>{const ut=function fi(te,Z,we,Ve){const gn=new Tn(we,"POST",function yt(Un){const sr=Dn(Un,["active","final"]);let mr=null;try{mr=Un.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qe(!1)}mr||qe(!1);const Jr=Number(mr);return qe(!isNaN(Jr)),new Vn(Jr,Ve.size(),"final"===sr)},te.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=Vt(Z),gn}(this._ref.storage,this._ref._location,Z,this._blob),yt=this._ref.storage._makeRequest(ut,Mi,we,Ve);this._request=yt,yt.getPromise().then(an=>{this._request=void 0,this._updateProgress(an.current),this._needToFetchStatus=!1,an.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Z=262144*this._chunkMultiplier,we=new Vn(this._transferred,this._blob.size()),Ve=this._uploadUrl;this._resolveToken((ut,yt)=>{let an;try{an=function Ki(te,Z,we,Ve,ut,yt,an,pn){const gn=new Vn(0,0);if(an?(gn.current=an.current,gn.total=an.total):(gn.current=0,gn.total=Ve.size()),Ve.size()!==gn.total)throw function Ye(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Un=gn.total-gn.current;let sr=Un;ut>0&&(sr=Math.min(sr,ut));const mr=gn.current,F={"X-Goog-Upload-Command":sr===Un?"upload, finalize":"upload","X-Goog-Upload-Offset":`${gn.current}`},re=Ve.slice(mr,mr+sr);if(null===re)throw de();const _t=new Tn(we,"POST",function U(it,un){const Zn=Dn(it,["active","final"]),jr=gn.current+sr,kr=Ve.size();let Er;return Er="final"===Zn?Ce(Z,yt)(it,un):null,new Vn(jr,kr,"final"===Zn,Er)},Z.maxUploadRetryTime);return _t.headers=F,_t.body=re.uploadData(),_t.progressCallback=pn||null,_t.errorHandler=Vt(te),_t}(this._ref._location,this._ref.storage,Ve,this._blob,Z,this._mappings,we,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const pn=this._ref.storage._makeRequest(an,Mi,ut,yt);this._request=pn,pn.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Z,we)=>{const Ve=Mt(this._ref.storage,this._ref._location,this._mappings),ut=this._ref.storage._makeRequest(Ve,Mi,Z,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Z,we)=>{const Ve=function Wn(te,Z,we,Ve,ut){const yt=Z.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},gn=function pn(){let _t="";for(let it=0;it<2;it++)_t+=Math.random().toString().slice(2);return _t}();an["Content-Type"]="multipart/related; boundary="+gn;const Un=Jt(Z,Ve,ut),sr=Se(Un,we),Nr=en.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sr+"\r\n--"+gn+"\r\nContent-Type: "+Un.contentType+"\r\n\r\n",Ve,"\r\n--"+gn+"--");if(null===Nr)throw de();const F={name:Un.fullPath},re=yn(yt,te.host,te._protocol),ce=te.maxUploadRetryTime,Be=new Tn(re,"POST",Ce(te,we),ce);return Be.urlParams=F,Be.headers=an,Be.body=Nr.uploadData(),Be.errorHandler=Vt(Z),Be}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ve,Mi,Z,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Z){const we=this._transferred;this._transferred=Z,this._transferred!==we&&this._notifyObservers()}_transition(Z){if(this._state!==Z)switch(Z){case"canceling":case"pausing":this._state=Z,void 0!==this._request&&this._request.cancel();break;case"running":const we="paused"===this._state;this._state=Z,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Z,this._notifyObservers();break;case"canceled":this._error=Ne(),this._state=Z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Z=Ai(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Z,metadata:this._metadata,task:this,ref:this._ref}}on(Z,we,Ve,ut){const yt=new Qr(we||void 0,Ve||void 0,ut||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(Z,we){return this._promise.then(Z,we)}catch(Z){return this.then(null,Z)}_addObserver(Z){this._observers.push(Z),this._notifyObserver(Z)}_removeObserver(Z){const we=this._observers.indexOf(Z);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let Z=!0;switch(Ai(this._state)){case Hr.SUCCESS:ui(this._resolve.bind(null,this.snapshot))();break;case Hr.CANCELED:case Hr.ERROR:ui(this._reject.bind(null,this._error))();break;default:Z=!1}Z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Z){switch(Ai(this._state)){case Hr.RUNNING:case Hr.PAUSED:Z.next&&ui(Z.next.bind(Z,this.snapshot))();break;case Hr.SUCCESS:Z.complete&&ui(Z.complete.bind(Z))();break;default:Z.error&&ui(Z.error.bind(Z,this._error))()}}resume(){const Z="paused"===this._state||"pausing"===this._state;return Z&&this._transition("running"),Z}pause(){const Z="running"===this._state;return Z&&this._transition("pausing"),Z}cancel(){const Z="running"===this._state||"pausing"===this._state;return Z&&this._transition("canceling"),Z}}class $e{constructor(Z,we){this._service=Z,this._location=we instanceof Ue?we:Ue.makeFromUrl(we,Z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Z,we){return new $e(Z,we)}get root(){const Z=new Ue(this._location.bucket,"");return this._newRef(this._service,Z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pr(this._location.path)}get storage(){return this._service}get parent(){const Z=function Ur(te){if(0===te.length)return null;const Z=te.lastIndexOf("/");return-1===Z?"":te.slice(0,Z)}(this._location.path);if(null===Z)return null;const we=new Ue(this._location.bucket,Z);return new $e(this._service,we)}_throwIfRoot(Z){if(""===this._location.path)throw ht(Z)}}function je(te,Z,we){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(te,Z,we){const ut=yield Wt(te,{pageToken:we});Z.prefixes.push(...ut.prefixes),Z.items.push(...ut.items),null!=ut.nextPageToken&&(yield je(te,Z,ut.nextPageToken))})).apply(this,arguments)}function Wt(te,Z){null!=Z&&"number"==typeof Z.maxResults&&Cn("options.maxResults",1,1e3,Z.maxResults);const we=Z||{},Ve=sn(te.storage,te._location,"/",we.pageToken,we.maxResults);return te.storage.makeRequestWithTokens(Ve,Mi)}function Cr(te){te._throwIfRoot("getDownloadURL");const Z=function Re(te,Z,we){const ut=yn(Z.fullServerUrl(),te.host,te._protocol),an=te.maxOperationRetryTime,pn=new Tn(ut,"GET",function wt(te,Z){return function we(Ve,ut){const yt=V(te,ut,Z);return qe(null!==yt),function K(te,Z,we,Ve){const ut=zr(Z);if(null===ut||!at(ut.downloadTokens))return null;const yt=ut.downloadTokens;if(0===yt.length)return null;const an=encodeURIComponent;return yt.split(",").map(Un=>{const mr=te.fullPath;return yn("/b/"+an(te.bucket)+"/o/"+an(mr),we,Ve)+En({alt:"media",token:Un})})[0]}(yt,ut,te.host,te._protocol)}}(te,we),an);return pn.errorHandler=wn(Z),pn}(te.storage,te._location,Oe());return te.storage.makeRequestWithTokens(Z,Mi).then(we=>{if(null===we)throw function Ie(){return new se("no-download-url","The given file does not have any download URLs.")}();return we})}function Ti(te,Z){const we=function An(te,Z){const we=Z.split("/").filter(Ve=>Ve.length>0).join("/");return 0===te.length?we:te+"/"+we}(te._location.path,Z),Ve=new Ue(te._location.bucket,we);return new $e(te.storage,Ve)}function Ps(te,Z){if(te instanceof ms){const we=te;if(null==we._bucket)throw function Je(){return new se("no-default-bucket","No default bucket found. Did you set the '"+J+"' property when initializing the app?")}();const Ve=new $e(we,we._bucket);return null!=Z?Ps(Ve,Z):Ve}return void 0!==Z?Ti(te,Z):te}function Ds(te,Z){if(Z&&function dr(te){return/^[A-Za-z]+:\/\//.test(te)}(Z)){if(te instanceof ms)return function ai(te,Z){return new $e(te,Z)}(te,Z);throw he("To use ref(service, url), the first argument must be a Storage instance.")}return Ps(te,Z)}function Rs(te,Z){const we=Z?.[J];return null==we?null:Ue.makeFromBucketSpec(we,te)}class ms{constructor(Z,we,Ve,ut,yt){this.app=Z,this._authProvider=we,this._appCheckProvider=Ve,this._url=ut,this._firebaseVersion=yt,this._bucket=null,this._host=W,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ut?Ue.makeFromBucketSpec(ut,this._host):Rs(this._host,this.app.options)}get host(){return this._host}set host(Z){this._host=Z,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,Z):Rs(Z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Z){Cn("time",0,Number.POSITIVE_INFINITY,Z),this._maxUploadRetryTime=Z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Z){Cn("time",0,Number.POSITIVE_INFINITY,Z),this._maxOperationRetryTime=Z}_getAuthToken(){var Z=this;return(0,h.Z)(function*(){if(Z._overrideAuthToken)return Z._overrideAuthToken;const we=Z._authProvider.getImmediate({optional:!0});if(we){const Ve=yield we.getToken();if(null!==Ve)return Ve.accessToken}return null})()}_getAppCheckToken(){var Z=this;return(0,h.Z)(function*(){const we=Z._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Z=>Z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Z){return new $e(this,Z)}_makeRequest(Z,we,Ve,ut){if(this._deleted)return new pt(Ge());{const yt=function Ar(te,Z,we,Ve,ut,yt){const an=En(te.urlParams),pn=te.url+an,gn=Object.assign({},te.headers);return function ei(te,Z){Z&&(te["X-Firebase-GMPID"]=Z)}(gn,Z),function pr(te,Z){null!==Z&&Z.length>0&&(te.Authorization="Firebase "+Z)}(gn,we),function nn(te,Z){te["X-Firebase-Storage-Version"]="webjs/"+(Z??"AppManager")}(gn,yt),function $n(te,Z){null!==Z&&(te["X-Firebase-AppCheck"]=Z)}(gn,Ve),new zn(pn,te.method,gn,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,ut)}(Z,this._appId,Ve,ut,we,this._firebaseVersion);return this._requests.add(yt),yt.getPromise().then(()=>this._requests.delete(yt),()=>this._requests.delete(yt)),yt}}makeRequestWithTokens(Z,we){var Ve=this;return(0,h.Z)(function*(){const[ut,yt]=yield Promise.all([Ve._getAuthToken(),Ve._getAppCheckToken()]);return Ve._makeRequest(Z,we,ut,yt).getPromise()})()}}const Bs="@firebase/storage",Ns="storage";function $o(te,Z,we){return function cn(te,Z,we){return te._throwIfRoot("uploadBytesResumable"),new Ze(te,new en(Z),we)}(te=(0,k.m9)(te),Z,we)}function ds(te){return function tn(te){te._throwIfRoot("getMetadata");const Z=Mt(te.storage,te._location,Oe());return te.storage.makeRequestWithTokens(Z,Mi)}(te=(0,k.m9)(te))}function ys(te,Z){return function rr(te,Z){te._throwIfRoot("updateMetadata");const we=function ve(te,Z,we,Ve){const yt=yn(Z.fullServerUrl(),te.host,te._protocol),pn=Se(we,Ve),Un=te.maxOperationRetryTime,sr=new Tn(yt,"PATCH",Ce(te,Ve),Un);return sr.headers={"Content-Type":"application/json; charset=utf-8"},sr.body=pn,sr.errorHandler=wn(Z),sr}(te.storage,te._location,Z,Oe());return te.storage.makeRequestWithTokens(we,Mi)}(te=(0,k.m9)(te),Z)}function Zi(te,Z){return Wt(te=(0,k.m9)(te),Z)}function qi(te){return function ct(te){const Z={prefixes:[],items:[]};return je(te,Z).then(()=>Z)}(te=(0,k.m9)(te))}function $i(te){return Cr(te=(0,k.m9)(te))}function Hs(te){return function gr(te){te._throwIfRoot("deleteObject");const Z=function Fe(te,Z){const Ve=yn(Z.fullServerUrl(),te.host,te._protocol),pn=new Tn(Ve,"DELETE",function an(gn,Un){},te.maxOperationRetryTime);return pn.successCodes=[200,204],pn.errorHandler=wn(Z),pn}(te.storage,te._location);return te.storage.makeRequestWithTokens(Z,Mi)}(te=(0,k.m9)(te))}function _s(te,Z){return Ds(te=(0,k.m9)(te),Z)}function vs(te,Z){return Ti(te,Z)}function Es(te=(0,u.getApp)(),Z){return te=(0,k.m9)(te),(0,u._getProvider)(te,Ns).getImmediate({identifier:Z})}function bs(te,Z,we,Ve={}){!function Us(te,Z,we,Ve={}){te.host=`${Z}:${we}`,te._protocol="http";const{mockUserToken:ut}=Ve;ut&&(te._overrideAuthToken="string"==typeof ut?ut:(0,k.Sg)(ut,te.app.options.projectId))}(te,Z,we,Ve)}function Vr(te,{instanceIdentifier:Z}){const we=te.getProvider("app").getImmediate(),Ve=te.getProvider("auth-internal"),ut=te.getProvider("app-check-internal");return new ms(we,Ve,ut,Z,u.SDK_VERSION)}!function si(){(0,u._registerComponent)(new fe.wA(Ns,Vr,"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(Bs,"0.9.9",""),(0,u.registerVersion)(Bs,"0.9.9","esm2017")}()},2090:(jt,Ke,M)=>{M.d(Ke,{$s:()=>cr,BH:()=>ze,G6:()=>he,L:()=>Y,LL:()=>nt,Mn:()=>Ye,Sg:()=>Me,UG:()=>tt,US:()=>J,ZB:()=>ee,ZR:()=>pt,b$:()=>Bt,d:()=>Je,eu:()=>ht,hl:()=>Ge,jU:()=>Ne,m9:()=>$r,ne:()=>rn,pd:()=>nr,r3:()=>En,ru:()=>Pe,tV:()=>se,uI:()=>Tt,vZ:()=>pr,w1:()=>de,xO:()=>$n,xb:()=>zn,z$:()=>Xe,zI:()=>He,zd:()=>Ar});const fe=function(Oe){const ke=[];let le=0;for(let V=0;V<Oe.length;V++){let K=Oe.charCodeAt(V);K<128?ke[le++]=K:K<2048?(ke[le++]=K>>6|192,ke[le++]=63&K|128):55296==(64512&K)&&V+1<Oe.length&&56320==(64512&Oe.charCodeAt(V+1))?(K=65536+((1023&K)<<10)+(1023&Oe.charCodeAt(++V)),ke[le++]=K>>18|240,ke[le++]=K>>12&63|128,ke[le++]=K>>6&63|128,ke[le++]=63&K|128):(ke[le++]=K>>12|224,ke[le++]=K>>6&63|128,ke[le++]=63&K|128)}return ke},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,ke){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let K=0;K<Oe.length;K+=3){const Se=Oe[K],ot=K+1<Oe.length,zt=ot?Oe[K+1]:0,xn=K+2<Oe.length,fn=xn?Oe[K+2]:0;let Ce=(15&zt)<<2|fn>>6,De=63&fn;xn||(De=64,ot||(Ce=64)),V.push(le[Se>>2],le[(3&Se)<<4|zt>>4],le[Ce],le[De])}return V.join("")},encodeString(Oe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?btoa(Oe):this.encodeByteArray(fe(Oe),ke)},decodeString(Oe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?atob(Oe):function(Oe){const ke=[];let le=0,V=0;for(;le<Oe.length;){const K=Oe[le++];if(K<128)ke[V++]=String.fromCharCode(K);else if(K>191&&K<224){const Se=Oe[le++];ke[V++]=String.fromCharCode((31&K)<<6|63&Se)}else if(K>239&&K<365){const xn=((7&K)<<18|(63&Oe[le++])<<12|(63&Oe[le++])<<6|63&Oe[le++])-65536;ke[V++]=String.fromCharCode(55296+(xn>>10)),ke[V++]=String.fromCharCode(56320+(1023&xn))}else{const Se=Oe[le++],ot=Oe[le++];ke[V++]=String.fromCharCode((15&K)<<12|(63&Se)<<6|63&ot)}}return ke.join("")}(this.decodeStringToByteArray(Oe,ke))},decodeStringToByteArray(Oe,ke){this.init_();const le=ke?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let K=0;K<Oe.length;){const Se=le[Oe.charAt(K++)],zt=K<Oe.length?le[Oe.charAt(K)]:0;++K;const fn=K<Oe.length?le[Oe.charAt(K)]:64;++K;const qe=K<Oe.length?le[Oe.charAt(K)]:64;if(++K,null==Se||null==zt||null==fn||null==qe)throw Error();V.push(Se<<2|zt>>4),64!==fn&&(V.push(zt<<4&240|fn>>2),64!==qe&&V.push(fn<<6&192|qe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},Y=function(Oe){return function(Oe){const ke=fe(Oe);return J.encodeByteArray(ke,!0)}(Oe).replace(/\./g,"")},se=function(Oe){try{return J.decodeString(Oe,!0)}catch(ke){console.error("base64Decode failed: ",ke)}return null};function ee(Oe,ke){if(!(ke instanceof Object))return ke;switch(ke.constructor){case Date:return new Date(ke.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return ke}for(const le in ke)!ke.hasOwnProperty(le)||!pe(le)||(Oe[le]=ee(Oe[le],ke[le]));return Oe}function pe(Oe){return"__proto__"!==Oe}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ke,le)=>{this.resolve=ke,this.reject=le})}wrapCallback(ke){return(le,V)=>{le?this.reject(le):this.resolve(V),"function"==typeof ke&&(this.promise.catch(()=>{}),1===ke.length?ke(le):ke(le,V))}}}function Me(Oe,ke){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ke||"demo-project",K=Oe.iat||0,Se=Oe.sub||Oe.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:K,exp:K+3600,auth_time:K,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(ot)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function tt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function Pe(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function Bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){return Xe().indexOf("Electron/")>=0}function de(){const Oe=Xe();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function Ye(){return Xe().indexOf("MSAppHost/")>=0}function he(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){return"object"==typeof indexedDB}function ht(){return new Promise((Oe,ke)=>{try{let le=!0;const V="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(V);K.onsuccess=()=>{K.result.close(),le||self.indexedDB.deleteDatabase(V),Oe(!0)},K.onupgradeneeded=()=>{le=!1},K.onerror=()=>{var Se;ke((null===(Se=K.error)||void 0===Se?void 0:Se.message)||"")}}catch(le){ke(le)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(ke,le,V){super(le),this.code=ke,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(ke,le,V){this.service=ke,this.serviceName=le,this.errors=V}create(ke,...le){const V=le[0]||{},K=`${this.service}/${ke}`,Se=this.errors[ke],ot=Se?function Ut(Oe,ke){return Oe.replace(lt,(le,V)=>{const K=ke[V];return null!=K?String(K):`<${V}?>`})}(Se,V):"Error";return new pt(K,`${this.serviceName}: ${ot} (${K}).`,V)}}const lt=/\{\$([^}]+)}/g;function En(Oe,ke){return Object.prototype.hasOwnProperty.call(Oe,ke)}function zn(Oe){for(const ke in Oe)if(Object.prototype.hasOwnProperty.call(Oe,ke))return!1;return!0}function pr(Oe,ke){if(Oe===ke)return!0;const le=Object.keys(Oe),V=Object.keys(ke);for(const K of le){if(!V.includes(K))return!1;const Se=Oe[K],ot=ke[K];if(nn(Se)&&nn(ot)){if(!pr(Se,ot))return!1}else if(Se!==ot)return!1}for(const K of V)if(!le.includes(K))return!1;return!0}function nn(Oe){return null!==Oe&&"object"==typeof Oe}function $n(Oe){const ke=[];for(const[le,V]of Object.entries(Oe))Array.isArray(V)?V.forEach(K=>{ke.push(encodeURIComponent(le)+"="+encodeURIComponent(K))}):ke.push(encodeURIComponent(le)+"="+encodeURIComponent(V));return ke.length?"&"+ke.join("&"):""}function Ar(Oe){const ke={};return Oe.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[K,Se]=V.split("=");ke[decodeURIComponent(K)]=decodeURIComponent(Se)}}),ke}function nr(Oe){const ke=Oe.indexOf("?");if(!ke)return"";const le=Oe.indexOf("#",ke);return Oe.substring(ke,le>0?le:void 0)}function rn(Oe,ke){const le=new Qn(Oe,ke);return le.subscribe.bind(le)}class Qn{constructor(ke,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{ke(this)}).catch(V=>{this.error(V)})}next(ke){this.forEachObserver(le=>{le.next(ke)})}error(ke){this.forEachObserver(le=>{le.error(ke)}),this.close(ke)}complete(){this.forEachObserver(ke=>{ke.complete()}),this.close()}subscribe(ke,le,V){let K;if(void 0===ke&&void 0===le&&void 0===V)throw new Error("Missing Observer.");K=function vn(Oe,ke){if("object"!=typeof Oe||null===Oe)return!1;for(const le of ke)if(le in Oe&&"function"==typeof Oe[le])return!0;return!1}(ke,["next","error","complete"])?ke:{next:ke,error:le,complete:V},void 0===K.next&&(K.next=Nn),void 0===K.error&&(K.error=Nn),void 0===K.complete&&(K.complete=Nn);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Se}unsubscribeOne(ke){void 0===this.observers||void 0===this.observers[ke]||(delete this.observers[ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ke){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,ke)}sendOne(ke,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ke])try{le(this.observers[ke])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ke){this.finalized||(this.finalized=!0,void 0!==ke&&(this.finalError=ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}function cr(Oe,ke=1e3,le=2){const V=ke*Math.pow(le,Oe),K=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+K)}function $r(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},8737:(jt,Ke,M)=>{M.d(Ke,{D:()=>h});var h=(()=>{return(u=h||(h={})).Cat="Cat",u.Dog="Dog",u.Bird="Bird",u.Fish="Fish",h;var u})()},6981:(jt,Ke,M)=>{M.d(Ke,{H:()=>u,P:()=>h});var h=(()=>{return(k=h||(h={})).Supplies="Supplies",k.Accessories="Accessories",k.Toys="Toys",k.Litter="Litter",k.Grooming="Grooming",h;var k})(),u=(()=>{return(k=u||(u={})).Josera="Josera",k.RoyalCanin="Royal Canin",k.Belcando="Belcando",k.OmniGuard="Omni Guard",k.Bewi="Bewi",k.PetMatter="Pet Matters",k.Nunbell="Nunbell",k.Alpha="Alpha",k.Perfecto="Perfecto",k.Quiko="Quiko",k.Georplast="Georplast",k.GiGwi="GiGwi",k.Ariika="Ariika",k.PetsRepublic="Pets Republic",k.WonderCat="Wonder Cat",k.RoseFishFood="Rose Fish Food",u;var k})()},7556:(jt,Ke,M)=>{M.d(Ke,{e:()=>W});var h=M(4004),u=M(4650),k=M(1205),fe=M(6185);let W=(()=>{class X{constructor(se,G){this._fireAuth=se,this._fireStore=G}register(se,G){return this._fireAuth.createUserWithEmailAndPassword(se,G)}saveUserToFireStore(se){return this._fireStore.collection(J.Users).doc(se.id).set(se)}removeUserFromFireStore(se){return this._fireStore.collection(J.Users).doc(se).delete()}removeUser(){return this._fireAuth.currentUser.then(se=>se?.delete())}changePassword(se){return this._fireAuth.sendPasswordResetEmail(se)}fetchUserProfile(se){return this._fireStore.collection(J.Users).doc(se).snapshotChanges().pipe((0,h.U)(G=>G.payload.data()))}login(se,G){return this._fireAuth.signInWithEmailAndPassword(se,G)}logout(){return new Promise((se,G)=>{this._fireAuth.signOut().then(ee=>se(ee),ee=>G(ee))})}createUserWishlist(se){let ee={[-999]:{id:"-999"}};return this._fireStore.collection(J.Wishlist).doc(se).set(ee)}createUserCart(se){let ee={[-999]:{id:"-999"}};return this._fireStore.collection(J.Cart).doc(se).set(ee)}}return X.\u0275fac=function(se){return new(se||X)(u.LFG(k.zQ),u.LFG(fe.ST))},X.\u0275prov=u.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();var J=(()=>{return(X=J||(J={})).Users="/Users",X.Store="/Store",X.Blog="/Blog",X.Wishlist="/Wishlist",X.Cart="/Cart",J;var X})()},4382:(jt,Ke,M)=>{M.d(Ke,{k:()=>W});var h=M(4650),u=M(1205),k=M(6185),fe=M(6897);let W=(()=>{class X{constructor(se,G,ee){this.fireAuth=se,this.afs=G,this.store=ee}fetchAllStoreItems(){return this.afs.collection(J.Store).snapshotChanges()}fetchAllBlog(){return this.afs.collection(J.Blog).snapshotChanges()}addReviewToProductItem(se){return this.afs.collection(J.Store).doc(se.id).update({reviews:se.reviews})}fetchBlogPosts(){return this.afs.collection(J.Blog).snapshotChanges()}addAnimal(se){return this.afs.collection(J.Pets).doc(se.id).set(se)}generateID(){return this.afs.createId()}fetchAllAnimals(){return this.afs.collection(J.Pets).snapshotChanges()}fetchAllWishlistItems(se){return this.afs.collection(J.Wishlist).doc(se).snapshotChanges()}addToWishlist(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Wishlist).doc(se).update(ee)}removeFromWishlist(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Wishlist).doc(se).set(ee)}fetchUserCart(se){return this.afs.collection(J.Cart).doc(se).snapshotChanges()}addToCart(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Cart).doc(se).update(ee)}removeFromCart(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Cart).doc(se).set(ee)}}return X.\u0275fac=function(se){return new(se||X)(h.LFG(u.zQ),h.LFG(k.ST),h.LFG(fe.yh))},X.\u0275prov=h.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();var J=(()=>{return(X=J||(J={})).Users="/Users",X.Store="/Store",X.Blog="/Blog",X.Wishlist="/Wishlist",X.Cart="/Cart",X.Pets="/Pets",J;var X})()},4458:(jt,Ke,M)=>{M.d(Ke,{AW:()=>J,GC:()=>fe,Mw:()=>Y,N_:()=>k,Ut:()=>X,Wl:()=>pe,Xq:()=>G,_M:()=>se,h2:()=>ee,qG:()=>ze,s3:()=>W,s9:()=>Me,sL:()=>u});var h=M(6897);const u=(0,h.PH)("FILL_PRODUCTS",(0,h.Ky)()),k=(0,h.PH)("ADD_REVIEW",(0,h.Ky)()),fe=(0,h.PH)("RESET_PRODUCTS"),W=(0,h.PH)("ADD_TO_WISHLIST",(0,h.Ky)()),J=(0,h.PH)("REMOVE_FROM_WISHLIST",(0,h.Ky)()),X=(0,h.PH)("FILL_WISHLIST",(0,h.Ky)()),Y=(0,h.PH)("RESET_WISH_LIST"),se=(0,h.PH)("FILL_CART",(0,h.Ky)()),G=(0,h.PH)("ADD_TO_CART",(0,h.Ky)()),ee=(0,h.PH)("REMOVE_FROM_CART",(0,h.Ky)()),pe=(0,h.PH)("INCREMENT_CART_ITEM",(0,h.Ky)()),ze=(0,h.PH)("DECREMENT_CART_ITEM",(0,h.Ky)()),Me=(0,h.PH)("RESET_CART")},4932:(jt,Ke,M)=>{var h=M(1481),u=M(4650),k=M(7340);function W(E){return new u.vHH(3e3,!1)}function En(){return typeof window<"u"&&typeof window.document<"u"}function bn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zn(E){switch(E.length){case 0:return new k.ZN;case 1:return E[0];default:return new k.ZE(E)}}function Or(E,m,d,_,N=new Map,q=new Map){const ye=[],xe=[];let ft=-1,kt=null;if(_.forEach(mn=>{const Bn=mn.get("offset"),ii=Bn==ft,Wr=ii&&kt||new Map;mn.forEach((fr,wr)=>{let _i=wr,Hi=fr;if("offset"!==wr)switch(_i=m.normalizePropertyName(_i,ye),Hi){case k.k1:Hi=N.get(wr);break;case k.l3:Hi=q.get(wr);break;default:Hi=m.normalizeStyleValue(wr,_i,Hi,ye)}Wr.set(_i,Hi)}),ii||xe.push(Wr),kt=Wr,ft=Bn}),ye.length)throw function et(E){return new u.vHH(3502,!1)}();return xe}function pr(E,m,d,_){switch(m){case"start":E.onStart(()=>_(d&&nn(d,"start",E)));break;case"done":E.onDone(()=>_(d&&nn(d,"done",E)));break;case"destroy":E.onDestroy(()=>_(d&&nn(d,"destroy",E)))}}function nn(E,m,d){const q=ei(E.element,E.triggerName,E.fromState,E.toState,m||E.phaseName,d.totalTime??E.totalTime,!!d.disabled),ye=E._data;return null!=ye&&(q._data=ye),q}function ei(E,m,d,_,N="",q=0,ye){return{element:E,triggerName:m,fromState:d,toState:_,phaseName:N,totalTime:q,disabled:!!ye}}function $n(E,m,d){let _=E.get(m);return _||E.set(m,_=d),_}function Ar(E){const m=E.indexOf(":");return[E.substring(1,m),E.slice(m+1)]}let nr=(E,m)=>!1,ur=(E,m,d)=>[],rn=null;function Qn(E){const m=E.parentNode||E.host;return m===rn?null:m}(bn()||typeof Element<"u")&&(En()?(rn=(()=>document.documentElement)(),nr=(E,m)=>{for(;m;){if(m===E)return!0;m=Qn(m)}return!1}):nr=(E,m)=>E.contains(m),ur=(E,m,d)=>{if(d)return Array.from(E.querySelectorAll(m));const _=E.querySelector(m);return _?[_]:[]});let Nn=null,Tr=!1;const li=nr,kn=ur;let en=(()=>{class E{validateStyleProperty(d){return function qr(E){Nn||(Nn=function Mr(){return typeof document<"u"?document.body:null}()||{},Tr=!!Nn.style&&"WebkitAppearance"in Nn.style);let m=!0;return Nn.style&&!function vn(E){return"ebkit"==E.substring(1,6)}(E)&&(m=E in Nn.style,!m&&Tr&&(m="Webkit"+E.charAt(0).toUpperCase()+E.slice(1)in Nn.style)),m}(d)}matchesElement(d,_){return!1}containsElement(d,_){return li(d,_)}getParentElement(d){return Qn(d)}query(d,_,N){return kn(d,_,N)}computeStyle(d,_,N){return N||""}animate(d,_,N,q,ye,xe=[],ft){return new k.ZN(N,q)}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})(),zr=(()=>{class E{}return E.NOOP=new en,E})();const cr="ng-enter",Qt="ng-leave",jn="ng-trigger",$r=".ng-trigger",Oe="ng-animating",ke=".ng-animating";function le(E){if("number"==typeof E)return E;const m=E.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:V(parseFloat(m[1]),m[2])}function V(E,m){return"s"===m?1e3*E:E}function K(E,m,d){return E.hasOwnProperty("duration")?E:function Se(E,m,d){let N,q=0,ye="";if("string"==typeof E){const xe=E.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xe)return m.push(W()),{duration:0,delay:0,easing:""};N=V(parseFloat(xe[1]),xe[2]);const ft=xe[3];null!=ft&&(q=V(parseFloat(ft),xe[4]));const kt=xe[5];kt&&(ye=kt)}else N=E;if(!d){let xe=!1,ft=m.length;N<0&&(m.push(function J(){return new u.vHH(3100,!1)}()),xe=!0),q<0&&(m.push(function X(){return new u.vHH(3101,!1)}()),xe=!0),xe&&m.splice(ft,0,W())}return{duration:N,delay:q,easing:ye}}(E,m,d)}function ot(E,m={}){return Object.keys(E).forEach(d=>{m[d]=E[d]}),m}function zt(E){const m=new Map;return Object.keys(E).forEach(d=>{m.set(d,E[d])}),m}function Tn(E,m=new Map,d){if(d)for(let[_,N]of d)m.set(_,N);for(let[_,N]of E)m.set(_,N);return m}function qe(E,m,d){return d?m+":"+d+";":""}function Ce(E){let m="";for(let d=0;d<E.style.length;d++){const _=E.style.item(d);m+=qe(0,_,E.style.getPropertyValue(_))}for(const d in E.style)E.style.hasOwnProperty(d)&&!d.startsWith("_")&&(m+=qe(0,xt(d),E.style[d]));E.setAttribute("style",m)}function De(E,m,d){E.style&&(m.forEach((_,N)=>{const q=Fe(N);d&&!d.has(N)&&d.set(N,E.style[q]),E.style[q]=_}),bn()&&Ce(E))}function wt(E,m){E.style&&(m.forEach((d,_)=>{const N=Fe(_);E.style[N]=""}),bn()&&Ce(E))}function Vt(E){return Array.isArray(E)?1==E.length?E[0]:(0,k.vP)(E):E}const Mt=new RegExp("{{\\s*(.+?)\\s*}}","g");function sn(E){let m=[];if("string"==typeof E){let d;for(;d=Mt.exec(E);)m.push(d[1]);Mt.lastIndex=0}return m}function Le(E,m,d){const _=E.toString(),N=_.replace(Mt,(q,ye)=>{let xe=m[ye];return null==xe&&(d.push(function se(E){return new u.vHH(3003,!1)}()),xe=""),xe.toString()});return N==_?E:N}function Re(E){const m=[];let d=E.next();for(;!d.done;)m.push(d.value),d=E.next();return m}const ve=/-+([a-z0-9])/g;function Fe(E){return E.replace(ve,(...m)=>m[1].toUpperCase())}function xt(E){return E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vn(E,m,d){switch(m.type){case 7:return E.visitTrigger(m,d);case 0:return E.visitState(m,d);case 1:return E.visitTransition(m,d);case 2:return E.visitSequence(m,d);case 3:return E.visitGroup(m,d);case 4:return E.visitAnimate(m,d);case 5:return E.visitKeyframes(m,d);case 6:return E.visitStyle(m,d);case 8:return E.visitReference(m,d);case 9:return E.visitAnimateChild(m,d);case 10:return E.visitAnimateRef(m,d);case 11:return E.visitQuery(m,d);case 12:return E.visitStagger(m,d);default:throw function G(E){return new u.vHH(3004,!1)}()}}function Dn(E,m){return window.getComputedStyle(E)[m]}function ui(E,m){const d=[];return"string"==typeof E?E.split(/\s*,\s*/).forEach(_=>function pi(E,m,d){if(":"==E[0]){const ft=function Rr(E,m){switch(E){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,_)=>parseFloat(_)>parseFloat(d);case":decrement":return(d,_)=>parseFloat(_)<parseFloat(d);default:return m.push(function he(E){return new u.vHH(3016,!1)}()),"* => *"}}(E,d);if("function"==typeof ft)return void m.push(ft);E=ft}const _=E.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return d.push(function Ie(E){return new u.vHH(3015,!1)}()),m;const N=_[1],q=_[2],ye=_[3];m.push(Fi(N,ye));"<"==q[0]&&!("*"==N&&"*"==ye)&&m.push(Fi(ye,N))}(_,d,m)):d.push(E),d}const Li=new Set(["true","1"]),Mi=new Set(["false","0"]);function Fi(E,m){const d=Li.has(E)||Mi.has(E),_=Li.has(m)||Mi.has(m);return(N,q)=>{let ye="*"==E||E==N,xe="*"==m||m==q;return!ye&&d&&"boolean"==typeof N&&(ye=N?Li.has(E):Mi.has(E)),!xe&&_&&"boolean"==typeof q&&(xe=q?Li.has(m):Mi.has(m)),ye&&xe}}const Ci=new RegExp("s*:selfs*,?","g");function Pi(E,m,d,_){return new $e(E).build(m,d,_)}class $e{constructor(m){this._driver=m}build(m,d,_){const N=new $t(d);return this._resetContextStyleTimingState(N),Vn(this,Vt(m),N)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,d){let _=d.queryCount=0,N=d.depCount=0;const q=[],ye=[];return"@"==m.name.charAt(0)&&d.errors.push(function pe(){return new u.vHH(3006,!1)}()),m.definitions.forEach(xe=>{if(this._resetContextStyleTimingState(d),0==xe.type){const ft=xe,kt=ft.name;kt.toString().split(/\s*,\s*/).forEach(mn=>{ft.name=mn,q.push(this.visitState(ft,d))}),ft.name=kt}else if(1==xe.type){const ft=this.visitTransition(xe,d);_+=ft.queryCount,N+=ft.depCount,ye.push(ft)}else d.errors.push(function ze(){return new u.vHH(3007,!1)}())}),{type:7,name:m.name,states:q,transitions:ye,queryCount:_,depCount:N,options:null}}visitState(m,d){const _=this.visitStyle(m.styles,d),N=m.options&&m.options.params||null;if(_.containsDynamicStyles){const q=new Set,ye=N||{};_.styles.forEach(xe=>{xe instanceof Map&&xe.forEach(ft=>{sn(ft).forEach(kt=>{ye.hasOwnProperty(kt)||q.add(kt)})})}),q.size&&(Re(q.values()),d.errors.push(function Me(E,m){return new u.vHH(3008,!1)}()))}return{type:0,name:m.name,style:_,options:N?{params:N}:null}}visitTransition(m,d){d.queryCount=0,d.depCount=0;const _=Vn(this,Vt(m.animation),d);return{type:1,matchers:ui(m.expr,d.errors),animation:_,queryCount:d.queryCount,depCount:d.depCount,options:ct(m.options)}}visitSequence(m,d){return{type:2,steps:m.steps.map(_=>Vn(this,_,d)),options:ct(m.options)}}visitGroup(m,d){const _=d.currentTime;let N=0;const q=m.steps.map(ye=>{d.currentTime=_;const xe=Vn(this,ye,d);return N=Math.max(N,d.currentTime),xe});return d.currentTime=N,{type:3,steps:q,options:ct(m.options)}}visitAnimate(m,d){const _=function _e(E,m){if(E.hasOwnProperty("duration"))return E;if("number"==typeof E)return je(K(E,m).duration,0,"");const d=E;if(d.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=je(0,0,"");return q.dynamic=!0,q.strValue=d,q}const N=K(d,m);return je(N.duration,N.delay,N.easing)}(m.timings,d.errors);d.currentAnimateTimings=_;let N,q=m.styles?m.styles:(0,k.oB)({});if(5==q.type)N=this.visitKeyframes(q,d);else{let ye=m.styles,xe=!1;if(!ye){xe=!0;const kt={};_.easing&&(kt.easing=_.easing),ye=(0,k.oB)(kt)}d.currentTime+=_.duration+_.delay;const ft=this.visitStyle(ye,d);ft.isEmptyStep=xe,N=ft}return d.currentAnimateTimings=null,{type:4,timings:_,style:N,options:null}}visitStyle(m,d){const _=this._makeStyleAst(m,d);return this._validateStyleAst(_,d),_}_makeStyleAst(m,d){const _=[],N=Array.isArray(m.styles)?m.styles:[m.styles];for(let xe of N)"string"==typeof xe?xe===k.l3?_.push(xe):d.errors.push(new u.vHH(3002,!1)):_.push(zt(xe));let q=!1,ye=null;return _.forEach(xe=>{if(xe instanceof Map&&(xe.has("easing")&&(ye=xe.get("easing"),xe.delete("easing")),!q))for(let ft of xe.values())if(ft.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:_,easing:ye,offset:m.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(m,d){const _=d.currentAnimateTimings;let N=d.currentTime,q=d.currentTime;_&&q>0&&(q-=_.duration+_.delay),m.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((xe,ft)=>{const kt=d.collectedStyles.get(d.currentQuerySelector),mn=kt.get(ft);let Bn=!0;mn&&(q!=N&&q>=mn.startTime&&N<=mn.endTime&&(d.errors.push(function tt(E,m,d,_,N){return new u.vHH(3010,!1)}()),Bn=!1),q=mn.startTime),Bn&&kt.set(ft,{startTime:q,endTime:N}),d.options&&function wn(E,m,d){const _=m.params||{},N=sn(E);N.length&&N.forEach(q=>{_.hasOwnProperty(q)||d.push(function Y(E){return new u.vHH(3001,!1)}())})}(xe,d.options,d.errors)})})}visitKeyframes(m,d){const _={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Ne(){return new u.vHH(3011,!1)}()),_;let q=0;const ye=[];let xe=!1,ft=!1,kt=0;const mn=m.steps.map(Hi=>{const Is=this._makeStyleAst(Hi,d);let to=null!=Is.offset?Is.offset:function cn(E){if("string"==typeof E)return null;let m=null;if(Array.isArray(E))E.forEach(d=>{if(d instanceof Map&&d.has("offset")){const _=d;m=parseFloat(_.get("offset")),_.delete("offset")}});else if(E instanceof Map&&E.has("offset")){const d=E;m=parseFloat(d.get("offset")),d.delete("offset")}return m}(Is.styles),co=0;return null!=to&&(q++,co=Is.offset=to),ft=ft||co<0||co>1,xe=xe||co<kt,kt=co,ye.push(co),Is});ft&&d.errors.push(function Pe(){return new u.vHH(3012,!1)}()),xe&&d.errors.push(function Bt(){return new u.vHH(3200,!1)}());const Bn=m.steps.length;let ii=0;q>0&&q<Bn?d.errors.push(function Je(){return new u.vHH(3202,!1)}()):0==q&&(ii=1/(Bn-1));const Wr=Bn-1,fr=d.currentTime,wr=d.currentAnimateTimings,_i=wr.duration;return mn.forEach((Hi,Is)=>{const to=ii>0?Is==Wr?1:ii*Is:ye[Is],co=to*_i;d.currentTime=fr+wr.delay+co,wr.duration=co,this._validateStyleAst(Hi,d),Hi.offset=to,_.styles.push(Hi)}),_}visitReference(m,d){return{type:8,animation:Vn(this,Vt(m.animation),d),options:ct(m.options)}}visitAnimateChild(m,d){return d.depCount++,{type:9,options:ct(m.options)}}visitAnimateRef(m,d){return{type:10,animation:this.visitReference(m.animation,d),options:ct(m.options)}}visitQuery(m,d){const _=d.currentQuerySelector,N=m.options||{};d.queryCount++,d.currentQuery=m;const[q,ye]=function gt(E){const m=!!E.split(/\s*,\s*/).find(d=>":self"==d);return m&&(E=E.replace(Ci,"")),E=E.replace(/@\*/g,$r).replace(/@\w+/g,d=>$r+"-"+d.slice(1)).replace(/:animating/g,ke),[E,m]}(m.selector);d.currentQuerySelector=_.length?_+" "+q:q,$n(d.collectedStyles,d.currentQuerySelector,new Map);const xe=Vn(this,Vt(m.animation),d);return d.currentQuery=null,d.currentQuerySelector=_,{type:11,selector:q,limit:N.limit||0,optional:!!N.optional,includeSelf:ye,animation:xe,originalSelector:m.selector,options:ct(m.options)}}visitStagger(m,d){d.currentQuery||d.errors.push(function de(){return new u.vHH(3013,!1)}());const _="full"===m.timings?{duration:0,delay:0,easing:"full"}:K(m.timings,d.errors,!0);return{type:12,animation:Vn(this,Vt(m.animation),d),timings:_,options:null}}}class $t{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ct(E){return E?(E=ot(E)).params&&(E.params=function St(E){return E?ot(E):null}(E.params)):E={},E}function je(E,m,d){return{duration:E,delay:m,easing:d}}function dt(E,m,d,_,N,q,ye=null,xe=!1){return{type:1,element:E,keyframes:m,preStyleProps:d,postStyleProps:_,duration:N,delay:q,totalTime:N+q,easing:ye,subTimeline:xe}}class Wt{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,d){let _=this._map.get(m);_||this._map.set(m,_=[]),_.push(...d)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Cr=new RegExp(":enter","g"),Ti=new RegExp(":leave","g");function dr(E,m,d,_,N,q=new Map,ye=new Map,xe,ft,kt=[]){return(new ai).buildKeyframes(E,m,d,_,N,q,ye,xe,ft,kt)}class ai{buildKeyframes(m,d,_,N,q,ye,xe,ft,kt,mn=[]){kt=kt||new Wt;const Bn=new Ds(m,d,kt,N,q,mn,[]);Bn.options=ft;const ii=ft.delay?le(ft.delay):0;Bn.currentTimeline.delayNextStep(ii),Bn.currentTimeline.setStyles([ye],null,Bn.errors,ft),Vn(this,_,Bn);const Wr=Bn.timelines.filter(fr=>fr.containsAnimation());if(Wr.length&&xe.size){let fr;for(let wr=Wr.length-1;wr>=0;wr--){const _i=Wr[wr];if(_i.element===d){fr=_i;break}}fr&&!fr.allowOnlyTimelineStyles()&&fr.setStyles([xe],null,Bn.errors,ft)}return Wr.length?Wr.map(fr=>fr.buildKeyframes()):[dt(d,[],[],[],0,ii,"",!1)]}visitTrigger(m,d){}visitState(m,d){}visitTransition(m,d){}visitAnimateChild(m,d){const _=d.subInstructions.get(d.element);if(_){const N=d.createSubContext(m.options),q=d.currentTimeline.currentTime,ye=this._visitSubInstructions(_,N,N.options);q!=ye&&d.transformIntoNewTimeline(ye)}d.previousNode=m}visitAnimateRef(m,d){const _=d.createSubContext(m.options);_.transformIntoNewTimeline(),this.visitReference(m.animation,_),d.transformIntoNewTimeline(_.currentTimeline.currentTime),d.previousNode=m}_visitSubInstructions(m,d,_){let q=d.currentTimeline.currentTime;const ye=null!=_.duration?le(_.duration):null,xe=null!=_.delay?le(_.delay):null;return 0!==ye&&m.forEach(ft=>{const kt=d.appendInstructionToTimeline(ft,ye,xe);q=Math.max(q,kt.duration+kt.delay)}),q}visitReference(m,d){d.updateOptions(m.options,!0),Vn(this,m.animation,d),d.previousNode=m}visitSequence(m,d){const _=d.subContextCount;let N=d;const q=m.options;if(q&&(q.params||q.delay)&&(N=d.createSubContext(q),N.transformIntoNewTimeline(),null!=q.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Ps);const ye=le(q.delay);N.delayNextStep(ye)}m.steps.length&&(m.steps.forEach(ye=>Vn(this,ye,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>_&&N.transformIntoNewTimeline()),d.previousNode=m}visitGroup(m,d){const _=[];let N=d.currentTimeline.currentTime;const q=m.options&&m.options.delay?le(m.options.delay):0;m.steps.forEach(ye=>{const xe=d.createSubContext(m.options);q&&xe.delayNextStep(q),Vn(this,ye,xe),N=Math.max(N,xe.currentTimeline.currentTime),_.push(xe.currentTimeline)}),_.forEach(ye=>d.currentTimeline.mergeTimelineCollectedStyles(ye)),d.transformIntoNewTimeline(N),d.previousNode=m}_visitTiming(m,d){if(m.dynamic){const _=m.strValue;return K(d.params?Le(_,d.params,d.errors):_,d.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,d){const _=d.currentAnimateTimings=this._visitTiming(m.timings,d),N=d.currentTimeline;_.delay&&(d.incrementTime(_.delay),N.snapshotCurrentStyles());const q=m.style;5==q.type?this.visitKeyframes(q,d):(d.incrementTime(_.duration),this.visitStyle(q,d),N.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=m}visitStyle(m,d){const _=d.currentTimeline,N=d.currentAnimateTimings;!N&&_.hasCurrentStyleProperties()&&_.forwardFrame();const q=N&&N.easing||m.easing;m.isEmptyStep?_.applyEmptyStep(q):_.setStyles(m.styles,q,d.errors,d.options),d.previousNode=m}visitKeyframes(m,d){const _=d.currentAnimateTimings,N=d.currentTimeline.duration,q=_.duration,xe=d.createSubContext().currentTimeline;xe.easing=_.easing,m.styles.forEach(ft=>{xe.forwardTime((ft.offset||0)*q),xe.setStyles(ft.styles,ft.easing,d.errors,d.options),xe.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(xe),d.transformIntoNewTimeline(N+q),d.previousNode=m}visitQuery(m,d){const _=d.currentTimeline.currentTime,N=m.options||{},q=N.delay?le(N.delay):0;q&&(6===d.previousNode.type||0==_&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Ps);let ye=_;const xe=d.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!N.optional,d.errors);d.currentQueryTotal=xe.length;let ft=null;xe.forEach((kt,mn)=>{d.currentQueryIndex=mn;const Bn=d.createSubContext(m.options,kt);q&&Bn.delayNextStep(q),kt===d.element&&(ft=Bn.currentTimeline),Vn(this,m.animation,Bn),Bn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,Bn.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(ye),ft&&(d.currentTimeline.mergeTimelineCollectedStyles(ft),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=m}visitStagger(m,d){const _=d.parentContext,N=d.currentTimeline,q=m.timings,ye=Math.abs(q.duration),xe=ye*(d.currentQueryTotal-1);let ft=ye*d.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":ft=xe-ft;break;case"full":ft=_.currentStaggerTime}const mn=d.currentTimeline;ft&&mn.delayNextStep(ft);const Bn=mn.currentTime;Vn(this,m.animation,d),d.previousNode=m,_.currentStaggerTime=N.currentTime-Bn+(N.startTime-_.currentTimeline.startTime)}}const Ps={};class Ds{constructor(m,d,_,N,q,ye,xe,ft){this._driver=m,this.element=d,this.subInstructions=_,this._enterClassName=N,this._leaveClassName=q,this.errors=ye,this.timelines=xe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ps,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ft||new Rs(this._driver,d,0),xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,d){if(!m)return;const _=m;let N=this.options;null!=_.duration&&(N.duration=le(_.duration)),null!=_.delay&&(N.delay=le(_.delay));const q=_.params;if(q){let ye=N.params;ye||(ye=this.options.params={}),Object.keys(q).forEach(xe=>{(!d||!ye.hasOwnProperty(xe))&&(ye[xe]=Le(q[xe],ye,this.errors))})}}_copyOptions(){const m={};if(this.options){const d=this.options.params;if(d){const _=m.params={};Object.keys(d).forEach(N=>{_[N]=d[N]})}}return m}createSubContext(m=null,d,_){const N=d||this.element,q=new Ds(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,_||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(m),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(m){return this.previousNode=Ps,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,d,_){const N={duration:d??m.duration,delay:this.currentTimeline.currentTime+(_??0)+m.delay,easing:""},q=new Us(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,N,m.stretchStartingKeyframe);return this.timelines.push(q),N}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,d,_,N,q,ye){let xe=[];if(N&&xe.push(this.element),m.length>0){m=(m=m.replace(Cr,"."+this._enterClassName)).replace(Ti,"."+this._leaveClassName);let kt=this._driver.query(this.element,m,1!=_);0!==_&&(kt=_<0?kt.slice(kt.length+_,kt.length):kt.slice(0,_)),xe.push(...kt)}return!q&&0==xe.length&&ye.push(function Ye(E){return new u.vHH(3014,!1)}()),xe}}class Rs{constructor(m,d,_,N){this._driver=m,this.element=d,this.startTime=_,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+m),d&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,d){return this.applyStylesToKeyframe(),new Rs(this._driver,m,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,d){this._localTimelineStyles.set(m,d),this._globalTimelineStyles.set(m,d),this._styleSummary.set(m,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[d,_]of this._globalTimelineStyles)this._backFill.set(d,_||k.l3),this._currentKeyframe.set(d,k.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,d,_,N){d&&this._previousKeyframe.set("easing",d);const q=N&&N.params||{},ye=function Bs(E,m){const d=new Map;let _;return E.forEach(N=>{if("*"===N){_=_||m.keys();for(let q of _)d.set(q,k.l3)}else Tn(N,d)}),d}(m,this._globalTimelineStyles);for(let[xe,ft]of ye){const kt=Le(ft,q,_);this._pendingStyles.set(xe,kt),this._localTimelineStyles.has(xe)||this._backFill.set(xe,this._globalTimelineStyles.get(xe)??k.l3),this._updateStyle(xe,kt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,d)=>{this._currentKeyframe.set(d,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,m)}))}snapshotCurrentStyles(){for(let[m,d]of this._localTimelineStyles)this._pendingStyles.set(m,d),this._updateStyle(m,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let d in this._currentKeyframe)m.push(d);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((d,_)=>{const N=this._styleSummary.get(_);(!N||d.time>N.time)&&this._updateStyle(_,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,d=new Set,_=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((xe,ft)=>{const kt=Tn(xe,new Map,this._backFill);kt.forEach((mn,Bn)=>{mn===k.k1?m.add(Bn):mn===k.l3&&d.add(Bn)}),_||kt.set("offset",ft/this.duration),N.push(kt)});const q=m.size?Re(m.values()):[],ye=d.size?Re(d.values()):[];if(_){const xe=N[0],ft=new Map(xe);xe.set("offset",0),ft.set("offset",1),N=[xe,ft]}return dt(this.element,N,q,ye,this.duration,this.startTime,this.easing,!1)}}class Us extends Rs{constructor(m,d,_,N,q,ye,xe=!1){super(m,d,ye.delay),this.keyframes=_,this.preStyleProps=N,this.postStyleProps=q,this._stretchStartingKeyframe=xe,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:d,duration:_,easing:N}=this.timings;if(this._stretchStartingKeyframe&&d){const q=[],ye=_+d,xe=d/ye,ft=Tn(m[0]);ft.set("offset",0),q.push(ft);const kt=Tn(m[0]);kt.set("offset",ms(xe)),q.push(kt);const mn=m.length-1;for(let Bn=1;Bn<=mn;Bn++){let ii=Tn(m[Bn]);const Wr=ii.get("offset");ii.set("offset",ms((d+Wr*_)/ye)),q.push(ii)}_=ye,d=0,N="",m=q}return dt(this.element,m,this.preStyleProps,this.postStyleProps,_,d,N,!0)}}function ms(E,m=3){const d=Math.pow(10,m-1);return Math.round(E*d)/d}class Ns{}const xi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class go extends Ns{normalizePropertyName(m,d){return Fe(m)}normalizeStyleValue(m,d,_,N){let q="";const ye=_.toString().trim();if(xi.has(d)&&0!==_&&"0"!==_)if("number"==typeof _)q="px";else{const xe=_.match(/^[+-]?[\d\.]+([a-z]*)$/);xe&&0==xe[1].length&&N.push(function ee(E,m){return new u.vHH(3005,!1)}())}return ye+q}}function $o(E,m,d,_,N,q,ye,xe,ft,kt,mn,Bn,ii){return{type:0,element:E,triggerName:m,isRemovalTransition:N,fromState:d,fromStyles:q,toState:_,toStyles:ye,timelines:xe,queriedElements:ft,preStyleProps:kt,postStyleProps:mn,totalTime:Bn,errors:ii}}const ds={};class ys{constructor(m,d,_){this._triggerName=m,this.ast=d,this._stateStyles=_}match(m,d,_,N){return function qi(E,m,d,_,N){return E.some(q=>q(m,d,_,N))}(this.ast.matchers,m,d,_,N)}buildStyles(m,d,_){let N=this._stateStyles.get("*");return void 0!==m&&(N=this._stateStyles.get(m?.toString())||N),N?N.buildStyles(d,_):new Map}build(m,d,_,N,q,ye,xe,ft,kt,mn){const Bn=[],ii=this.ast.options&&this.ast.options.params||ds,fr=this.buildStyles(_,xe&&xe.params||ds,Bn),wr=ft&&ft.params||ds,_i=this.buildStyles(N,wr,Bn),Hi=new Set,Is=new Map,to=new Map,co="void"===N,Bl={params:$i(wr,ii),delay:this.ast.options?.delay},Va=mn?[]:dr(m,d,this.ast.animation,q,ye,fr,_i,Bl,kt,Bn);let no=0;if(Va.forEach(bl=>{no=Math.max(bl.duration+bl.delay,no)}),Bn.length)return $o(d,this._triggerName,_,N,co,fr,_i,[],[],Is,to,no,Bn);Va.forEach(bl=>{const wl=bl.element,Nd=$n(Is,wl,new Set);bl.preStyleProps.forEach(Ta=>Nd.add(Ta));const wc=$n(to,wl,new Set);bl.postStyleProps.forEach(Ta=>wc.add(Ta)),wl!==d&&Hi.add(wl)});const Ca=Re(Hi.values());return $o(d,this._triggerName,_,N,co,fr,_i,Va,Ca,Is,to,no)}}function $i(E,m){const d=ot(m);for(const _ in E)E.hasOwnProperty(_)&&null!=E[_]&&(d[_]=E[_]);return d}class Hs{constructor(m,d,_){this.styles=m,this.defaultParams=d,this.normalizer=_}buildStyles(m,d){const _=new Map,N=ot(this.defaultParams);return Object.keys(m).forEach(q=>{const ye=m[q];null!==ye&&(N[q]=ye)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((ye,xe)=>{ye&&(ye=Le(ye,N,d));const ft=this.normalizer.normalizePropertyName(xe,d);ye=this.normalizer.normalizeStyleValue(xe,ft,ye,d),_.set(ft,ye)})}),_}}class vs{constructor(m,d,_){this.name=m,this.ast=d,this._normalizer=_,this.transitionFactories=[],this.states=new Map,d.states.forEach(N=>{this.states.set(N.name,new Hs(N.style,N.options&&N.options.params||{},_))}),bs(this.states,"true","1"),bs(this.states,"false","0"),d.transitions.forEach(N=>{this.transitionFactories.push(new ys(m,N,this.states))}),this.fallbackTransition=function Es(E,m,d){return new ys(E,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,xe)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,d,_,N){return this.transitionFactories.find(ye=>ye.match(m,d,_,N))||null}matchStyles(m,d,_){return this.fallbackTransition.buildStyles(m,d,_)}}function bs(E,m,d){E.has(m)?E.has(d)||E.set(d,E.get(m)):E.has(d)&&E.set(m,E.get(d))}const $s=new Wt;class Ys{constructor(m,d,_){this.bodyNode=m,this._driver=d,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,d){const _=[],q=Pi(this._driver,d,_,[]);if(_.length)throw function Ue(E){return new u.vHH(3503,!1)}();this._animations.set(m,q)}_buildPlayer(m,d,_){const N=m.element,q=Or(0,this._normalizer,0,m.keyframes,d,_);return this._driver.animate(N,q,m.duration,m.delay,m.easing,[],!0)}create(m,d,_={}){const N=[],q=this._animations.get(m);let ye;const xe=new Map;if(q?(ye=dr(this._driver,d,q,cr,Qt,new Map,new Map,_,$s,N),ye.forEach(mn=>{const Bn=$n(xe,mn.element,new Map);mn.postStyleProps.forEach(ii=>Bn.set(ii,null))})):(N.push(function pt(){return new u.vHH(3300,!1)}()),ye=[]),N.length)throw function nt(E){return new u.vHH(3504,!1)}();xe.forEach((mn,Bn)=>{mn.forEach((ii,Wr)=>{mn.set(Wr,this._driver.computeStyle(Bn,Wr,k.l3))})});const kt=zn(ye.map(mn=>{const Bn=xe.get(mn.element);return this._buildPlayer(mn,new Map,Bn)}));return this._playersById.set(m,kt),kt.onDestroy(()=>this.destroy(m)),this.players.push(kt),kt}destroy(m){const d=this._getPlayer(m);d.destroy(),this._playersById.delete(m);const _=this.players.indexOf(d);_>=0&&this.players.splice(_,1)}_getPlayer(m){const d=this._playersById.get(m);if(!d)throw function Ut(E){return new u.vHH(3301,!1)}();return d}listen(m,d,_,N){const q=ei(d,"","","");return pr(this._getPlayer(m),_,q,N),()=>{}}command(m,d,_,N){if("register"==_)return void this.register(m,N[0]);if("create"==_)return void this.create(m,d,N[0]||{});const q=this._getPlayer(m);switch(_){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(m)}}}const Vr="ng-animate-queued",te="ng-animate-disabled",ut=[],yt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},an={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pn="__ng_removed";class gn{constructor(m,d=""){this.namespaceId=d;const _=m&&m.hasOwnProperty("value");if(this.value=function re(E){return E??null}(_?m.value:m),_){const q=ot(m);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const d=m.params;if(d){const _=this.options.params;Object.keys(d).forEach(N=>{null==_[N]&&(_[N]=d[N])})}}}const Un="void",sr=new gn(Un);class mr{constructor(m,d,_){this.id=m,this.hostElement=d,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,un(d,this._hostClassName)}listen(m,d,_,N){if(!this._triggers.has(d))throw function lt(E,m){return new u.vHH(3302,!1)}();if(null==_||0==_.length)throw function Pt(E){return new u.vHH(3303,!1)}();if(!function ce(E){return"start"==E||"done"==E}(_))throw function bt(E,m){return new u.vHH(3400,!1)}();const q=$n(this._elementListeners,m,[]),ye={name:d,phase:_,callback:N};q.push(ye);const xe=$n(this._engine.statesByElement,m,new Map);return xe.has(d)||(un(m,jn),un(m,jn+"-"+d),xe.set(d,sr)),()=>{this._engine.afterFlush(()=>{const ft=q.indexOf(ye);ft>=0&&q.splice(ft,1),this._triggers.has(d)||xe.delete(d)})}}register(m,d){return!this._triggers.has(m)&&(this._triggers.set(m,d),!0)}_getTrigger(m){const d=this._triggers.get(m);if(!d)throw function at(E){return new u.vHH(3401,!1)}();return d}trigger(m,d,_,N=!0){const q=this._getTrigger(d),ye=new Nr(this.id,d,m);let xe=this._engine.statesByElement.get(m);xe||(un(m,jn),un(m,jn+"-"+d),this._engine.statesByElement.set(m,xe=new Map));let ft=xe.get(d);const kt=new gn(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&ft&&kt.absorbOptions(ft.options),xe.set(d,kt),ft||(ft=sr),kt.value!==Un&&ft.value===kt.value){if(!function vi(E,m){const d=Object.keys(E),_=Object.keys(m);if(d.length!=_.length)return!1;for(let N=0;N<d.length;N++){const q=d[N];if(!m.hasOwnProperty(q)||E[q]!==m[q])return!1}return!0}(ft.params,kt.params)){const wr=[],_i=q.matchStyles(ft.value,ft.params,wr),Hi=q.matchStyles(kt.value,kt.params,wr);wr.length?this._engine.reportError(wr):this._engine.afterFlush(()=>{wt(m,_i),De(m,Hi)})}return}const ii=$n(this._engine.playersByElement,m,[]);ii.forEach(wr=>{wr.namespaceId==this.id&&wr.triggerName==d&&wr.queued&&wr.destroy()});let Wr=q.matchTransition(ft.value,kt.value,m,kt.params),fr=!1;if(!Wr){if(!N)return;Wr=q.fallbackTransition,fr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:d,transition:Wr,fromState:ft,toState:kt,player:ye,isFallbackTransition:fr}),fr||(un(m,Vr),ye.onStart(()=>{Zn(m,Vr)})),ye.onDone(()=>{let wr=this.players.indexOf(ye);wr>=0&&this.players.splice(wr,1);const _i=this._engine.playersByElement.get(m);if(_i){let Hi=_i.indexOf(ye);Hi>=0&&_i.splice(Hi,1)}}),this.players.push(ye),ii.push(ye),ye}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(d=>d.delete(m)),this._elementListeners.forEach((d,_)=>{this._elementListeners.set(_,d.filter(N=>N.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const d=this._engine.playersByElement.get(m);d&&(d.forEach(_=>_.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,d){const _=this._engine.driver.query(m,$r,!0);_.forEach(N=>{if(N[pn])return;const q=this._engine.fetchNamespacesByElement(N);q.size?q.forEach(ye=>ye.triggerLeaveAnimation(N,d,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(m,d,_,N){const q=this._engine.statesByElement.get(m),ye=new Map;if(q){const xe=[];if(q.forEach((ft,kt)=>{if(ye.set(kt,ft.value),this._triggers.has(kt)){const mn=this.trigger(m,kt,Un,N);mn&&xe.push(mn)}}),xe.length)return this._engine.markElementAsRemoved(this.id,m,!0,d,ye),_&&zn(xe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const d=this._elementListeners.get(m),_=this._engine.statesByElement.get(m);if(d&&_){const N=new Set;d.forEach(q=>{const ye=q.name;if(N.has(ye))return;N.add(ye);const ft=this._triggers.get(ye).fallbackTransition,kt=_.get(ye)||sr,mn=new gn(Un),Bn=new Nr(this.id,ye,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:ye,transition:ft,fromState:kt,toState:mn,player:Bn,isFallbackTransition:!0})})}}removeNode(m,d){const _=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,d),this.triggerLeaveAnimation(m,d,!0))return;let N=!1;if(_.totalAnimations){const q=_.players.length?_.playersByQueriedElement.get(m):[];if(q&&q.length)N=!0;else{let ye=m;for(;ye=ye.parentNode;)if(_.statesByElement.get(ye)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(m),N)_.markElementAsRemoved(this.id,m,!1,d);else{const q=m[pn];(!q||q===yt)&&(_.afterFlush(()=>this.clearElementCache(m)),_.destroyInnerAnimations(m),_._onRemovalComplete(m,d))}}insertNode(m,d){un(m,this._hostClassName)}drainQueuedTransitions(m){const d=[];return this._queue.forEach(_=>{const N=_.player;if(N.destroyed)return;const q=_.element,ye=this._elementListeners.get(q);ye&&ye.forEach(xe=>{if(xe.name==_.triggerName){const ft=ei(q,_.triggerName,_.fromState.value,_.toState.value);ft._data=m,pr(_.player,xe.phase,ft,xe.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):d.push(_)}),this._queue=[],d.sort((_,N)=>{const q=_.transition.ast.depCount,ye=N.transition.ast.depCount;return 0==q||0==ye?q-ye:this._engine.driver.containsElement(_.element,N.element)?1:-1})}destroy(m){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let d=!1;return this._elementListeners.has(m)&&(d=!0),d=!!this._queue.find(_=>_.element===m)||d,d}}class Jr{constructor(m,d,_){this.bodyNode=m,this.driver=d,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,q)=>{}}_onRemovalComplete(m,d){this.onRemovalComplete(m,d)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(d=>{d.players.forEach(_=>{_.queued&&m.push(_)})}),m}createNamespace(m,d){const _=new mr(m,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(_,d):(this.newHostElements.set(d,_),this.collectEnterElement(d)),this._namespaceLookup[m]=_}_balanceNamespaceList(m,d){const _=this._namespaceList,N=this.namespacesByHostElement;if(_.length-1>=0){let ye=!1,xe=this.driver.getParentElement(d);for(;xe;){const ft=N.get(xe);if(ft){const kt=_.indexOf(ft);_.splice(kt+1,0,m),ye=!0;break}xe=this.driver.getParentElement(xe)}ye||_.unshift(m)}else _.push(m);return N.set(d,m),m}register(m,d){let _=this._namespaceLookup[m];return _||(_=this.createNamespace(m,d)),_}registerTrigger(m,d,_){let N=this._namespaceLookup[m];N&&N.register(d,_)&&this.totalAnimations++}destroy(m,d){if(!m)return;const _=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[m];const N=this._namespaceList.indexOf(_);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>_.destroy(d))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const d=new Set,_=this.statesByElement.get(m);if(_)for(let N of _.values())if(N.namespaceId){const q=this._fetchNamespace(N.namespaceId);q&&d.add(q)}return d}trigger(m,d,_,N){if(U(d)){const q=this._fetchNamespace(m);if(q)return q.trigger(d,_,N),!0}return!1}insertNode(m,d,_,N){if(!U(d))return;const q=d[pn];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(d);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(m){const ye=this._fetchNamespace(m);ye&&ye.insertNode(d,_)}N&&this.collectEnterElement(d)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,d){d?this.disabledNodes.has(m)||(this.disabledNodes.add(m),un(m,te)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Zn(m,te))}removeNode(m,d,_,N){if(U(d)){const q=m?this._fetchNamespace(m):null;if(q?q.removeNode(d,N):this.markElementAsRemoved(m,d,!1,N),_){const ye=this.namespacesByHostElement.get(d);ye&&ye.id!==m&&ye.removeNode(d,N)}}else this._onRemovalComplete(d,N)}markElementAsRemoved(m,d,_,N,q){this.collectedLeaveElements.push(d),d[pn]={namespaceId:m,setForRemoval:N,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:q}}listen(m,d,_,N,q){return U(d)?this._fetchNamespace(m).listen(d,_,N,q):()=>{}}_buildInstruction(m,d,_,N,q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,_,N,m.fromState.options,m.toState.options,d,q)}destroyInnerAnimations(m){let d=this.driver.query(m,$r,!0);d.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(m,ke,!0),d.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(m){const d=this.playersByElement.get(m);d&&d.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(m){const d=this.playersByQueriedElement.get(m);d&&d.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return zn(this.players).onDone(()=>m());m()})}processLeaveNode(m){const d=m[pn];if(d&&d.setForRemoval){if(m[pn]=yt,d.namespaceId){this.destroyInnerAnimations(m);const _=this._fetchNamespace(d.namespaceId);_&&_.clearElementCache(m)}this._onRemovalComplete(m,d.setForRemoval)}m.classList?.contains(te)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(m=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,N)=>this._balanceNamespaceList(_,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)un(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{d=this._flushAnimations(_,m)}finally{for(let N=0;N<_.length;N++)_[N]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],d.length?zn(d).onDone(()=>{_.forEach(N=>N())}):_.forEach(N=>N())}}reportError(m){throw function Rt(E){return new u.vHH(3402,!1)}()}_flushAnimations(m,d){const _=new Wt,N=[],q=new Map,ye=[],xe=new Map,ft=new Map,kt=new Map,mn=new Set;this.disabledNodes.forEach(Gn=>{mn.add(Gn);const ar=this.driver.query(Gn,".ng-animate-queued",!0);for(let Ir=0;Ir<ar.length;Ir++)mn.add(ar[Ir])});const Bn=this.bodyNode,ii=Array.from(this.statesByElement.keys()),Wr=it(ii,this.collectedEnterElements),fr=new Map;let wr=0;Wr.forEach((Gn,ar)=>{const Ir=cr+wr++;fr.set(ar,Ir),Gn.forEach(hi=>un(hi,Ir))});const _i=[],Hi=new Set,Is=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const ar=this.collectedLeaveElements[Gn],Ir=ar[pn];Ir&&Ir.setForRemoval&&(_i.push(ar),Hi.add(ar),Ir.hasAnimation?this.driver.query(ar,".ng-star-inserted",!0).forEach(hi=>Hi.add(hi)):Is.add(ar))}const to=new Map,co=it(ii,Array.from(Hi));co.forEach((Gn,ar)=>{const Ir=Qt+wr++;to.set(ar,Ir),Gn.forEach(hi=>un(hi,Ir))}),m.push(()=>{Wr.forEach((Gn,ar)=>{const Ir=fr.get(ar);Gn.forEach(hi=>Zn(hi,Ir))}),co.forEach((Gn,ar)=>{const Ir=to.get(ar);Gn.forEach(hi=>Zn(hi,Ir))}),_i.forEach(Gn=>{this.processLeaveNode(Gn)})});const Bl=[],Va=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(d).forEach(Ir=>{const hi=Ir.player,ho=Ir.element;if(Bl.push(hi),this.collectedEnterElements.length){const ro=ho[pn];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(Ir.triggerName)){const rl=ro.previousTriggersValues.get(Ir.triggerName),Ro=this.statesByElement.get(Ir.element);if(Ro&&Ro.has(Ir.triggerName)){const Wu=Ro.get(Ir.triggerName);Wu.value=rl,Ro.set(Ir.triggerName,Wu)}}return void hi.destroy()}}const Ua=!Bn||!this.driver.containsElement(Bn,ho),Cs=to.get(ho),Il=fr.get(ho),us=this._buildInstruction(Ir,_,Il,Cs,Ua);if(us.errors&&us.errors.length)return void Va.push(us);if(Ua)return hi.onStart(()=>wt(ho,us.fromStyles)),hi.onDestroy(()=>De(ho,us.toStyles)),void N.push(hi);if(Ir.isFallbackTransition)return hi.onStart(()=>wt(ho,us.fromStyles)),hi.onDestroy(()=>De(ho,us.toStyles)),void N.push(hi);const kd=[];us.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||kd.push(ro)}),us.timelines=kd,_.append(ho,us.timelines),ye.push({instruction:us,player:hi,element:ho}),us.queriedElements.forEach(ro=>$n(xe,ro,[]).push(hi)),us.preStyleProps.forEach((ro,rl)=>{if(ro.size){let Ro=ft.get(rl);Ro||ft.set(rl,Ro=new Set),ro.forEach((Wu,Cc)=>Ro.add(Cc))}}),us.postStyleProps.forEach((ro,rl)=>{let Ro=kt.get(rl);Ro||kt.set(rl,Ro=new Set),ro.forEach((Wu,Cc)=>Ro.add(Cc))})});if(Va.length){const Gn=[];Va.forEach(ar=>{Gn.push(function Cn(E,m){return new u.vHH(3505,!1)}())}),Bl.forEach(ar=>ar.destroy()),this.reportError(Gn)}const no=new Map,Ca=new Map;ye.forEach(Gn=>{const ar=Gn.element;_.has(ar)&&(Ca.set(ar,ar),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,no))}),N.forEach(Gn=>{const ar=Gn.element;this._getPreviousPlayers(ar,!1,Gn.namespaceId,Gn.triggerName,null).forEach(hi=>{$n(no,ar,[]).push(hi),hi.destroy()})});const bl=_i.filter(Gn=>ni(Gn,ft,kt)),wl=new Map;_t(wl,this.driver,Is,kt,k.l3).forEach(Gn=>{ni(Gn,ft,kt)&&bl.push(Gn)});const wc=new Map;Wr.forEach((Gn,ar)=>{_t(wc,this.driver,new Set(Gn),ft,k.k1)}),bl.forEach(Gn=>{const ar=wl.get(Gn),Ir=wc.get(Gn);wl.set(Gn,new Map([...Array.from(ar?.entries()??[]),...Array.from(Ir?.entries()??[])]))});const Ta=[],Hl=[],Ic={};ye.forEach(Gn=>{const{element:ar,player:Ir,instruction:hi}=Gn;if(_.has(ar)){if(mn.has(ar))return Ir.onDestroy(()=>De(ar,hi.toStyles)),Ir.disabled=!0,Ir.overrideTotalTime(hi.totalTime),void N.push(Ir);let ho=Ic;if(Ca.size>1){let Cs=ar;const Il=[];for(;Cs=Cs.parentNode;){const us=Ca.get(Cs);if(us){ho=us;break}Il.push(Cs)}Il.forEach(us=>Ca.set(us,ho))}const Ua=this._buildAnimation(Ir.namespaceId,hi,no,q,wc,wl);if(Ir.setRealPlayer(Ua),ho===Ic)Ta.push(Ir);else{const Cs=this.playersByElement.get(ho);Cs&&Cs.length&&(Ir.parentPlayer=zn(Cs)),N.push(Ir)}}else wt(ar,hi.fromStyles),Ir.onDestroy(()=>De(ar,hi.toStyles)),Hl.push(Ir),mn.has(ar)&&N.push(Ir)}),Hl.forEach(Gn=>{const ar=q.get(Gn.element);if(ar&&ar.length){const Ir=zn(ar);Gn.setRealPlayer(Ir)}}),N.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<_i.length;Gn++){const ar=_i[Gn],Ir=ar[pn];if(Zn(ar,Qt),Ir&&Ir.hasAnimation)continue;let hi=[];if(xe.size){let Ua=xe.get(ar);Ua&&Ua.length&&hi.push(...Ua);let Cs=this.driver.query(ar,ke,!0);for(let Il=0;Il<Cs.length;Il++){let us=xe.get(Cs[Il]);us&&us.length&&hi.push(...us)}}const ho=hi.filter(Ua=>!Ua.destroyed);ho.length?jr(this,ar,ho):this.processLeaveNode(ar)}return _i.length=0,Ta.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const ar=this.players.indexOf(Gn);this.players.splice(ar,1)}),Gn.play()}),Ta}elementContainsData(m,d){let _=!1;const N=d[pn];return N&&N.setForRemoval&&(_=!0),this.playersByElement.has(d)&&(_=!0),this.playersByQueriedElement.has(d)&&(_=!0),this.statesByElement.has(d)&&(_=!0),this._fetchNamespace(m).elementContainsData(d)||_}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,d,_,N,q){let ye=[];if(d){const xe=this.playersByQueriedElement.get(m);xe&&(ye=xe)}else{const xe=this.playersByElement.get(m);if(xe){const ft=!q||q==Un;xe.forEach(kt=>{kt.queued||!ft&&kt.triggerName!=N||ye.push(kt)})}}return(_||N)&&(ye=ye.filter(xe=>!(_&&_!=xe.namespaceId||N&&N!=xe.triggerName))),ye}_beforeAnimationBuild(m,d,_){const q=d.element,ye=d.isRemovalTransition?void 0:m,xe=d.isRemovalTransition?void 0:d.triggerName;for(const ft of d.timelines){const kt=ft.element,mn=kt!==q,Bn=$n(_,kt,[]);this._getPreviousPlayers(kt,mn,ye,xe,d.toState).forEach(Wr=>{const fr=Wr.getRealPlayer();fr.beforeDestroy&&fr.beforeDestroy(),Wr.destroy(),Bn.push(Wr)})}wt(q,d.fromStyles)}_buildAnimation(m,d,_,N,q,ye){const xe=d.triggerName,ft=d.element,kt=[],mn=new Set,Bn=new Set,ii=d.timelines.map(fr=>{const wr=fr.element;mn.add(wr);const _i=wr[pn];if(_i&&_i.removedBeforeQueried)return new k.ZN(fr.duration,fr.delay);const Hi=wr!==ft,Is=function kr(E){const m=[];return Er(E,m),m}((_.get(wr)||ut).map(no=>no.getRealPlayer())).filter(no=>!!no.element&&no.element===wr),to=q.get(wr),co=ye.get(wr),Bl=Or(0,this._normalizer,0,fr.keyframes,to,co),Va=this._buildPlayer(fr,Bl,Is);if(fr.subTimeline&&N&&Bn.add(wr),Hi){const no=new Nr(m,xe,wr);no.setRealPlayer(Va),kt.push(no)}return Va});kt.forEach(fr=>{$n(this.playersByQueriedElement,fr.element,[]).push(fr),fr.onDone(()=>function F(E,m,d){let _=E.get(m);if(_){if(_.length){const N=_.indexOf(d);_.splice(N,1)}0==_.length&&E.delete(m)}return _}(this.playersByQueriedElement,fr.element,fr))}),mn.forEach(fr=>un(fr,Oe));const Wr=zn(ii);return Wr.onDestroy(()=>{mn.forEach(fr=>Zn(fr,Oe)),De(ft,d.toStyles)}),Bn.forEach(fr=>{$n(N,fr,[]).push(Wr)}),Wr}_buildPlayer(m,d,_){return d.length>0?this.driver.animate(m.element,d,m.duration,m.delay,m.easing,_):new k.ZN(m.duration,m.delay)}}class Nr{constructor(m,d,_){this.namespaceId=m,this.triggerName=d,this.element=_,this._player=new k.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((d,_)=>{d.forEach(N=>pr(m,_,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const d=this._player;d.triggerCallback&&m.onStart(()=>d.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,d){$n(this._queuedCallbacks,m,[]).push(d)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const d=this._player;d.triggerCallback&&d.triggerCallback(m)}}function U(E){return E&&1===E.nodeType}function Be(E,m){const d=E.style.display;return E.style.display=m??"none",d}function _t(E,m,d,_,N){const q=[];d.forEach(ft=>q.push(Be(ft)));const ye=[];_.forEach((ft,kt)=>{const mn=new Map;ft.forEach(Bn=>{const ii=m.computeStyle(kt,Bn,N);mn.set(Bn,ii),(!ii||0==ii.length)&&(kt[pn]=an,ye.push(kt))}),E.set(kt,mn)});let xe=0;return d.forEach(ft=>Be(ft,q[xe++])),ye}function it(E,m){const d=new Map;if(E.forEach(xe=>d.set(xe,[])),0==m.length)return d;const N=new Set(m),q=new Map;function ye(xe){if(!xe)return 1;let ft=q.get(xe);if(ft)return ft;const kt=xe.parentNode;return ft=d.has(kt)?kt:N.has(kt)?1:ye(kt),q.set(xe,ft),ft}return m.forEach(xe=>{const ft=ye(xe);1!==ft&&d.get(ft).push(xe)}),d}function un(E,m){E.classList?.add(m)}function Zn(E,m){E.classList?.remove(m)}function jr(E,m,d){zn(d).onDone(()=>E.processLeaveNode(m))}function Er(E,m){for(let d=0;d<E.length;d++){const _=E[d];_ instanceof k.ZE?Er(_.players,m):m.push(_)}}function ni(E,m,d){const _=d.get(E);if(!_)return!1;let N=m.get(E);return N?_.forEach(q=>N.add(q)):m.set(E,_),d.delete(E),!0}class gi{constructor(m,d,_){this.bodyNode=m,this._driver=d,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(N,q)=>{},this._transitionEngine=new Jr(m,d,_),this._timelineEngine=new Ys(m,d,_),this._transitionEngine.onRemovalComplete=(N,q)=>this.onRemovalComplete(N,q)}registerTrigger(m,d,_,N,q){const ye=m+"-"+N;let xe=this._triggerCache[ye];if(!xe){const ft=[],mn=Pi(this._driver,q,ft,[]);if(ft.length)throw function He(E,m){return new u.vHH(3404,!1)}();xe=function _s(E,m,d){return new vs(E,m,d)}(N,mn,this._normalizer),this._triggerCache[ye]=xe}this._transitionEngine.registerTrigger(d,N,xe)}register(m,d){this._transitionEngine.register(m,d)}destroy(m,d){this._transitionEngine.destroy(m,d)}onInsert(m,d,_,N){this._transitionEngine.insertNode(m,d,_,N)}onRemove(m,d,_,N){this._transitionEngine.removeNode(m,d,N||!1,_)}disableAnimations(m,d){this._transitionEngine.markElementAsDisabled(m,d)}process(m,d,_,N){if("@"==_.charAt(0)){const[q,ye]=Ar(_);this._timelineEngine.command(q,d,ye,N)}else this._transitionEngine.trigger(m,d,_,N)}listen(m,d,_,N,q){if("@"==_.charAt(0)){const[ye,xe]=Ar(_);return this._timelineEngine.listen(ye,d,xe,q)}return this._transitionEngine.listen(m,d,_,N,q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let or=(()=>{class E{constructor(d,_,N){this._element=d,this._startStyles=_,this._endStyles=N,this._state=0;let q=E.initialStylesByElement.get(d);q||E.initialStylesByElement.set(d,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&De(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(De(this._element,this._initialStyles),this._endStyles&&(De(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E.initialStylesByElement.delete(this._element),this._startStyles&&(wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),De(this._element,this._initialStyles),this._state=3)}}return E.initialStylesByElement=new WeakMap,E})();function ji(E){let m=null;return E.forEach((d,_)=>{(function hs(E){return"display"===E||"position"===E})(_)&&(m=m||new Map,m.set(_,d))}),m}class ri{constructor(m,d,_,N){this.element=m,this.keyframes=d,this.options=_,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const d=[];return m.forEach(_=>{d.push(Object.fromEntries(_))}),d}_triggerWebAnimation(m,d,_){return m.animate(this._convertKeyframesToObject(d),_)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,N)=>{"offset"!==N&&m.set(N,this._finished?_:Dn(this.element,N))}),this.currentSnapshot=m}triggerCallback(m){const d="start"===m?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}class mo{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,d){return!1}containsElement(m,d){return li(m,d)}getParentElement(m){return Qn(m)}query(m,d,_){return kn(m,d,_)}computeStyle(m,d,_){return window.getComputedStyle(m)[d]}animate(m,d,_,N,q,ye=[]){const ft={duration:_,delay:N,fill:0==N?"both":"forwards"};q&&(ft.easing=q);const kt=new Map,mn=ye.filter(Wr=>Wr instanceof ri);(function Jt(E,m){return 0===E||0===m})(_,N)&&mn.forEach(Wr=>{Wr.currentSnapshot.forEach((fr,wr)=>kt.set(wr,fr))});let Bn=function xn(E){return E.length?E[0]instanceof Map?E:E.map(m=>zt(m)):[]}(d).map(Wr=>Tn(Wr));Bn=function Wn(E,m,d){if(d.size&&m.length){let _=m[0],N=[];if(d.forEach((q,ye)=>{_.has(ye)||N.push(ye),_.set(ye,q)}),N.length)for(let q=1;q<m.length;q++){let ye=m[q];N.forEach(xe=>ye.set(xe,Dn(E,xe)))}}return m}(m,Bn,kt);const ii=function Lt(E,m){let d=null,_=null;return Array.isArray(m)&&m.length?(d=ji(m[0]),m.length>1&&(_=ji(m[m.length-1]))):m instanceof Map&&(d=ji(m)),d||_?new or(E,d,_):null}(m,Bn);return new ri(m,Bn,ft,ii)}}var tr=M(6895);let ts=(()=>{class E extends k._j{constructor(d,_){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(_.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(d){const _=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(d)?(0,k.vP)(d):d;return la(this._renderer,null,_,"register",[N]),new wo(_,this._renderer)}}return E.\u0275fac=function(d){return new(d||E)(u.LFG(u.FYo),u.LFG(tr.K0))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();class wo extends k.LC{constructor(m,d){super(),this._id=m,this._renderer=d}create(m,d){return new Di(this._id,m,d||{},this._renderer)}}class Di{constructor(m,d,_,N){this.id=m,this.element=d,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(m,d){return this._renderer.listen(this.element,`@@${this.id}:${m}`,d)}_command(m,...d){return la(this._renderer,this.element,this.id,m,d)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function la(E,m,d,_,N){return E.setProperty(m,`@@${d}:${_}`,N)}const Aa="@.disabled";let $=(()=>{class E{constructor(d,_,N){this.delegate=d,this.engine=_,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=(q,ye)=>{const xe=ye?.parentNode(q);xe&&ye.removeChild(xe,q)}}createRenderer(d,_){const q=this.delegate.createRenderer(d,_);if(!(d&&_&&_.data&&_.data.animation)){let mn=this._rendererCache.get(q);return mn||(mn=new L("",q,this.engine),this._rendererCache.set(q,mn)),mn}const ye=_.id,xe=_.id+"-"+this._currentId;this._currentId++,this.engine.register(xe,d);const ft=mn=>{Array.isArray(mn)?mn.forEach(ft):this.engine.registerTrigger(ye,xe,d,mn.name,mn)};return _.data.animation.forEach(ft),new O(this,xe,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,_,N){d>=0&&d<this._microtaskId?this._zone.run(()=>_(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[ye,xe]=q;ye(xe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return E.\u0275fac=function(d){return new(d||E)(u.LFG(u.FYo),u.LFG(gi),u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();class L{constructor(m,d,_){this.namespaceId=m,this.delegate=d,this.engine=_,this.destroyNode=this.delegate.destroyNode?N=>d.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,d){return this.delegate.createElement(m,d)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,d){this.delegate.appendChild(m,d),this.engine.onInsert(this.namespaceId,d,m,!1)}insertBefore(m,d,_,N=!0){this.delegate.insertBefore(m,d,_),this.engine.onInsert(this.namespaceId,d,m,N)}removeChild(m,d,_){this.engine.onRemove(this.namespaceId,d,this.delegate,_)}selectRootElement(m,d){return this.delegate.selectRootElement(m,d)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,d,_,N){this.delegate.setAttribute(m,d,_,N)}removeAttribute(m,d,_){this.delegate.removeAttribute(m,d,_)}addClass(m,d){this.delegate.addClass(m,d)}removeClass(m,d){this.delegate.removeClass(m,d)}setStyle(m,d,_,N){this.delegate.setStyle(m,d,_,N)}removeStyle(m,d,_){this.delegate.removeStyle(m,d,_)}setProperty(m,d,_){"@"==d.charAt(0)&&d==Aa?this.disableAnimations(m,!!_):this.delegate.setProperty(m,d,_)}setValue(m,d){this.delegate.setValue(m,d)}listen(m,d,_){return this.delegate.listen(m,d,_)}disableAnimations(m,d){this.engine.disableAnimations(m,d)}}class O extends L{constructor(m,d,_,N){super(d,_,N),this.factory=m,this.namespaceId=d}setProperty(m,d,_){"@"==d.charAt(0)?"."==d.charAt(1)&&d==Aa?this.disableAnimations(m,_=void 0===_||!!_):this.engine.process(this.namespaceId,m,d.slice(1),_):this.delegate.setProperty(m,d,_)}listen(m,d,_){if("@"==d.charAt(0)){const N=function ue(E){switch(E){case"body":return document.body;case"document":return document;case"window":return window;default:return E}}(m);let q=d.slice(1),ye="";return"@"!=q.charAt(0)&&([q,ye]=function vt(E){const m=E.indexOf(".");return[E.substring(0,m),E.slice(m+1)]}(q)),this.engine.listen(this.namespaceId,N,q,ye,xe=>{this.factory.scheduleListenerCallback(xe._data||-1,_,xe)})}return this.delegate.listen(m,d,_)}}const Qs=[{provide:k._j,useClass:ts},{provide:Ns,useFactory:function Ei(){return new go}},{provide:gi,useClass:(()=>{class E extends gi{constructor(d,_,N,q){super(d.body,_,N)}ngOnDestroy(){this.flush()}}return E.\u0275fac=function(d){return new(d||E)(u.LFG(tr.K0),u.LFG(zr),u.LFG(Ns),u.LFG(u.z2F))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})()},{provide:u.FYo,useFactory:function Ri(E,m,d){return new $(E,m,d)},deps:[h.se,gi,u.R0b]}],io=[{provide:zr,useFactory:()=>new mo},{provide:u.QbO,useValue:"BrowserAnimations"},...Qs],so=[{provide:zr,useClass:en},{provide:u.QbO,useValue:"NoopAnimations"},...Qs];let ks=(()=>{class E{static withConfig(d){return{ngModule:E,providers:d.disableAnimations?so:io}}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:io,imports:[h.b2]}),E})();var Vi=M(1441);let Wo=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-not-found"]],decls:2,vars:0,template:function(d,_){1&d&&(u.TgZ(0,"p"),u._uU(1,"not-found works!"),u.qZA())}}),E})();var ci=M(8737),Oi=M(6981),Lr=M(6897),Go=M(5593);const $a=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class E{constructor(d,_,N,q){this._router=d,this._productStore=_,this._blogStore=N,this._animalStore=q,this.quantity=1,this.articles=[],this.animals=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],this.products=[{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:ci.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]}]}ngOnInit(){}onShopNowClick(){this._router.navigate(["/store/products"])}onTypeClick(d){switch(d){case"cats":this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Cat}});break;case"dogs":this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Dog}})}}onWhatWeCanDoCardsClick(d){switch(d){case"store":this._router.navigate(["/store/products"]);break;case"adoption":this._router.navigate(["/adoption"]);break;case"blog":this._router.navigate(["/blog"])}}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(Vi.F0),u.Y36(Lr.yh),u.Y36(Lr.yh),u.Y36(Lr.yh))},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-home"]],decls:73,vars:0,consts:[[1,"home"],[1,"heroo","container","d-lg-flex","d-block","mb-5"],[1,"d-flex","justify-content-center"],["src","assets/images/pets.png","alt","image"],[1,"d-flex","justify-content-center","align-items-center","flex-column","pe-lg-5"],[1,"hero-content"],[1,"hero__content__para","fs-3","mt-lg-2","text-center"],[1,"text-center"],["styleClass","card__addToCart mt-1 rounded-5 ","label","Shop Now","icon","pi pi-shopping-bag",3,"onClick"],[1,"imageSectionContainer","d-flex","justify-content-center","align-items-center"],[1,"imageSectionContainer__title","flex-grow-1"],[1,"hero__content__text","text-center","p-md-4"],[1,"hero__content__text","text-center"],[1,"type","container","py-5"],[1,"text-center","mb-5","fw-bold","fs-1"],[1,"typesButtons","d-lg-flex","justify-content-center","my-5","d-block"],[1,"CategoryRouter","text-center","my-5","mx-3","col-lg-5"],[3,"click"],[1,"CategoryRouter__content","d-lg-flex","border","rounded-5","p-2"],["src","assets/images/catcard.png","alt","Cat Image"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center",2,"color","var(--dark-grey-color)"],[1,"m-0","fs-2"],["src","assets/images/bg-dog.png","alt","Dog Image"],[1,"services","container","my-5"],[1,"services__text","my-5"],[1,"text-center","fs-1","mb-4","fw-bold"],[1,"text-center","pb-4","m-auto","fs-4"],[1,"services__container","container","d-lg-flex","my-5","justify-content-center","align-items-center;"],[1,"services__card","m-4","col-lg-4","col-md-12","p-5","shadow",3,"click"],[1,"icon-container","m-auto","shadow","d-flex"],[1,"fa-solid","fa-store","m-auto","fs-2"],[1,"text-center","fs-3","m-4","fw-bold"],[1,"text-center","fs-6","px-4"],[1,"services__card","col-lg-4","col-md-12","m-4","p-5","shadow",3,"click"],[1,"fa-solid","fa-paw","m-auto","fs-1"],[1,"fa-solid","fa-blog","m-auto","fs-1"]],template:function(d,_){1&d&&(u.TgZ(0,"Section",0)(1,"div",1)(2,"figure",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5)(6,"p",6),u._uU(7," Let us treat your pet like our own family with best services and packages. "),u.qZA(),u.TgZ(8,"div",7)(9,"p-button",8),u.NdJ("onClick",function(){return _.onShopNowClick()}),u.qZA()()()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"p",11)(13,"b"),u._uU(14,"Your Pet is Part"),u.qZA()(),u.TgZ(15,"p",12)(16,"b"),u._uU(17,"of Your Family"),u.qZA()()(),u._uU(18," > "),u.qZA(),u.TgZ(19,"div",13)(20,"h3",14),u._uU(21,"Shop By Pet"),u.qZA(),u.TgZ(22,"div",15)(23,"div",16)(24,"a",17),u.NdJ("click",function(){return _.onTypeClick("cats")}),u.TgZ(25,"div",18),u._UZ(26,"img",19),u.TgZ(27,"div",20)(28,"p",21)(29,"b"),u._uU(30,"Cats"),u.qZA()(),u.TgZ(31,"p",21)(32,"b"),u._uU(33,"Shop"),u.qZA()()()()()(),u.TgZ(34,"div",16)(35,"a",17),u.NdJ("click",function(){return _.onTypeClick("dogs")}),u.TgZ(36,"div",18),u._UZ(37,"img",22),u.TgZ(38,"div",20)(39,"p",21)(40,"b"),u._uU(41,"Dogs"),u.qZA()(),u.TgZ(42,"p",21)(43,"b"),u._uU(44,"Shop"),u.qZA()()()()()()()(),u.TgZ(45,"div",23)(46,"div",24)(47,"h2",25),u._uU(48,"What We Can Do"),u.qZA(),u.TgZ(49,"p",26),u._uU(50," We look after your pet, we ensure that we will give the best treatment for your pet. "),u.qZA()(),u.TgZ(51,"div",27)(52,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("store")}),u.TgZ(53,"div",29),u._UZ(54,"i",30),u.qZA(),u.TgZ(55,"p",31),u._uU(56,"Store"),u.qZA(),u.TgZ(57,"p",32),u._uU(58," You can find Supplies, Accessories, Toys all stuff for your pet. "),u.qZA()(),u.TgZ(59,"div",33),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("adoption")}),u.TgZ(60,"div",29),u._UZ(61,"i",34),u.qZA(),u.TgZ(62,"p",31),u._uU(63,"Adoption"),u.qZA(),u.TgZ(64,"p",32),u._uU(65," You can add a new member of your family or find someone to adopt your pet. "),u.qZA()(),u.TgZ(66,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("blog")}),u.TgZ(67,"div",29),u._UZ(68,"i",35),u.qZA(),u.TgZ(69,"p",31),u._uU(70,"Blog"),u.qZA(),u.TgZ(71,"p",32),u._uU(72," You can find very useful articals about pets and know more about its health and food. "),u.qZA()()()()())},dependencies:[Go.zx],styles:["section[_ngcontent-%COMP%]{background-color:#fbf8f8;color:var(--dark-grey-color)}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{margin-top:200px;margin-bottom:200px;background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:800px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;opacity:.7;font-size:6rem}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-bottom:150px!important;background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem;height:15rem;border-radius:10px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]{cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]{background-color:#ffcdd2}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]:hover{box-shadow:5px 10px 18px #888!important;cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:10% 100%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;border-radius:40px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{border-radius:50%;background-color:#ecada6;width:100px;height:100px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover{background-color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]{margin-top:10rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left;margin-top:8rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:1rem;text-align:center;padding:2rem 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__instock[_ngcontent-%COMP%]{background-color:#c8e6c9;opacity:.8;color:#256029;width:5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__outofstock[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737;opacity:.8;width:6.5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}[_nghost-%COMP%]     .p-button{background:#999999;border:1px solid #999999}[_nghost-%COMP%]     .p-button:enabled:hover{background:#ecada6;color:#fff;border-color:#ffcdd2}[_nghost-%COMP%]     .p-button:focus{background-color:none;box-shadow:0 0 0 .1rem transparent!important}[_nghost-%COMP%]     .p-button:enabled:focus{box-shadow:0 0 0 .2rem!important;border-color:none!important}[_nghost-%COMP%]     .p-button{border:none!important}[_nghost-%COMP%]     .p-button.p-button-icon-only .p-button-icon-left, .p-button.p-button-icon-only[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight .p-button-icon-left, .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:#ecada6}[_nghost-%COMP%]     .p-button.p-button-icon-only{padding:.4rem!important;background-color:transparent;color:transparent}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight{background:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight:hover{background-color:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button:not(.p-disabled):not(.p-highlight):hover{background:transparent!important;border-color:transparent!important;color:#495057}[_nghost-%COMP%]     .p-carousel .p-carousel-indicators .p-carousel-indicator.p-highlight button{background-color:var(--pink-color)}@media only screen and (max-width: 1200px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{display:block!important}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}}@media only screen and (max-width: 992px){section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}}@media only screen and (max-width: 768px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 15%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:400px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:500px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:5rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 70%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}@media only screen and (max-width: 600px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:400px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:3rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 90%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}"]}),E})()},{path:"auth",loadChildren:()=>Promise.all([M.e(722),M.e(493),M.e(549)]).then(M.bind(M,7549)).then(E=>E.AuthModuleModule)},{path:"store",loadChildren:()=>Promise.all([M.e(722),M.e(592),M.e(927)]).then(M.bind(M,5927)).then(E=>E.StoreModuleModule)},{path:"blog",loadChildren:()=>M.e(10).then(M.bind(M,1010)).then(E=>E.BlogModuleModule)},{path:"adoption",loadChildren:()=>Promise.all([M.e(493),M.e(592),M.e(252)]).then(M.bind(M,252)).then(E=>E.AdoptionModuleModule)},{path:"**",component:Wo}];let Ma=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[Vi.Bz.forRoot($a),Vi.Bz]}),E})();var Wi=M(9770),Ls=M(2843),mi=M(8421),No=M(9751),ua=M(5577),Io=M(1144),js=M(576),ja=M(3268);const su=["addListener","removeListener"],Dl=["addEventListener","removeEventListener"],Wa=["on","off"];function Yi(E,m,d,_){if((0,js.m)(d)&&(_=d,d=void 0),_)return Yi(E,m,d).pipe((0,ja.Z)(_));const[N,q]=function ca(E){return(0,js.m)(E.addEventListener)&&(0,js.m)(E.removeEventListener)}(E)?Dl.map(ye=>xe=>E[ye](m,xe,d)):function cl(E){return(0,js.m)(E.addListener)&&(0,js.m)(E.removeListener)}(E)?su.map(Sl(E,m)):function zo(E){return(0,js.m)(E.on)&&(0,js.m)(E.off)}(E)?Wa.map(Sl(E,m)):[];if(!N&&(0,Io.z)(E))return(0,ua.z)(ye=>Yi(ye,m,d))((0,mi.Xf)(E));if(!N)throw new TypeError("Invalid event target");return new No.y(ye=>{const xe=(...ft)=>ye.next(1<ft.length?ft:ft[0]);return N(xe),()=>q(xe)})}function Sl(E,m){return d=>_=>E[d](m,_)}var ko=M(9646),Co=M(7272),Ga=M(7579),da=M(5032);const bi=new No.y(da.Z);var za=M(6451),Ws=M(4004),Lo=M(9300),wi=M(3900),yo=M(4033),Gs=M(4482);const dl={connector:()=>new Ga.x};function Kt(E,m=dl){const{connector:d}=m;return(0,Gs.e)((_,N)=>{const q=d();(0,mi.Xf)(E(function xa(E){return new No.y(m=>E.subscribe(m))}(q))).subscribe(N),N.add(_.subscribe(q))})}var Fs=M(5698),On=M(8505),Jn=M(4986),Al=M(5403),At=M(9718);function Nt(E,m){return m?d=>(0,Co.z)(m.pipe((0,Fs.q)(1),function hn(){return(0,Gs.e)((E,m)=>{E.subscribe((0,Al.x)(m,da.Z))})}()),d.pipe(Nt(E))):(0,ua.z)((d,_)=>E(d,_).pipe((0,Fs.q)(1),(0,At.h)(d)))}var yi=M(3532);const fa="Service workers are disabled or not supported by this browser";class Zo{constructor(m){if(this.serviceWorker=m,m){const _=Yi(m,"controllerchange").pipe((0,Ws.U)(()=>m.controller)),N=(0,Wi.P)(()=>(0,ko.of)(m.controller)),q=(0,Co.z)(N,_);this.worker=q.pipe((0,Lo.h)(mn=>!!mn)),this.registration=this.worker.pipe((0,wi.w)(()=>m.getRegistration()));const kt=Yi(m,"message").pipe((0,Ws.U)(mn=>mn.data)).pipe((0,Lo.h)(mn=>mn&&mn.type)).pipe(function fs(E){return E?m=>Kt(E)(m):m=>function Ni(E,m){const d=(0,js.m)(E)?E:()=>E;return(0,js.m)(m)?Kt(m,{connector:d}):_=>new yo.c(_,d)}(new Ga.x)(m)}());kt.connect(),this.events=kt}else this.worker=this.events=this.registration=function pa(E){return(0,Wi.P)(()=>(0,Ls._)(new Error(E)))}(fa)}postMessage(m,d){return this.worker.pipe((0,Fs.q)(1),(0,On.b)(_=>{_.postMessage({action:m,...d})})).toPromise().then(()=>{})}postMessageWithOperation(m,d,_){const N=this.waitForOperationCompleted(_),q=this.postMessage(m,d);return Promise.all([q,N]).then(([,ye])=>ye)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(m){let d;return d="string"==typeof m?_=>_.type===m:_=>m.includes(_.type),this.events.pipe((0,Lo.h)(d))}nextEventOfType(m){return this.eventsOfType(m).pipe((0,Fs.q)(1))}waitForOperationCompleted(m){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Lo.h)(d=>d.nonce===m),(0,Fs.q)(1),(0,Ws.U)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hl=(()=>{class E{constructor(d){if(this.sw=d,this.subscriptionChanges=new Ga.x,!d.isEnabled)return this.messages=bi,this.notificationClicks=bi,void(this.subscription=bi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ws.U)(N=>N.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ws.U)(N=>N.data)),this.pushManager=this.sw.registration.pipe((0,Ws.U)(N=>N.pushManager));const _=this.pushManager.pipe((0,wi.w)(N=>N.getSubscription()));this.subscription=(0,za.T)(_,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(d){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const _={userVisibleOnly:!0};let N=this.decodeBase64(d.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),q=new Uint8Array(new ArrayBuffer(N.length));for(let ye=0;ye<N.length;ye++)q[ye]=N.charCodeAt(ye);return _.applicationServerKey=q,this.pushManager.pipe((0,wi.w)(ye=>ye.subscribe(_)),(0,Fs.q)(1)).toPromise().then(ye=>(this.subscriptionChanges.next(ye),ye))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Fs.q)(1),(0,wi.w)(_=>{if(null===_)throw new Error("Not subscribed to push notifications.");return _.unsubscribe().then(N=>{if(!N)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fa))}decodeBase64(d){return atob(d)}}return E.\u0275fac=function(d){return new(d||E)(u.LFG(Zo))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})(),Ka=(()=>{class E{constructor(d){if(this.sw=d,!d.isEnabled)return this.versionUpdates=bi,this.available=bi,this.activated=bi,void(this.unrecoverable=bi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Lo.h)(_=>"VERSION_READY"===_.type),(0,Ws.U)(_=>({type:"UPDATE_AVAILABLE",current:_.currentVersion,available:_.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:d},d)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:d},d)}}return E.\u0275fac=function(d){return new(d||E)(u.LFG(Zo))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();class Oa{}const Ui=new u.OlP("NGSW_REGISTER_SCRIPT");function Yo(E,m,d,_){return()=>{if(!(0,tr.NF)(_)||!("serviceWorker"in navigator)||!1===d.enabled)return;let q;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof d.registrationStrategy)q=d.registrationStrategy();else{const[xe,...ft]=(d.registrationStrategy||"registerWhenStable:30000").split(":");switch(xe){case"registerImmediately":q=(0,ko.of)(null);break;case"registerWithDelay":q=br(+ft[0]||0);break;case"registerWhenStable":q=ft[0]?(0,za.T)(Ss(E),br(+ft[0])):Ss(E);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${d.registrationStrategy}`)}}E.get(u.R0b).runOutsideAngular(()=>q.pipe((0,Fs.q)(1)).subscribe(()=>navigator.serviceWorker.register(m,{scope:d.scope}).catch(xe=>console.error("Service worker registration failed with:",xe))))}}function br(E){return(0,ko.of)(null).pipe(function ha(E,m=Jn.z){const d=function qo(E=0,m,d=Jn.P){let _=-1;return null!=m&&((0,yi.K)(m)?d=m:_=m),new No.y(N=>{let q=function Ko(E){return E instanceof Date&&!isNaN(E)}(E)?+E-d.now():E;q<0&&(q=0);let ye=0;return d.schedule(function(){N.closed||(N.next(ye++),0<=_?this.schedule(void 0,_):N.complete())},q)})}(E,m);return Nt(()=>d)}(E))}function Ss(E){return E.get(u.z2F).isStable.pipe((0,Lo.h)(d=>d))}function To(E,m){return new Zo((0,tr.NF)(m)&&!1!==E.enabled?navigator.serviceWorker:void 0)}let di=(()=>{class E{static register(d,_={}){return{ngModule:E,providers:[{provide:Ui,useValue:d},{provide:Oa,useValue:_},{provide:Zo,useFactory:To,deps:[Oa,u.Lbi]},{provide:u.ip1,useFactory:Yo,deps:[u.zs3,Ui,Oa,u.Lbi],multi:!0}]}}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[hl,Ka]}),E})();const Xn={firebase:{projectId:"happypaws-621b1",appId:"1:957404999094:web:38ded4e2bb534d0ace2517",storageBucket:"happypaws-621b1.appspot.com",locationId:"europe-west",apiKey:"AIzaSyChst9Uo1po9_nMuuK4rN21r5MRbfZlRus",authDomain:"happypaws-621b1.firebaseapp.com",messagingSenderId:"957404999094"},production:!0};var Dr=M(9592),hr=M(1795),ns=M(982),Ii=M(3608),Xt=M(805);const Qo=["sublist"],qa=function(E){return{"p-hidden":E}};function _o(E,m){if(1&E&&u._UZ(0,"li",5),2&E){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,qa,!1===d.visible))}}function ws(E,m){if(1&E&&u._UZ(0,"span",17),2&E){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.icon)("ngStyle",d.iconStyle)}}function rs(E,m){if(1&E&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&E){const d=u.oxw(3).$implicit;u.xp6(1),u.Oqu(d.label)}}function Do(E,m){if(1&E&&u._UZ(0,"span",19),2&E){const d=u.oxw(3).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function Pa(E,m){if(1&E&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&E){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.badgeStyleClass),u.xp6(1),u.Oqu(d.badge)}}function Qi(E,m){1&E&&u._UZ(0,"span",21)}const So=function(E){return{"p-menuitem-link":!0,"p-disabled":E}};function zl(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemKeyDown(N,q))})("click",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemClick(N,q))})("mouseenter",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemMouseEnter(N,q))}),u.YNc(1,ws,1,2,"span",12),u.YNc(2,rs,2,1,"span",13),u.YNc(3,Do,1,1,"ng-template",null,14,u.W1O),u.YNc(5,Pa,2,2,"span",15),u.YNc(6,Qi,1,0,"span",16),u.qZA()}if(2&E){const d=u.MAs(4),_=u.oxw(2).$implicit,N=u.oxw();u.Q6J("target",_.target)("ngClass",u.VKq(14,So,_.disabled)),u.uIk("href",_.url,u.LSH)("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0")("aria-haspopup",null!=N.item.items)("aria-expanded",N.item===N.activeItem),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function Js(E,m){if(1&E&&u._UZ(0,"span",17),2&E){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.icon)("ngStyle",d.iconStyle)}}function Kr(E,m){if(1&E&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&E){const d=u.oxw(3).$implicit;u.xp6(1),u.Oqu(d.label)}}function Kl(E,m){if(1&E&&u._UZ(0,"span",19),2&E){const d=u.oxw(3).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function It(E,m){if(1&E&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&E){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.badgeStyleClass),u.xp6(1),u.Oqu(d.badge)}}function Za(E,m){1&E&&u._UZ(0,"span",21)}const Ao=function(){return{exact:!1}};function Iu(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"a",22),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemKeyDown(N,q))})("click",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemClick(N,q))})("mouseenter",function(N){u.CHM(d);const q=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemMouseEnter(N,q))}),u.YNc(1,Js,1,2,"span",12),u.YNc(2,Kr,2,1,"span",13),u.YNc(3,Kl,1,1,"ng-template",null,23,u.W1O),u.YNc(5,It,2,2,"span",15),u.YNc(6,Za,1,0,"span",16),u.qZA()}if(2&E){const d=u.MAs(4),_=u.oxw(2).$implicit;u.Q6J("routerLink",_.routerLink)("queryParams",_.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.routerLinkActiveOptions||u.DdM(21,Ao))("target",_.target)("ngClass",u.VKq(22,So,_.disabled))("fragment",_.fragment)("queryParamsHandling",_.queryParamsHandling)("preserveFragment",_.preserveFragment)("skipLocationChange",_.skipLocationChange)("replaceUrl",_.replaceUrl)("state",_.state),u.uIk("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0"),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function fl(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"p-tieredMenuSub",24),u.NdJ("keydownItem",function(N){u.CHM(d);const q=u.oxw(3);return u.KtG(q.onChildItemKeyDown(N))})("leafClick",function(){u.CHM(d);const N=u.oxw(3);return u.KtG(N.onLeafClick())}),u.qZA()}if(2&E){const d=u.oxw(2).$implicit,_=u.oxw();u.Q6J("parentActive",d===_.activeItem)("item",d)("mobileActive",_.mobileActive)("autoDisplay",_.autoDisplay)("popup",_.popup)}}const Fo=function(E,m){return{"p-menuitem":!0,"p-menuitem-active":E,"p-hidden":m}};function pl(E,m){if(1&E&&(u.TgZ(0,"li",6,7),u.YNc(2,zl,7,16,"a",8),u.YNc(3,Iu,7,24,"a",9),u.YNc(4,fl,1,5,"p-tieredMenuSub",10),u.qZA()),2&E){const d=u.oxw().$implicit,_=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.WLB(8,Fo,d===_.activeItem,!1===d.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions),u.xp6(2),u.Q6J("ngIf",!d.routerLink),u.xp6(1),u.Q6J("ngIf",d.routerLink),u.xp6(1),u.Q6J("ngIf",d.items)}}function ga(E,m){if(1&E&&(u.YNc(0,_o,1,3,"li",3),u.YNc(1,pl,5,11,"li",4)),2&E){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}const Cu=function(E){return{"p-submenu-list":E}},Ji=function(E){return{"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":E}},Ml=function(E,m){return{showTransitionParams:E,hideTransitionParams:m}},ma=function(E){return{value:"visible",params:E}};function zs(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"div",1),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationEnd(N))}),u.TgZ(1,"p-tieredMenuSub",2),u.NdJ("leafClick",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.onLeafClick())}),u.qZA()()}if(2&E){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.VKq(12,Ji,d.popup))("ngStyle",d.style)("@overlayAnimation",u.VKq(17,ma,u.WLB(14,Ml,d.showTransitionOptions,d.hideTransitionOptions)))("@.disabled",!0!==d.popup),u.xp6(1),u.Q6J("item",d.model)("parentActive",d.parentActive)("baseZIndex",d.baseZIndex)("autoZIndex",d.autoZIndex)("autoDisplay",d.autoDisplay)("popup",d.popup)}}let Ya=(()=>{class E{constructor(d,_,N){this.el=d,this.renderer=_,this.cd=N,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new u.vpe,this.keydownItem=new u.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(d){this.root||(this._parentActive=d,d?this.positionSubmenu():this.activeItem=null)}onItemClick(d,_){_.disabled?d.preventDefault():(!_.url&&!_.routerLink&&d.preventDefault(),_.command&&_.command({originalEvent:d,item:_}),_.items&&(this.activeItem&&_===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=_,this.root&&this.bindDocumentClickListener())),_.items||this.onLeafClick())}onItemMouseEnter(d,_){_.disabled||this.mobileActive?d.preventDefault():this.root?(this.activeItem||this.autoDisplay||this.popup)&&(this.activeItem=_,this.bindDocumentClickListener()):(this.activeItem=_,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}onItemKeyDown(d,_){let N=d.currentTarget.parentElement;switch(d.key){case"ArrowDown":const q=this.findNextItem(N);q&&q.children[0].focus(),d.preventDefault();break;case"ArrowUp":const ye=this.findPrevItem(N);ye&&ye.children[0].focus(),d.preventDefault();break;case"ArrowRight":_.items&&(this.activeItem=_,this.root&&this.bindDocumentClickListener(),setTimeout(()=>{N.children[1].children[0].children[0].children[0].focus()},50)),d.preventDefault();break;case"Enter":_.routerLink||this.onItemClick(d,_)}this.keydownItem.emit({originalEvent:d,element:N})}positionSubmenu(){let d=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(d){const _=d.parentElement.parentElement,N=Dr.p.getOffset(_),q=Dr.p.getViewport(),ye=d.offsetParent?d.offsetWidth:Dr.p.getHiddenElementOuterWidth(d),xe=Dr.p.getOuterWidth(_.children[0]);parseInt(N.left,10)+xe+ye>q.width-Dr.p.calculateScrollbarWidth()&&Dr.p.addClass(d,"p-submenu-list-flipped")}}findNextItem(d){let _=d.nextElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||!Dr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||!Dr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}onChildItemKeyDown(d){"ArrowLeft"===d.originalEvent.key&&(this.activeItem=null,this.root&&this.unbindDocumentClickListener(),d.element.parentElement.parentElement.parentElement.children[0].focus())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=d=>{this.el&&!this.el.nativeElement.contains(d.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO))},E.\u0275cmp=u.Xpm({type:E,selectors:[["p-tieredMenuSub"]],viewQuery:function(d,_){if(1&d&&u.Gf(Qo,5),2&d){let N;u.iGM(N=u.CRH())&&(_.sublistViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",popup:"popup",parentActive:"parentActive"},outputs:{leafClick:"leafClick",keydownItem:"keydownItem"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["pRipple","",3,"target","ngClass","keydown","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","keydown","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick"]],template:function(d,_){1&d&&(u.TgZ(0,"ul",0,1),u.YNc(2,ga,2,2,"ng-template",2),u.qZA()),2&d&&(u.Q6J("ngClass",u.VKq(2,Cu,!_.root)),u.xp6(2),u.Q6J("ngForOf",_.root?_.item:_.item.items))},dependencies:[tr.mk,tr.sg,tr.O5,tr.PC,Vi.yS,Vi.Od,hr.H,Ii.u,E],encapsulation:2}),E})(),Xi=(()=>{class E{constructor(d,_,N,q,ye){this.el=d,this.renderer=_,this.cd=N,this.config=q,this.overlayService=ye,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}toggle(d){this.visible?this.hide():this.show(d),this.preventDocumentDefault=!0}show(d){this.target=d.currentTarget,this.relativeAlign=d.relativeAlign,this.visible=!0,this.parentActive=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(d){this.popup&&this.overlayService.add({originalEvent:d,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(d){switch(d.toState){case"visible":this.popup&&(this.container=d.element,this.moveOnTop(),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide()}}alignOverlay(){this.relativeAlign?Dr.p.relativePosition(this.container,this.target):Dr.p.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(d){"void"===d.toState&&ns.P9.clear(d.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Dr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&ns.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.parentActive=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!Dr.p.isTouchDevice()&&this.hide()}onLeafClick(){this.popup&&this.hide(),this.unbindDocumentClickListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{!this.preventDocumentDefault&&this.popup&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Dr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ns.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Xt.b4),u.Y36(Xt.F0))},E.\u0275cmp=u.Xpm({type:E,selectors:[["p-tieredMenu"]],hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["root","root",3,"item","parentActive","baseZIndex","autoZIndex","autoDisplay","popup","leafClick"]],template:function(d,_){1&d&&u.YNc(0,zs,2,19,"div",0),2&d&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[tr.mk,tr.O5,tr.PC,Ya],styles:[".p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),E})(),oo=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[tr.ez,Vi.Bz,hr.T,Ii.z,Vi.Bz,Ii.z]}),E})();const Gi=["pMenuItemContent",""];function T(E,m){if(1&E&&u._UZ(0,"span",7),2&E){const d=u.oxw(2);u.Tol(d.item.iconClass),u.Q6J("ngClass",d.item.icon)("ngStyle",d.item.iconStyle)}}function C(E,m){if(1&E&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&E){const d=u.oxw(2);u.xp6(1),u.Oqu(d.item.label)}}function w(E,m){if(1&E&&u._UZ(0,"span",9),2&E){const d=u.oxw(2);u.Q6J("innerHTML",d.item.label,u.oJD)}}function P(E,m){if(1&E&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&E){const d=u.oxw(2);u.Q6J("ngClass",d.item.badgeStyleClass),u.xp6(1),u.Oqu(d.item.badge)}}const B=function(E){return{"p-disabled":E}};function ie(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"a",2),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onItemKeyDown(N))})("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.menu.itemClick(N,q.item))}),u.YNc(1,T,1,4,"span",3),u.YNc(2,C,2,1,"span",4),u.YNc(3,w,1,1,"ng-template",null,5,u.W1O),u.YNc(5,P,2,2,"span",6),u.qZA()}if(2&E){const d=u.MAs(4),_=u.oxw();u.Q6J("target",_.item.target)("ngClass",u.VKq(12,B,_.item.disabled))("target",_.item.target),u.uIk("href",_.item.url||null,u.LSH)("tabindex",_.item.disabled?null:"0")("data-automationid",_.item.automationId)("title",_.item.title)("id",_.item.id),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}function Ee(E,m){if(1&E&&u._UZ(0,"span",14),2&E){const d=u.oxw(2);u.Q6J("ngClass",d.item.icon)}}function Ae(E,m){if(1&E&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&E){const d=u.oxw(2);u.xp6(1),u.Oqu(d.item.label)}}function Et(E,m){if(1&E&&u._UZ(0,"span",9),2&E){const d=u.oxw(2);u.Q6J("innerHTML",d.item.label,u.oJD)}}function on(E,m){if(1&E&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&E){const d=u.oxw(2);u.Q6J("ngClass",d.item.badgeStyleClass),u.xp6(1),u.Oqu(d.item.badge)}}const Mn=function(){return{exact:!1}};function Pn(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onItemKeyDown(N))})("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.menu.itemClick(N,q.item))}),u.YNc(1,Ee,1,1,"span",12),u.YNc(2,Ae,2,1,"span",4),u.YNc(3,Et,1,1,"ng-template",null,13,u.W1O),u.YNc(5,on,2,2,"span",6),u.qZA()}if(2&E){const d=u.MAs(4),_=u.oxw();u.Q6J("routerLink",_.item.routerLink)("queryParams",_.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.item.routerLinkActiveOptions||u.DdM(20,Mn))("target",_.item.target)("ngClass",u.VKq(21,B,_.item.disabled))("fragment",_.item.fragment)("queryParamsHandling",_.item.queryParamsHandling)("preserveFragment",_.item.preserveFragment)("skipLocationChange",_.item.skipLocationChange)("replaceUrl",_.item.replaceUrl)("state",_.item.state),u.uIk("data-automationid",_.item.automationId)("id",_.item.id)("tabindex",_.item.disabled?null:"0")("title",_.item.title),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}const Zr=["container"],is=function(E){return{"p-hidden":E}};function ao(E,m){if(1&E&&u._UZ(0,"li",8),2&E){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,is,!1===d.visible))}}function Jo(E,m){if(1&E&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&E){const d=u.oxw(2).$implicit;u.xp6(1),u.Oqu(d.label)}}function ss(E,m){if(1&E&&u._UZ(0,"span",12),2&E){const d=u.oxw(2).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function Xo(E,m){if(1&E&&(u.TgZ(0,"li",9),u.YNc(1,Jo,2,1,"span",10),u.YNc(2,ss,1,1,"ng-template",null,11,u.W1O),u.qZA()),2&E){const d=u.MAs(3),_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(5,is,!1===_.visible))("tooltipOptions",_.tooltipOptions),u.uIk("data-automationid",_.automationId),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d)}}function Ks(E,m){if(1&E&&u._UZ(0,"li",8),2&E){const d=u.oxw().$implicit,_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,is,!1===d.visible||!1===_.visible))}}function ya(E,m){if(1&E&&u._UZ(0,"li",14),2&E){const d=u.oxw().$implicit,_=u.oxw().$implicit;u.Tol(d.styleClass),u.Q6J("pMenuItemContent",d)("ngClass",u.VKq(6,is,!1===d.visible||!1===_.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions)}}function vo(E,m){if(1&E&&(u.YNc(0,Ks,1,3,"li",6),u.YNc(1,ya,1,8,"li",13)),2&E){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}function ou(E,m){if(1&E&&(u.YNc(0,ao,1,3,"li",6),u.YNc(1,Xo,4,7,"li",7),u.YNc(2,vo,2,2,"ng-template",5)),2&E){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator),u.xp6(1),u.Q6J("ngForOf",d.items)}}function os(E,m){if(1&E&&u.YNc(0,ou,3,3,"ng-template",5),2&E){const d=u.oxw(2);u.Q6J("ngForOf",d.model)}}function Mo(E,m){if(1&E&&u._UZ(0,"li",8),2&E){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,is,!1===d.visible))}}function lo(E,m){if(1&E&&u._UZ(0,"li",14),2&E){const d=u.oxw().$implicit;u.Tol(d.styleClass),u.Q6J("pMenuItemContent",d)("ngClass",u.VKq(6,is,!1===d.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions)}}function ea(E,m){if(1&E&&(u.YNc(0,Mo,1,3,"li",6),u.YNc(1,lo,1,8,"li",13)),2&E){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}function au(E,m){if(1&E&&u.YNc(0,ea,2,2,"ng-template",5),2&E){const d=u.oxw(2);u.Q6J("ngForOf",d.model)}}const _a=function(E){return{"p-menu p-component":!0,"p-menu-overlay":E}},ql=function(E,m){return{showTransitionParams:E,hideTransitionParams:m}},xo=function(E){return{value:"visible",params:E}};function va(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationEnd(N))}),u.TgZ(2,"ul",3),u.YNc(3,os,1,1,null,4),u.YNc(4,au,1,1,null,4),u.qZA()()}if(2&E){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.VKq(8,_a,d.popup))("ngStyle",d.style)("@overlayAnimation",u.VKq(13,xo,u.WLB(10,ql,d.showTransitionOptions,d.hideTransitionOptions)))("@.disabled",!0!==d.popup),u.xp6(3),u.Q6J("ngIf",d.hasSubMenu()),u.xp6(1),u.Q6J("ngIf",!d.hasSubMenu())}}let R=(()=>{class E{constructor(d){this.menu=d}onItemKeyDown(d){let _=d.currentTarget.parentElement;switch(d.code){case"ArrowDown":var N=this.findNextItem(_);N&&N.children[0].focus(),d.preventDefault();break;case"ArrowUp":var q=this.findPrevItem(_);q&&q.children[0].focus(),d.preventDefault();break;case"Space":case"Enter":_&&!Dr.p.hasClass(_,"p-disabled")&&_.children[0].click(),d.preventDefault()}}findNextItem(d){let _=d.nextElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||!Dr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||!Dr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}}return E.\u0275fac=function(d){return new(d||E)(u.Y36((0,u.Gpc)(()=>H)))},E.\u0275cmp=u.Xpm({type:E,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:Gi,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(d,_){1&d&&(u.YNc(0,ie,6,14,"a",0),u.YNc(1,Pn,6,23,"a",1)),2&d&&(u.Q6J("ngIf",!_.item.routerLink),u.xp6(1),u.Q6J("ngIf",_.item.routerLink))},dependencies:[tr.mk,tr.O5,tr.PC,Vi.yS,Vi.Od,hr.H],encapsulation:2}),E})(),H=(()=>{class E{constructor(d,_,N,q,ye){this.el=d,this.renderer=_,this.cd=N,this.config=q,this.overlayService=ye,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new u.vpe,this.onHide=new u.vpe}toggle(d){this.visible?this.hide():this.show(d),this.preventDocumentDefault=!0}show(d){this.target=d.currentTarget,this.relativeAlign=d.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(d){switch(d.toState){case"visible":this.popup&&(this.container=d.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(d){"void"===d.toState&&this.autoZIndex&&ns.P9.clear(d.element)}alignOverlay(){this.relativeAlign?Dr.p.relativePosition(this.container,this.target):Dr.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Dr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&ns.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!Dr.p.isTouchDevice()&&this.hide()}itemClick(d,_){_.disabled?d.preventDefault():(!_.url&&!_.routerLink&&d.preventDefault(),_.command&&_.command({originalEvent:d,item:_}),this.popup&&this.hide())}onOverlayClick(d){this.popup&&this.overlayService.add({originalEvent:d,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Dr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ns.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var d of this.model)if(d.items)return!0;return!1}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Xt.b4),u.Y36(Xt.F0))},E.\u0275cmp=u.Xpm({type:E,selectors:[["p-menu"]],viewQuery:function(d,_){if(1&d&&u.Gf(Zr,5),2&d){let N;u.iGM(N=u.CRH())&&(_.containerViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(d,_){1&d&&u.YNc(0,va,5,15,"div",0),2&d&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[tr.mk,tr.sg,tr.O5,tr.PC,Ii.u,R],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{display:flex;align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),E})(),oe=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[tr.ez,Vi.Bz,hr.T,Ii.z,Vi.Bz,Ii.z]}),E})();const Te=function(E,m){return{showTransitionParams:E,hideTransitionParams:m}},st=function(E){return{value:"open",params:E}};function Ct(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"button",1),u.NdJ("@animation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onEnter(N))})("@animation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onLeave(N))})("click",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.onClick())}),u._UZ(1,"span",2),u.qZA()}if(2&E){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("@animation",u.VKq(11,st,u.WLB(8,Te,d.showTransitionOptions,d.hideTransitionOptions)))("ngClass",d.containerClass())("ngStyle",d.style),u.xp6(1),u.Tol(d.icon),u.Q6J("ngClass","p-scrolltop-icon")}}let Gt=(()=>{class E{constructor(d,_,N){this.el=d,this.cd=_,this.config=N,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(d){switch(d.toState){case"open":this.overlay=d.element,ns.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(d){"void"===d.toState&&ns.P9.clear(d.element)}checkVisibility(d){this.visible=d>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(Dr.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(ns.P9.clear(this.overlay),this.overlay=null)}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Xt.b4))},E.\u0275cmp=u.Xpm({type:E,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(d,_){1&d&&u.YNc(0,Ct,2,13,"button",0),2&d&&u.Q6J("ngIf",_.visible)},dependencies:[tr.mk,tr.O5,tr.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,k.X$)("animation",[(0,k.SB)("void",(0,k.oB)({opacity:0})),(0,k.SB)("open",(0,k.oB)({opacity:1})),(0,k.eR)("void => open",(0,k.jt)("{{showTransitionParams}}")),(0,k.eR)("open => void",(0,k.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),E})(),In=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[tr.ez]}),E})();var ir=M(5700),yr=M(1167),Kn=M(433);const er=["headerchkbox"],_r=["filter"];function Xs(E,m){1&E&&u.GkF(0)}function Qa(E,m){if(1&E&&(u.TgZ(0,"div",6),u.Hsn(1),u.YNc(2,Xs,1,0,"ng-container",7),u.qZA()),2&E){const d=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",d.headerTemplate)}}const As=function(E){return{"p-checkbox-disabled":E}},Ea=function(E,m,d){return{"p-highlight":E,"p-focus":m,"p-disabled":d}},Ra=function(E){return{"pi pi-check":E}};function Ja(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"div",11)(1,"div",12)(2,"input",13),u.NdJ("focus",function(){u.CHM(d);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxFocus())})("blur",function(){u.CHM(d);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxBlur())})("keydown.space",function(N){u.CHM(d);const q=u.oxw(2);return u.KtG(q.toggleAll(N))}),u.qZA()(),u.TgZ(3,"div",14,15),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw(2);return u.KtG(q.toggleAll(N))}),u._UZ(5,"span",16),u.qZA()()}if(2&E){const d=u.oxw(2);u.Q6J("ngClass",u.VKq(5,As,d.disabled||d.toggleAllDisabled)),u.xp6(2),u.Q6J("checked",d.allChecked)("disabled",d.disabled||d.toggleAllDisabled),u.xp6(1),u.Q6J("ngClass",u.kEZ(7,Ea,d.allChecked,d.headerCheckboxFocus,d.disabled||d.toggleAllDisabled)),u.xp6(2),u.Q6J("ngClass",u.VKq(11,Ra,d.allChecked))}}function ba(E,m){1&E&&u.GkF(0)}const Eo=function(E){return{options:E}};function Oo(E,m){if(1&E&&(u.ynx(0),u.YNc(1,ba,1,0,"ng-container",17),u.BQk()),2&E){const d=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",d.filterTemplate)("ngTemplateOutletContext",u.VKq(2,Eo,d.filterOptions))}}function ps(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"div",19)(1,"input",20,21),u.NdJ("input",function(N){u.CHM(d);const q=u.oxw(3);return u.KtG(q.onFilter(N))}),u.qZA(),u._UZ(3,"span",22),u.qZA()}if(2&E){const d=u.oxw(3);u.xp6(1),u.Q6J("value",d.filterValue||"")("disabled",d.disabled),u.uIk("placeholder",d.filterPlaceHolder)("aria-label",d.ariaFilterLabel)}}function ah(E,m){if(1&E&&u.YNc(0,ps,4,4,"div",18),2&E){const d=u.oxw(2);u.Q6J("ngIf",d.filter)}}function kc(E,m){if(1&E&&(u.TgZ(0,"div",6),u.YNc(1,Ja,6,13,"div",8),u.YNc(2,Oo,2,4,"ng-container",9),u.YNc(3,ah,1,1,"ng-template",null,10,u.W1O),u.qZA()),2&E){const d=u.MAs(4),_=u.oxw();u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll),u.xp6(1),u.Q6J("ngIf",_.filterTemplate)("ngIfElse",d)}}function vd(E,m){if(1&E&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&E){const d=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionGroupLabel(d)||"empty")}}function rc(E,m){1&E&&u.GkF(0)}function Ed(E,m){1&E&&u.GkF(0)}const ic=function(E){return{$implicit:E}};function Lc(E,m){if(1&E&&(u.TgZ(0,"li",24),u.YNc(1,vd,2,1,"span",3),u.YNc(2,rc,1,0,"ng-container",17),u.qZA(),u.YNc(3,Ed,1,0,"ng-container",17)),2&E){const d=m.$implicit,_=u.oxw(2),N=u.MAs(8);u.xp6(1),u.Q6J("ngIf",!_.groupTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",_.groupTemplate)("ngTemplateOutletContext",u.VKq(5,ic,d)),u.xp6(1),u.Q6J("ngTemplateOutlet",N)("ngTemplateOutletContext",u.VKq(7,ic,_.getOptionGroupChildren(d)))}}function Tu(E,m){if(1&E&&(u.ynx(0),u.YNc(1,Lc,4,9,"ng-template",23),u.BQk()),2&E){const d=u.oxw();u.xp6(1),u.Q6J("ngForOf",d.optionsToRender)}}function ta(E,m){1&E&&u.GkF(0)}function Zl(E,m){if(1&E&&(u.ynx(0),u.YNc(1,ta,1,0,"ng-container",17),u.BQk()),2&E){const d=u.oxw(),_=u.MAs(8);u.xp6(1),u.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",u.VKq(2,ic,d.optionsToRender))}}const Fc=function(E){return{"p-highlight":E}};function bd(E,m){if(1&E&&(u.TgZ(0,"div",11)(1,"div",28),u._UZ(2,"span",16),u.qZA()()),2&E){const d=u.oxw().$implicit,_=u.oxw(2);u.Q6J("ngClass",u.VKq(3,As,_.disabled||_.isOptionDisabled(d))),u.xp6(1),u.Q6J("ngClass",u.VKq(5,Fc,_.isSelected(d))),u.xp6(1),u.Q6J("ngClass",u.VKq(7,Ra,_.isSelected(d)))}}function sc(E,m){if(1&E&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&E){const d=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionLabel(d))}}function gl(E,m){1&E&&u.GkF(0)}const Du=function(E,m){return{"p-listbox-item":!0,"p-highlight":E,"p-disabled":m}},Yl=function(E,m){return{$implicit:E,index:m}};function Vc(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"li",27),u.NdJ("click",function(N){const ye=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionClick(N,ye))})("dblclick",function(N){const ye=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionDoubleClick(N,ye))})("touchend",function(){const q=u.CHM(d).$implicit,ye=u.oxw(2);return u.KtG(ye.onOptionTouchEnd(q))})("keydown",function(N){const ye=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionKeyDown(N,ye))}),u.YNc(1,bd,3,9,"div",8),u.YNc(2,sc,2,1,"span",3),u.YNc(3,gl,1,0,"ng-container",17),u.qZA()}if(2&E){const d=m.$implicit,_=m.index,N=u.oxw(2);u.Q6J("ngClass",u.WLB(8,Du,N.isSelected(d),N.isOptionDisabled(d))),u.uIk("tabindex",N.disabled||N.isOptionDisabled(d)?null:"0")("aria-label",N.getOptionLabel(d))("aria-selected",N.isSelected(d)),u.xp6(1),u.Q6J("ngIf",N.checkbox&&N.multiple),u.xp6(1),u.Q6J("ngIf",!N.itemTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",N.itemTemplate)("ngTemplateOutletContext",u.WLB(11,Yl,d,_))}}function ml(E,m){if(1&E&&(u.ynx(0),u._uU(1),u.BQk()),2&E){const d=u.oxw(3);u.xp6(1),u.hij(" ",d.emptyFilterMessageLabel," ")}}function lu(E,m){1&E&&u.GkF(0,null,30)}function yl(E,m){if(1&E&&(u.TgZ(0,"li",29),u.YNc(1,ml,2,1,"ng-container",9),u.YNc(2,lu,2,0,"ng-container",7),u.qZA()),2&E){const d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!d.emptyFilterTemplate&&!d.emptyTemplate)("ngIfElse",d.emptyFilter),u.xp6(1),u.Q6J("ngTemplateOutlet",d.emptyFilterTemplate||d.emptyTemplate)}}function Ql(E,m){if(1&E&&(u.ynx(0),u._uU(1),u.BQk()),2&E){const d=u.oxw(3);u.xp6(1),u.hij(" ",d.emptyMessageLabel," ")}}function na(E,m){1&E&&u.GkF(0,null,31)}function wd(E,m){if(1&E&&(u.TgZ(0,"li",29),u.YNc(1,Ql,2,1,"ng-container",9),u.YNc(2,na,2,0,"ng-container",7),u.qZA()),2&E){const d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!d.emptyTemplate)("ngIfElse",d.empty),u.xp6(1),u.Q6J("ngTemplateOutlet",d.emptyTemplate)}}function Xa(E,m){if(1&E&&(u.YNc(0,Vc,4,14,"li",25),u.YNc(1,yl,3,3,"li",26),u.YNc(2,wd,3,3,"li",26)),2&E){const d=m.$implicit,_=u.oxw();u.Q6J("ngForOf",d),u.xp6(1),u.Q6J("ngIf",_.hasFilter()&&_.isEmpty(d)),u.xp6(1),u.Q6J("ngIf",!_.hasFilter()&&_.isEmpty(d))}}function Su(E,m){1&E&&u.GkF(0)}function Au(E,m){if(1&E&&(u.TgZ(0,"div",32),u.Hsn(1,1),u.YNc(2,Su,1,0,"ng-container",7),u.qZA()),2&E){const d=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",d.footerTemplate)}}const Mu=[[["p-header"]],[["p-footer"]]],oc=function(E){return{"p-listbox p-component":!0,"p-disabled":E}},Na=["p-header","p-footer"],Id={provide:Kn.JU,useExisting:(0,u.Gpc)(()=>xu),multi:!0};let xu=(()=>{class E{constructor(d,_,N,q){this.el=d,this.cd=_,this.filterService=N,this.config=q,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new u.vpe,this.onClick=new u.vpe,this.onDblClick=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(d){this._options=d,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(d){this._filterValue=d,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:d=>this.onFilter(d),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(d=>{switch(d.getType()){case"item":default:this.itemTemplate=d.template;break;case"group":this.groupTemplate=d.template;break;case"header":this.headerTemplate=d.template;break;case"filter":this.filterTemplate=d.template;break;case"footer":this.footerTemplate=d.template;break;case"empty":this.emptyTemplate=d.template;break;case"emptyfilter":this.emptyFilterTemplate=d.template}})}getOptionLabel(d){return this.optionLabel?ns.gb.resolveFieldData(d,this.optionLabel):null!=d.label?d.label:d}getOptionGroupChildren(d){return this.optionGroupChildren?ns.gb.resolveFieldData(d,this.optionGroupChildren):d.items}getOptionGroupLabel(d){return this.optionGroupLabel?ns.gb.resolveFieldData(d,this.optionGroupLabel):null!=d.label?d.label:d}getOptionValue(d){return this.optionValue?ns.gb.resolveFieldData(d,this.optionValue):this.optionLabel||void 0===d.value?d:d.value}isOptionDisabled(d){return this.optionDisabled?ns.gb.resolveFieldData(d,this.optionDisabled):void 0!==d.disabled&&d.disabled}writeValue(d){this.value=d,this.cd.markForCheck()}registerOnChange(d){this.onModelChange=d}registerOnTouched(d){this.onModelTouched=d}setDisabledState(d){this.disabled=d,this.cd.markForCheck()}onOptionClick(d,_){this.disabled||this.isOptionDisabled(_)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(d,_):this.onOptionClickMultiple(d,_):this.onOptionClickSingle(d,_),this.onClick.emit({originalEvent:d,option:_,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(d){this.disabled||this.isOptionDisabled(d)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(d,_){this.disabled||this.isOptionDisabled(_)||this.readonly||this.onDblClick.emit({originalEvent:d,option:_,value:this.value})}onOptionClickSingle(d,_){let N=this.isSelected(_),q=!1;if(!this.optionTouched&&this.metaKeySelection){let xe=d.metaKey||d.ctrlKey;N?xe&&(this.value=null,q=!0):(this.value=this.getOptionValue(_),q=!0)}else this.value=N?null:this.getOptionValue(_),q=!0;q&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}onOptionClickMultiple(d,_){let N=this.isSelected(_),q=!1;if(!this.optionTouched&&this.metaKeySelection){let xe=d.metaKey||d.ctrlKey;N?(xe?this.removeOption(_):this.value=[this.getOptionValue(_)],q=!0):(this.value=xe&&this.value||[],this.value=[...this.value,this.getOptionValue(_)],q=!0)}else N?this.removeOption(_):this.value=[...this.value||[],this.getOptionValue(_)],q=!0;q&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}onOptionClickCheckbox(d,_){this.disabled||this.readonly||(this.isSelected(_)?this.removeOption(_):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(_)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}removeOption(d){this.value=this.value.filter(_=>!ns.gb.equals(_,this.getOptionValue(d),this.dataKey))}isSelected(d){let _=!1,N=this.getOptionValue(d);if(this.multiple){if(this.value)for(let q of this.value)if(ns.gb.equals(q,N,this.dataKey)){_=!0;break}}else _=ns.gb.equals(this.value,N,this.dataKey);return _}get allChecked(){let d=this.optionsToRender;if(!d||0===d.length)return!1;{let _=0,N=0,q=0,ye=this.group?0:this.optionsToRender.length;for(let xe of d)if(this.group)for(let ft of this.getOptionGroupChildren(xe)){let kt=this.isOptionDisabled(ft),mn=this.isSelected(ft);if(kt)mn?_++:N++;else{if(!mn)return!1;q++}ye++}else{let ft=this.isOptionDisabled(xe),kt=this.isSelected(xe);if(ft)kt?_++:N++;else{if(!kt)return!1;q++}}return ye===_||ye===q||q&&ye===q+N+_}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Xt.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Xt.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(d){return!d||d&&0===d.length}onFilter(d){this._filterValue=d.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let d=(this.filterBy||this.optionLabel||"label").split(","),_=[];for(let N of this.options){let q=this.filterService.filter(this.getOptionGroupChildren(N),d,this.filterValue,this.filterMatchMode,this.filterLocale);q&&q.length&&_.push({...N,[this.optionGroupChildren]:q})}this._filteredOptions=_}else this._filteredOptions=this._options.filter(d=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(d),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let d=this.optionsToRender;if(!d||0===d.length)return!0;for(let _ of d)if(!this.isOptionDisabled(_))return!1;return!0}toggleAll(d){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}),d.preventDefault())}checkAll(){let _=[];this.optionsToRender.forEach(N=>{if(this.group){let q=this.getOptionGroupChildren(N);q&&q.forEach(ye=>{let xe=this.isOptionDisabled(ye);(!xe||xe&&this.isSelected(ye))&&_.push(this.getOptionValue(ye))})}else{let q=this.isOptionDisabled(N);(!q||q&&this.isSelected(N))&&_.push(this.getOptionValue(N))}}),this.value=_}uncheckAll(){let _=[];this.optionsToRender.forEach(N=>{this.group?N.items&&N.items.forEach(q=>{this.isOptionDisabled(q)&&this.isSelected(q)&&_.push(this.getOptionValue(q))}):this.isOptionDisabled(N)&&this.isSelected(N)&&_.push(this.getOptionValue(N))}),this.value=_}onOptionKeyDown(d,_){if(this.readonly)return;let N=d.currentTarget;switch(d.which){case 40:var q=this.findNextItem(N);q&&q.focus(),d.preventDefault();break;case 38:var ye=this.findPrevItem(N);ye&&ye.focus(),d.preventDefault();break;case 13:this.onOptionClick(d,_),d.preventDefault()}}findNextItem(d){let _=d.nextElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||Dr.p.isHidden(_)||Dr.p.hasClass(_,"p-listbox-item-group")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?Dr.p.hasClass(_,"p-disabled")||Dr.p.isHidden(_)||Dr.p.hasClass(_,"p-listbox-item-group")?this.findPrevItem(_):_:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Xt.iZ),u.Y36(Xt.b4))},E.\u0275cmp=u.Xpm({type:E,selectors:[["p-listbox"]],contentQueries:function(d,_,N){if(1&d&&(u.Suo(N,Xt.h4,5),u.Suo(N,Xt.$_,5),u.Suo(N,Xt.jx,4)),2&d){let q;u.iGM(q=u.CRH())&&(_.headerFacet=q.first),u.iGM(q=u.CRH())&&(_.footerFacet=q.first),u.iGM(q=u.CRH())&&(_.templates=q)}},viewQuery:function(d,_){if(1&d&&(u.Gf(er,5),u.Gf(_r,5)),2&d){let N;u.iGM(N=u.CRH())&&(_.headerCheckboxViewChild=N.first),u.iGM(N=u.CRH())&&(_.filterViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[u._Bn([Id])],ngContentSelectors:Na,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(d,_){1&d&&(u.F$t(Mu),u.TgZ(0,"div",0),u.YNc(1,Qa,3,1,"div",1),u.YNc(2,kc,5,3,"div",1),u.TgZ(3,"div",0)(4,"ul",2),u.YNc(5,Tu,2,1,"ng-container",3),u.YNc(6,Zl,2,4,"ng-container",3),u.YNc(7,Xa,3,3,"ng-template",null,4,u.W1O),u.qZA()(),u.YNc(9,Au,3,1,"div",5),u.qZA()),2&d&&(u.Tol(_.styleClass),u.Q6J("ngClass",u.VKq(13,oc,_.disabled))("ngStyle",_.style),u.xp6(1),u.Q6J("ngIf",_.headerFacet||_.headerTemplate),u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll||_.filter),u.xp6(1),u.Tol(_.listStyleClass),u.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",_.listStyle),u.xp6(2),u.Q6J("ngIf",_.group),u.xp6(1),u.Q6J("ngIf",!_.group),u.xp6(3),u.Q6J("ngIf",_.footerFacet||_.footerTemplate))},dependencies:[tr.mk,tr.sg,tr.O5,tr.tP,tr.PC,hr.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),E})(),Uc=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[tr.ez,Xt.m8,hr.T,Xt.m8]}),E})();var as=M(4458);const uu=(0,Lr.PH)("FILL_BLOG",(0,Lr.Ky)()),wa=(0,Lr.PH)("RESET_BLOG"),xl=(0,Lr.PH)("FILL_ADOPTION",(0,Lr.Ky)()),ac=(0,Lr.PH)("RESET_ADOPTION");var Ol=M(4382),_l=M(7556);const lc=function(){return{exact:!1}};let Pl=(()=>{class E{constructor(d,_){this._router=d,this._authService=_,this.storeMenuItems=[{label:"Cat",icon:"fa-solid fa-cat",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Cat},fragment:"anchor"})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Cat,category:Oi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Cat,category:Oi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Cat,category:Oi.P.Grooming}})}}]},{label:"Dog",icon:"fa-solid fa-dog",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Dog}})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Dog,category:Oi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Dog,category:Oi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:ci.D.Dog,category:Oi.P.Grooming}})}}]}],this.userMenuItems=[]}ngOnInit(){this.userMenuItems=[{items:this.getUserItems()}]}getUserItems(){let d=[];return d=localStorage.getItem("token")?[{label:"Profile",icon:"pi pi-user",command:()=>{this._router.navigate(["/auth/profile"])}},{label:"Cart",icon:"pi pi-shopping-cart",command:()=>{this._router.navigate(["/store/cart"])}},{label:"Wishlist",icon:"pi pi-heart-fill",command:()=>{this._router.navigate(["/store/wishlist"])}},{label:"Logout",icon:"pi pi-sign-out",command:()=>{this.logout()}}]:[{label:"Sign In",icon:"pi pi-sign-in",command:()=>{this._router.navigate(["/auth/login"])}},{label:"Sign Up",icon:"pi pi-user-plus",command:()=>{this._router.navigate(["/auth/register"])}}],d}logout(){this._authService.logout().then(d=>{if(localStorage.clear(),window.location.href.includes("github")){let _=window.location.href,N=_.substring(0,_.indexOf("io/")+3),q=_.replace(N,"");window.location.href=N+q.substring(0,q.indexOf("/")+1)}else window.location.href="/"})}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(Vi.F0),u.Y36(_l.e))},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-nav-bar"]],decls:46,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light","sticky-top","d-flex","flex-column"],[1,"container"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-2","navbar__logo-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mx-3","mx-lg-0","mt-3","mt-lg-0","justify-content-end"],[1,"nav-item","mx-2","d-lg-flex","justify-content-center","align-items-center","d-none"],["pButton","","pRipple","","type","button","icon","fa-solid fa-user",1,"p-button-rounded","p-button","navbar__user-btn",3,"click"],[3,"popup","model"],["userMenu",""],[1,"nav-item","mx-2","d-lg-none","my-lg-3","pt-2","pt-lg-0"],["type","button","pButton","",1,"navbar__store-btn","p-0",3,"click"],["btn",""],[1,"pi","pi-user","me-2"],[1,"pi","pi-angle-down","ms-3"],["styleClass","mt-2",3,"popup","model"],["smallUserMenu",""],[1,"container","my-lg-3"],["id","navbarSupportedContent",1,"navbar__links","collapse","navbar-collapse"],[1,"navbar-nav","mb-2","mb-lg-0","mx-3","d-lg-flex","justify-content-center","w-100"],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/home",1,"nav-link"],[1,"fa-solid","fa-house","me-1"],["routerLinkActive","active",1,"nav-item","d-lg-flex","justify-content-center","align-items-center","px-lg-3","px-2",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-bag-shopping","me-2"],[1,"pi","pi-angle-down","ms-2"],["styleClass","mt-2",3,"model","popup"],["storeMenu",""],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center"],["routerLink","/adoption",1,"nav-link"],[1,"fa-solid","fa-hand-holding-heart","me-1"],["routerLink","/blog",1,"nav-link"],[1,"fa-solid","fa-newspaper"]],template:function(d,_){if(1&d){const N=u.EpF();u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"figure",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"p",5)(6,"b"),u._uU(7,"Happy Paws"),u.qZA()()(),u.TgZ(8,"button",6),u._UZ(9,"span",7),u.qZA(),u.TgZ(10,"div",8)(11,"div",9)(12,"button",10),u.NdJ("click",function(ye){u.CHM(N);const xe=u.MAs(14);return u.KtG(xe.toggle(ye))}),u.qZA(),u._UZ(13,"p-menu",11,12),u.qZA(),u.TgZ(15,"div",13)(16,"button",14,15),u.NdJ("click",function(ye){u.CHM(N);const xe=u.MAs(22);return u.KtG(xe.toggle(ye))}),u._UZ(18,"i",16),u._uU(19," User "),u._UZ(20,"i",17),u.qZA(),u._UZ(21,"p-menu",18,19),u.qZA()()(),u.TgZ(23,"div",20)(24,"div",21)(25,"ul",22)(26,"li",23)(27,"a",24),u._UZ(28,"i",25),u._uU(29," Home"),u.qZA()(),u.TgZ(30,"li",26)(31,"button",14,15),u.NdJ("click",function(ye){u.CHM(N);const xe=u.MAs(37);return u.KtG(xe.toggle(ye))}),u._UZ(33,"i",27),u._uU(34," Store "),u._UZ(35,"i",28),u.qZA(),u._UZ(36,"p-tieredMenu",29,30),u.qZA(),u.TgZ(38,"li",31)(39,"a",32),u._UZ(40,"i",33),u._uU(41," Adoption"),u.qZA()(),u.TgZ(42,"li",31)(43,"a",34),u._UZ(44,"i",35),u._uU(45," Blog"),u.qZA()()()()()()}2&d&&(u.xp6(13),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(8),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(5),u.Q6J("routerLinkActiveOptions",u.DdM(8,lc)),u.xp6(4),u.Q6J("routerLinkActiveOptions",u.DdM(9,lc)),u.xp6(6),u.Q6J("model",_.storeMenuItems)("popup",!0))},dependencies:[H,Vi.yS,Vi.Od,Go.Hq,Xi],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--auth-background)}.navbar[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{font-size:0;width:20%}.navbar[_ngcontent-%COMP%]   .navbar__logo-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--dark-grey-color);font-family:Pattaya,sans-serif;font-size:1.6rem}.navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--pink-color)}[_nghost-%COMP%]     .p-button-label{display:none}[_nghost-%COMP%]     .p-menu .p-submenu-header{display:none}[_nghost-%COMP%]     .navbar__user-btn{background-color:#fff;color:var(--dark-grey-color);border:1px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover, [_nghost-%COMP%]     .navbar__user-btn:active{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover:active, [_nghost-%COMP%]     .navbar__user-btn:hover:focus{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:focus{outline:var(--pink-color);box-shadow:0 0 0 2px #fff,0 0 0 4px var(--pink-color),0 1px 2px #000;color:var(--grey-color)}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link{background:#e9ecef}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-text, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-icon, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-submenu-icon{color:#495057}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .p-menu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .navbar__store-btn{background-color:transparent;border:transparent;color:#0000008c;margin:.5rem 0}[_nghost-%COMP%]     .navbar__store-btn:hover{background-color:transparent;border:transparent}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#000}@media (min-width: 992px){.navbar__links[_ngcontent-%COMP%]{border-radius:20px;background-color:var(--grey-color)}.navbar__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus, .navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:var(--pink-color)}[_nghost-%COMP%]     .navbar__store-btn{color:#fff}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#fff}}"]}),E})();function Bc(E,m){1&E&&(u.TgZ(0,"div",13)(1,"li",14)(2,"a",30),u._uU(3,"LogIn"),u.qZA()(),u.TgZ(4,"li",31)(5,"a",32),u._uU(6,"Register"),u.qZA()()())}function I(E,m){if(1&E){const d=u.EpF();u.TgZ(0,"div",13)(1,"li",14)(2,"a",33),u.NdJ("click",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.logout())}),u._uU(3,"Logout"),u.qZA()(),u.TgZ(4,"li",14)(5,"a",34),u._uU(6,"Profile"),u.qZA()(),u.TgZ(7,"li",14)(8,"a",35),u._uU(9,"Cart"),u.qZA()(),u.TgZ(10,"li",31)(11,"a",36),u._uU(12,"Wishlist"),u.qZA()()()}}const g=function(E){return{animalType:E}};let y=(()=>{class E{constructor(d){this._authService=d,this.loggedIn="",this.cat=ci.D.Cat,this.dog=ci.D.Dog}ngOnInit(){this.loggedIn=localStorage.getItem("token")}logout(){this._authService.logout().then(()=>{if(localStorage.clear(),window.location.href.includes("github")){let d=window.location.href,_=d.substring(0,d.indexOf("io/")+3),N=d.replace(_,"");window.location.href=_+N.substring(0,N.indexOf("/")+1)}else window.location.href="/"})}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(_l.e))},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-footer"]],decls:52,vars:8,consts:[[1,"bg-footer","text-white"],[1,"container","py-2"],[1,"logo"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","mx-auto","mt-3"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-3","text-light","fs-3","login__logo-text"],[1,"infoContainer","d-md-flex","justify-content-between","mt-3"],[1,"important-links","ms-5","px-4"],[1,"fs-4","m-1"],[1,"p-0"],[3,"ngIf","ngIfElse"],["elseBlock",""],[1,"ms-3"],[1,"mb-2"],["routerLink","/store",3,"queryParams"],[1,"important-links","me-lg-5","ms-5","ms-lg-0","px-4"],["routerLink","/blog"],["routerLink","/adoption"],[1,"socialMedia","d-flex","justify-content-center"],["href","https://www.facebook.com/","target","_blank"],[1,"pi","pi-facebook"],["href","https://www.instagram.com/","target","_blank"],[1,"pi","pi-instagram"],["href","https://www.youtube.com/","target","_blank"],["target","_blank",1,"pi","pi-youtube"],["href","https://twitter.com/","target","_blank"],["target","_blank",1,"pi","pi-twitter"],[1,"copyrights","text-center","m-3"],[1,"__copyrights"],["routerLink","/auth/login"],[1,""],["routerLink","/auth/register"],["routerLink","",3,"click"],["routerLink","/auth/profile"],["routerLink","/store/cart"],["routerLink","/store/wishlist"]],template:function(d,_){if(1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"figure",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"h1",6)(7,"b"),u._uU(8,"Happy Paws"),u.qZA()()()(),u.TgZ(9,"div",7)(10,"div",8)(11,"p",9),u._uU(12,"Account"),u.qZA(),u.TgZ(13,"ul",10),u.YNc(14,Bc,7,0,"ng-template",11),u.YNc(15,I,13,0,"ng-template",null,12,u.W1O),u.qZA()(),u.TgZ(17,"div",8)(18,"p",9),u._uU(19,"Store"),u.qZA(),u.TgZ(20,"ul",10)(21,"div",13)(22,"li",14)(23,"a",15),u._uU(24,"Cat"),u.qZA()(),u.TgZ(25,"li")(26,"a",15),u._uU(27,"Dog"),u.qZA()()()()(),u.TgZ(28,"div",16)(29,"p",9),u._uU(30,"Others"),u.qZA(),u.TgZ(31,"ul",10)(32,"div",13)(33,"li",14)(34,"a",17),u._uU(35,"Blog"),u.qZA()(),u.TgZ(36,"li")(37,"a",18),u._uU(38,"Adoption"),u.qZA()()()()()(),u._UZ(39,"hr"),u.TgZ(40,"div",19)(41,"a",20),u._UZ(42,"i",21),u.qZA(),u.TgZ(43,"a",22),u._UZ(44,"i",23),u.qZA(),u.TgZ(45,"a",24),u._UZ(46,"i",25),u.qZA(),u.TgZ(47,"a",26),u._UZ(48,"i",27),u.qZA()(),u.TgZ(49,"div",28)(50,"p",29),u._uU(51,"\xa9Copyright All rights reserved 2022"),u.qZA()()()()),2&d){const N=u.MAs(16);u.xp6(14),u.Q6J("ngIf",""===_.loggedIn)("ngIfElse",N),u.xp6(9),u.Q6J("queryParams",u.VKq(4,g,_.cat)),u.xp6(3),u.Q6J("queryParams",u.VKq(6,g,_.dog))}},dependencies:[Vi.yS,tr.O5],styles:["footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a9a9a9}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:Pattaya,sans-serif}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:30px}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .footerText[_ngcontent-%COMP%]{color:#a9a9a9}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#fff}footer[_ngcontent-%COMP%]   .copyrights[_ngcontent-%COMP%]   .__copyrights[_ngcontent-%COMP%]{font-size:.75rem;color:#a9a9a9}.bg-footer[_ngcontent-%COMP%]{background-color:var(--dark-grey-color)}"]}),E})();function S(E,m){1&E&&u._UZ(0,"app-nav-bar")}function ne(E,m){1&E&&u._UZ(0,"app-footer")}let ge=(()=>{class E{constructor(d,_,N,q){this._router=d,this.primengConfig=_,this._firestoreService=N,this._store=q,this.title="Happy Paws",this.showNavbarFooter=!1}ngOnInit(){if(this.primengConfig.ripple=!0,this._router.events.subscribe(d=>{void 0!==d.url&&1===d.type&&(this.showNavbarFooter=!d.url.includes("login")&&!d.url.includes("register"))}),this._firestoreService.fetchAllAnimals().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{this._store.dispatch(xl({payload:d}))}),null==sessionStorage.getItem("product"))this._firestoreService.fetchAllStoreItems().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{let _=d;console.log("From Firebase",_),sessionStorage.setItem("product",JSON.stringify(_)),this._store.dispatch((0,as.sL)({payload:_}))});else{let d=JSON.parse(sessionStorage.getItem("product"));console.log("From Cache",d),this._store.dispatch((0,as.sL)({payload:d}))}this._firestoreService.fetchBlogPosts().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{this._store.dispatch(uu({payload:d}))}),localStorage.getItem("userID")&&(this._firestoreService.fetchAllWishlistItems(localStorage.getItem("userID")).pipe((0,Ws.U)(d=>d.payload.data())).subscribe(d=>{this._store.dispatch((0,as.Mw)());let N=Object.values(d);this._store.dispatch((0,as.Ut)({payload:N}))}),this._store.select("store").pipe((0,Fs.q)(3)).subscribe(d=>{if(d.wishList.length>0){let _=JSON.parse(JSON.stringify(d.products)),N=JSON.parse(JSON.stringify(d.wishList));for(let q=0;q<_.length;q++)for(let ye=0;ye<N.length;ye++)_[q].id==N[ye].id&&(_[q].wishList=!0);this._store.dispatch((0,as.GC)()),this._store.dispatch((0,as.sL)({payload:_}))}}),this._firestoreService.fetchUserCart(localStorage.getItem("userID")).pipe((0,Ws.U)(d=>d.payload.data())).subscribe(d=>{this._store.dispatch((0,as.s9)());let N=Object.values(d);this._store.dispatch((0,as._M)({payload:N}))}))}}return E.\u0275fac=function(d){return new(d||E)(u.Y36(Vi.F0),u.Y36(Xt.b4),u.Y36(Ol.k),u.Y36(Lr.yh))},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-root"]],decls:5,vars:3,consts:[[4,"ngIf"],[1,"main"],["icon","fa-solid fa-circle-arrow-up","styleClass","floating-btn",3,"threshold"]],template:function(d,_){1&d&&(u.YNc(0,S,1,0,"app-nav-bar",0),u.TgZ(1,"main",1),u._UZ(2,"router-outlet"),u.qZA(),u.YNc(3,ne,1,0,"app-footer",0),u._UZ(4,"p-scrollTop",2)),2&d&&(u.Q6J("ngIf",_.showNavbarFooter),u.xp6(3),u.Q6J("ngIf",_.showNavbarFooter),u.xp6(1),u.Q6J("threshold",100))},dependencies:[Gt,Vi.lC,tr.O5,Pl,y],styles:[".main[_ngcontent-%COMP%]{background-color:#fbf8f8;display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]     .floating-btn{width:3.5rem;height:3.5rem;border-radius:50%;background-color:transparent}[_nghost-%COMP%]     .floating-btn:hover{background-color:#fff}[_nghost-%COMP%]     .floating-btn:hover .p-scrolltop-icon{color:#ecada6}[_nghost-%COMP%]     .floating-btn .p-scrolltop-icon{font-size:2.5rem;color:#999}"]}),E})();var rt=M(3692),Ot=M(6351),Sn=M(5867),Ln=M(7128),Fr=M(6457);M(2090),M(9681),M(1877),M(4859);class cu{constructor(m){return m}}class Nl{constructor(){return(0,Ot.vb)("auth")}}const ra=new u.OlP("angularfire2.auth-instances");function Cd(E){return(m,d)=>{const _=m.runOutsideAngular(()=>E(d));return new cu(_)}}const ls={provide:Nl,deps:[[new u.FiY,ra]]},oi={provide:cu,useFactory:function uc(E,m){const d=(0,Ot.JM)("auth",E,m);return d&&new cu(d)},deps:[[new u.FiY,ra],rt.Ot]};let Hc=(()=>{class E{constructor(){(0,Sn.KN)("angularfire",Ot.q4.full,"auth")}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[oi,ls]}),E})();function Pu(E,...m){return{ngModule:Hc,providers:[{provide:ra,useFactory:Cd(E),multi:!0,deps:[u.R0b,u.zs3,Ot.HU,rt.z6,[new u.FiY,Ln.nm],...m]}]}}const Of=(0,Ot.u3)(Fr.n,!0);var _h=M(5525);class vh{constructor(m){return m}}const Eh="firestore",Jl=new u.OlP("angularfire2.firestore-instances");function El(E){return(m,d)=>{const _=m.runOutsideAngular(()=>E(d));return new vh(_)}}const Bf={provide:class Fu{constructor(){return(0,Ot.vb)(Eh)}},deps:[[new u.FiY,Jl]]},hc={provide:vh,useFactory:function Vu(E,m){const d=(0,Ot.JM)(Eh,E,m);return d&&new vh(d)},deps:[[new u.FiY,Jl],rt.Ot]};let bh=(()=>{class E{constructor(){(0,Sn.KN)("angularfire",Ot.q4.full,"fst")}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[hc,Bf]}),E})();function Hf(E,...m){return{ngModule:bh,providers:[{provide:Jl,useFactory:El(E),multi:!0,deps:[u.R0b,u.zs3,Ot.HU,rt.z6,[new u.FiY,Nl],[new u.FiY,Ln.nm],...m]}]}}const fc=(0,Ot.u3)(_h.ad,!0);var Qf=M(6961);class Xc{constructor(m){return m}}const ju="storage",ed=new u.OlP("angularfire2.storage-instances");function Ia(E){return(m,d)=>{const _=m.runOutsideAngular(()=>E(d));return new Xc(_)}}const Jf={provide:class Fl{constructor(){return(0,Ot.vb)(ju)}},deps:[[new u.FiY,ed]]},_c={provide:Xc,useFactory:function Rh(E,m){const d=(0,Ot.JM)(ju,E,m);return d&&new Xc(d)},deps:[[new u.FiY,ed],rt.Ot]};let Pd=(()=>{class E{constructor(){(0,Sn.KN)("angularfire",Ot.q4.full,"gcs")}}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[_c,Jf]}),E})();function nl(E,...m){return{ngModule:Pd,providers:[{provide:ed,useFactory:Ia(E),multi:!0,deps:[u.R0b,u.zs3,Ot.HU,rt.z6,[new u.FiY,Nl],[new u.FiY,Ln.nm],...m]}]}}const td=(0,Ot.u3)(Qf.cF,!0);var np=M(2011);const gu=(0,Lr.Lq)({products:[],wishList:[],cart:[]},(0,Lr.on)(as.sL,(E,m)=>({...E,products:[...E.products,...m.payload]})),(0,Lr.on)(as.GC,(E,m)=>({...E,products:[]})),(0,Lr.on)(as.N_,(E,m)=>{let d=E.products.find(_=>_.id===m.payload.id);if(void 0===d)throw new Error("Item not found, check item id");return{...E,products:[...E.products.filter(_=>_.id!==m.payload.id),{...d,reviews:[...d.reviews,m.payload.review]}]}}),(0,Lr.on)(as.s3,(E,m)=>{let d=E.products.find(_=>_.id===m.payload.id);return{...E,wishList:[...E.wishList,m.payload],products:[...E.products.filter(_=>_.id!==m.payload.id),{...d,wishList:!0}]}}),(0,Lr.on)(as.AW,(E,m)=>{let d=E.products.find(_=>_.id===m.payload.id);return{...E,wishList:[...E.wishList.filter(_=>_.id!==m.payload.id)],products:[...E.products.filter(_=>_.id!==m.payload.id),{...d,wishList:!1}]}}),(0,Lr.on)(as.Ut,(E,m)=>({...E,wishList:[...E.wishList,...m.payload]})),(0,Lr.on)(as.Mw,(E,m)=>({...E,wishList:[]})),(0,Lr.on)(as._M,(E,m)=>({...E,cart:[...E.cart,...m.payload]})),(0,Lr.on)(as.Xq,(E,m)=>({...E,cart:[...E.cart,m.payload]})),(0,Lr.on)(as.h2,(E,m)=>({...E,cart:E.cart.filter(d=>d.id!==m.payload.id)})),(0,Lr.on)(as.Wl,(E,m)=>{let d=E.cart.find(_=>_.id===m.payload.id);if(void 0===d)throw new Error("Item not found, check item id");return{...E,cart:[...E.cart.filter(_=>_.id!==m.payload.id),{...d,count:d.count+1}]}}),(0,Lr.on)(as.qG,(E,m)=>{let d=E.cart.find(_=>_.id===m.payload.id);if(void 0===d)throw new Error("Item not found, check item id");return d.count>0?(d.count=d?.count-1,{...E,cart:[...E.cart.filter(_=>_.id!==m.payload.id),{...d,count:d.count-1}]}):{...E}}),(0,Lr.on)(as.s9,(E,m)=>({...E,cart:[]}))),Fh=(0,Lr.Lq)({blog:[]},(0,Lr.on)(uu,(E,m)=>({...E,blog:m.payload})),(0,Lr.on)(wa,(E,m)=>({...E,blog:[]}))),Uh=(0,Lr.Lq)({animals:[]},(0,Lr.on)(xl,(E,m)=>({...E,animals:m.payload})),(0,Lr.on)(ac,(E,m)=>({...E,animals:[]})));let nd=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=u.oAB({type:E,bootstrap:[ge]}),E.\u0275inj=u.cJS({providers:[{provide:np.Dh,useValue:Xn.firebase}],imports:[In,oe,Go.hJ,oo,h.b2,Ma,ir.b,yr.KZ,Uc,ks,Lr.Aw.forRoot({store:gu,blog:Fh,adoption:Uh}),di.register("ngsw-worker.js",{enabled:Xn.production,registrationStrategy:"registerWhenStable:2000"}),(0,rt.hX)(()=>(0,rt.ZF)(Xn.firebase)),Pu(()=>Of()),Hf(()=>fc()),nl(()=>td())]}),E})();Xn.production&&(0,u.G48)(),h.q6().bootstrapModule(nd).catch(E=>console.error(E))},5867:(jt,Ke,M)=>{M.d(Ke,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=M(9681);(0,h.registerVersion)("firebase","9.9.1","app")},127:(jt,Ke,M)=>{M.d(Ke,{Z:()=>h.Z});var h=M(3942);h.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(jt,Ke,M)=>{M.r(Ke);var h=M(5861),u=M(3942),k=M(6457),fe=M(2090),X=(M(9681),M(1877),M(4859));function Y(){return window}function ee(){return(ee=(0,h.Z)(function*(qe,Ce,De){var wt;const{BuildInfo:Vt}=Y();(0,k.aq)(Ce.sessionId,"AuthEvent did not contain a session ID");const wn=yield Ne(Ce.sessionId),Mt={};return(0,k.ar)()?Mt.ibi=Vt.packageName:(0,k.as)()?Mt.apn=Vt.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),Vt.displayName&&(Mt.appDisplayName=Vt.displayName),Mt.sessionId=wn,(0,k.au)(qe,De,Ce.type,void 0,null!==(wt=Ce.eventId)&&void 0!==wt?wt:void 0,Mt)})).apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(qe){const{BuildInfo:Ce}=Y(),De={};(0,k.ar)()?De.iosBundleId=Ce.packageName:(0,k.as)()?De.androidPackageName=Ce.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),yield(0,k.av)(qe,De)})).apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(qe,Ce,De){const{cordova:wt}=Y();let Vt=()=>{};try{yield new Promise((wn,Mt)=>{let sn=null;function Le(){var Fe;wn();const xt=null===(Fe=wt.plugins.browsertab)||void 0===Fe?void 0:Fe.close;"function"==typeof xt&&xt(),"function"==typeof De?.close&&De.close()}function Re(){sn||(sn=window.setTimeout(()=>{Mt((0,k.aw)(qe,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&Re()}Ce.addPassiveListener(Le),document.addEventListener("resume",Re,!1),(0,k.as)()&&document.addEventListener("visibilitychange",ve,!1),Vt=()=>{Ce.removePassiveListener(Le),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",ve,!1),sn&&window.clearTimeout(sn)}})}finally{Vt()}})).apply(this,arguments)}function Ne(qe){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(qe){const Ce=Bt(qe),De=yield crypto.subtle.digest("SHA-256",Ce);return Array.from(new Uint8Array(De)).map(Vt=>Vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bt(qe){if((0,k.aq)(/[0-9a-zA-Z]+/.test(qe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(qe);const Ce=new ArrayBuffer(qe.length),De=new Uint8Array(Ce);for(let wt=0;wt<qe.length;wt++)De[wt]=qe.charCodeAt(wt);return De}class de extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ce=>{this.resolveInialized=Ce})}addPassiveListener(Ce){this.passiveListeners.add(Ce)}removePassiveListener(Ce){this.passiveListeners.delete(Ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ce){return this.resolveInialized(),this.passiveListeners.forEach(De=>De(Ce)),super.onEvent(Ce)}initialized(){var Ce=this;return(0,h.Z)(function*(){yield Ce.initPromise})()}}function he(qe){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(qe){const Ce=yield et()._get(Ue(qe));return Ce&&(yield et()._remove(Ue(qe))),Ce})).apply(this,arguments)}function He(){const qe=[],Ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let De=0;De<20;De++){const wt=Math.floor(Math.random()*Ce.length);qe.push(Ce.charAt(wt))}return qe.join("")}function et(){return(0,k.ay)(k.b)}function Ue(qe){return(0,k.az)("authEvent",qe.config.apiKey,qe.name)}function Ut(qe){if(!qe?.includes("?"))return{};const[Ce,...De]=qe.split("?");return(0,fe.zd)(De.join("?"))}function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function En(){var qe;return(null===(qe=self?.location)||void 0===qe?void 0:qe.protocol)||null}function zn(qe=(0,fe.z$)()){return!("file:"!==En()&&"ionic:"!==En()&&"capacitor:"!==En()||!qe.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const qe=self.localStorage,Ce=k.aI();if(qe)return qe.setItem(Ce,"1"),qe.removeItem(Ce),!function ei(qe=(0,fe.z$)()){return function pr(){return(0,fe.w1)()&&11===document?.documentMode}()||function nn(qe=(0,fe.z$)()){return/Edge\/\d+/.test(qe)}(qe)}()||(0,fe.hl)()}catch{return Ar()&&(0,fe.hl)()}return!1}function Ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nr(){return(function bn(){return"http:"===En()||"https:"===En()}()||(0,fe.ru)()||zn())&&!function Or(){return(0,fe.b$)()||(0,fe.UG)()}()&&$n()&&!Ar()}function ur(){return zn()&&typeof document<"u"}function Qn(){return(Qn=(0,h.Z)(function*(){return!!ur()&&new Promise(qe=>{const Ce=setTimeout(()=>{qe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ce),qe(!0)})})})).apply(this,arguments)}const vn={LOCAL:"local",NONE:"none",SESSION:"session"},Nn=k.ax,Tr="persistence";function Yn(qe){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(qe){yield qe._initializationPromise;const Ce=kn(),De=k.az(Tr,qe.config.apiKey,qe.name);Ce&&Ce.setItem(De,qe._getPersistence())})).apply(this,arguments)}function kn(){var qe;try{return(null===(qe=function Fn(){return typeof window<"u"?window:null}())||void 0===qe?void 0:qe.sessionStorage)||null}catch{return null}}const Yt=k.ax;class en{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class Pt{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Ce){var De=this;return(0,h.Z)(function*(){const wt=Ce._key();let Vt=De.eventManagers.get(wt);return Vt||(Vt=new de(Ce),De.eventManagers.set(wt,Vt),De.attachCallbackListeners(Ce,Vt)),Vt})()}_openPopup(Ce){(0,k.at)(Ce,"operation-not-supported-in-this-environment")}_openRedirect(Ce,De,wt,Vt){var wn=this;return(0,h.Z)(function*(){!function tt(qe){var Ce,De,wt,Vt,wn,Mt,sn,Le,Re,ve;const Fe=Y();(0,k.ax)("function"==typeof(null===(Ce=Fe?.universalLinks)||void 0===Ce?void 0:Ce.subscribe),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(De=Fe?.BuildInfo)||void 0===De?void 0:De.packageName)<"u",qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(wn=null===(Vt=null===(wt=Fe?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===wn?void 0:wn.openUrl),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Le=null===(sn=null===(Mt=Fe?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===Le?void 0:Le.isAvailable),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(ve=null===(Re=Fe?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===ve?void 0:ve.open),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ce);const Mt=yield wn._initialize(Ce);yield Mt.initialized(),Mt.resetRedirect(),(0,k.aD)(),yield wn._originValidation(Ce);const sn=function Ye(qe,Ce,De=null){return{type:Ce,eventId:De,urlResponse:null,sessionId:He(),postBody:null,tenantId:qe.tenantId,error:(0,k.aw)(qe,"no-auth-event")}}(Ce,wt,Vt);yield function Ie(qe,Ce){return et()._set(Ue(qe),Ce)}(Ce,sn);const Le=yield function G(qe,Ce,De){return ee.apply(this,arguments)}(Ce,sn,De),Re=yield function Me(qe){const{cordova:Ce}=Y();return new Promise(De=>{Ce.plugins.browsertab.isAvailable(wt=>{let Vt=null;wt?Ce.plugins.browsertab.openUrl(qe):Vt=Ce.InAppBrowser.open(qe,(0,k.ap)()?"_blank":"_system","location=yes"),De(Vt)})})}(Le);return function Xe(qe,Ce,De){return Tt.apply(this,arguments)}(Ce,Mt,Re)})()}_isIframeWebStorageSupported(Ce,De){throw new Error("Method not implemented.")}_originValidation(Ce){const De=Ce._key();return this.originValidationPromises[De]||(this.originValidationPromises[De]=function pe(qe){return ze.apply(this,arguments)}(Ce)),this.originValidationPromises[De]}attachCallbackListeners(Ce,De){const{universalLinks:wt,handleOpenURL:Vt,BuildInfo:wn}=Y(),Mt=setTimeout((0,h.Z)(function*(){yield he(Ce),De.onEvent(at())}),500),sn=function(){var ve=(0,h.Z)(function*(Fe){clearTimeout(Mt);const xt=yield he(Ce);let Jt=null;xt&&Fe?.url&&(Jt=function ht(qe,Ce){var De,wt;const Vt=function nt(qe){const Ce=Ut(qe),De=Ce.link?decodeURIComponent(Ce.link):void 0,wt=Ut(De).link,Vt=Ce.deep_link_id?decodeURIComponent(Ce.deep_link_id):void 0;return Ut(Vt).link||Vt||wt||De||qe}(Ce);if(Vt.includes("/__/auth/callback")){const wn=Ut(Vt),Mt=wn.firebaseError?function pt(qe){try{return JSON.parse(qe)}catch{return null}}(decodeURIComponent(wn.firebaseError)):null,sn=null===(wt=null===(De=Mt?.code)||void 0===De?void 0:De.split("auth/"))||void 0===wt?void 0:wt[1],Le=sn?(0,k.aw)(sn):null;return Le?{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,sessionId:qe.sessionId,urlResponse:Vt,postBody:null}}return null}(xt,Fe.url)),De.onEvent(Jt||at())});return function(xt){return ve.apply(this,arguments)}}();typeof wt<"u"&&"function"==typeof wt.subscribe&&wt.subscribe(null,sn);const Le=Vt,Re=`${wn.packageName.toLowerCase()}://`;Y().handleOpenURL=function(){var ve=(0,h.Z)(function*(Fe){if(Fe.toLowerCase().startsWith(Re)&&sn({url:Fe}),"function"==typeof Le)try{Le(Fe)}catch(xt){console.error(xt)}});return function(Fe){return ve.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Ce){var De=this;return(0,h.Z)(function*(){return yield De.selectUnderlyingResolver(),De.assertedUnderlyingResolver._initialize(Ce)})()}_openPopup(Ce,De,wt,Vt){var wn=this;return(0,h.Z)(function*(){return yield wn.selectUnderlyingResolver(),wn.assertedUnderlyingResolver._openPopup(Ce,De,wt,Vt)})()}_openRedirect(Ce,De,wt,Vt){var wn=this;return(0,h.Z)(function*(){return yield wn.selectUnderlyingResolver(),wn.assertedUnderlyingResolver._openRedirect(Ce,De,wt,Vt)})()}_isIframeWebStorageSupported(Ce,De){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ce,De)}_originValidation(Ce){return this.assertedUnderlyingResolver._originValidation(Ce)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ce=this;return(0,h.Z)(function*(){if(Ce.underlyingResolver)return;const De=yield function rn(){return Qn.apply(this,arguments)}();Ce.underlyingResolver=De?Ce.cordovaResolver:Ce.browserResolver})()}}function zr(qe){return qe.unwrap()}function An(qe){return cr(qe)}function cr(qe){const{_tokenResponse:Ce}=qe instanceof fe.ZR?qe.customData:qe;if(!Ce)return null;if(!(qe instanceof fe.ZR)&&"temporaryProof"in Ce&&"phoneNumber"in Ce)return k.P.credentialFromResult(qe);const De=Ce.providerId;if(!De||De===k.o.PASSWORD)return null;let wt;switch(De){case k.o.GOOGLE:wt=k.Q;break;case k.o.FACEBOOK:wt=k.N;break;case k.o.GITHUB:wt=k.T;break;case k.o.TWITTER:wt=k.W;break;default:const{oauthIdToken:Vt,oauthAccessToken:wn,oauthTokenSecret:Mt,pendingToken:sn,nonce:Le}=Ce;return wn||Mt||Vt||sn?sn?De.startsWith("saml.")?k.aL._create(De,sn):k.J._fromParams({providerId:De,signInMethod:De,pendingToken:sn,idToken:Vt,accessToken:wn}):new k.U(De).credential({idToken:Vt,accessToken:wn,rawNonce:Le}):null}return qe instanceof fe.ZR?wt.credentialFromError(qe):wt.credentialFromResult(qe)}function Qt(qe,Ce){return Ce.catch(De=>{throw De instanceof fe.ZR&&function Pr(qe,Ce){var De,wt;const Vt=null===(De=Ce.customData)||void 0===De?void 0:De._tokenResponse;if("auth/multi-factor-auth-required"===(null===(wt=Ce)||void 0===wt?void 0:wt.code))Ce.resolver=new Oe(qe,k.an(qe,Ce));else if(Vt){const wn=cr(Ce),Mt=Ce;wn&&(Mt.credential=wn,Mt.tenantId=Vt.tenantId||void 0,Mt.email=Vt.email||void 0,Mt.phoneNumber=Vt.phoneNumber||void 0)}}(qe,De),De}).then(De=>{const Vt=De.user;return{operationType:De.operationType,credential:An(De),additionalUserInfo:k.al(De),user:ke.getOrCreate(Vt)}})}function jn(qe,Ce){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(qe,Ce){const De=yield Ce;return{verificationId:De.verificationId,confirm:wt=>Qt(qe,De.confirm(wt))}})).apply(this,arguments)}class Oe{constructor(Ce,De){this.resolver=De,this.auth=function Ur(qe){return qe.wrapped()}(Ce)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ce){return Qt(zr(this.auth),this.resolver.resolveSignIn(Ce))}}class ke{constructor(Ce){this._delegate=Ce,this.multiFactor=k.ao(Ce)}static getOrCreate(Ce){return ke.USER_MAP.has(Ce)||ke.USER_MAP.set(Ce,new ke(Ce)),ke.USER_MAP.get(Ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ce){return this._delegate.getIdTokenResult(Ce)}getIdToken(Ce){return this._delegate.getIdToken(Ce)}linkAndRetrieveDataWithCredential(Ce){return this.linkWithCredential(Ce)}linkWithCredential(Ce){var De=this;return(0,h.Z)(function*(){return Qt(De.auth,k.Z(De._delegate,Ce))})()}linkWithPhoneNumber(Ce,De){var wt=this;return(0,h.Z)(function*(){return jn(wt.auth,k.l(wt._delegate,Ce,De))})()}linkWithPopup(Ce){var De=this;return(0,h.Z)(function*(){return Qt(De.auth,k.d(De._delegate,Ce,en))})()}linkWithRedirect(Ce){var De=this;return(0,h.Z)(function*(){return yield Yn(k.aE(De.auth)),k.g(De._delegate,Ce,en)})()}reauthenticateAndRetrieveDataWithCredential(Ce){return this.reauthenticateWithCredential(Ce)}reauthenticateWithCredential(Ce){var De=this;return(0,h.Z)(function*(){return Qt(De.auth,k._(De._delegate,Ce))})()}reauthenticateWithPhoneNumber(Ce,De){return jn(this.auth,k.r(this._delegate,Ce,De))}reauthenticateWithPopup(Ce){return Qt(this.auth,k.e(this._delegate,Ce,en))}reauthenticateWithRedirect(Ce){var De=this;return(0,h.Z)(function*(){return yield Yn(k.aE(De.auth)),k.h(De._delegate,Ce,en)})()}sendEmailVerification(Ce){return k.ab(this._delegate,Ce)}unlink(Ce){var De=this;return(0,h.Z)(function*(){return yield k.ak(De._delegate,Ce),De})()}updateEmail(Ce){return k.ag(this._delegate,Ce)}updatePassword(Ce){return k.ah(this._delegate,Ce)}updatePhoneNumber(Ce){return k.u(this._delegate,Ce)}updateProfile(Ce){return k.af(this._delegate,Ce)}verifyBeforeUpdateEmail(Ce,De){return k.ac(this._delegate,Ce,De)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ke.USER_MAP=new WeakMap;const le=k.ax;let V=(()=>{class qe{constructor(De,wt){if(this.app=De,wt.isInitialized())return this._delegate=wt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Vt}=De.options;le(Vt,"invalid-api-key",{appName:De.name}),le(Vt,"invalid-api-key",{appName:De.name});const wn=typeof window<"u"?en:void 0;this._delegate=wt.initialize({options:{persistence:Se(Vt,De.name),popupRedirectResolver:wn}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(De){this._delegate.languageCode=De}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(De){this._delegate.tenantId=De}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(De,wt){k.G(this._delegate,De,wt)}applyActionCode(De){return k.a2(this._delegate,De)}checkActionCode(De){return k.a3(this._delegate,De)}confirmPasswordReset(De,wt){return k.a1(this._delegate,De,wt)}createUserWithEmailAndPassword(De,wt){var Vt=this;return(0,h.Z)(function*(){return Qt(Vt._delegate,k.a5(Vt._delegate,De,wt))})()}fetchProvidersForEmail(De){return this.fetchSignInMethodsForEmail(De)}fetchSignInMethodsForEmail(De){return k.aa(this._delegate,De)}isSignInWithEmailLink(De){return k.a8(this._delegate,De)}getRedirectResult(){var De=this;return(0,h.Z)(function*(){le(nr(),De._delegate,"operation-not-supported-in-this-environment");const wt=yield k.j(De._delegate,en);return wt?Qt(De._delegate,Promise.resolve(wt)):{credential:null,user:null}})()}addFrameworkForLogging(De){!function Rt(qe,Ce){(0,k.aE)(qe)._logFramework(Ce)}(this._delegate,De)}onAuthStateChanged(De,wt,Vt){const{next:wn,error:Mt,complete:sn}=K(De,wt,Vt);return this._delegate.onAuthStateChanged(wn,Mt,sn)}onIdTokenChanged(De,wt,Vt){const{next:wn,error:Mt,complete:sn}=K(De,wt,Vt);return this._delegate.onIdTokenChanged(wn,Mt,sn)}sendSignInLinkToEmail(De,wt){return k.a7(this._delegate,De,wt)}sendPasswordResetEmail(De,wt){return k.a0(this._delegate,De,wt||void 0)}setPersistence(De){var wt=this;return(0,h.Z)(function*(){let Vt;switch(function qr(qe,Ce){Nn(Object.values(vn).includes(Ce),qe,"invalid-persistence-type"),(0,fe.b$)()?Nn(Ce!==vn.SESSION,qe,"unsupported-persistence-type"):(0,fe.UG)()?Nn(Ce===vn.NONE,qe,"unsupported-persistence-type"):Ar()?Nn(Ce===vn.NONE||Ce===vn.LOCAL&&(0,fe.hl)(),qe,"unsupported-persistence-type"):Nn(Ce===vn.NONE||$n(),qe,"unsupported-persistence-type")}(wt._delegate,De),De){case vn.SESSION:Vt=k.a;break;case vn.LOCAL:Vt=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case vn.NONE:Vt=k.L;break;default:return k.at("argument-error",{appName:wt._delegate.name})}return wt._delegate.setPersistence(Vt)})()}signInAndRetrieveDataWithCredential(De){return this.signInWithCredential(De)}signInAnonymously(){return Qt(this._delegate,k.X(this._delegate))}signInWithCredential(De){return Qt(this._delegate,k.Y(this._delegate,De))}signInWithCustomToken(De){return Qt(this._delegate,k.$(this._delegate,De))}signInWithEmailAndPassword(De,wt){return Qt(this._delegate,k.a6(this._delegate,De,wt))}signInWithEmailLink(De,wt){return Qt(this._delegate,k.a9(this._delegate,De,wt))}signInWithPhoneNumber(De,wt){return jn(this._delegate,k.s(this._delegate,De,wt))}signInWithPopup(De){var wt=this;return(0,h.Z)(function*(){return le(nr(),wt._delegate,"operation-not-supported-in-this-environment"),Qt(wt._delegate,k.c(wt._delegate,De,en))})()}signInWithRedirect(De){var wt=this;return(0,h.Z)(function*(){return le(nr(),wt._delegate,"operation-not-supported-in-this-environment"),yield Yn(wt._delegate),k.f(wt._delegate,De,en)})()}updateCurrentUser(De){return this._delegate.updateCurrentUser(De)}verifyPasswordResetCode(De){return k.a4(this._delegate,De)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return qe.Persistence=vn,qe})();function K(qe,Ce,De){let wt=qe;"function"!=typeof qe&&({next:wt,error:Ce,complete:De}=qe);const Vt=wt;return{next:Mt=>Vt(Mt&&ke.getOrCreate(Mt)),error:Ce,complete:De}}function Se(qe,Ce){const De=function li(qe,Ce){const De=kn();if(!De)return[];const wt=k.az(Tr,qe,Ce);switch(De.getItem(wt)){case vn.NONE:return[k.L];case vn.LOCAL:return[k.i,k.a];case vn.SESSION:return[k.a];default:return[]}}(qe,Ce);if(typeof self<"u"&&!De.includes(k.i)&&De.push(k.i),typeof window<"u")for(const wt of[k.b,k.a])De.includes(wt)||De.push(wt);return De.includes(k.L)||De.push(k.L),De}class ot{constructor(){this.providerId="phone",this._delegate=new k.P(zr(u.Z.auth()))}static credential(Ce,De){return k.P.credential(Ce,De)}verifyPhoneNumber(Ce,De){return this._delegate.verifyPhoneNumber(Ce,De)}unwrap(){return this._delegate}}ot.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,ot.PROVIDER_ID=k.P.PROVIDER_ID;const zt=k.ax;class xn{constructor(Ce,De,wt=u.Z.app()){var Vt;zt(null===(Vt=wt.options)||void 0===Vt?void 0:Vt.apiKey,"invalid-api-key",{appName:wt.name}),this._delegate=new k.R(Ce,De,wt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tn(qe){qe.INTERNAL.registerComponent(new X.wA("auth-compat",Ce=>{const De=Ce.getProvider("app-compat").getImmediate(),wt=Ce.getProvider("auth");return new V(De,wt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:ot,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:xn,TwitterAuthProvider:k.W,Auth:V,AuthCredential:k.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qe.registerVersion("@firebase/auth-compat","0.2.18")}(u.Z)},1135:(jt,Ke,M)=>{M.d(Ke,{X:()=>u});var h=M(7579);class u extends h.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const W=super._subscribe(fe);return!W.closed&&fe.next(this._value),W}getValue(){const{hasError:fe,thrownError:W,_value:J}=this;if(fe)throw W;return this._throwIfClosed(),J}next(fe){super.next(this._value=fe)}}},9751:(jt,Ke,M)=>{M.d(Ke,{y:()=>Y});var h=M(930),u=M(727),k=M(8822),fe=M(9635),W=M(2416),J=M(576),X=M(2806);let Y=(()=>{class pe{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Xe=new pe;return Xe.source=this,Xe.operator=Me,Xe}subscribe(Me,Xe,Tt){const tt=function ee(pe){return pe&&pe instanceof h.Lv||function G(pe){return pe&&(0,J.m)(pe.next)&&(0,J.m)(pe.error)&&(0,J.m)(pe.complete)}(pe)&&(0,u.Nn)(pe)}(Me)?Me:new h.Hp(Me,Xe,Tt);return(0,X.x)(()=>{const{operator:Ne,source:Pe}=this;tt.add(Ne?Ne.call(tt,Pe):Pe?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Xe){Me.error(Xe)}}forEach(Me,Xe){return new(Xe=se(Xe))((Tt,tt)=>{const Ne=new h.Hp({next:Pe=>{try{Me(Pe)}catch(Bt){tt(Bt),Ne.unsubscribe()}},error:tt,complete:Tt});this.subscribe(Ne)})}_subscribe(Me){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Me)}[k.L](){return this}pipe(...Me){return(0,fe.U)(Me)(this)}toPromise(Me){return new(Me=se(Me))((Xe,Tt)=>{let tt;this.subscribe(Ne=>tt=Ne,Ne=>Tt(Ne),()=>Xe(tt))})}}return pe.create=ze=>new pe(ze),pe})();function se(pe){var ze;return null!==(ze=pe??W.v.Promise)&&void 0!==ze?ze:Promise}},7579:(jt,Ke,M)=>{M.d(Ke,{x:()=>X});var h=M(9751),u=M(727);const fe=(0,M(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=M(6852),J=M(2806);let X=(()=>{class se extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const pe=new Y(this,this);return pe.operator=ee,pe}_throwIfClosed(){if(this.closed)throw new fe}next(ee){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ee)}})}error(ee){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ee)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:pe,isStopped:ze,observers:Me}=this;return pe||ze?u.Lc:(this.currentObservers=null,Me.push(ee),new u.w0(()=>{this.currentObservers=null,(0,W.P)(Me,ee)}))}_checkFinalizedStatuses(ee){const{hasError:pe,thrownError:ze,isStopped:Me}=this;pe?ee.error(ze):Me&&ee.complete()}asObservable(){const ee=new h.y;return ee.source=this,ee}}return se.create=(G,ee)=>new Y(G,ee),se})();class Y extends X{constructor(G,ee){super(),this.destination=G,this.source=ee}next(G){var ee,pe;null===(pe=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===pe||pe.call(ee,G)}error(G){var ee,pe;null===(pe=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===pe||pe.call(ee,G)}complete(){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===ee||ee.call(G)}_subscribe(G){var ee,pe;return null!==(pe=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(G))&&void 0!==pe?pe:u.Lc}}},930:(jt,Ke,M)=>{M.d(Ke,{Hp:()=>Tt,Lv:()=>pe});var h=M(576),u=M(727),k=M(2416),fe=M(7849),W=M(5032);const J=se("C",void 0,void 0);function se(Je,de,Ye){return{kind:Je,value:de,error:Ye}}var G=M(3410),ee=M(2806);class pe extends u.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,u.Nn)(de)&&de.add(this)):this.destination=Bt}static create(de,Ye,Ie){return new Tt(de,Ye,Ie)}next(de){this.isStopped?Pe(function Y(Je){return se("N",Je,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Pe(function X(Je){return se("E",void 0,Je)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Pe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Je,de){return ze.call(Je,de)}class Xe{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(de)}catch(Ie){tt(Ie)}}error(de){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(de)}catch(Ie){tt(Ie)}else tt(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ye){tt(Ye)}}}class Tt extends pe{constructor(de,Ye,Ie){let he;if(super(),(0,h.m)(de)||!de)he={next:de??void 0,error:Ye??void 0,complete:Ie??void 0};else{let Ge;this&&k.v.useDeprecatedNextContext?(Ge=Object.create(de),Ge.unsubscribe=()=>this.unsubscribe(),he={next:de.next&&Me(de.next,Ge),error:de.error&&Me(de.error,Ge),complete:de.complete&&Me(de.complete,Ge)}):he=de}this.destination=new Xe(he)}}function tt(Je){k.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Je):(0,fe.h)(Je)}function Pe(Je,de){const{onStoppedNotification:Ye}=k.v;Ye&&G.z.setTimeout(()=>Ye(Je,de))}const Bt={closed:!0,next:W.Z,error:function Ne(Je){throw Je},complete:W.Z}},727:(jt,Ke,M)=>{M.d(Ke,{Lc:()=>J,w0:()=>W,Nn:()=>X});var h=M(576);const k=(0,M(3888).d)(se=>function(ee){se(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((pe,ze)=>`${ze+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var fe=M(6852);class W{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Me of ee)Me.remove(this);else ee.remove(this);const{initialTeardown:pe}=this;if((0,h.m)(pe))try{pe()}catch(Me){G=Me instanceof k?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{Y(Me)}catch(Xe){G=G??[],Xe instanceof k?G=[...G,...Xe.errors]:G.push(Xe)}}if(G)throw new k(G)}}add(G){var ee;if(G&&G!==this)if(this.closed)Y(G);else{if(G instanceof W){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(G)}}_hasParent(G){const{_parentage:ee}=this;return ee===G||Array.isArray(ee)&&ee.includes(G)}_addParent(G){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(G),ee):ee?[ee,G]:G}_removeParent(G){const{_parentage:ee}=this;ee===G?this._parentage=null:Array.isArray(ee)&&(0,fe.P)(ee,G)}remove(G){const{_finalizers:ee}=this;ee&&(0,fe.P)(ee,G),G instanceof W&&G._removeParent(this)}}W.EMPTY=(()=>{const se=new W;return se.closed=!0,se})();const J=W.EMPTY;function X(se){return se instanceof W||se&&"closed"in se&&(0,h.m)(se.remove)&&(0,h.m)(se.add)&&(0,h.m)(se.unsubscribe)}function Y(se){(0,h.m)(se)?se():se.unsubscribe()}},2416:(jt,Ke,M)=>{M.d(Ke,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(jt,Ke,M)=>{M.d(Ke,{c:()=>J});var h=M(9751),u=M(727),k=M(8343),fe=M(5403),W=M(4482);class J extends h.y{constructor(Y,se){super(),this.source=Y,this.subjectFactory=se,this._subject=null,this._refCount=0,this._connection=null,(0,W.A)(Y)&&(this.lift=Y.lift)}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Y}=this;this._subject=this._connection=null,Y?.unsubscribe()}connect(){let Y=this._connection;if(!Y){Y=this._connection=new u.w0;const se=this.getSubject();Y.add(this.source.subscribe((0,fe.x)(se,void 0,()=>{this._teardown(),se.complete()},G=>{this._teardown(),se.error(G)},()=>this._teardown()))),Y.closed&&(this._connection=null,Y=u.w0.EMPTY)}return Y}refCount(){return(0,k.x)()(this)}}},7272:(jt,Ke,M)=>{M.d(Ke,{z:()=>W});var h=M(8189),k=M(3269),fe=M(8996);function W(...J){return function u(){return(0,h.J)(1)}()((0,fe.D)(J,(0,k.yG)(J)))}},9770:(jt,Ke,M)=>{M.d(Ke,{P:()=>k});var h=M(9751),u=M(8421);function k(fe){return new h.y(W=>{(0,u.Xf)(fe()).subscribe(W)})}},515:(jt,Ke,M)=>{M.d(Ke,{E:()=>u});const u=new(M(9751).y)(W=>W.complete())},8996:(jt,Ke,M)=>{M.d(Ke,{D:()=>de});var h=M(8421),u=M(5363),k=M(9468),J=M(9751),Y=M(2202),se=M(576),G=M(9672);function pe(Ye,Ie){if(!Ye)throw new Error("Iterable cannot be null");return new J.y(he=>{(0,G.f)(he,Ie,()=>{const Ge=Ye[Symbol.asyncIterator]();(0,G.f)(he,Ie,()=>{Ge.next().then(ht=>{ht.done?he.complete():he.next(ht.value)})},0,!0)})})}var ze=M(3670),Me=M(8239),Xe=M(1144),Tt=M(6495),tt=M(2206),Ne=M(4532),Pe=M(3260);function de(Ye,Ie){return Ie?function Je(Ye,Ie){if(null!=Ye){if((0,ze.c)(Ye))return function fe(Ye,Ie){return(0,h.Xf)(Ye).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Ye,Ie);if((0,Xe.z)(Ye))return function X(Ye,Ie){return new J.y(he=>{let Ge=0;return Ie.schedule(function(){Ge===Ye.length?he.complete():(he.next(Ye[Ge++]),he.closed||this.schedule())})})}(Ye,Ie);if((0,Me.t)(Ye))return function W(Ye,Ie){return(0,h.Xf)(Ye).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Ye,Ie);if((0,tt.D)(Ye))return pe(Ye,Ie);if((0,Tt.T)(Ye))return function ee(Ye,Ie){return new J.y(he=>{let Ge;return(0,G.f)(he,Ie,()=>{Ge=Ye[Y.h](),(0,G.f)(he,Ie,()=>{let ht,He;try{({value:ht,done:He}=Ge.next())}catch(et){return void he.error(et)}He?he.complete():he.next(ht)},0,!0)}),()=>(0,se.m)(Ge?.return)&&Ge.return()})}(Ye,Ie);if((0,Pe.L)(Ye))return function Bt(Ye,Ie){return pe((0,Pe.Q)(Ye),Ie)}(Ye,Ie)}throw(0,Ne.z)(Ye)}(Ye,Ie):(0,h.Xf)(Ye)}},8421:(jt,Ke,M)=>{M.d(Ke,{Xf:()=>ze});var h=M(655),u=M(1144),k=M(8239),fe=M(9751),W=M(3670),J=M(2206),X=M(4532),Y=M(6495),se=M(3260),G=M(576),ee=M(7849),pe=M(8822);function ze(Je){if(Je instanceof fe.y)return Je;if(null!=Je){if((0,W.c)(Je))return function Me(Je){return new fe.y(de=>{const Ye=Je[pe.L]();if((0,G.m)(Ye.subscribe))return Ye.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,u.z)(Je))return function Xe(Je){return new fe.y(de=>{for(let Ye=0;Ye<Je.length&&!de.closed;Ye++)de.next(Je[Ye]);de.complete()})}(Je);if((0,k.t)(Je))return function Tt(Je){return new fe.y(de=>{Je.then(Ye=>{de.closed||(de.next(Ye),de.complete())},Ye=>de.error(Ye)).then(null,ee.h)})}(Je);if((0,J.D)(Je))return Ne(Je);if((0,Y.T)(Je))return function tt(Je){return new fe.y(de=>{for(const Ye of Je)if(de.next(Ye),de.closed)return;de.complete()})}(Je);if((0,se.L)(Je))return function Pe(Je){return Ne((0,se.Q)(Je))}(Je)}throw(0,X.z)(Je)}function Ne(Je){return new fe.y(de=>{(function Bt(Je,de){var Ye,Ie,he,Ge;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,h.KL)(Je);!(Ie=yield Ye.next()).done;)if(de.next(Ie.value),de.closed)return}catch(ht){he={error:ht}}finally{try{Ie&&!Ie.done&&(Ge=Ye.return)&&(yield Ge.call(Ye))}finally{if(he)throw he.error}}de.complete()})})(Je,de).catch(Ye=>de.error(Ye))})}},6451:(jt,Ke,M)=>{M.d(Ke,{T:()=>J});var h=M(8189),u=M(8421),k=M(515),fe=M(3269),W=M(8996);function J(...X){const Y=(0,fe.yG)(X),se=(0,fe._6)(X,1/0),G=X;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,h.J)(se)((0,W.D)(G,Y)):k.E}},9646:(jt,Ke,M)=>{M.d(Ke,{of:()=>k});var h=M(3269),u=M(8996);function k(...fe){const W=(0,h.yG)(fe);return(0,u.D)(fe,W)}},2843:(jt,Ke,M)=>{M.d(Ke,{_:()=>k});var h=M(9751),u=M(576);function k(fe,W){const J=(0,u.m)(fe)?fe:()=>fe,X=Y=>Y.error(J());return new h.y(W?Y=>W.schedule(X,0,Y):X)}},5403:(jt,Ke,M)=>{M.d(Ke,{x:()=>u});var h=M(930);function u(fe,W,J,X,Y){return new k(fe,W,J,X,Y)}class k extends h.Lv{constructor(W,J,X,Y,se,G){super(W),this.onFinalize=se,this.shouldUnsubscribe=G,this._next=J?function(ee){try{J(ee)}catch(pe){W.error(pe)}}:super._next,this._error=Y?function(ee){try{Y(ee)}catch(pe){W.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(ee){W.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},4351:(jt,Ke,M)=>{M.d(Ke,{b:()=>k});var h=M(5577),u=M(576);function k(fe,W){return(0,u.m)(W)?(0,h.z)(fe,W,1):(0,h.z)(fe,1)}},6590:(jt,Ke,M)=>{M.d(Ke,{d:()=>k});var h=M(4482),u=M(5403);function k(fe){return(0,h.e)((W,J)=>{let X=!1;W.subscribe((0,u.x)(J,Y=>{X=!0,J.next(Y)},()=>{X||J.next(fe),J.complete()}))})}},1884:(jt,Ke,M)=>{M.d(Ke,{x:()=>fe});var h=M(4671),u=M(4482),k=M(5403);function fe(J,X=h.y){return J=J??W,(0,u.e)((Y,se)=>{let G,ee=!0;Y.subscribe((0,k.x)(se,pe=>{const ze=X(pe);(ee||!J(G,ze))&&(ee=!1,G=ze,se.next(pe))}))})}function W(J,X){return J===X}},9300:(jt,Ke,M)=>{M.d(Ke,{h:()=>k});var h=M(4482),u=M(5403);function k(fe,W){return(0,h.e)((J,X)=>{let Y=0;J.subscribe((0,u.x)(X,se=>fe.call(W,se,Y++)&&X.next(se)))})}},590:(jt,Ke,M)=>{M.d(Ke,{P:()=>X});var h=M(6805),u=M(9300),k=M(5698),fe=M(6590),W=M(8068),J=M(4671);function X(Y,se){const G=arguments.length>=2;return ee=>ee.pipe(Y?(0,u.h)((pe,ze)=>Y(pe,ze,ee)):J.y,(0,k.q)(1),G?(0,fe.d)(se):(0,W.T)(()=>new h.K))}},3103:(jt,Ke,M)=>{M.d(Ke,{Z:()=>X});var h=M(6805),u=M(9300),k=M(2035),fe=M(8068),W=M(6590),J=M(4671);function X(Y,se){const G=arguments.length>=2;return ee=>ee.pipe(Y?(0,u.h)((pe,ze)=>Y(pe,ze,ee)):J.y,(0,k.h)(1),G?(0,W.d)(se):(0,fe.T)(()=>new h.K))}},4004:(jt,Ke,M)=>{M.d(Ke,{U:()=>k});var h=M(4482),u=M(5403);function k(fe,W){return(0,h.e)((J,X)=>{let Y=0;J.subscribe((0,u.x)(X,se=>{X.next(fe.call(W,se,Y++))}))})}},9718:(jt,Ke,M)=>{M.d(Ke,{h:()=>u});var h=M(4004);function u(k){return(0,h.U)(()=>k)}},8189:(jt,Ke,M)=>{M.d(Ke,{J:()=>k});var h=M(5577),u=M(4671);function k(fe=1/0){return(0,h.z)(u.y,fe)}},5577:(jt,Ke,M)=>{M.d(Ke,{z:()=>Y});var h=M(4004),u=M(8421),k=M(4482),fe=M(9672),W=M(5403),X=M(576);function Y(se,G,ee=1/0){return(0,X.m)(G)?Y((pe,ze)=>(0,h.U)((Me,Xe)=>G(pe,Me,ze,Xe))((0,u.Xf)(se(pe,ze))),ee):("number"==typeof G&&(ee=G),(0,k.e)((pe,ze)=>function J(se,G,ee,pe,ze,Me,Xe,Tt){const tt=[];let Ne=0,Pe=0,Bt=!1;const Je=()=>{Bt&&!tt.length&&!Ne&&G.complete()},de=Ie=>Ne<pe?Ye(Ie):tt.push(Ie),Ye=Ie=>{Me&&G.next(Ie),Ne++;let he=!1;(0,u.Xf)(ee(Ie,Pe++)).subscribe((0,W.x)(G,Ge=>{ze?.(Ge),Me?de(Ge):G.next(Ge)},()=>{he=!0},void 0,()=>{if(he)try{for(Ne--;tt.length&&Ne<pe;){const Ge=tt.shift();Xe?(0,fe.f)(G,Xe,()=>Ye(Ge)):Ye(Ge)}Je()}catch(Ge){G.error(Ge)}}))};return se.subscribe((0,W.x)(G,de,()=>{Bt=!0,Je()})),()=>{Tt?.()}}(pe,ze,se,ee)))}},5363:(jt,Ke,M)=>{M.d(Ke,{Q:()=>fe});var h=M(9672),u=M(4482),k=M(5403);function fe(W,J=0){return(0,u.e)((X,Y)=>{X.subscribe((0,k.x)(Y,se=>(0,h.f)(Y,W,()=>Y.next(se),J),()=>(0,h.f)(Y,W,()=>Y.complete(),J),se=>(0,h.f)(Y,W,()=>Y.error(se),J)))})}},8343:(jt,Ke,M)=>{M.d(Ke,{x:()=>k});var h=M(4482),u=M(5403);function k(){return(0,h.e)((fe,W)=>{let J=null;fe._refCount++;const X=(0,u.x)(W,void 0,void 0,void 0,()=>{if(!fe||fe._refCount<=0||0<--fe._refCount)return void(J=null);const Y=fe._connection,se=J;J=null,Y&&(!se||Y===se)&&Y.unsubscribe(),W.unsubscribe()});fe.subscribe(X),X.closed||(J=fe.connect())})}},5026:(jt,Ke,M)=>{M.d(Ke,{R:()=>fe});var h=M(4482),u=M(5403);function k(W,J,X,Y,se){return(G,ee)=>{let pe=X,ze=J,Me=0;G.subscribe((0,u.x)(ee,Xe=>{const Tt=Me++;ze=pe?W(ze,Xe,Tt):(pe=!0,Xe),Y&&ee.next(ze)},se&&(()=>{pe&&ee.next(ze),ee.complete()})))}}function fe(W,J){return(0,h.e)(k(W,J,arguments.length>=2,!0))}},3099:(jt,Ke,M)=>{M.d(Ke,{B:()=>W});var h=M(8421),u=M(7579),k=M(930),fe=M(4482);function W(X={}){const{connector:Y=(()=>new u.x),resetOnError:se=!0,resetOnComplete:G=!0,resetOnRefCountZero:ee=!0}=X;return pe=>{let ze,Me,Xe,Tt=0,tt=!1,Ne=!1;const Pe=()=>{Me?.unsubscribe(),Me=void 0},Bt=()=>{Pe(),ze=Xe=void 0,tt=Ne=!1},Je=()=>{const de=ze;Bt(),de?.unsubscribe()};return(0,fe.e)((de,Ye)=>{Tt++,!Ne&&!tt&&Pe();const Ie=Xe=Xe??Y();Ye.add(()=>{Tt--,0===Tt&&!Ne&&!tt&&(Me=J(Je,ee))}),Ie.subscribe(Ye),!ze&&Tt>0&&(ze=new k.Hp({next:he=>Ie.next(he),error:he=>{Ne=!0,Pe(),Me=J(Bt,se,he),Ie.error(he)},complete:()=>{tt=!0,Pe(),Me=J(Bt,G),Ie.complete()}}),(0,h.Xf)(de).subscribe(ze))})(pe)}}function J(X,Y,...se){if(!0===Y)return void X();if(!1===Y)return;const G=new k.Hp({next:()=>{G.unsubscribe(),X()}});return Y(...se).subscribe(G)}},8675:(jt,Ke,M)=>{M.d(Ke,{O:()=>fe});var h=M(7272),u=M(3269),k=M(4482);function fe(...W){const J=(0,u.yG)(W);return(0,k.e)((X,Y)=>{(J?(0,h.z)(W,X,J):(0,h.z)(W,X)).subscribe(Y)})}},9468:(jt,Ke,M)=>{M.d(Ke,{R:()=>u});var h=M(4482);function u(k,fe=0){return(0,h.e)((W,J)=>{J.add(k.schedule(()=>W.subscribe(J),fe))})}},3900:(jt,Ke,M)=>{M.d(Ke,{w:()=>fe});var h=M(8421),u=M(4482),k=M(5403);function fe(W,J){return(0,u.e)((X,Y)=>{let se=null,G=0,ee=!1;const pe=()=>ee&&!se&&Y.complete();X.subscribe((0,k.x)(Y,ze=>{se?.unsubscribe();let Me=0;const Xe=G++;(0,h.Xf)(W(ze,Xe)).subscribe(se=(0,k.x)(Y,Tt=>Y.next(J?J(ze,Tt,Xe,Me++):Tt),()=>{se=null,pe()}))},()=>{ee=!0,pe()}))})}},5698:(jt,Ke,M)=>{M.d(Ke,{q:()=>fe});var h=M(515),u=M(4482),k=M(5403);function fe(W){return W<=0?()=>h.E:(0,u.e)((J,X)=>{let Y=0;J.subscribe((0,k.x)(X,se=>{++Y<=W&&(X.next(se),W<=Y&&X.complete())}))})}},2035:(jt,Ke,M)=>{M.d(Ke,{h:()=>fe});var h=M(515),u=M(4482),k=M(5403);function fe(W){return W<=0?()=>h.E:(0,u.e)((J,X)=>{let Y=[];J.subscribe((0,k.x)(X,se=>{Y.push(se),W<Y.length&&Y.shift()},()=>{for(const se of Y)X.next(se);X.complete()},void 0,()=>{Y=null}))})}},8505:(jt,Ke,M)=>{M.d(Ke,{b:()=>W});var h=M(576),u=M(4482),k=M(5403),fe=M(4671);function W(J,X,Y){const se=(0,h.m)(J)||X||Y?{next:J,error:X,complete:Y}:J;return se?(0,u.e)((G,ee)=>{var pe;null===(pe=se.subscribe)||void 0===pe||pe.call(se);let ze=!0;G.subscribe((0,k.x)(ee,Me=>{var Xe;null===(Xe=se.next)||void 0===Xe||Xe.call(se,Me),ee.next(Me)},()=>{var Me;ze=!1,null===(Me=se.complete)||void 0===Me||Me.call(se),ee.complete()},Me=>{var Xe;ze=!1,null===(Xe=se.error)||void 0===Xe||Xe.call(se,Me),ee.error(Me)},()=>{var Me,Xe;ze&&(null===(Me=se.unsubscribe)||void 0===Me||Me.call(se)),null===(Xe=se.finalize)||void 0===Xe||Xe.call(se)}))}):fe.y}},8068:(jt,Ke,M)=>{M.d(Ke,{T:()=>fe});var h=M(6805),u=M(4482),k=M(5403);function fe(J=W){return(0,u.e)((X,Y)=>{let se=!1;X.subscribe((0,k.x)(Y,G=>{se=!0,Y.next(G)},()=>se?Y.complete():Y.error(J())))})}function W(){return new h.K}},4408:(jt,Ke,M)=>{M.d(Ke,{o:()=>W});var h=M(727);class u extends h.w0{constructor(X,Y){super()}schedule(X,Y=0){return this}}const k={setInterval(J,X,...Y){const{delegate:se}=k;return se?.setInterval?se.setInterval(J,X,...Y):setInterval(J,X,...Y)},clearInterval(J){const{delegate:X}=k;return(X?.clearInterval||clearInterval)(J)},delegate:void 0};var fe=M(6852);class W extends u{constructor(X,Y){super(X,Y),this.scheduler=X,this.work=Y,this.pending=!1}schedule(X,Y=0){if(this.closed)return this;this.state=X;const se=this.id,G=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(G,se,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(G,this.id,Y),this}requestAsyncId(X,Y,se=0){return k.setInterval(X.flush.bind(X,this),se)}recycleAsyncId(X,Y,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return Y;k.clearInterval(Y)}execute(X,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(X,Y);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,Y){let G,se=!1;try{this.work(X)}catch(ee){se=!0,G=ee||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:X,scheduler:Y}=this,{actions:se}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(se,this),null!=X&&(this.id=this.recycleAsyncId(Y,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,Ke,M)=>{M.d(Ke,{v:()=>k});var h=M(6063);class u{constructor(W,J=u.now){this.schedulerActionCtor=W,this.now=J}schedule(W,J=0,X){return new this.schedulerActionCtor(this,W).schedule(X,J)}}u.now=h.l.now;class k extends u{constructor(W,J=u.now){super(W,J),this.actions=[],this._active=!1,this._scheduled=void 0}flush(W){const{actions:J}=this;if(this._active)return void J.push(W);let X;this._active=!0;do{if(X=W.execute(W.state,W.delay))break}while(W=J.shift());if(this._active=!1,X){for(;W=J.shift();)W.unsubscribe();throw X}}}},4986:(jt,Ke,M)=>{M.d(Ke,{P:()=>fe,z:()=>k});var h=M(4408);const k=new(M(7565).v)(h.o),fe=k},6063:(jt,Ke,M)=>{M.d(Ke,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},233:(jt,Ke,M)=>{M.d(Ke,{N:()=>W});var h=M(4408),k=M(7565);const W=new class fe extends k.v{}(class u extends h.o{constructor(Y,se){super(Y,se),this.scheduler=Y,this.work=se}schedule(Y,se=0){return se>0?super.schedule(Y,se):(this.delay=se,this.state=Y,this.scheduler.flush(this),this)}execute(Y,se){return se>0||this.closed?super.execute(Y,se):this._execute(Y,se)}requestAsyncId(Y,se,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(Y,se,G):Y.flush(this)}})},3410:(jt,Ke,M)=>{M.d(Ke,{z:()=>h});const h={setTimeout(u,k,...fe){const{delegate:W}=h;return W?.setTimeout?W.setTimeout(u,k,...fe):setTimeout(u,k,...fe)},clearTimeout(u){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(jt,Ke,M)=>{M.d(Ke,{h:()=>u});const u=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,Ke,M)=>{M.d(Ke,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(jt,Ke,M)=>{M.d(Ke,{K:()=>u});const u=(0,M(3888).d)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(jt,Ke,M)=>{M.d(Ke,{_6:()=>J,jO:()=>fe,yG:()=>W});var h=M(576),u=M(3532);function k(X){return X[X.length-1]}function fe(X){return(0,h.m)(k(X))?X.pop():void 0}function W(X){return(0,u.K)(k(X))?X.pop():void 0}function J(X,Y){return"number"==typeof k(X)?X.pop():Y}},4742:(jt,Ke,M)=>{M.d(Ke,{D:()=>W});const{isArray:h}=Array,{getPrototypeOf:u,prototype:k,keys:fe}=Object;function W(X){if(1===X.length){const Y=X[0];if(h(Y))return{args:Y,keys:null};if(function J(X){return X&&"object"==typeof X&&u(X)===k}(Y)){const se=fe(Y);return{args:se.map(G=>Y[G]),keys:se}}}return{args:X,keys:null}}},6852:(jt,Ke,M)=>{function h(u,k){if(u){const fe=u.indexOf(k);0<=fe&&u.splice(fe,1)}}M.d(Ke,{P:()=>h})},3888:(jt,Ke,M)=>{function h(u){const fe=u(W=>{Error.call(W),W.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}M.d(Ke,{d:()=>h})},1810:(jt,Ke,M)=>{function h(u,k){return u.reduce((fe,W,J)=>(fe[W]=k[J],fe),{})}M.d(Ke,{n:()=>h})},2806:(jt,Ke,M)=>{M.d(Ke,{O:()=>fe,x:()=>k});var h=M(2416);let u=null;function k(W){if(h.v.useDeprecatedSynchronousErrorHandling){const J=!u;if(J&&(u={errorThrown:!1,error:null}),W(),J){const{errorThrown:X,error:Y}=u;if(u=null,X)throw Y}}else W()}function fe(W){h.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=W)}},9672:(jt,Ke,M)=>{function h(u,k,fe,W=0,J=!1){const X=k.schedule(function(){fe(),J?u.add(this.schedule(null,W)):this.unsubscribe()},W);if(u.add(X),!J)return X}M.d(Ke,{f:()=>h})},4671:(jt,Ke,M)=>{function h(u){return u}M.d(Ke,{y:()=>h})},1144:(jt,Ke,M)=>{M.d(Ke,{z:()=>h});const h=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(jt,Ke,M)=>{M.d(Ke,{D:()=>u});var h=M(576);function u(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},576:(jt,Ke,M)=>{function h(u){return"function"==typeof u}M.d(Ke,{m:()=>h})},3670:(jt,Ke,M)=>{M.d(Ke,{c:()=>k});var h=M(8822),u=M(576);function k(fe){return(0,u.m)(fe[h.L])}},6495:(jt,Ke,M)=>{M.d(Ke,{T:()=>k});var h=M(2202),u=M(576);function k(fe){return(0,u.m)(fe?.[h.h])}},8239:(jt,Ke,M)=>{M.d(Ke,{t:()=>u});var h=M(576);function u(k){return(0,h.m)(k?.then)}},3260:(jt,Ke,M)=>{M.d(Ke,{L:()=>fe,Q:()=>k});var h=M(655),u=M(576);function k(W){return(0,h.FC)(this,arguments,function*(){const X=W.getReader();try{for(;;){const{value:Y,done:se}=yield(0,h.qq)(X.read());if(se)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Y)}}finally{X.releaseLock()}})}function fe(W){return(0,u.m)(W?.getReader)}},3532:(jt,Ke,M)=>{M.d(Ke,{K:()=>u});var h=M(576);function u(k){return k&&(0,h.m)(k.schedule)}},4482:(jt,Ke,M)=>{M.d(Ke,{A:()=>u,e:()=>k});var h=M(576);function u(fe){return(0,h.m)(fe?.lift)}function k(fe){return W=>{if(u(W))return W.lift(function(J){try{return fe(J,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(jt,Ke,M)=>{M.d(Ke,{Z:()=>fe});var h=M(4004);const{isArray:u}=Array;function fe(W){return(0,h.U)(J=>function k(W,J){return u(J)?W(...J):W(J)}(W,J))}},5032:(jt,Ke,M)=>{function h(){}M.d(Ke,{Z:()=>h})},9635:(jt,Ke,M)=>{M.d(Ke,{U:()=>k,z:()=>u});var h=M(4671);function u(...fe){return k(fe)}function k(fe){return 0===fe.length?h.y:1===fe.length?fe[0]:function(J){return fe.reduce((X,Y)=>Y(X),J)}}},7849:(jt,Ke,M)=>{M.d(Ke,{h:()=>k});var h=M(2416),u=M(3410);function k(fe){u.z.setTimeout(()=>{const{onUnhandledError:W}=h.v;if(!W)throw fe;W(fe)})}},4532:(jt,Ke,M)=>{function h(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Ke,{z:()=>h})},655:(jt,Ke,M)=>{function fe(He,et){var Ue={};for(var pt in He)Object.prototype.hasOwnProperty.call(He,pt)&&et.indexOf(pt)<0&&(Ue[pt]=He[pt]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(pt=Object.getOwnPropertySymbols(He);nt<pt.length;nt++)et.indexOf(pt[nt])<0&&Object.prototype.propertyIsEnumerable.call(He,pt[nt])&&(Ue[pt[nt]]=He[pt[nt]])}return Ue}function Y(He,et,Ue,pt){return new(Ue||(Ue=Promise))(function(Ut,lt){function Pt(Rt){try{at(pt.next(Rt))}catch(_n){lt(_n)}}function bt(Rt){try{at(pt.throw(Rt))}catch(_n){lt(_n)}}function at(Rt){Rt.done?Ut(Rt.value):function nt(Ut){return Ut instanceof Ue?Ut:new Ue(function(lt){lt(Ut)})}(Rt.value).then(Pt,bt)}at((pt=pt.apply(He,et||[])).next())})}function tt(He){return this instanceof tt?(this.v=He,this):new tt(He)}function Ne(He,et,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,pt=Ue.apply(He,et||[]),Ut=[];return nt={},lt("next"),lt("throw"),lt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function lt(Cn){pt[Cn]&&(nt[Cn]=function(yn){return new Promise(function(En,bn){Ut.push([Cn,yn,En,bn])>1||Pt(Cn,yn)})})}function Pt(Cn,yn){try{!function bt(Cn){Cn.value instanceof tt?Promise.resolve(Cn.value.v).then(at,Rt):_n(Ut[0][2],Cn)}(pt[Cn](yn))}catch(En){_n(Ut[0][3],En)}}function at(Cn){Pt("next",Cn)}function Rt(Cn){Pt("throw",Cn)}function _n(Cn,yn){Cn(yn),Ut.shift(),Ut.length&&Pt(Ut[0][0],Ut[0][1])}}function Bt(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,et=He[Symbol.asyncIterator];return et?et.call(He):(He=function pe(He){var et="function"==typeof Symbol&&Symbol.iterator,Ue=et&&He[et],pt=0;if(Ue)return Ue.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&pt>=He.length&&(He=void 0),{value:He&&He[pt++],done:!He}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),Ue={},pt("next"),pt("throw"),pt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function pt(Ut){Ue[Ut]=He[Ut]&&function(lt){return new Promise(function(Pt,bt){!function nt(Ut,lt,Pt,bt){Promise.resolve(bt).then(function(at){Ut({value:at,done:Pt})},lt)}(Pt,bt,(lt=He[Ut](lt)).done,lt.value)})}}}M.d(Ke,{FC:()=>Ne,KL:()=>Bt,_T:()=>fe,mG:()=>Y,qq:()=>tt})},7340:(jt,Ke,M)=>{M.d(Ke,{IO:()=>Xe,LC:()=>u,SB:()=>se,X$:()=>fe,ZE:()=>Pe,ZN:()=>Ne,_7:()=>Me,_j:()=>h,eR:()=>ee,jt:()=>W,k1:()=>Bt,l3:()=>k,oB:()=>Y,oQ:()=>pe,pV:()=>ze,vP:()=>X});class h{}class u{}const k="*";function fe(Je,de){return{type:7,name:Je,definitions:de,options:{}}}function W(Je,de=null){return{type:4,styles:de,timings:Je}}function X(Je,de=null){return{type:2,steps:Je,options:de}}function Y(Je){return{type:6,styles:Je,offset:null}}function se(Je,de,Ye){return{type:0,name:Je,styles:de,options:Ye}}function ee(Je,de,Ye=null){return{type:1,expr:Je,animation:de,options:Ye}}function pe(Je,de=null){return{type:8,animation:Je,options:de}}function ze(Je=null){return{type:9,options:Je}}function Me(Je,de=null){return{type:10,animation:Je,options:de}}function Xe(Je,de,Ye=null){return{type:11,selector:Je,animation:de,options:Ye}}function tt(Je){Promise.resolve(null).then(Je)}class Ne{constructor(de=0,Ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Ye="start"==de?this._onStartFns:this._onDoneFns;Ye.forEach(Ie=>Ie()),Ye.length=0}}class Pe{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Ye=0,Ie=0,he=0;const Ge=this.players.length;0==Ge?tt(()=>this._onFinish()):this.players.forEach(ht=>{ht.onDone(()=>{++Ye==Ge&&this._onFinish()}),ht.onDestroy(()=>{++Ie==Ge&&this._onDestroy()}),ht.onStart(()=>{++he==Ge&&this._onStart()})}),this.totalTime=this.players.reduce((ht,He)=>Math.max(ht,He.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Ye=de*this.totalTime;this.players.forEach(Ie=>{const he=Ie.totalTime?Math.min(1,Ye/Ie.totalTime):1;Ie.setPosition(he)})}getPosition(){const de=this.players.reduce((Ye,Ie)=>null===Ye||Ie.totalTime>Ye.totalTime?Ie:Ye,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Ye="start"==de?this._onStartFns:this._onDoneFns;Ye.forEach(Ie=>Ie()),Ye.length=0}}const Bt="!"},6895:(jt,Ke,M)=>{M.d(Ke,{Do:()=>Je,EM:()=>gn,HT:()=>W,JF:()=>Nr,K0:()=>X,Mx:()=>Li,NF:()=>Ve,O5:()=>St,Ov:()=>Us,PC:()=>Cr,PM:()=>ut,S$:()=>tt,V_:()=>G,Ye:()=>de,b0:()=>Bt,bD:()=>si,ez:()=>Vr,mk:()=>Mi,q:()=>k,sg:()=>Ze,tP:()=>gr,w_:()=>J});var h=M(4650);let u=null;function k(){return u}function W(F){u||(u=F)}class J{}const X=new h.OlP("DocumentToken");let Y=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=h.Yz7({token:F,factory:function(){return function se(){return(0,h.LFG)(ee)}()},providedIn:"platform"}),F})();const G=new h.OlP("Location Initialized");let ee=(()=>{class F extends Y{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",U,!1),()=>ce.removeEventListener("popstate",U)}onHashChange(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",U,!1),()=>ce.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ce,Be){pe()?this._history.pushState(U,ce,Be):this.location.hash=Be}replaceState(U,ce,Be){pe()?this._history.replaceState(U,ce,Be):this.location.hash=Be}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return F.\u0275fac=function(U){return new(U||F)(h.LFG(X))},F.\u0275prov=h.Yz7({token:F,factory:function(){return function ze(){return new ee((0,h.LFG)(X))}()},providedIn:"platform"}),F})();function pe(){return!!window.history.pushState}function Me(F,re){if(0==F.length)return re;if(0==re.length)return F;let U=0;return F.endsWith("/")&&U++,re.startsWith("/")&&U++,2==U?F+re.substring(1):1==U?F+re:F+"/"+re}function Xe(F){const re=F.match(/#|\?|$/),U=re&&re.index||F.length;return F.slice(0,U-("/"===F[U-1]?1:0))+F.slice(U)}function Tt(F){return F&&"?"!==F[0]?"?"+F:F}let tt=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=h.Yz7({token:F,factory:function(){return function Ne(){const F=(0,h.LFG)(X).location;return new Bt((0,h.LFG)(Y),F&&F.origin||"")}()},providedIn:"root"}),F})();const Pe=new h.OlP("appBaseHref");let Bt=(()=>{class F extends tt{constructor(U,ce){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Me(this._baseHref,U)}path(U=!1){const ce=this._platformLocation.pathname+Tt(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&U?`${ce}${Be}`:ce}pushState(U,ce,Be,_t){const it=this.prepareExternalUrl(Be+Tt(_t));this._platformLocation.pushState(U,ce,it)}replaceState(U,ce,Be,_t){const it=this.prepareExternalUrl(Be+Tt(_t));this._platformLocation.replaceState(U,ce,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(h.LFG(Y),h.LFG(Pe,8))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac}),F})(),Je=(()=>{class F extends tt{constructor(U,ce){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(U){const ce=Me(this._baseHref,U);return ce.length>0?"#"+ce:ce}pushState(U,ce,Be,_t){let it=this.prepareExternalUrl(Be+Tt(_t));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(U,ce,it)}replaceState(U,ce,Be,_t){let it=this.prepareExternalUrl(Be+Tt(_t));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(U,ce,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(h.LFG(Y),h.LFG(Pe,8))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac}),F})(),de=(()=>{class F{constructor(U){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ce=this._locationStrategy.getBaseHref();this._baseHref=Xe(he(ce)),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ce=""){return this.path()==this.normalize(U+Tt(ce))}normalize(U){return F.stripTrailingSlash(function Ie(F,re){return F&&re.startsWith(F)?re.substring(F.length):re}(this._baseHref,he(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ce="",Be=null){this._locationStrategy.pushState(Be,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Tt(ce)),Be)}replaceState(U,ce="",Be=null){this._locationStrategy.replaceState(Be,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Tt(ce)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ce){this._urlChangeListeners.forEach(Be=>Be(U,ce))}subscribe(U,ce,Be){return this._subject.subscribe({next:U,error:ce,complete:Be})}}return F.normalizeQueryParams=Tt,F.joinWithSlash=Me,F.stripTrailingSlash=Xe,F.\u0275fac=function(U){return new(U||F)(h.LFG(tt))},F.\u0275prov=h.Yz7({token:F,factory:function(){return function Ye(){return new de((0,h.LFG)(tt))}()},providedIn:"root"}),F})();function he(F){return F.replace(/\/index.html$/,"")}function Li(F,re){re=encodeURIComponent(re);for(const U of F.split(";")){const ce=U.indexOf("="),[Be,_t]=-1==ce?[U,""]:[U.slice(0,ce),U.slice(ce+1)];if(Be.trim()===re)return decodeURIComponent(_t)}return null}let Mi=(()=>{class F{constructor(U,ce,Be,_t){this._iterableDiffers=U,this._keyValueDiffers=ce,this._ngEl=Be,this._renderer=_t,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),U.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!!U[ce])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(U,ce){(U=U.trim())&&U.split(/\s+/g).forEach(Be=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Be):this._renderer.removeClass(this._ngEl.nativeElement,Be)})}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},F.\u0275dir=h.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class Pi{constructor(re,U,ce,Be){this.$implicit=re,this.ngForOf=U,this.index=ce,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ze=(()=>{class F{constructor(U,ce,Be){this._viewContainer=U,this._template=ce,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ce=this._viewContainer;U.forEachOperation((Be,_t,it)=>{if(null==Be.previousIndex)ce.createEmbeddedView(this._template,new Pi(Be.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)ce.remove(null===_t?void 0:_t);else if(null!==_t){const un=ce.get(_t);ce.move(un,it),$e(un,Be)}});for(let Be=0,_t=ce.length;Be<_t;Be++){const un=ce.get(Be).context;un.index=Be,un.count=_t,un.ngForOf=this._ngForOf}U.forEachIdentityChange(Be=>{$e(ce.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(U,ce){return!0}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},F.\u0275dir=h.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function $e(F,re){F.context.$implicit=re.item}let St=(()=>{class F{constructor(U,ce){this._viewContainer=U,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){cn("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){cn("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ce){return!0}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.s_b),h.Y36(h.Rgc))},F.\u0275dir=h.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function cn(F,re){if(re&&!re.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,h.AaK)(re)}'.`)}let Cr=(()=>{class F{constructor(U,ce,Be){this._ngEl=U,this._differs=ce,this._renderer=Be,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,ce){const[Be,_t]=U.split("."),it=-1===Be.indexOf("-")?void 0:h.JOm.DashCase;null!=ce?this._renderer.setStyle(this._ngEl.nativeElement,Be,_t?`${ce}${_t}`:ce,it):this._renderer.removeStyle(this._ngEl.nativeElement,Be,it)}_applyChanges(U){U.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),U.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},F.\u0275dir=h.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),F})(),gr=(()=>{class F{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:_t,ngTemplateOutletInjector:it}=this;this._viewRef=ce.createEmbeddedView(Be,_t,it?{injector:it}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.s_b))},F.\u0275dir=h.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),F})();class ai{createSubscription(re,U){return re.subscribe({next:U,error:ce=>{throw ce}})}dispose(re){re.unsubscribe()}}class Ps{createSubscription(re,U){return re.then(U,ce=>{throw ce})}dispose(re){}}const Ds=new Ps,Rs=new ai;let Us=(()=>{class F{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ce=>this._updateLatestValue(U,ce))}_selectStrategy(U){if((0,h.QGY)(U))return Ds;if((0,h.F4k)(U))return Rs;throw function dr(F,re){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ce){U===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return F.\u0275fac=function(U){return new(U||F)(h.Y36(h.sBO,16))},F.\u0275pipe=h.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),Vr=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275mod=h.oAB({type:F}),F.\u0275inj=h.cJS({}),F})();const si="browser";function Ve(F){return F===si}function ut(F){return"server"===F}let gn=(()=>{class F{}return F.\u0275prov=(0,h.Yz7)({token:F,providedIn:"root",factory:()=>new Un((0,h.LFG)(X),window)}),F})();class Un{constructor(re,U){this.document=re,this.window=U,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const U=function mr(F,re){const U=F.getElementById(re)||F.getElementsByName(re)[0];if(U)return U;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ce=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let Be=ce.currentNode;for(;Be;){const _t=Be.shadowRoot;if(_t){const it=_t.getElementById(re)||_t.querySelector(`[name="${re}"]`);if(it)return it}Be=ce.nextNode()}}return null}(this.document,re);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=re)}}scrollToElement(re){const U=re.getBoundingClientRect(),ce=U.left+this.window.pageXOffset,Be=U.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(ce-_t[0],Be-_t[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=sr(this.window.history)||sr(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sr(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Nr{}},4650:(jt,Ke,M)=>{M.d(Ke,{$8M:()=>_o,$Z:()=>sm,AFp:()=>eE,ALo:()=>E0,AaK:()=>Y,Akn:()=>i,AsE:()=>Zy,BQk:()=>mf,CHM:()=>ji,CRH:()=>x0,CZH:()=>ry,CqO:()=>Nm,D6c:()=>BI,DdM:()=>a0,EJc:()=>eI,EiD:()=>lh,EpF:()=>Rm,F$t:()=>yg,F4k:()=>fg,FYo:()=>hc,FiY:()=>Kn,G48:()=>wI,Gf:()=>A0,GfV:()=>$f,GkF:()=>dg,Gpc:()=>ee,HTZ:()=>f0,Hsn:()=>_g,JOm:()=>nl,JVY:()=>Ol,KtG:()=>hs,L6k:()=>_l,LAX:()=>Pl,LFG:()=>H,LSH:()=>ch,Lbi:()=>Yw,Lck:()=>Qb,MAs:()=>Xu,MMx:()=>i_,NdJ:()=>pg,O4$:()=>No,OlP:()=>Kr,Oqu:()=>aa,PXZ:()=>gI,Q6J:()=>Eu,QGY:()=>hg,QP$:()=>Df,QbO:()=>Qw,Qsj:()=>bh,R0b:()=>Wl,RDi:()=>Yl,Rgc:()=>Sg,SBq:()=>Vu,Sil:()=>nI,Suo:()=>M0,TTD:()=>$i,TgZ:()=>hf,Tol:()=>n,Udp:()=>qm,VKq:()=>l0,W1O:()=>N0,WLB:()=>u0,X6Q:()=>bI,XFs:()=>rn,Xpm:()=>le,Xts:()=>Dd,Y36:()=>Gu,YKP:()=>Jv,YNc:()=>Pm,Yjl:()=>qe,Yz7:()=>yn,ZZ4:()=>M_,_Bn:()=>Qv,_UZ:()=>pf,_Vd:()=>Fu,_c5:()=>VI,_uU:()=>Zs,aQg:()=>x_,c2e:()=>Jw,cJS:()=>bn,cg1:()=>Yy,dDg:()=>dI,deG:()=>Kl,dqk:()=>Yt,eBb:()=>lc,eFA:()=>fE,ekj:()=>Ef,eoX:()=>cE,f3M:()=>Te,g9A:()=>nE,h0i:()=>Cf,hGG:()=>UI,hij:()=>tc,iGM:()=>S0,ifc:()=>kn,ip1:()=>X0,kEZ:()=>c0,kL8:()=>Iv,l5B:()=>d0,lG2:()=>Tn,lcZ:()=>b0,lqb:()=>du,lri:()=>lE,mCW:()=>Ot,n5z:()=>Ii,oAB:()=>zt,oJD:()=>uh,oxw:()=>Fm,pB0:()=>Bc,q3G:()=>Bi,q4F:()=>jf,qLn:()=>tl,qOj:()=>qs,qZA:()=>ff,qbA:()=>h0,qzn:()=>xl,rFY:()=>p0,rWj:()=>uE,s9C:()=>yf,sBO:()=>II,sIi:()=>hd,s_b:()=>ey,soG:()=>iy,tBr:()=>yr,tb:()=>rE,tp0:()=>_r,uIk:()=>ag,vHH:()=>Xe,vpe:()=>nc,wAp:()=>Sr,xp6:()=>Kg,ynx:()=>gf,z2F:()=>sy,z3N:()=>wa,zSh:()=>Gc,zs3:()=>Tc});var h=M(7579),u=M(727),k=M(9751),fe=M(6451),W=M(3099);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function X(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function se(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const G=J({__forward_ref__:J});function ee(t){return t.__forward_ref__=ee,t.toString=function(){return Y(this())},t}function pe(t){return ze(t)?t():t}function ze(t){return"function"==typeof t&&t.hasOwnProperty(G)&&t.__forward_ref__===ee}class Xe extends Error{constructor(r,s){super(function Tt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function tt(t){return"string"==typeof t?t:null==t?"":String(t)}function de(t,r){throw new Xe(-201,!1)}function bt(t,r){null==t&&function at(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function yn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function zn(t){return Or(t,$n)||Or(t,nr)}function Or(t,r){return t.hasOwnProperty(r)?t[r]:null}function ei(t){return t&&(t.hasOwnProperty(Ar)||t.hasOwnProperty(ur))?t[Ar]:null}const $n=J({\u0275prov:J}),Ar=J({\u0275inj:J}),nr=J({ngInjectableDef:J}),ur=J({ngInjectorDef:J});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let Qn;function vn(t){const r=Qn;return Qn=t,r}function Nn(t,r,s){const a=zn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&rn.Optional?null:void 0!==r?r:void de(Y(t))}function qr(t){return{toString:t}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),kn=(()=>{return(t=kn||(kn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kn;var t})();const Yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ur={},An=[],Pr=J({\u0275cmp:J}),cr=J({\u0275dir:J}),Qt=J({\u0275pipe:J}),jn=J({\u0275mod:J}),$r=J({\u0275fac:J}),Oe=J({__NG_ELEMENT_ID__:J});let ke=0;function le(t){return qr(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||An,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,id:"c"+ke++,styles:t.styles||An,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.dependencies,b=t.features;return c.inputs=fn(t.inputs,a),c.outputs=fn(t.outputs),b&&b.forEach(D=>D(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(K).filter(Se):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(wt).filter(Se):null,c})}function K(t){return Ce(t)||De(t)}function Se(t){return null!==t}const ot={};function zt(t){return qr(()=>{const r={type:t.type,bootstrap:t.bootstrap||An,declarations:t.declarations||An,imports:t.imports||An,exports:t.exports||An,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ot[t.id]=t.type),r})}function fn(t,r){if(null==t)return Ur;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=a,r&&(r[c]=p)}return s}const Tn=le;function qe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ce(t){return t[Pr]||null}function De(t){return t[cr]||null}function wt(t){return t[Qt]||null}function Vt(t,r){const s=t[jn]||null;if(!s&&!0===r)throw new Error(`Type ${Y(t)} does not have '\u0275mod' property.`);return s}function St(t){return Array.isArray(t)&&"object"==typeof t[1]}function $t(t){return Array.isArray(t)&&!0===t[1]}function cn(t){return 0!=(8&t.flags)}function _e(t){return 2==(2&t.flags)}function ct(t){return 1==(1&t.flags)}function je(t){return null!==t.template}function dt(t){return 0!=(256&t[2])}function Zi(t,r){return t.hasOwnProperty($r)?t[$r]:null}class qi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function $i(){return Hs}function Hs(t){return t.type.prototype.ngOnChanges&&(t.setInput=vs),_s}function _s(){const t=bs(this),r=t?.current;if(r){const s=t.previous;if(s===Ur)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function vs(t,r,s,a){const c=bs(t)||function $s(t,r){return t[Es]=r}(t,{previous:Ur,current:null}),p=c.current||(c.current={}),b=c.previous,D=this.declaredInputs[s],x=b[D];p[D]=new qi(x&&x.currentValue,r,b===Ur),t[a]=r}$i.ngInherit=!0;const Es="__ngSimpleChanges__";function bs(t){return t[Es]||null}function yt(t){for(;Array.isArray(t);)t=t[0];return t}function gn(t,r){return yt(r[t])}function Un(t,r){return yt(r[t.index])}function mr(t,r){return t.data[r]}function Jr(t,r){return t[r]}function Nr(t,r){const s=r[t];return St(s)?s:s[0]}function F(t){return 4==(4&t[2])}function re(t){return 64==(64&t[2])}function ce(t,r){return null==r?null:t[r]}function Be(t){t[18]=0}function _t(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const it={lFrame:Oi(null),bindingsEnabled:!0};function vi(){return it.bindingsEnabled}function Lt(){return it.lFrame.lView}function or(){return it.lFrame.tView}function ji(t){return it.lFrame.contextLView=t,t[8]}function hs(t){return it.lFrame.contextLView=null,t}function ri(){let t=mo();for(;null!==t&&64===t.type;)t=t.parent;return t}function mo(){return it.lFrame.currentTNode}function ts(t,r){const s=it.lFrame;s.currentTNode=t,s.isParent=r}function wo(){return it.lFrame.isParent}function Di(){it.lFrame.isParent=!1}function L(){const t=it.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function vt(){return it.lFrame.bindingIndex++}function dn(t){const r=it.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Qs(t,r){const s=it.lFrame;s.bindingIndex=s.bindingRootIndex=t,so(r)}function so(t){it.lFrame.currentDirectiveIndex=t}function ll(){return it.lFrame.currentQueryIndex}function jo(t){it.lFrame.currentQueryIndex=t}function ul(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Vi(t,r,s){if(s&rn.SkipSelf){let c=r,p=t;for(;!(c=c.parent,null!==c||s&rn.Host||(c=ul(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;r=c,t=p}const a=it.lFrame=ci();return a.currentTNode=r,a.lView=t,!0}function Wo(t){const r=ci(),s=t[1];it.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ci(){const t=it.lFrame,r=null===t?null:t.child;return null===r?Oi(t):r}function Oi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Lr(){const t=it.lFrame;return it.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Go=Lr;function Tl(){const t=Lr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wi(){return it.lFrame.selectedIndex}function Ls(t){it.lFrame.selectedIndex=t}function mi(){const t=it.lFrame;return mr(t.tView,t.selectedIndex)}function No(){it.lFrame.currentNamespace="svg"}function Dl(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:z,ngOnDestroy:ae}=p;b&&(t.contentHooks||(t.contentHooks=[])).push(-s,b),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),x&&(t.viewHooks||(t.viewHooks=[])).push(-s,x),z&&((t.viewHooks||(t.viewHooks=[])).push(s,z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,z)),null!=ae&&(t.destroyHooks||(t.destroyHooks=[])).push(s,ae)}}function Wa(t,r,s){cl(t,r,3,s)}function Yi(t,r,s,a){(3&t[2])===s&&cl(t,r,s,a)}function Sl(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function cl(t,r,s,a){const p=a??-1,b=r.length-1;let D=0;for(let x=void 0!==a?65535&t[18]:0;x<b;x++)if("number"==typeof r[x+1]){if(D=r[x],null!=a&&D>=a)break}else r[x]<0&&(t[18]+=65536),(D<p||-1==p)&&(zo(t,s,r,x),t[18]=(4294901760&t[18])+x+2),x++}function zo(t,r,s,a){const c=s[a]<0,p=s[a+1],D=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class ko{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function wi(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const p=s[a++],b=s[a++],D=s[a++];t.setAttribute(r,b,D,p)}else{const p=c,b=s[++a];Gs(p)?t.setProperty(r,p,b):t.setAttribute(r,p,b),a++}}return a}function yo(t){return 3===t||4===t||6===t}function Gs(t){return 64===t.charCodeAt(0)}function xa(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||dl(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function dl(t,r,s,a,c){let p=0,b=t.length;if(-1===r)b=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===r){b=-1;break}if(D>r){b=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==c&&(t[p+1]=c));if(a===t[p+1])return void(t[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==b&&(t.splice(b,0,r),p=b+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==c&&t.splice(p++,0,c)}function Kt(t){return-1!==t}function Ni(t){return 32767&t}function Fs(t,r){let s=function fs(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let On=!0;function Jn(t){const r=On;return On=t,r}let Nt=0;const yi={};function qo(t,r){const s=fa(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,ha(a.data,t),ha(r,null),ha(a.blueprint,null));const c=pa(t,r),p=t.injectorIndex;if(Kt(c)){const b=Ni(c),D=Fs(c,r),x=D[1].data;for(let z=0;z<8;z++)r[p+z]=D[b+z]|x[b+z]}return r[p+8]=c,p}function ha(t,r){t.push(0,0,0,0,0,0,0,0,r)}function fa(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=qa(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Zo(t,r,s){!function Ko(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Oe)&&(a=s[Oe]),null==a&&(a=s[Oe]=Nt++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function Ka(t,r,s){if(s&rn.Optional)return t;de()}function Oa(t,r,s,a){if(s&rn.Optional&&void 0===a&&(a=null),0==(s&(rn.Self|rn.Host))){const c=t[9],p=vn(void 0);try{return c?c.get(r,a,s&rn.Optional):Nn(r,a,s&rn.Optional)}finally{vn(p)}}return Ka(a,0,s)}function Ui(t,r,s,a=rn.Default,c){if(null!==t){if(1024&r[2]){const b=function Qo(t,r,s,a,c){let p=t,b=r;for(;null!==p&&null!==b&&1024&b[2]&&!(256&b[2]);){const D=Yo(p,b,s,a|rn.Self,yi);if(D!==yi)return D;let x=p.parent;if(!x){const z=b[21];if(z){const ae=z.get(s,yi,a);if(ae!==yi)return ae}x=qa(b),b=b[15]}p=x}return c}(t,r,s,a,yi);if(b!==yi)return b}const p=Yo(t,r,s,a,yi);if(p!==yi)return p}return Oa(r,s,a,c)}function Yo(t,r,s,a,c){const p=function di(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Oe)?t[Oe]:void 0;return"number"==typeof r?r>=0?255&r:ns:r}(s);if("function"==typeof p){if(!Vi(r,t,a))return a&rn.Host?Ka(c,0,a):Oa(r,s,a,c);try{const b=p(a);if(null!=b||a&rn.Optional)return b;de()}finally{Go()}}else if("number"==typeof p){let b=null,D=fa(t,r),x=-1,z=a&rn.Host?r[16][6]:null;for((-1===D||a&rn.SkipSelf)&&(x=-1===D?pa(t,r):r[D+8],-1!==x&&Dr(a,!1)?(b=r[1],D=Ni(x),r=Fs(x,r)):D=-1);-1!==D;){const ae=r[1];if(Xn(p,D,ae.data)){const be=br(D,r,s,b,a,z);if(be!==yi)return be}x=r[D+8],-1!==x&&Dr(a,r[1].data[D+8]===z)&&Xn(p,D,r)?(b=ae,D=Ni(x),r=Fs(x,r)):D=-1}}return c}function br(t,r,s,a,c,p){const b=r[1],D=b.data[t+8],ae=Ss(D,b,s,null==a?_e(D)&&On:a!=b&&0!=(3&D.type),c&rn.Host&&p===D);return null!==ae?To(r,b,ae,D):yi}function Ss(t,r,s,a,c){const p=t.providerIndexes,b=r.data,D=1048575&p,x=t.directiveStart,ae=p>>20,Qe=c?D+ae:t.directiveEnd;for(let mt=a?D:D+ae;mt<Qe;mt++){const Ht=b[mt];if(mt<x&&s===Ht||mt>=x&&Ht.type===s)return mt}if(c){const mt=b[x];if(mt&&je(mt)&&mt.type===s)return x}return null}function To(t,r,s,a){let c=t[s];const p=r.data;if(function Co(t){return t instanceof ko}(c)){const b=c;b.resolving&&function Pe(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():tt(t)}(p[s]));const D=Jn(b.canSeeViewProviders);b.resolving=!0;const x=b.injectImpl?vn(b.injectImpl):null;Vi(t,a,rn.Default);try{c=t[s]=b.factory(void 0,p,t,a),r.firstCreatePass&&s>=a.directiveStart&&function su(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const b=Hs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,b)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p))}(s,p[s],r)}finally{null!==x&&vn(x),Jn(D),b.resolving=!1,Go()}}return c}function Xn(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Dr(t,r){return!(t&rn.Self||t&rn.Host&&r)}class hr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ui(this._tNode,this._lView,r,a,s)}}function ns(){return new hr(ri(),Lt())}function Ii(t){return qr(()=>{const r=t.prototype.constructor,s=r[$r]||Xt(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const p=c[$r]||Xt(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Xt(t){return ze(t)?()=>{const r=Xt(pe(t));return r&&r()}:Zi(t)}function qa(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function _o(t){return function hl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const p=s[c];if(yo(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(p===r)return s[c+1];c+=2}}}return null}(ri(),t)}const rs="__parameters__";function So(t,r,s){return qr(()=>{const a=function Qi(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const b=new c(...p);return D.annotation=b,D;function D(x,z,ae){const be=x.hasOwnProperty(rs)?x[rs]:Object.defineProperty(x,rs,{value:[]})[rs];for(;be.length<=ae;)be.push(null);return(be[ae]=be[ae]||[]).push(b),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Kr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=yn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kl=new Kr("AnalyzeForEntryComponents");function Xi(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Xi(a,r)):r!==t&&r.push(a)}return r}function oo(t,r){t.forEach(s=>Array.isArray(s)?oo(s,r):r(s))}function Gi(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function T(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function C(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Et(t,r,s){let a=Mn(t,r);return a>=0?t[1|a]=s:(a=~a,function B(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function on(t,r){const s=Mn(t,r);if(s>=0)return t[1|s]}function Mn(t,r){return function Zr(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const p=a+(c-a>>1),b=t[p<<s];if(r===b)return p<<s;b>r?c=p:a=p+1}return~(c<<s)}(t,r,1)}const os={},Mo="__NG_DI_FLAG__",lo="ngTempTokenPath",au=/\n/gm,ql="__source";let xo;function va(t){const r=xo;return xo=t,r}function R(t,r=rn.Default){if(void 0===xo)throw new Xe(-203,!1);return null===xo?Nn(t,void 0,r):xo.get(t,r&rn.Optional?null:void 0,r)}function H(t,r=rn.Default){return(function Fn(){return Qn}()||R)(pe(t),r)}function Te(t,r=rn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),H(t,r)}function st(t){const r=[];for(let s=0;s<t.length;s++){const a=pe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Xe(900,!1);let c,p=rn.Default;for(let b=0;b<a.length;b++){const D=a[b],x=Gt(D);"number"==typeof x?-1===x?c=D.token:p|=x:c=D}r.push(H(c,p))}else r.push(H(a))}return r}function Ct(t,r){return t[Mo]=r,t.prototype[Mo]=r,t}function Gt(t){return t[Mo]}const yr=Ct(So("Inject",t=>({token:t})),-1),Kn=Ct(So("Optional"),8),_r=Ct(So("SkipSelf"),4);let Du,ml,Xa;function Yl(t){Du=t}function yl(t){return function lu(){if(void 0===ml&&(ml=null,Yt.trustedTypes))try{ml=Yt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ml}()?.createHTML(t)||t}function Au(t){return function Su(){if(void 0===Xa&&(Xa=null,Yt.trustedTypes))try{Xa=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xa}()?.createHTML(t)||t}class Na{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Id extends Na{getTypeName(){return"HTML"}}class xu extends Na{getTypeName(){return"Style"}}class Uc extends Na{getTypeName(){return"Script"}}class as extends Na{getTypeName(){return"URL"}}class uu extends Na{getTypeName(){return"ResourceURL"}}function wa(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function xl(t,r){const s=function ac(t){return t instanceof Na&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Ol(t){return new Id(t)}function _l(t){return new xu(t)}function lc(t){return new Uc(t)}function Pl(t){return new as(t)}function Bc(t){return new uu(t)}class g{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(yl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class y{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=yl(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=yl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let c=s.length-1;0<c;c--){const b=s.item(c).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&r.removeAttribute(b)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ne=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ot(t){return(t=String(t)).match(ne)||t.match(rt)?t:"unsafe:"+t}function Ln(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Fr(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ki=Ln("area,br,col,hr,img,wbr"),ka=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),el=Ln("rp,rt"),Nl=Fr(ki,Fr(ka,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fr(el,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fr(el,ka)),Ou=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ra=Ln("srcset"),ls=Fr(Ou,ra,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oi=Ln("script,style,template");class Hc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Nl.hasOwnProperty(s))return this.sanitizedSomething=!0,!oi.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),b=p.name,D=b.toLowerCase();if(!ls.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=p.value;Ou[D]&&(x=Ot(x)),ra[D]&&(t=x,x=(t=String(t)).split(",").map(r=>Ot(r.trim())).join(", ")),this.buf.push(" ",b,'="',Af(x),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Nl.hasOwnProperty(s)&&!ki.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Af(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Pu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kl=/([^\#-~ |!])/g;function Af(t){return t.replace(/&/g,"&amp;").replace(Pu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(kl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Po;function lh(t,r){let s=null;try{Po=Po||function I(t){const r=new y(t);return function S(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new g(r):r}(t);let a=r?String(r):"";s=Po.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=s.innerHTML,s=Po.getInertBodyElement(a)}while(a!==p);return yl((new Hc).sanitizeChildren(Ru(s)||s))}finally{if(s){const a=Ru(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ru(t){return"content"in t&&function Mf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Bi=(()=>((Bi=Bi||{})[Bi.NONE=0]="NONE",Bi[Bi.HTML=1]="HTML",Bi[Bi.STYLE=2]="STYLE",Bi[Bi.SCRIPT=3]="SCRIPT",Bi[Bi.URL=4]="URL",Bi[Bi.RESOURCE_URL=5]="RESOURCE_URL",Bi))();function uh(t){const r=cc();return r?Au(r.sanitize(Bi.HTML,t)||""):xl(t,"HTML")?Au(wa(t)):lh(function Vc(){return void 0!==Du?Du:typeof document<"u"?document:void 0}(),tt(t))}function ch(t){const r=cc();return r?r.sanitize(Bi.URL,t)||"":xl(t,"URL")?wa(t):Ot(tt(t))}function cc(){const t=Lt();return t&&t[12]}const Dd=new Kr("ENVIRONMENT_INITIALIZER"),Pf=new Kr("INJECTOR",-1),hh=new Kr("INJECTOR_DEF_TYPES");class fh{get(r,s=os){if(s===os){const a=new Error(`NullInjectorError: No provider for ${Y(r)}!`);throw a.name="NullInjectorError",a}return s}}function xg(...t){return{\u0275providers:Rf(0,t)}}function Rf(t,...r){const s=[],a=new Set;let c;return oo(r,p=>{const b=p;Nu(b,s,[],a)&&(c||(c=[]),c.push(b))}),void 0!==c&&Nf(c,s),s}function Nf(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];oo(c,p=>{r.push(p)})}}function Nu(t,r,s,a){if(!(t=pe(t)))return!1;let c=null,p=ei(t);const b=!p&&Ce(t);if(p||b){if(b&&!b.standalone)return!1;c=t}else{const x=t.ngModule;if(p=ei(x),!p)return!1;c=x}const D=a.has(c);if(b){if(D)return!1;if(a.add(c),b.dependencies){const x="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const z of x)Nu(z,r,s,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let z;a.add(c);try{oo(p.imports,ae=>{Nu(ae,r,s,a)&&(z||(z=[]),z.push(ae))})}finally{}void 0!==z&&Nf(z,r)}if(!D){const z=Zi(c)||(()=>new c);r.push({provide:c,useFactory:z,deps:An},{provide:hh,useValue:c,multi:!0},{provide:Dd,useValue:()=>H(c),multi:!0})}const x=p.providers;null==x||D||oo(x,ae=>{r.push(ae)})}}return c!==t&&void 0!==t.providers}const Pg=J({provide:String,useValue:J});function eo(t){return null!==t&&"object"==typeof t&&Pg in t}function vl(t){return"function"==typeof t}const Gc=new Kr("Set Injector scope."),zc={},Kc={};let Ad;function qc(){return void 0===Ad&&(Ad=new fh),Ad}class du{}class kf extends du{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yh(r,b=>this.processProvider(b)),this.records.set(Pf,ku(void 0,this)),c.has("environment")&&this.records.set(du,ku(void 0,this));const p=this.records.get(Gc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(hh.multi,An,rn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=va(this),a=vn(void 0);try{return r()}finally{va(s),vn(a)}}get(r,s=os,a=rn.Default){this.assertNotDestroyed();const c=va(this),p=vn(void 0);try{if(!(a&rn.SkipSelf)){let D=this.records.get(r);if(void 0===D){const x=function Rg(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kr}(r)&&zn(r);D=x&&this.injectableDefInScope(x)?ku(gh(r),zc):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&rn.Self?qc():this.parent).get(r,s=a&rn.Optional&&s===os?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[lo]=b[lo]||[]).unshift(Y(r)),c)throw b;return function In(t,r,s,a){const c=t[lo];throw r[ql]&&c.unshift(r[ql]),t.message=function ir(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Y(r);if(Array.isArray(r))c=r.map(Y).join(" -> ");else if("object"==typeof r){let p=[];for(let b in r)if(r.hasOwnProperty(b)){let D=r[b];p.push(b+":"+("string"==typeof D?JSON.stringify(D):Y(D)))}c=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(au,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[lo]=null,t}(b,r,"R3InjectorError",this.source)}throw b}finally{vn(p),va(c)}}resolveInjectorInitializers(){const r=va(this),s=vn(void 0);try{const a=this.get(Dd.multi,An,rn.Self);for(const c of a)c()}finally{va(r),vn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Y(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(r){let s=vl(r=pe(r))?r:pe(r&&r.provide);const a=function mh(t){return eo(t)?ku(void 0,t.useValue):ku(Lf(t),zc)}(r);if(vl(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ku(void 0,zc,!0),c.factory=()=>st(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===zc&&(s.value=Kc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=pe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function gh(t){const r=zn(t),s=null!==r?r.factory:Zi(t);if(null!==s)return s;if(t instanceof Kr)throw new Xe(204,!1);if(t instanceof Function)return function Zc(t){const r=t.length;if(r>0)throw C(r,"?"),new Xe(204,!1);const s=function pr(t){const r=t&&(t[$n]||t[nr]);if(r){const s=function nn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Xe(204,!1)}function Lf(t,r,s){let a;if(vl(t)){const c=pe(t);return Zi(c)||gh(c)}if(eo(t))a=()=>pe(t.useValue);else if(function ph(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...st(t.deps||[]));else if(function Sd(t){return!(!t||!t.useExisting)}(t))a=()=>H(pe(t.useExisting));else{const c=pe(t&&(t.useClass||t.provide));if(!function Ff(t){return!!t.deps}(t))return Zi(c)||gh(c);a=()=>new c(...st(t.deps))}return a}function ku(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Uf(t){return!!t.\u0275providers}function yh(t,r){for(const s of t)Array.isArray(s)?yh(s,r):Uf(s)?yh(s.\u0275providers,r):r(s)}class Lu{}class Eh{resolveComponentFactory(r){throw function dc(t){const r=Error(`No component factory found for ${Y(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Fu=(()=>{class t{}return t.NULL=new Eh,t})();function ia(){return Jl(ri(),Lt())}function Jl(t,r){return new Vu(Un(t,r))}let Vu=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=ia,t})();function El(t){return t instanceof Vu?t.nativeElement:t}class hc{}let bh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Hf(){const t=Lt(),s=Nr(ri().index,t);return(St(s)?s:t)[11]}(),t})(),kg=(()=>{class t{}return t.\u0275prov=yn({token:t,providedIn:"root",factory:()=>null}),t})();class $f{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const jf=new $f("14.1.0"),wh={};function Qc(t){return t.ngOriginalError}class tl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Qc(r);for(;s&&Qc(s);)s=Qc(s);return s||null}}const xd=new Map;let Ah=0;const Xl="__ngContext__";function Uo(t,r){St(r)?(t[Xl]=r[20],function Kf(t){xd.set(t[20],t)}(r)):t[Xl]=r}function mc(t){const r=t[Xl];return"number"==typeof r?function xh(t){return xd.get(t)||null}(r):r||null}function Oh(t){const r=mc(t);return r?St(r)?r:r.lView:null}const Od=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Yt))();function Fa(t){return t instanceof Function?t():t}var nl=(()=>((nl=nl||{})[nl.Important=1]="Important",nl[nl.DashCase=2]="DashCase",nl))();function fu(t,r){return undefined(t,r)}function Ul(t){const r=t[3];return $t(r)?r[3]:r}function td(t){return tp(t[13])}function Nh(t){return tp(t[4])}function tp(t){for(;null!==t&&!$t(t);)t=t[4];return t}function vc(t,r,s,a,c){if(null!=a){let p,b=!1;$t(a)?p=a:St(a)&&(b=!0,a=a[0]);const D=yt(a);0===t&&null!==s?null==c?xe(r,s,D):ye(r,s,D,c||null,!0):1===t&&null!==s?ye(r,s,D,c||null,!0):2===t?function Va(t,r,s){const a=Bn(t,r);a&&function kt(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,b):3===t&&r.destroyNode(D),null!=p&&function Nd(t,r,s,a,c){const p=s[7];p!==yt(s)&&vc(r,t,a,p,c);for(let D=10;D<s.length;D++){const x=s[D];Ca(x[1],x,t,r,a,p)}}(r,t,p,s,c)}}function Rd(t,r,s){return t.createElement(r,s)}function Uh(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,_t(c,-1)),s.splice(a,1)}function nd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Uh(c,a),r>0&&(t[s-1][4]=a[4]);const p=T(t,10+r);!function np(t,r){Ca(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const b=p[19];null!==b&&b.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function E(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ca(t,r,s,3,null,null),function bc(t){let r=t[13];if(!r)return m(t[1],t);for(;r;){let s=null;if(St(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)St(r)&&m(r[1],r),r=r[3];null===r&&(r=t),St(r)&&m(r[1],r),s=r&&r[4]}r=s}}(r)}}function m(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function _(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ko)){const p=s[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const D=c[p[b]],x=p[b+1];try{x.call(D)}finally{}}else try{p.call(c)}finally{}}}}(t,r),function d(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const b=s[p+1],D="function"==typeof b?b(r):yt(r[b]),x=a[c=s[p+2]],z=s[p+3];"boolean"==typeof z?D.removeEventListener(s[p],x,z):z>=0?a[c=z]():a[c=-z].unsubscribe(),p+=2}else{const b=a[c=s[p+1]];s[p].call(b)}if(null!==a){for(let p=c+1;p<a.length;p++)(0,a[p])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&$t(r[3])){s!==r[3]&&Uh(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Hg(t){xd.delete(t[20])}(r)}}function N(t,r,s){return function q(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===kn.None||c===kn.Emulated)return null}return Un(a,s)}(t,r.parent,s)}function ye(t,r,s,a,c){t.insertBefore(r,s,a,c)}function xe(t,r,s){t.appendChild(r,s)}function ft(t,r,s,a,c){null!==a?ye(t,r,s,a,c):xe(t,r,s)}function Bn(t,r){return t.parentNode(r)}function Wr(t,r,s){return wr(t,r,s)}let wr=function fr(t,r,s){return 40&t.type?Un(t,s):null};function Is(t,r,s,a){const c=N(t,a,r),p=r[11],D=Wr(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)ft(p,c,s[x],D,!1);else ft(p,c,s,D,!1)}function to(t,r){if(null!==r){const s=r.type;if(3&s)return Un(r,t);if(4&s)return Bl(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return to(t,a);{const c=t[r.index];return $t(c)?Bl(-1,c):yt(c)}}if(32&s)return fu(r,t)()||yt(t[r.index]);{const a=co(t,r);return null!==a?Array.isArray(a)?a[0]:to(Ul(t[16]),a):to(t,r.next)}}return null}function co(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Bl(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return to(a,c)}return r[7]}function no(t,r,s,a,c,p,b){for(;null!=s;){const D=a[s.index],x=s.type;if(b&&0===r&&(D&&Uo(yt(D),a),s.flags|=4),64!=(64&s.flags))if(8&x)no(t,r,s.child,a,c,p,!1),vc(r,t,c,D,p);else if(32&x){const z=fu(s,a);let ae;for(;ae=z();)vc(r,t,c,ae,p);vc(r,t,c,D,p)}else 16&x?wl(t,r,a,s,c,p):vc(r,t,c,D,p);s=b?s.projectionNext:s.next}}function Ca(t,r,s,a,c,p){no(s,a,t.firstChild,r,c,p,!1)}function wl(t,r,s,a,c,p){const b=s[16],x=b[6].projection[a.projection];if(Array.isArray(x))for(let z=0;z<x.length;z++)vc(r,t,c,x[z],p);else no(t,r,x,b[3],c,p,!0)}function Ta(t,r,s){t.setAttribute(r,"style",s)}function Hl(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Ic(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||t.charCodeAt(c+p)<=32)return c}s=c+1}}const ar="ng-template";function Ir(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Ic(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function hi(t){return 4===t.type&&t.value!==ar}function ho(t,r,s){return r===(4!==t.type||s?t.value:ar)}function Ua(t,r,s){let a=4;const c=t.attrs||[],p=function Ld(t){for(let r=0;r<t.length;r++)if(yo(t[r]))return r;return t.length}(c);let b=!1;for(let D=0;D<r.length;D++){const x=r[D];if("number"!=typeof x){if(!b)if(4&a){if(a=2|1&a,""!==x&&!ho(t,x,s)||""===x&&1===r.length){if(Cs(a))return!1;b=!0}}else{const z=8&a?x:r[++D];if(8&a&&null!==t.attrs){if(!Ir(t.attrs,z,s)){if(Cs(a))return!1;b=!0}continue}const be=Il(8&a?"class":x,c,hi(t),s);if(-1===be){if(Cs(a))return!1;b=!0;continue}if(""!==z){let Qe;Qe=be>p?"":c[be+1].toLowerCase();const mt=8&a?Qe:null;if(mt&&-1!==Ic(mt,z,0)||2&a&&z!==Qe){if(Cs(a))return!1;b=!0}}}}else{if(!b&&!Cs(a)&&!Cs(x))return!1;if(b&&Cs(x))continue;b=!1,a=x|1&a}}return Cs(a)||b}function Cs(t){return 0==(1&t)}function Il(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let p=!1;for(;c<r.length;){const b=r[c];if(b===t)return c;if(3===b||6===b)p=!0;else{if(1===b||2===b){let D=r[++c];for(;"string"==typeof D;)D=r[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=p?1:2}return-1}return function ro(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function us(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ua(t,r[a],s))return!0;return!1}function rl(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ro(t,r){return t?":not("+r.trim()+")":r}function Wu(t){let r=t[0],s=1,a=2,c="",p=!1;for(;s<t.length;){let b=t[s];if("string"==typeof b)if(2&a){const D=t[++s];c+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?c+="."+b:4&a&&(c+=" "+b);else""!==c&&!Cs(b)&&(r+=Ro(p,c),c=""),a=b,p=p||!Cs(a);s++}return""!==c&&(r+=Ro(p,c)),r}const Gr={};function Kg(t){ip(or(),Lt(),Wi()+t,!1)}function ip(t,r,s,a){if(!a)if(3==(3&r[2])){const p=t.preOrderCheckHooks;null!==p&&Wa(r,p,s)}else{const p=t.preOrderHooks;null!==p&&Yi(r,p,0,s)}Ls(s)}function Yg(t,r=null,s=null,a){const c=Qg(t,r,s,a);return c.resolveInjectorInitializers(),c}function Qg(t,r=null,s=null,a,c=new Set){const p=[s||An,xg(t)];return a=a||("object"==typeof t?void 0:Y(t)),new kf(p,r||qc(),a||null,c)}let Tc=(()=>{class t{static create(s,a){if(Array.isArray(s))return Yg({name:""},a,s,"");{const c=s.name??"";return Yg({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=os,t.NULL=new fh,t.\u0275prov=yn({token:t,providedIn:"any",factory:()=>H(Pf)}),t.__NG_ELEMENT_ID__=-1,t})();function Gu(t,r=rn.Default){const s=Lt();return null===s?H(t,r):Ui(ri(),s,pe(t),r)}function sm(){throw new Error("invalid")}function zh(t,r){return t<<17|r<<2}function sl(t){return t>>17&32767}function Vd(t){return 2|t}function $l(t){return(131068&t)>>2}function zu(t,r){return-131069&t|r<<2}function Ud(t){return 1|t}function Xh(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],p=s[a+1];if(-1!==p){const b=t.data[p];jo(c),b.contentQueries(2,r[p],p)}}}function ad(t,r,s,a,c,p,b,D,x,z,ae){const be=r.blueprint.slice();return be[0]=c,be[2]=76|a,(null!==ae||t&&1024&t[2])&&(be[2]|=1024),Be(be),be[3]=be[15]=t,be[8]=s,be[10]=b||t&&t[10],be[11]=D||t&&t[11],be[12]=x||t&&t[12]||null,be[9]=z||t&&t[9]||null,be[6]=p,be[20]=function Mh(){return Ah++}(),be[21]=ae,be[16]=2==r.type?t[16]:be,be}function ld(t,r,s,a,c){let p=t.data[r];if(null===p)p=function Wd(t,r,s,a,c){const p=mo(),b=wo(),x=t.data[r]=function kp(t,r,s,a,c,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=x),null!==p&&(b?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}(t,r,s,a,c),function Ei(){return it.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=c;const b=function tr(){const t=it.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return ts(p,!0),p}function Ba(t,r,s,a){if(0===s)return-1;const c=r.length;for(let p=0;p<s;p++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function ud(t,r,s){Wo(r);try{const a=t.viewQuery;null!==a&&eg(1,a,s);const c=t.template;null!==c&&pm(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xh(t,r),t.staticViewQueries&&eg(2,t.viewQuery,s);const p=t.components;null!==p&&function fm(t,r){for(let s=0;s<r.length;s++)cd(t,r[s])}(r,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Tl()}}function Gd(t,r,s,a){const c=r[2];if(128!=(128&c)){Wo(r);try{Be(r),function ue(t){return it.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&pm(t,r,s,2,a);const b=3==(3&c);if(b){const z=t.preOrderCheckHooks;null!==z&&Wa(r,z,null)}else{const z=t.preOrderHooks;null!==z&&Yi(r,z,0,null),Sl(r,0)}if(function qp(t){for(let r=td(t);null!==r;r=Nh(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],p=c[3];0==(512&c[2])&&_t(p,1),c[2]|=512}}}(r),function wm(t){for(let r=td(t);null!==r;r=Nh(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];re(a)&&Gd(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&Xh(t,r),b){const z=t.contentCheckHooks;null!==z&&Wa(r,z)}else{const z=t.contentHooks;null!==z&&Yi(r,z,1),Sl(r,1)}!function Ap(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ls(~c);else{const p=c,b=s[++a],D=s[++a];Qs(b,p),D(2,r[p])}}}finally{Ls(-1)}}(t,r);const D=t.components;null!==D&&function od(t,r){for(let s=0;s<r.length;s++)Im(t,r[s])}(r,D);const x=t.viewQuery;if(null!==x&&eg(2,x,a),b){const z=t.viewCheckHooks;null!==z&&Wa(r,z)}else{const z=t.viewHooks;null!==z&&Yi(r,z,2),Sl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,_t(r[3],-1))}finally{Tl()}}}function Mp(t,r,s,a){const c=r[10],b=F(r);try{!b&&c.begin&&c.begin(),b&&ud(t,r,a),Gd(t,r,s,a)}finally{!b&&c.end&&c.end()}}function pm(t,r,s,a,c){const p=Wi(),b=2&a;try{Ls(-1),b&&r.length>22&&ip(t,r,22,!1),s(a,c)}finally{Ls(p)}}function gm(t,r,s){if(cn(r)){const c=r.directiveEnd;for(let p=r.directiveStart;p<c;p++){const b=t.data[p];b.contentQueries&&b.contentQueries(1,s[p],p)}}}function zd(t,r,s){!vi()||(function Sy(t,r,s,a){const c=s.directiveStart,p=s.directiveEnd;t.firstCreatePass||qo(s,r),Uo(a,r);const b=s.initialInputs;for(let D=c;D<p;D++){const x=t.data[D],z=je(x);z&&Wp(r,s,x);const ae=To(r,t,D,s);Uo(ae,r),null!==b&&Gp(0,D-c,ae,x,0,b),z&&(Nr(s.index,r)[8]=ae)}}(t,r,s,Un(s,r)),128==(128&s.flags)&&function Hp(t,r,s){const a=s.directiveStart,c=s.directiveEnd,p=s.index,b=function io(){return it.lFrame.currentDirectiveIndex}();try{Ls(p);for(let D=a;D<c;D++){const x=t.data[D],z=r[D];so(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&$p(x,z)}}finally{Ls(-1),so(b)}}(t,r,s))}function xp(t,r,s=Un){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],D=-1===b?s(r,t):t[b];t[c++]=D}}}function ef(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Op(t,r,s,a,c,p,b,D,x,z){const ae=22+a,be=ae+c,Qe=function Pp(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Gr);return s}(ae,be),mt="function"==typeof z?z():z;return Qe[1]={type:t,blueprint:Qe,template:s,queries:null,viewQuery:D,declTNode:r,data:Qe.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:mt,incompleteFirstPass:!1}}function Np(t,r,s,a){const c=sf(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&tg(t).push(a,c.length-1))}function Lp(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function mm(t,r){const a=r.directiveEnd,c=t.data,p=r.attrs,b=[];let D=null,x=null;for(let z=r.directiveStart;z<a;z++){const ae=c[z],be=ae.inputs,Qe=null===p||hi(r)?null:zp(be,p);b.push(Qe),D=Lp(be,z,D),x=Lp(ae.outputs,z,x)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=b,r.inputs=D,r.outputs=x}function Da(t,r,s,a,c,p,b,D){const x=Un(r,s);let ae,z=r.inputs;!D&&null!=z&&(ae=z[a])?(dd(t,s,ae,a,c),_e(r)&&ym(s,r.index)):3&r.type&&(a=function Dy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=b?b(c,r.value||"",a):c,p.setProperty(x,a,c))}function ym(t,r){const s=Nr(r,t);16&s[2]||(s[2]|=32)}function Up(t,r,s,a){let c=!1;if(vi()){const p=function tf(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const b=a[p];us(s,b.selectors,!1)&&(c||(c=[]),Zo(qo(s,r),t,b.type),je(b)?(Em(t,s),c.unshift(b)):c.push(b))}return c}(t,r,s),b=null===a?null:{"":-1};if(null!==p){c=!0,bm(s,t.data.length,p.length);for(let ae=0;ae<p.length;ae++){const be=p[ae];be.providersResolver&&be.providersResolver(be)}let D=!1,x=!1,z=Ba(t,r,p.length,null);for(let ae=0;ae<p.length;ae++){const be=p[ae];s.mergedAttrs=xa(s.mergedAttrs,be.hostAttrs),jp(t,s,r,z,be),My(z,be,b),null!==be.contentQueries&&(s.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=128);const Qe=be.type.prototype;!D&&(Qe.ngOnChanges||Qe.ngOnInit||Qe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!x&&(Qe.ngOnChanges||Qe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),x=!0),z++}mm(t,s)}b&&function Ay(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const p=s[r[c+1]];if(null==p)throw new Xe(-301,!1);a.push(r[c],p)}}}(s,a,b)}return s.mergedAttrs=xa(s.mergedAttrs,s.attrs),c}function Bp(t,r,s,a,c,p){const b=p.hostBindings;if(b){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const x=~r.index;(function vm(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=x&&D.push(x),D.push(a,c,b)}}function $p(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Em(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function My(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;je(r)&&(s[""]=t)}}function bm(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function jp(t,r,s,a,c){t.data[a]=c;const p=c.factory||(c.factory=Zi(c.type)),b=new ko(p,je(c),Gu);t.blueprint[a]=b,s[a]=b,Bp(t,r,0,a,Ba(t,s,c.hostVars,Gr),c)}function Wp(t,r,s){const a=Un(r,t),c=ef(s),p=t[10],b=rf(t,ad(t,c,null,s.onPush?32:16,a,r,p,p.createRenderer(a,s),null,null,null));t[r.index]=b}function jl(t,r,s,a,c,p){const b=Un(t,r);!function Kd(t,r,s,a,c,p,b){if(null==p)t.removeAttribute(r,c,s);else{const D=null==b?tt(p):b(p,a||"",c);t.setAttribute(r,c,D,s)}}(r[11],b,p,t.value,s,a,c)}function Gp(t,r,s,a,c,p){const b=p[r];if(null!==b){const D=a.setInput;for(let x=0;x<b.length;){const z=b[x++],ae=b[x++],be=b[x++];null!==D?a.setInput(s,be,z,ae):s[ae]=be}}}function zp(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function nf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Im(t,r){const s=Nr(r,t);if(re(s)){const a=s[1];48&s[2]?Gd(a,s,a.template,s[8]):s[5]>0&&qd(s)}}function qd(t){for(let a=td(t);null!==a;a=Nh(a))for(let c=10;c<a.length;c++){const p=a[c];if(512&p[2]){const b=p[1];Gd(b,p,b.template,p[8])}else p[5]>0&&qd(p)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Nr(s[a],t);re(c)&&c[5]>0&&qd(c)}}function cd(t,r){const s=Nr(r,t),a=s[1];(function Zp(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),ud(a,s,s[8])}function rf(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Yp(t){for(;t;){t[2]|=32;const r=Ul(t);if(dt(t)&&!r)return t;t=r}return null}function Xp(t){!function Qp(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=Oh(s);if(null!==a){const c=a[1];Mp(c,a,c.template,s)}}}(t[8])}function eg(t,r,s){jo(0),r(t,s)}const Cm=(()=>Promise.resolve(null))();function sf(t){return t[7]||(t[7]=[])}function tg(t){return t.cleanup||(t.cleanup=[])}function rg(t,r){const s=t[9],a=s?s.get(tl,null):null;a&&a.handleError(r)}function dd(t,r,s,a,c){for(let p=0;p<s.length;){const b=s[p++],D=s[p++],x=r[b],z=t.data[b];null!==z.setInput?z.setInput(x,c,a,D):x[D]=c}}function Yr(t,r,s){const a=gn(r,t);!function kh(t,r,s){t.setValue(r,s)}(t[11],a,s)}function Zd(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,p=0;if(null!==r)for(let b=0;b<r.length;b++){const D=r[b];"number"==typeof D?p=D:1==p?c=se(c,D):2==p&&(a=se(a,D+": "+r[++b]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Yd(t,r,s,a,c=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push(yt(p)),$t(p))for(let D=10;D<p.length;D++){const x=p[D],z=x[1].firstChild;null!==z&&Yd(x[1],x,z,a)}const b=s.type;if(8&b)Yd(t,r,s.child,a);else if(32&b){const D=fu(s,r);let x;for(;x=D();)a.push(x)}else if(16&b){const D=co(r,s);if(Array.isArray(D))a.push(...D);else{const x=Ul(r[16]);Yd(x[1],x,D,a,!0)}}s=c?s.projectionNext:s.next}return a}class _u{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Yd(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if($t(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(nd(r,a),T(s,a))}this._attachedToViewContainer=!1}E(this._lView[1],this._lView)}onDestroy(r){Np(this._lView[1],this._lView,null,r)}markForCheck(){Yp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Jp(t,r,s){const a=r[10];a.begin&&a.begin();try{Gd(t,r,t.template,s)}catch(c){throw rg(r,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gu(t,r){Ca(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=r}}class Oy extends _u{constructor(r){super(r),this._view=r}detectChanges(){Xp(this._view)}checkNoChanges(){}get context(){return null}}class Ms extends Fu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ce(r);return new Qd(s,this.ngModule)}}function Bo(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Py{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,wh,a);return c!==wh||s===wh?c:this.parentInjector.get(r,s,a)}}class Qd extends Lu{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Cc(t){return t.map(Wu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Bo(this.componentDef.inputs)}get outputs(){return Bo(this.componentDef.outputs)}create(r,s,a,c){let p=(c=c||this.ngModule)instanceof du?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new Py(r,p):r,D=b.get(hc,null);if(null===D)throw new Xe(407,!1);const x=b.get(kg,null),z=D.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",be=a?function Rp(t,r,s){return t.selectRootElement(r,s===kn.ShadowDom)}(z,a,this.componentDef.encapsulation):Rd(D.createRenderer(null,this.componentDef),ae,function nu(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ae)),Qe=this.componentDef.onPush?288:272,mt=function Ny(t,r){return{components:[],scheduler:t||Od,clean:Cm,playerHandler:r||null,flags:0}}(),Ht=Op(0,null,null,1,0,null,null,null,null,null),ln=ad(null,Ht,mt,Qe,null,null,D,z,x,b,null);let Rn,qn;Wo(ln);try{const xr=function ig(t,r,s,a,c,p){const b=s[1];s[22]=t;const x=ld(b,22,2,"#host",null),z=x.mergedAttrs=r.hostAttrs;null!==z&&(Zd(x,z,!0),null!==t&&(wi(c,t,z),null!==x.classes&&Hl(c,t,x.classes),null!==x.styles&&Ta(c,t,x.styles)));const ae=a.createRenderer(t,r),be=ad(s,ef(r),null,r.onPush?32:16,s[22],x,a,ae,p||null,null,null);return b.firstCreatePass&&(Zo(qo(x,s),b,r.type),Em(b,x),bm(x,s.length,1)),rf(s,be),s[22]=be}(be,this.componentDef,ln,D,z);if(be)if(a)wi(z,be,["ng-version",jf.full]);else{const{attrs:Zt,classes:vr}=function rp(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===c?""!==p&&r.push(p,t[++a]):8===c&&s.push(p);else{if(!Cs(c))break;c=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Zt&&wi(z,be,Zt),vr&&vr.length>0&&Hl(z,be,vr.join(" "))}if(qn=mr(Ht,22),void 0!==s){const Zt=qn.projection=[];for(let vr=0;vr<this.ngContentSelectors.length;vr++){const Si=s[vr];Zt.push(null!=Si?Array.from(Si):null)}}Rn=function Ry(t,r,s,a,c){const p=s[1],b=function Vp(t,r,s){const a=ri();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),jp(t,a,r,Ba(t,r,1,null),s),mm(t,a));const c=To(r,t,a.directiveStart,a);Uo(c,r);const p=Un(a,r);return p&&Uo(p,r),c}(p,s,r);if(a.components.push(b),t[8]=b,null!==c)for(const x of c)x(b,r);if(r.contentQueries){const x=ri();r.contentQueries(1,b,x.directiveStart)}const D=ri();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ls(D.index),Bp(s[1],D,0,D.directiveStart,D.directiveEnd,r),$p(r,b)),b}(xr,this.componentDef,ln,mt,[xs]),ud(Ht,ln,null)}finally{Tl()}return new Dm(this.componentType,Rn,Jl(qn,ln),ln,qn)}}class Dm extends class Ng{}{constructor(r,s,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new Oy(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const p=this._rootLView;dd(p[1],p,c,r,s),ym(p,this._tNode.index)}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function xs(){const t=ri();Dl(Lt()[1],t)}function qs(t){let r=function Sm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(je(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Xe(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const b=t;b.inputs=sg(t.inputs),b.declaredInputs=sg(t.declaredInputs),b.outputs=sg(t.outputs);const D=c.hostBindings;D&&Ly(t,D);const x=c.viewQuery,z=c.contentQueries;if(x&&ky(t,x),z&&Mm(t,z),X(t.inputs,c.inputs),X(t.declaredInputs,c.declaredInputs),X(t.outputs,c.outputs),je(c)&&c.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let b=0;b<p.length;b++){const D=p[b];D&&D.ngInherit&&D(t),D===qs&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Am(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=xa(c.hostAttrs,s=xa(s,c.hostAttrs))}}(a)}function sg(t){return t===Ur?{}:t===An?[]:t}function ky(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Mm(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,p)=>{r(a,c,p),s(a,c,p)}:r}function Ly(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let og=null;function Mc(){if(!og){const t=Yt.Symbol;if(t&&t.iterator)og=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(og=a)}}}return og}function hd(t){return!!ru(t)&&(Array.isArray(t)||!(t instanceof Map)&&Mc()in t)}function ru(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ol(t,r,s){return t[r]=s}function Jd(t,r){return t[r]}function sa(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Zu(t,r,s,a){const c=sa(t,r,s);return sa(t,r+1,a)||c}function Sa(t,r,s,a,c,p){const b=Zu(t,r,s,a);return Zu(t,r+2,c,p)||b}function ag(t,r,s,a){const c=Lt();return sa(c,vt(),r)&&(or(),jl(mi(),c,t,r,s,a)),ag}function vu(t,r,s,a){return sa(t,vt(),s)?r+tt(s)+a:Gr}function iu(t,r,s,a,c,p){const D=Zu(t,function O(){return it.lFrame.bindingIndex}(),s,c);return dn(2),D?r+tt(s)+a+tt(c)+p:Gr}function Pm(t,r,s,a,c,p,b,D){const x=Lt(),z=or(),ae=t+22,be=z.firstCreatePass?function th(t,r,s,a,c,p,b,D,x){const z=r.consts,ae=ld(r,t,4,b||null,ce(z,D));Up(r,s,ae,ce(z,x)),Dl(r,ae);const be=ae.tViews=Op(2,ae,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ae),be.queries=r.queries.embeddedTView(ae)),ae}(ae,z,x,r,s,a,c,p,b):z.data[ae];ts(be,!1);const Qe=x[11].createComment("");Is(z,x,Qe,be),Uo(Qe,x),rf(x,x[ae]=nf(Qe,x,Qe,be)),ct(be)&&zd(z,x,be),null!=b&&xp(x,be,D)}function Xu(t){return Jr(function Ha(){return it.lFrame.contextLView}(),22+t)}function Eu(t,r,s){const a=Lt();return sa(a,vt(),r)&&Da(or(),mi(),a,t,r,a[11],s,!1),Eu}function Pc(t,r,s,a,c){const b=c?"class":"style";dd(t,s,r.inputs[b],b,a)}function hf(t,r,s,a){const c=Lt(),p=or(),b=22+t,D=c[11],x=c[b]=Rd(D,r,function ja(){return it.lFrame.currentNamespace}()),z=p.firstCreatePass?function Rc(t,r,s,a,c,p,b){const D=r.consts,z=ld(r,t,2,c,ce(D,p));return Up(r,s,z,ce(D,b)),null!==z.attrs&&Zd(z,z.attrs,!1),null!==z.mergedAttrs&&Zd(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(b,p,c,0,r,s,a):p.data[b];ts(z,!0);const ae=z.mergedAttrs;null!==ae&&wi(D,x,ae);const be=z.classes;null!==be&&Hl(D,x,be);const Qe=z.styles;return null!==Qe&&Ta(D,x,Qe),64!=(64&z.flags)&&Is(p,c,x,z),0===function jr(){return it.lFrame.elementDepthCount}()&&Uo(x,c),function kr(){it.lFrame.elementDepthCount++}(),ct(z)&&(zd(p,c,z),gm(p,z,c)),null!==a&&xp(c,z),hf}function ff(){let t=ri();wo()?Di():(t=t.parent,ts(t,!1));const r=t;!function Er(){it.lFrame.elementDepthCount--}();const s=or();return s.firstCreatePass&&(Dl(s,t),cn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Gl(t){return 0!=(16&t.flags)}(r)&&Pc(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function za(t){return 0!=(32&t.flags)}(r)&&Pc(s,r,Lt(),r.stylesWithoutHost,!1),ff}function pf(t,r,s,a){return hf(t,r,s,a),ff(),pf}function gf(t,r,s){const a=Lt(),c=or(),p=t+22,b=c.firstCreatePass?function nh(t,r,s,a,c){const p=r.consts,b=ce(p,a),D=ld(r,t,8,"ng-container",b);return null!==b&&Zd(D,b,!0),Up(r,s,D,ce(p,c)),null!==r.queries&&r.queries.elementStart(r,D),D}(p,c,a,r,s):c.data[p];ts(b,!0);const D=a[p]=a[11].createComment("");return Is(c,a,D,b),Uo(D,a),ct(b)&&(zd(c,a,b),gm(c,b,a)),null!=s&&xp(a,b),gf}function mf(){let t=ri();const r=or();return wo()?Di():(t=t.parent,ts(t,!1)),r.firstCreatePass&&(Dl(r,t),cn(t)&&r.queries.elementEnd(t)),mf}function dg(t,r,s){return gf(t,r,s),mf(),dg}function Rm(){return Lt()}function hg(t){return!!t&&"function"==typeof t.then}function fg(t){return!!t&&"function"==typeof t.subscribe}const Nm=fg;function pg(t,r,s,a){const c=Lt(),p=or(),b=ri();return function km(t,r,s,a,c,p,b,D){const x=ct(a),ae=t.firstCreatePass&&tg(t),be=r[8],Qe=sf(r);let mt=!0;if(3&a.type||D){const Rn=Un(a,r),qn=D?D(Rn):Rn,xr=Qe.length,Zt=D?Si=>D(yt(Si[a.index])):a.index;let vr=null;if(!D&&x&&(vr=function By(t,r,s,a){const c=t.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const b=c[p];if(b===s&&c[p+1]===a){const D=r[7],x=c[p+2];return D.length>x?D[x]:null}"string"==typeof b&&(p+=2)}return null}(t,r,c,a.index)),null!==vr)(vr.__ngLastListenerFn__||vr).__ngNextListenerFn__=p,vr.__ngLastListenerFn__=p,mt=!1;else{p=Lm(a,r,be,p,!1);const Si=s.listen(qn,c,p);Qe.push(p,Si),ae&&ae.push(c,Zt,xr,xr+1)}}else p=Lm(a,r,be,p,!1);const Ht=a.outputs;let ln;if(mt&&null!==Ht&&(ln=Ht[c])){const Rn=ln.length;if(Rn)for(let qn=0;qn<Rn;qn+=2){const Vs=r[ln[qn]][ln[qn+1]].subscribe(p),oh=Qe.length;Qe.push(p,Vs),ae&&ae.push(c,a.index,oh,-(oh+1))}}}(p,c,c[11],b,t,r,0,a),pg}function mg(t,r,s,a){try{return!1!==s(a)}catch(c){return rg(t,c),!1}}function Lm(t,r,s,a,c){return function p(b){if(b===Function)return a;Yp(2&t.flags?Nr(t.index,r):r);let x=mg(r,0,a,b),z=p.__ngNextListenerFn__;for(;z;)x=mg(r,0,z,b)&&x,z=z.__ngNextListenerFn__;return c&&!1===x&&(b.preventDefault(),b.returnValue=!1),x}}function Fm(t=1){return function $a(t){return(it.lFrame.contextLView=function Ma(t,r){for(;t>0;)r=r[15],t--;return r}(t,it.lFrame.contextLView))[8]}(t)}function Vm(t,r){let s=null;const a=function kd(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?us(t,p,!0):rl(a,p))return c}else s=c}return s}function yg(t){const r=Lt()[16][6];if(!r.projection){const a=r.projection=C(t?t.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const b=t?Vm(p,t):0;null!==b&&(c[b]?c[b].projectionNext=p:a[b]=p,c[b]=p),p=p.next}}}function _g(t,r=0,s){const a=Lt(),c=or(),p=ld(c,22+t,16,null,s||null);null===p.projection&&(p.projection=r),Di(),64!=(64&p.flags)&&function bl(t,r,s){wl(r[11],0,r,s,N(t,s,r),Wr(s.parent||r[6],s,r))}(c,a,p)}function yf(t,r,s){return vg(t,"",r,"",s),yf}function vg(t,r,s,a,c){const p=Lt(),b=vu(p,r,s,a);return b!==Gr&&Da(or(),mi(),p,t,b,p[11],c,!1),vg}function $m(t,r,s,a,c){const p=t[s+1],b=null===r;let D=a?sl(p):$l(p),x=!1;for(;0!==D&&(!1===x||b);){const ae=t[D+1];jy(t[D],r)&&(x=!0,t[D+1]=a?Ud(ae):Vd(ae)),D=a?sl(ae):$l(ae)}x&&(t[s+1]=a?Vd(p):Ud(p))}function jy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Mn(t,r)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jm(t){return t.substring(bo.key,bo.keyEnd)}function Wy(t){return t.substring(bo.value,bo.valueEnd)}function Wm(t,r){const s=bo.textEnd;return s===r?-1:(r=bo.keyEnd=function zy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,bo.key=r,s),yd(t,r,s))}function vf(t,r){const s=bo.textEnd;let a=bo.key=yd(t,r,s);return s===a?-1:(a=bo.keyEnd=function Ky(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=zm(t,a,s),a=bo.value=yd(t,a,s),a=bo.valueEnd=function qy(t,r,s){let a=-1,c=-1,p=-1,b=r,D=b;for(;b<s;){const x=t.charCodeAt(b++);if(59===x)return D;34===x||39===x?D=b=Km(t,x,b,s):r===b-4&&85===p&&82===c&&76===a&&40===x?D=b=Km(t,41,b,s):x>32&&(D=b),p=c,c=a,a=-33&x}return D}(t,a,s),zm(t,a,s))}function Gm(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}function yd(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function zm(t,r,s,a){return(r=yd(t,r,s))<s&&r++,r}function Km(t,r,s,a){let c=-1,p=s;for(;p<a;){const b=t.charCodeAt(p++);if(b==r&&92!==c)return p;c=92==b&&92===c?0:b}throw new Error}function qm(t,r,s){return l(t,r,s,!1),qm}function Ef(t,r){return l(t,r,null,!0),Ef}function i(t){f(Hn,e,t,!1)}function e(t,r){for(let s=function md(t){return Gm(t),vf(t,yd(t,0,bo.textEnd))}(r);s>=0;s=vf(r,s))Hn(t,jm(r),Wy(r))}function n(t){f(Et,o,t,!0)}function o(t,r){for(let s=function Gy(t){return Gm(t),Wm(t,yd(t,0,bo.textEnd))}(r);s>=0;s=Wm(r,s))Et(t,jm(r),!0)}function l(t,r,s,a){const c=Lt(),p=or(),b=dn(2);p.firstUpdatePass&&A(p,t,b,a),r!==Gr&&sa(c,b,r)&&zi(p,p.data[Wi()],c,c[11],t,c[b+1]=function oa(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Y(wa(t)))),t}(r,s),a,b)}function f(t,r,s,a){const c=or(),p=dn(2);c.firstUpdatePass&&A(c,null,p,a);const b=Lt();if(s!==Gr&&sa(b,p,s)){const D=c.data[Wi()];if(fo(D,a)&&!v(c,p)){let x=a?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(s=se(x,s||"")),Pc(c,D,b,s,a)}else!function lr(t,r,s,a,c,p,b,D){c===Gr&&(c=An);let x=0,z=0,ae=0<c.length?c[0]:null,be=0<p.length?p[0]:null;for(;null!==ae||null!==be;){const Qe=x<c.length?c[x+1]:void 0,mt=z<p.length?p[z+1]:void 0;let ln,Ht=null;ae===be?(x+=2,z+=2,Qe!==mt&&(Ht=be,ln=mt)):null===be||null!==ae&&ae<be?(x+=2,Ht=ae):(z+=2,Ht=be,ln=mt),null!==Ht&&zi(t,r,s,a,Ht,ln,b,D),ae=x<c.length?c[x]:null,be=z<p.length?p[z]:null}}(c,D,b,b[11],b[p+1],b[p+1]=function qt(t,r,s){if(null==s||""===s)return An;const a=[],c=wa(s);if(Array.isArray(c))for(let p=0;p<c.length;p++)t(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&t(a,p,c[p]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,p)}}function v(t,r){return r>=t.expandoStartIndex}function A(t,r,s,a){const c=t.data;if(null===c[s+1]){const p=c[Wi()],b=v(t,s);fo(p,a)&&null===r&&!b&&(r=!1),r=function j(t,r,s,a){const c=function ks(t){const r=it.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Ft(s=Dt(null,t,r,s,a),r.attrs,a),p=null);else{const b=r.directiveStylingLast;if(-1===b||t[b]!==c)if(s=Dt(c,t,r,s,a),null===p){let x=function Q(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==$l(a))return t[sl(a)]}(t,r,a);void 0!==x&&Array.isArray(x)&&(x=Dt(null,t,r,x[1],a),x=Ft(x,r.attrs,a),function me(t,r,s,a){t[sl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,x))}else p=function We(t,r,s){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=Ft(a,t[p].hostAttrs,s);return Ft(a,r.attrs,s)}(t,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(c,p,r,a),function Hy(t,r,s,a,c,p){let b=p?r.classBindings:r.styleBindings,D=sl(b),x=$l(b);t[a]=s;let ae,z=!1;if(Array.isArray(s)){const be=s;ae=be[1],(null===ae||Mn(be,ae)>0)&&(z=!0)}else ae=s;if(c)if(0!==x){const Qe=sl(t[D+1]);t[a+1]=zh(Qe,D),0!==Qe&&(t[Qe+1]=zu(t[Qe+1],a)),t[D+1]=function yp(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=zh(D,0),0!==D&&(t[D+1]=zu(t[D+1],a)),D=a;else t[a+1]=zh(x,0),0===D?D=a:t[x+1]=zu(t[x+1],a),x=a;z&&(t[a+1]=Vd(t[a+1])),$m(t,ae,a,!0),$m(t,ae,a,!1),function $y(t,r,s,a,c){const p=c?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof r&&Mn(p,r)>=0&&(s[a+1]=Ud(s[a+1]))}(r,ae,t,a,p),b=zh(D,x),p?r.classBindings=b:r.styleBindings=b}(c,p,r,s,b,a)}}function Dt(t,r,s,a,c){let p=null;const b=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<b&&(p=r[D],a=Ft(a,p.hostAttrs,c),p!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function Ft(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const b=r[p];"number"==typeof b?c=b:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Et(t,b,!!s||r[++p]))}return void 0===t?null:t}function Hn(t,r,s){Et(t,r,wa(s))}function zi(t,r,s,a,c,p,b,D){if(!(3&r.type))return;const x=t.data,z=x[D+1];gs(function mu(t){return 1==(1&t)}(z)?Ts(x,r,s,c,$l(z),b):void 0)||(gs(p)||function mp(t){return 2==(2&t)}(z)&&(p=Ts(x,null,s,c,D,b)),function wc(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let p=-1===a.indexOf("-")?void 0:nl.DashCase;null==c?t.removeStyle(s,a,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=nl.Important),t.setStyle(s,a,c,p))}}(a,b,gn(Wi(),s),c,p))}function Ts(t,r,s,a,c,p){const b=null===r;let D;for(;c>0;){const x=t[c],z=Array.isArray(x),ae=z?x[1]:x,be=null===ae;let Qe=s[c+1];Qe===Gr&&(Qe=be?An:void 0);let mt=be?on(Qe,a):ae===a?Qe:void 0;if(z&&!gs(mt)&&(mt=on(x,a)),gs(mt)&&(D=mt,b))return D;const Ht=t[c+1];c=b?sl(Ht):$l(Ht)}if(null!==r){let x=p?r.residualClasses:r.residualStyles;null!=x&&(D=on(x,a))}return D}function gs(t){return void 0!==t}function fo(t,r){return 0!=(t.flags&(r?16:32))}function Zs(t,r=""){const s=Lt(),a=or(),c=t+22,p=a.firstCreatePass?ld(a,c,1,r,null):a.data[c],b=s[c]=function Ec(t,r){return t.createText(r)}(s[11],r);Is(a,s,b,p),ts(p,!1)}function aa(t){return tc("",t,""),aa}function tc(t,r,s){const a=Lt(),c=vu(a,t,r,s);return c!==Gr&&Yr(a,Wi(),c),tc}function Zy(t,r,s,a,c){const p=Lt(),b=iu(p,t,r,s,a,c);return b!==Gr&&Yr(p,Wi(),b),Zy}const ih=void 0;var JE=["en",[["a","p"],["AM","PM"],ih],[["AM","PM"],ih,ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ih,"{1} 'at' {0}",ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let bf={};function Yy(t){const r=function XE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Cv(r);if(s)return s;const a=r.split("-")[0];if(s=Cv(a),s)return s;if("en"===a)return JE;throw new Xe(701,!1)}function Iv(t){return Yy(t)[Sr.PluralCase]}function Cv(t){return t in bf||(bf[t]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[t]),bf[t]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const wf="en-US";let Tv=wf;function Xy(t,r,s,a,c){if(t=pe(t),Array.isArray(t))for(let p=0;p<t.length;p++)Xy(t[p],r,s,a,c);else{const p=or(),b=Lt();let D=vl(t)?t:pe(t.provide),x=Lf(t);const z=ri(),ae=1048575&z.providerIndexes,be=z.directiveStart,Qe=z.providerIndexes>>20;if(vl(t)||!t.multi){const mt=new ko(x,c,Gu),Ht=t_(D,r,c?ae:ae+Qe,be);-1===Ht?(Zo(qo(z,b),p,D),e_(p,t,r.length),r.push(D),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),s.push(mt),b.push(mt)):(s[Ht]=mt,b[Ht]=mt)}else{const mt=t_(D,r,ae+Qe,be),Ht=t_(D,r,ae,ae+Qe),ln=mt>=0&&s[mt],Rn=Ht>=0&&s[Ht];if(c&&!Rn||!c&&!ln){Zo(qo(z,b),p,D);const qn=function Yb(t,r,s,a,c){const p=new ko(t,s,Gu);return p.multi=[],p.index=r,p.componentProviders=0,Yv(p,c,a&&!s),p}(c?Zb:qb,s.length,c,a,x);!c&&Rn&&(s[Ht].providerFactory=qn),e_(p,t,r.length,0),r.push(D),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),s.push(qn),b.push(qn)}else e_(p,t,mt>-1?mt:Ht,Yv(s[c?Ht:mt],x,!c&&a));!c&&a&&Rn&&s[Ht].componentProviders++}}}function e_(t,r,s,a){const c=vl(r),p=function Ll(t){return!!t.useClass}(r);if(c||p){const x=(p?pe(r.useClass):r).prototype.ngOnDestroy;if(x){const z=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const ae=z.indexOf(s);-1===ae?z.push(s,[a,x]):z[ae+1].push(a,x)}else z.push(s,x)}}}function Yv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function t_(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function qb(t,r,s,a){return n_(this.multi,[])}function Zb(t,r,s,a){const c=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=To(s,s[1],this.providerFactory.index,a);p=D.slice(0,b),n_(c,p);for(let x=b;x<D.length;x++)p.push(D[x])}else p=[],n_(c,p);return p}function n_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Qv(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Kb(t,r,s){const a=or();if(a.firstCreatePass){const c=je(t);Xy(s,a.data,a.blueprint,c,!0),Xy(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Cf{}class Jv{}function Qb(t,r){return new Xv(t,r??null)}class Xv extends Cf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ms(this);const a=Vt(r);this._bootstrapComponents=Fa(a.bootstrap),this._r3Injector=Qg(r,s,[{provide:Cf,useValue:this},{provide:Fu,useValue:this.componentFactoryResolver}],Y(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class r_ extends Jv{constructor(r){super(),this.moduleType=r}create(r){return new Xv(this.moduleType,r)}}class Jb extends Cf{constructor(r,s,a){super(),this.componentFactoryResolver=new Ms(this),this.instance=null;const c=new kf([...r,{provide:Cf,useValue:this},{provide:Fu,useValue:this.componentFactoryResolver}],s||qc(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function i_(t,r,s=null){return new Jb(t,r,s).injector}function a0(t,r,s){const a=L()+t,c=Lt();return c[a]===Gr?ol(c,a,s?r.call(s):r()):Jd(c,a)}function l0(t,r,s,a){return g0(Lt(),L(),t,r,s,a)}function u0(t,r,s,a,c){return function m0(t,r,s,a,c,p,b){const D=r+s;return Zu(t,D,c,p)?ol(t,D+2,b?a.call(b,c,p):a(c,p)):Tg(t,D+2)}(Lt(),L(),t,r,s,a,c)}function c0(t,r,s,a,c,p){return function y0(t,r,s,a,c,p,b,D){const x=r+s;return function Xd(t,r,s,a,c){const p=Zu(t,r,s,a);return sa(t,r+2,c)||p}(t,x,c,p,b)?ol(t,x+3,D?a.call(D,c,p,b):a(c,p,b)):Tg(t,x+3)}(Lt(),L(),t,r,s,a,c,p)}function d0(t,r,s,a,c,p,b){return function _0(t,r,s,a,c,p,b,D,x){const z=r+s;return Sa(t,z,c,p,b,D)?ol(t,z+4,x?a.call(x,c,p,b,D):a(c,p,b,D)):Tg(t,z+4)}(Lt(),L(),t,r,s,a,c,p,b)}function h0(t,r,s,a,c,p,b,D){const x=L()+t,z=Lt(),ae=Sa(z,x,s,a,c,p);return sa(z,x+4,b)||ae?ol(z,x+5,D?r.call(D,s,a,c,p,b):r(s,a,c,p,b)):Jd(z,x+5)}function f0(t,r,s,a,c,p,b,D,x){const z=L()+t,ae=Lt(),be=Sa(ae,z,s,a,c,p);return Zu(ae,z+4,b,D)||be?ol(ae,z+6,x?r.call(x,s,a,c,p,b,D):r(s,a,c,p,b,D)):Jd(ae,z+6)}function p0(t,r,s,a){return function v0(t,r,s,a,c,p){let b=r+s,D=!1;for(let x=0;x<c.length;x++)sa(t,b++,c[x])&&(D=!0);return D?ol(t,b,a.apply(p,c)):Tg(t,b)}(Lt(),L(),t,r,s,a)}function Tg(t,r){const s=t[r];return s===Gr?void 0:s}function g0(t,r,s,a,c,p){const b=r+s;return sa(t,b,c)?ol(t,b+1,p?a.call(p,c):a(c)):Tg(t,b+1)}function E0(t,r){const s=or();let a;const c=t+22;s.firstCreatePass?(a=function dw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const p=a.factory||(a.factory=Zi(a.type)),b=vn(Gu);try{const D=Jn(!1),x=p();return Jn(D),function df(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Lt(),c,x),x}finally{vn(b)}}function b0(t,r,s){const a=t+22,c=Lt(),p=Jr(c,a);return function Dg(t,r){return t[1].data[r].pure}(c,a)?g0(c,L(),r,p.transform,s,p):p.transform(s)}function o_(t){return r=>{setTimeout(t,void 0,r)}}const nc=class mw extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,p=s||(()=>null),b=a;if(r&&"object"==typeof r){const x=r;c=x.next?.bind(x),p=x.error?.bind(x),b=x.complete?.bind(x)}this.__isAsync&&(p=o_(p),c&&(c=o_(c)),b&&(b=o_(b)));const D=super.subscribe({next:c,error:p,complete:b});return r instanceof u.w0&&r.add(D),D}};function yw(){return this._results[Mc()]()}class a_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Mc(),a=a_.prototype;a[s]||(a[s]=yw)}get changes(){return this._changes||(this._changes=new nc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Xi(r);(this._changesDetected=!function Ya(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],p=r[a];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sg=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ew,t})();const _w=Sg,vw=class extends _w{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=ad(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(c[19]=b.createEmbeddedView(a)),ud(a,c,r),new _u(c)}};function Ew(){return Xm(ri(),Lt())}function Xm(t,r){return 4&t.type?new vw(r,t,Jl(t,r)):null}let ey=(()=>{class t{}return t.__NG_ELEMENT_ID__=bw,t})();function bw(){return C0(ri(),Lt())}const ww=ey,w0=class extends ww{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){const r=pa(this._hostTNode,this._hostLView);if(Kt(r)){const s=Fs(r,this._hostLView),a=Ni(r);return new hr(s[1].data[a+8],s)}return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=I0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,p;"number"==typeof a?c=a:null!=a&&(c=a.index,p=a.injector);const b=r.createEmbeddedView(s||{},p);return this.insert(b,c),b}createComponent(r,s,a,c,p){const b=r&&!function ma(t){return"function"==typeof t}(r);let D;if(b)D=s;else{const be=s||{};D=be.index,a=be.injector,c=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const x=b?r:new Qd(Ce(r)),z=a||this.parentInjector;if(!p&&null==x.ngModule){const Qe=(b?z:this.parentInjector).get(du,null);Qe&&(p=Qe)}const ae=x.create(z,c,void 0,p);return this.insert(ae.hostView,D),ae}insert(r,s){const a=r._lView,c=a[1];if(function U(t){return $t(t[3])}(a)){const ae=this.indexOf(r);if(-1!==ae)this.detach(ae);else{const be=a[3],Qe=new w0(be,be[6],be[3]);Qe.detach(Qe.indexOf(r))}}const p=this._adjustIndex(s),b=this._lContainer;!function Fh(t,r,s,a){const c=10+a,p=s.length;a>0&&(s[c-1][4]=r),a<p-10?(r[4]=s[c],Gi(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const b=r[17];null!==b&&s!==b&&function Vh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(b,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(c,a,b,p);const D=Bl(p,b),x=a[11],z=Bn(x,b[7]);return null!==z&&function Lh(t,r,s,a,c,p){a[0]=c,a[6]=r,Ca(t,a,s,1,c,p)}(c,b[6],x,a,z,D),r.attachToViewContainerRef(),Gi(l_(b),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=I0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=nd(this._lContainer,s);a&&(T(l_(this._lContainer),s),E(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=nd(this._lContainer,s);return a&&null!=T(l_(this._lContainer),s)?new _u(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function I0(t){return t[8]}function l_(t){return t[8]||(t[8]=[])}function C0(t,r){let s;const a=r[t.index];if($t(a))s=a;else{let c;if(8&t.type)c=yt(a);else{const p=r[11];c=p.createComment("");const b=Un(t,r);ye(p,Bn(p,b),c,function ii(t,r){return t.nextSibling(r)}(p,b),!1)}r[t.index]=s=nf(a,r,c,t),rf(r,s)}return new w0(s,t,r)}class u_{constructor(r){this.queryList=r,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class c_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let p=0;p<a;p++){const b=s.getByIndex(p);c.push(this.queries[b.indexInDeclarationView].clone())}return new c_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==R0(r,s).matches&&this.queries[s].setDirty()}}class T0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class d_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new d_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class h_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new h_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,s,Tw(s,p)),this.matchTNodeWithReadOption(r,s,Ss(s,r,p,!1,!1))}else a===Sg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ss(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Vu||c===ey||c===Sg&&4&s.type)this.addMatch(s.index,-2);else{const p=Ss(s,r,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Tw(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Sw(t,r,s,a){return-1===s?function Dw(t,r){return 11&t.type?Jl(t,r):4&t.type?Xm(t,r):null}(r,t):-2===s?function Aw(t,r,s){return s===Vu?Jl(r,t):s===Sg?Xm(r,t):s===ey?C0(r,t):void 0}(t,r,a):To(t,t[1],s,r)}function D0(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const p=t.data,b=s.matches,D=[];for(let x=0;x<b.length;x+=2){const z=b[x];D.push(z<0?null:Sw(r,p[z],b[x+1],s.metadata.read))}c.matches=D}return c.matches}function f_(t,r,s,a){const c=t.queries.getByIndex(s),p=c.matches;if(null!==p){const b=D0(t,r,c,s);for(let D=0;D<p.length;D+=2){const x=p[D];if(x>0)a.push(b[D/2]);else{const z=p[D+1],ae=r[-x];for(let be=10;be<ae.length;be++){const Qe=ae[be];Qe[17]===Qe[3]&&f_(Qe[1],Qe,z,a)}if(null!==ae[9]){const be=ae[9];for(let Qe=0;Qe<be.length;Qe++){const mt=be[Qe];f_(mt[1],mt,z,a)}}}}}return a}function S0(t){const r=Lt(),s=or(),a=ll();jo(a+1);const c=R0(s,a);if(t.dirty&&F(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const p=c.crossesNgTemplate?f_(s,r,a,[]):D0(s,r,c,a);t.reset(p,El),t.notifyOnChanges()}return!0}return!1}function A0(t,r,s){const a=or();a.firstCreatePass&&(P0(a,new T0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),O0(a,Lt(),r)}function M0(t,r,s,a){const c=or();if(c.firstCreatePass){const p=ri();P0(c,new T0(r,s,a),p.index),function xw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}O0(c,Lt(),s)}function x0(){return function Mw(t,r){return t[19].queries[r].queryList}(Lt(),ll())}function O0(t,r,s){const a=new a_(4==(4&s));Np(t,r,a,a.destroy),null===r[19]&&(r[19]=new c_),r[19].queries.push(new u_(a))}function P0(t,r,s){null===t.queries&&(t.queries=new d_),t.queries.track(new h_(r,s))}function R0(t,r){return t.queries.getByIndex(r)}function N0(t,r){return Xm(t,r)}function Df(t){const r=Ce(t)||De(t)||wt(t);return null!==r&&r.standalone}function ny(...t){}const X0=new Kr("Application Initializer");let ry=(()=>{class t{constructor(s){this.appInits=s,this.resolve=ny,this.reject=ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(hg(p))s.push(p);else if(Nm(p)){const b=new Promise((D,x)=>{p.subscribe({complete:D,error:x})});s.push(b)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(H(X0,8))},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eE=new Kr("AppId",{providedIn:"root",factory:function tE(){return`${__()}${__()}${__()}`}});function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Kr("Platform Initializer"),Yw=new Kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new Kr("appBootstrapListener"),Qw=new Kr("AnimationModuleType");let Jw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const iy=new Kr("LocaleId",{providedIn:"root",factory:()=>Te(iy,rn.Optional|rn.SkipSelf)||function Xw(){return typeof $localize<"u"&&$localize.locale||wf}()}),eI=new Kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let nI=(()=>{class t{compileModuleSync(s){return new r_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=Fa(Vt(s).declarations).reduce((b,D)=>{const x=Ce(D);return x&&b.push(new Qd(x)),b},[]);return new tI(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sI=(()=>Promise.resolve(0))();function v_(t){typeof Zone>"u"?sI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Wl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function oI(){let t=Yt.requestAnimationFrame,r=Yt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uI(t){const r=()=>{!function lI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,p,b,D)=>{try{return oE(t),s.invokeTask(c,p,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&r(),aE(t)}},onInvoke:(s,a,c,p,b,D,x)=>{try{return oE(t),s.invoke(c,p,b,D,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),aE(t)}},onHasTask:(s,a,c,p)=>{s.hasTask(c,p),a===c&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,b_(t),E_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,c,p)=>(s.handleError(c,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wl.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Wl.isInAngularZone())throw new Xe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+c,r,aI,ny,ny);try{return p.runTask(b,s,a)}finally{p.cancelTask(b)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const aI={};function E_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,E_(t)}class cI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const lE=new Kr(""),uE=new Kr("");let w_,dI=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w_||(function hI(t){w_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wl.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(H(Wl),H(cE),H(uE))},t.\u0275prov=yn({token:t,factory:t.\u0275fac}),t})(),cE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return w_?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),_d=null;const dE=new Kr("AllowMultipleToken"),I_=new Kr("PlatformDestroyListeners");class gI{constructor(r,s){this.name=r,this.token=s}}function fE(t,r,s=[]){const a=`Platform: ${r}`,c=new Kr(a);return(p=[])=>{let b=C_();if(!b||b.injector.get(dE,!1)){const D=[...s,...p,{provide:c,useValue:!0}];t?t(D):function mI(t){if(_d&&!_d.get(dE,!1))throw new Xe(400,!1);_d=t;const r=t.get(gE);(function hE(t){const r=t.get(nE,null);r&&r.forEach(s=>s())})(t)}(function pE(t=[],r){return Tc.create({name:r,providers:[{provide:Gc,useValue:"platform"},{provide:I_,useValue:new Set([()=>_d=null])},...t]})}(D,a))}return function _I(t){const r=C_();if(!r)throw new Xe(401,!1);return r}()}}function C_(){return _d?.get(gE)??null}let gE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function vI(t,r){let s;return s="noop"===t?new cI:("zone.js"===t?void 0:t)||new Wl(r),s}(a?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),p=[{provide:Wl,useValue:c}];return c.run(()=>{const b=Tc.create({providers:p,parent:this.injector,name:s.moduleType.name}),D=s.create(b),x=D.injector.get(tl,null);if(!x)throw new Xe(402,!1);return c.runOutsideAngular(()=>{const z=c.onError.subscribe({next:ae=>{x.handleError(ae)}});D.onDestroy(()=>{oy(this._modules,D),z.unsubscribe()})}),function yE(t,r,s){try{const a=s();return hg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(x,c,()=>{const z=D.injector.get(ry);return z.runInitializers(),z.donePromise.then(()=>(function Dv(t){bt(t,"Expected localeId to be defined"),"string"==typeof t&&(Tv=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(iy,wf)||wf),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const c=_E({},a);return function fI(t,r,s){const a=new r_(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const a=s.injector.get(sy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Xe(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(I_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(H(Tc))},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _E(t,r){return Array.isArray(r)?r.reduce(_E,t):{...t,...r}}let sy=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new k.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Wl.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Wl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),z.unsubscribe()}});this.isStable=(0,fe.T)(p,b.pipe((0,W.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Lu;if(!this._injector.get(ry).done)throw!c&&Df(s),new Xe(405,false);let b;b=c?s:this._injector.get(Fu).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const D=function pI(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Cf),z=b.create(Tc.NULL,[],a||b.selector,D),ae=z.location.nativeElement,be=z.injector.get(lE,null);return be?.registerApplication(ae),z.onDestroy(()=>{this.detachView(z.hostView),oy(this.components,z),be?.unregisterApplication(ae)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;oy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(rE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>oy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Xe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(H(Wl),H(du),H(tl))},t.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let EE=!0,bE=!1;function bI(){return bE=!0,EE}function wI(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");EE=!1}let II=(()=>{class t{}return t.__NG_ELEMENT_ID__=CI,t})();function CI(t){return function TI(t,r,s){if(_e(t)&&!s){const a=Nr(t.index,r);return new _u(a,a)}return 47&t.type?new _u(r[16],r):null}(ri(),Lt(),16==(16&t))}class TE{constructor(){}supports(r){return hd(r)}create(r){return new OI(r)}}const xI=(t,r)=>r;class OI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,p=null;for(;s||a;){const b=!a||s&&s.currentIndex<SE(a,c,p)?s:a,D=SE(b,c,p),x=b.currentIndex;if(b===a)c--,a=a._nextRemoved;else if(s=s._next,null==b.previousIndex)c++;else{p||(p=[]);const z=D-c,ae=x-c;if(z!=ae){for(let Qe=0;Qe<z;Qe++){const mt=Qe<p.length?p[Qe]:p[Qe]=0,Ht=mt+Qe;ae<=Ht&&Ht<z&&(p[Qe]=mt+1)}p[b.previousIndex]=ae-z}}D!==x&&r(b,D,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!hd(r))throw new Xe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,b,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)p=r[D],b=this._trackByFn(D,p),null!==s&&Object.is(s.trackById,b)?(a&&(s=this._verifyReinsertion(s,p,b,D)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,b,D),a=!0),s=s._next}else c=0,function rv(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Mc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{b=this._trackByFn(c,D),null!==s&&Object.is(s.trackById,b)?(a&&(s=this._verifyReinsertion(s,D,b,c)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,b,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,c)):r=this._addAfter(new PI(s,a),p,c),r}_verifyReinsertion(r,s,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class PI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class DE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new RI,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class AE{constructor(){}supports(r){return r instanceof Map||ru(r)}create(){return new NI}}class NI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ru(r)))throw new Xe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const p=c._prev,b=c._next;return p&&(p._next=b),b&&(b._prev=p),c._next=null,c._prev=null,c}const a=new kI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class kI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ME(){return new M_([new TE])}let M_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ME()),deps:[[t,new _r,new Kn]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Xe(901,!1)}}return t.\u0275prov=yn({token:t,providedIn:"root",factory:ME}),t})();function xE(){return new x_([new AE])}let x_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||xE()),deps:[[t,new _r,new Kn]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Xe(901,!1)}}return t.\u0275prov=yn({token:t,providedIn:"root",factory:xE}),t})();const VI=fE(null,"core",[]);let UI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(H(sy))},t.\u0275mod=zt({type:t}),t.\u0275inj=bn({}),t})();function BI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(jt,Ke,M)=>{M.d(Ke,{Fj:()=>Je,qu:()=>Di,u:()=>Ys,sg:()=>$i,u5:()=>hs,qQ:()=>re,JU:()=>Xe,a5:()=>Nn,JJ:()=>Mr,JL:()=>li,On:()=>Ds,wV:()=>ms,UX:()=>ri,kI:()=>He,_Y:()=>Rs});var h=M(4650),u=M(6895),k=M(9751),fe=M(4742),W=M(8421),J=M(3269),X=M(5403),Y=M(3268),se=M(1810),ee=M(8996),pe=M(4004);let ze=(()=>{class ${constructor(O,ue){this._renderer=O,this._elementRef=ue,this.onChange=vt=>{},this.onTouched=()=>{}}setProperty(O,ue){this._renderer.setProperty(this._elementRef.nativeElement,O,ue)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(h.Qsj),h.Y36(h.SBq))},$.\u0275dir=h.lG2({type:$}),$})(),Me=(()=>{class $ extends ze{}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,features:[h.qOj]}),$})();const Xe=new h.OlP("NgValueAccessor"),Ne={provide:Xe,useExisting:(0,h.Gpc)(()=>Je),multi:!0},Bt=new h.OlP("CompositionEventMode");let Je=(()=>{class $ extends ze{constructor(O,ue,vt){super(O,ue),this._compositionMode=vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const $=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Bt,8))},$.\u0275dir=h.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ue){1&O&&h.NdJ("input",function(dn){return ue._handleInput(dn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(dn){return ue._compositionEnd(dn.target.value)})},features:[h._Bn([Ne]),h.qOj]}),$})();function Ye($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Ie($){return null!=$&&"number"==typeof $.length}const he=new h.OlP("NgValidators"),Ge=new h.OlP("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(L){return et(L)}static max(L){return function Ue($){return L=>{if(Ye(L.value)||Ye($))return null;const O=parseFloat(L.value);return!isNaN(O)&&O>$?{max:{max:$,actual:L.value}}:null}}(L)}static required(L){return function pt($){return Ye($.value)?{required:!0}:null}(L)}static requiredTrue(L){return function nt($){return!0===$.value?null:{required:!0}}(L)}static email(L){return function Ut($){return Ye($.value)||ht.test($.value)?null:{email:!0}}(L)}static minLength(L){return function lt($){return L=>Ye(L.value)||!Ie(L.value)?null:L.value.length<$?{minlength:{requiredLength:$,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Pt($){return L=>Ie(L.value)&&L.value.length>$?{maxlength:{requiredLength:$,actualLength:L.value.length}}:null}(L)}static pattern(L){return function bt($){if(!$)return at;let L,O;return"string"==typeof $?(O="","^"!==$.charAt(0)&&(O+="^"),O+=$,"$"!==$.charAt($.length-1)&&(O+="$"),L=new RegExp(O)):(O=$.toString(),L=$),ue=>{if(Ye(ue.value))return null;const vt=ue.value;return L.test(vt)?null:{pattern:{requiredPattern:O,actualValue:vt}}}}(L)}static nullValidator(L){return null}static compose(L){return zn(L)}static composeAsync(L){return pr(L)}}function et($){return L=>{if(Ye(L.value)||Ye($))return null;const O=parseFloat(L.value);return!isNaN(O)&&O<$?{min:{min:$,actual:L.value}}:null}}function at($){return null}function Rt($){return null!=$}function _n($){return(0,h.QGY)($)?(0,ee.D)($):$}function Cn($){let L={};return $.forEach(O=>{L=null!=O?{...L,...O}:L}),0===Object.keys(L).length?null:L}function yn($,L){return L.map(O=>O($))}function bn($){return $.map(L=>function En($){return!$.validate}(L)?L:O=>L.validate(O))}function zn($){if(!$)return null;const L=$.filter(Rt);return 0==L.length?null:function(O){return Cn(yn(O,L))}}function Or($){return null!=$?zn(bn($)):null}function pr($){if(!$)return null;const L=$.filter(Rt);return 0==L.length?null:function(O){return function G(...$){const L=(0,J.jO)($),{args:O,keys:ue}=(0,fe.D)($),vt=new k.y(dn=>{const{length:Ei}=O;if(!Ei)return void dn.complete();const Ri=new Array(Ei);let Qs=Ei,io=Ei;for(let so=0;so<Ei;so++){let ks=!1;(0,W.Xf)(O[so]).subscribe((0,X.x)(dn,ll=>{ks||(ks=!0,io--),Ri[so]=ll},()=>Qs--,void 0,()=>{(!Qs||!ks)&&(io||dn.next(ue?(0,se.n)(ue,Ri):Ri),dn.complete())}))}});return L?vt.pipe((0,Y.Z)(L)):vt}(yn(O,L).map(_n)).pipe((0,pe.U)(Cn))}}function nn($){return null!=$?pr(bn($)):null}function ei($,L){return null===$?[L]:Array.isArray($)?[...$,L]:[$,L]}function $n($){return $._rawValidators}function Ar($){return $._rawAsyncValidators}function nr($){return $?Array.isArray($)?$:[$]:[]}function ur($,L){return Array.isArray($)?$.includes(L):$===L}function rn($,L){const O=nr(L);return nr($).forEach(vt=>{ur(O,vt)||O.push(vt)}),O}function Qn($,L){return nr(L).filter(O=>!ur($,O))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Or(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,O){return!!this.control&&this.control.hasError(L,O)}getError(L,O){return this.control?this.control.getError(L,O):null}}class vn extends Fn{get formDirective(){return null}get path(){return null}}class Nn extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class $ extends Tr{constructor(O){super(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(Nn,2))},$.\u0275dir=h.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ue){2&O&&h.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[h.qOj]}),$})(),li=(()=>{class $ extends Tr{constructor(O){super(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(vn,10))},$.\u0275dir=h.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ue){2&O&&h.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[h.qOj]}),$})();const zt="VALID",xn="INVALID",fn="PENDING",Tn="DISABLED";function qe($){return(Vt($)?$.validators:$)||null}function Ce($){return Array.isArray($)?Or($):$||null}function De($,L){return(Vt(L)?L.asyncValidators:$)||null}function wt($){return Array.isArray($)?nn($):$||null}function Vt($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function wn($,L,O){const ue=$.controls;if(!(L?Object.keys(ue):ue).length)throw new h.vHH(1e3,"");if(!ue[O])throw new h.vHH(1001,"")}function Mt($,L,O){$._forEachChild((ue,vt)=>{if(void 0===O[vt])throw new h.vHH(1002,"")})}class sn{constructor(L,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=O,this._composedValidatorFn=Ce(this._rawValidators),this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===xn}get pending(){return this.status==fn}get disabled(){return this.status===Tn}get enabled(){return this.status!==Tn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Ce(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=wt(L)}addValidators(L){this.setValidators(rn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(rn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Qn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Qn(L,this._rawAsyncValidators))}hasValidator(L){return ur(this._rawValidators,L)}hasAsyncValidator(L){return ur(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=fn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=Tn,this.errors=null,this._forEachChild(ue=>{ue.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=zt,this._forEachChild(ue=>{ue.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===fn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tn:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=fn,this._hasOwnPendingAsyncValidator=!0;const O=_n(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,O={}){this.errors=L,this._updateControlsErrors(!1!==O.emitEvent)}get(L){let O=L;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ue,vt)=>ue&&ue._find(vt),this)}getError(L,O){const ue=O?this.get(O):this;return ue&&ue.errors?ue.errors[L]:null}hasError(L,O){return!!this.getError(L,O)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Tn:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fn)?fn:this._anyControlsHaveStatus(xn)?xn:zt}_anyControlsHaveStatus(L){return this._anyControls(O=>O.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Vt(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}}class Le extends sn{constructor(L,O,ue){super(qe(O),De(ue,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,O){return this.controls[L]?this.controls[L]:(this.controls[L]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(L,O,ue={}){this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(L,O={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(L,O,ue={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],O&&this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,O={}){Mt(this,0,L),Object.keys(L).forEach(ue=>{wn(this,!0,ue),this.controls[ue].setValue(L[ue],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(Object.keys(L).forEach(ue=>{const vt=this.controls[ue];vt&&vt.patchValue(L[ue],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L={},O={}){this._forEachChild((ue,vt)=>{ue.reset(L[vt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(L,O,ue)=>(L[ue]=O.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(O,ue)=>!!ue._syncPendingControls()||O);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(O=>{const ue=this.controls[O];ue&&L(ue,O)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[O,ue]of Object.entries(this.controls))if(this.contains(O)&&L(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ue,vt)=>((ue.enabled||this.disabled)&&(O[vt]=ue.value),O))}_reduceChildren(L,O){let ue=L;return this._forEachChild((vt,dn)=>{ue=O(ue,vt,dn)}),ue}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}function Jt($,L){return[...L.path,$]}function Wn($,L){fi($,L),L.valueAccessor.writeValue($.value),$.disabled&&L.valueAccessor.setDisabledState?.(!0),function Ki($,L){L.valueAccessor.registerOnChange(O=>{$._pendingValue=O,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Hr($,L)})}($,L),function Ai($,L){const O=(ue,vt)=>{L.valueAccessor.writeValue(ue),vt&&L.viewToModelUpdate(ue)};$.registerOnChange(O),L._registerOnDestroy(()=>{$._unregisterOnChange(O)})}($,L),function ti($,L){L.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Hr($,L),"submit"!==$.updateOn&&$.markAsTouched()})}($,L),function Br($,L){if(L.valueAccessor.setDisabledState){const O=ue=>{L.valueAccessor.setDisabledState(ue)};$.registerOnDisabledChange(O),L._registerOnDestroy(()=>{$._unregisterOnDisabledChange(O)})}}($,L)}function Vn($,L,O=!0){const ue=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(ue),L.valueAccessor.registerOnTouched(ue)),es($,L),$&&(L._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Dn($,L){$.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(L)})}function fi($,L){const O=$n($);null!==L.validator?$.setValidators(ei(O,L.validator)):"function"==typeof O&&$.setValidators([O]);const ue=Ar($);null!==L.asyncValidator?$.setAsyncValidators(ei(ue,L.asyncValidator)):"function"==typeof ue&&$.setAsyncValidators([ue]);const vt=()=>$.updateValueAndValidity();Dn(L._rawValidators,vt),Dn(L._rawAsyncValidators,vt)}function es($,L){let O=!1;if(null!==$){if(null!==L.validator){const vt=$n($);if(Array.isArray(vt)&&vt.length>0){const dn=vt.filter(Ei=>Ei!==L.validator);dn.length!==vt.length&&(O=!0,$.setValidators(dn))}}if(null!==L.asyncValidator){const vt=Ar($);if(Array.isArray(vt)&&vt.length>0){const dn=vt.filter(Ei=>Ei!==L.asyncValidator);dn.length!==vt.length&&(O=!0,$.setAsyncValidators(dn))}}}const ue=()=>{};return Dn(L._rawValidators,ue),Dn(L._rawAsyncValidators,ue),O}function Hr($,L){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Fi($,L){if(!$.hasOwnProperty("model"))return!1;const O=$.model;return!!O.isFirstChange()||!Object.is(L,O.currentValue)}function Pi($,L){if(!L)return null;let O,ue,vt;return Array.isArray(L),L.forEach(dn=>{dn.constructor===Je?O=dn:function Os($){return Object.getPrototypeOf($.constructor)===Me}(dn)?ue=dn:vt=dn}),vt||ue||O||null}function cn($,L){const O=$.indexOf(L);O>-1&&$.splice(O,1)}function _e($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ct=class extends sn{constructor(L=null,O,ue){super(qe(O),De(ue,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=_e(L)?L.value:L)}setValue(L,O={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(L,O={}){this.setValue(L,O)}reset(L=this.defaultValue,O={}){this._applyFormState(L),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){cn(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){cn(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){_e(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},ai={provide:Nn,useExisting:(0,h.Gpc)(()=>Ds)},Ps=(()=>Promise.resolve(null))();let Ds=(()=>{class $ extends Nn{constructor(O,ue,vt,dn,Ei){super(),this._changeDetectorRef=Ei,this.control=new ct,this._registered=!1,this.update=new h.vpe,this._parent=O,this._setValidators(ue),this._setAsyncValidators(vt),this.valueAccessor=Pi(0,dn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const ue=O.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Fi(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Ps.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const ue=O.isDisabled.currentValue,vt=0!==ue&&(0,h.D6c)(ue);Ps.then(()=>{vt&&!this.control.disabled?this.control.disable():!vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?Jt(O,this._parent):[O]}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(vn,9),h.Y36(he,10),h.Y36(Ge,10),h.Y36(Xe,10),h.Y36(h.sBO,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([ai]),h.qOj,h.TTD]}),$})(),Rs=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275dir=h.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const Us={provide:Xe,useExisting:(0,h.Gpc)(()=>ms),multi:!0};let ms=(()=>{class $ extends Me{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ue=>{O(""==ue?null:parseFloat(ue))}}}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ue){1&O&&h.NdJ("input",function(dn){return ue.onChange(dn.target.value)})("blur",function(){return ue.onTouched()})},features:[h._Bn([Us]),h.qOj]}),$})(),Ns=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({}),$})();const ds=new h.OlP("NgModelWithFormControlWarning"),qi={provide:vn,useExisting:(0,h.Gpc)(()=>$i)};let $i=(()=>{class $ extends vn{constructor(O,ue){super(),this.validators=O,this.asyncValidators=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(O),this._setAsyncValidators(ue)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(es(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ue=this.form.get(O.path);return Wn(ue,O),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ue}getControl(O){return this.form.get(O.path)}removeControl(O){Vn(O.control||null,O,!1),function Ze($,L){const O=$.indexOf(L);O>-1&&$.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ue){this.form.get(O.path).setValue(ue)}onSubmit(O){return this.submitted=!0,function Ci($,L){$._syncPendingControls(),L.forEach(O=>{const ue=O.control;"submit"===ue.updateOn&&ue._pendingChange&&(O.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ue=O.control,vt=this.form.get(O.path);ue!==vt&&(Vn(ue||null,O),($=>$ instanceof ct)(vt)&&(Wn(vt,O),O.control=vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ue=this.form.get(O.path);(function Qr($,L){fi($,L)})(ue,O),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ue=this.form.get(O.path);ue&&function ui($,L){return es($,L)}(ue,O)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fi(this.form,this),this._oldForm&&es(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(he,10),h.Y36(Ge,10))},$.\u0275dir=h.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(O,ue){1&O&&h.NdJ("submit",function(dn){return ue.onSubmit(dn)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([qi]),h.qOj,h.TTD]}),$})();const $s={provide:Nn,useExisting:(0,h.Gpc)(()=>Ys)};let Ys=(()=>{class $ extends Nn{constructor(O,ue,vt,dn,Ei){super(),this._ngModelWarningConfig=Ei,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ue),this._setAsyncValidators(vt),this.valueAccessor=Pi(0,dn)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),Fi(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(O){return new(O||$)(h.Y36(vn,13),h.Y36(he,10),h.Y36(Ge,10),h.Y36(Xe,10),h.Y36(ds,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([$s]),h.qOj,h.TTD]}),$})();let mr=(()=>{class ${constructor(){this._validator=at}ngOnChanges(O){if(this.inputName in O){const ue=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):at,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275dir=h.lG2({type:$,features:[h.TTD]}),$})();const F={provide:he,useExisting:(0,h.Gpc)(()=>re),multi:!0};let re=(()=>{class $ extends mr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=O=>function sr($){return"number"==typeof $?$:parseFloat($)}(O),this.createValidator=O=>et(O)}}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,ue){2&O&&h.uIk("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[h._Bn([F]),h.qOj]}),$})(),ji=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[Ns]}),$})(),hs=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[ji]}),$})(),ri=(()=>{class ${static withConfig(O){return{ngModule:$,providers:[{provide:ds,useValue:O.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[ji]}),$})();class mo extends sn{constructor(L,O,ue){super(qe(O),De(ue,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,O={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(L,O,ue={}){this.controls.splice(L,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(L,O={}){let ue=this._adjustIndex(L);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(L,O,ue={}){let vt=this._adjustIndex(L);vt<0&&(vt=0),this.controls[vt]&&this.controls[vt]._registerOnCollectionChange(()=>{}),this.controls.splice(vt,1),O&&(this.controls.splice(vt,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,O={}){Mt(this,0,L),L.forEach((ue,vt)=>{wn(this,!1,vt),this.at(vt).setValue(ue,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(L.forEach((ue,vt)=>{this.at(vt)&&this.at(vt).patchValue(ue,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L=[],O={}){this._forEachChild((ue,vt)=>{ue.reset(L[vt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((O,ue)=>!!ue._syncPendingControls()||O,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((O,ue)=>{L(O,ue)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(O=>O.enabled&&L(O))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function wo($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Di=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const O=new $;return O.useNonNullable=!0,O}group(O,ue=null){const vt=this._reduceControls(O);let dn={};return wo(ue)?dn=ue:null!==ue&&(dn.validators=ue.validator,dn.asyncValidators=ue.asyncValidator),new Le(vt,dn)}control(O,ue,vt){let dn={};return this.useNonNullable?(wo(ue)?dn=ue:(dn.validators=ue,dn.asyncValidators=vt),new ct(O,{...dn,nonNullable:!0})):new ct(O,ue,vt)}array(O,ue,vt){const dn=O.map(Ei=>this._createControl(Ei));return new mo(dn,ue,vt)}_reduceControls(O){const ue={};return Object.keys(O).forEach(vt=>{ue[vt]=this._createControl(O[vt])}),ue}_createControl(O){return O instanceof ct||O instanceof sn?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac,providedIn:ri}),$})()},1481:(jt,Ke,M)=>{M.d(Ke,{Dx:()=>li,H7:()=>Vt,b2:()=>Nn,q6:()=>rn,se:()=>pt});var h=M(6895),u=M(4650);class k extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends k{static makeCurrent(){(0,h.HT)(new fe)}onAndCancel(Re,ve,Fe){return Re.addEventListener(ve,Fe,!1),()=>{Re.removeEventListener(ve,Fe,!1)}}dispatchEvent(Re,ve){Re.dispatchEvent(ve)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,ve){return(ve=ve||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,ve){return"window"===ve?window:"document"===ve?Re:"body"===ve?Re.body:null}getBaseHref(Re){const ve=function J(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==ve?null:function Y(Le){X=X||document.createElement("a"),X.setAttribute("href",Le);const Re=X.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(ve)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,h.Mx)(document.cookie,Re)}}let X,W=null;const se=new u.OlP("TRANSITION_ID"),ee=[{provide:u.ip1,useFactory:function G(Le,Re,ve){return()=>{ve.get(u.CZH).donePromise.then(()=>{const Fe=(0,h.q)(),xt=Re.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Jt=0;Jt<xt.length;Jt++)Fe.remove(xt[Jt])})}},deps:[se,h.K0,u.zs3],multi:!0}];let ze=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Me=new u.OlP("EventManagerPlugins");let Xe=(()=>{class Le{constructor(ve,Fe){this._zone=Fe,this._eventNameToPlugin=new Map,ve.forEach(xt=>xt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Fe,xt){return this._findPluginFor(Fe).addEventListener(ve,Fe,xt)}addGlobalEventListener(ve,Fe,xt){return this._findPluginFor(Fe).addGlobalEventListener(ve,Fe,xt)}getZone(){return this._zone}_findPluginFor(ve){const Fe=this._eventNameToPlugin.get(ve);if(Fe)return Fe;const xt=this._plugins;for(let Jt=0;Jt<xt.length;Jt++){const Wn=xt[Jt];if(Wn.supports(ve))return this._eventNameToPlugin.set(ve,Wn),Wn}throw new Error(`No event manager plugin found for event ${ve}`)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Me),u.LFG(u.R0b))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class Tt{constructor(Re){this._doc=Re}addGlobalEventListener(Re,ve,Fe){const xt=(0,h.q)().getGlobalEventTarget(this._doc,Re);if(!xt)throw new Error(`Unsupported event target ${xt} for event ${ve}`);return this.addEventListener(xt,ve,Fe)}}let tt=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(ve){const Fe=new Set;ve.forEach(xt=>{this._stylesSet.has(xt)||(this._stylesSet.add(xt),Fe.add(xt))}),this.onStylesAdded(Fe)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Ne=(()=>{class Le extends tt{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Fe,xt){ve.forEach(Jt=>{const Wn=this._doc.createElement("style");Wn.textContent=Jt,xt.push(Fe.appendChild(Wn))})}addHost(ve){const Fe=[];this._addStylesToHost(this._stylesSet,ve,Fe),this._hostNodes.set(ve,Fe)}removeHost(ve){const Fe=this._hostNodes.get(ve);Fe&&Fe.forEach(Pe),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Fe,xt)=>{this._addStylesToHost(ve,xt,Fe)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(Pe))}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function Pe(Le){(0,h.q)().remove(Le)}const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g;function He(Le,Re,ve){for(let Fe=0;Fe<Re.length;Fe++){let xt=Re[Fe];Array.isArray(xt)?He(Le,xt,ve):(xt=xt.replace(Je,Le),ve.push(xt))}return ve}function et(Le){return Re=>{if("__ngUnwrap__"===Re)return Le;!1===Le(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let pt=(()=>{class Le{constructor(ve,Fe,xt){this.eventManager=ve,this.sharedStylesHost=Fe,this.appId=xt,this.rendererByCompId=new Map,this.defaultRenderer=new nt(ve)}createRenderer(ve,Fe){if(!ve||!Fe)return this.defaultRenderer;switch(Fe.encapsulation){case u.ifc.Emulated:{let xt=this.rendererByCompId.get(Fe.id);return xt||(xt=new bt(this.eventManager,this.sharedStylesHost,Fe,this.appId),this.rendererByCompId.set(Fe.id,xt)),xt.applyToHost(ve),xt}case 1:case u.ifc.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,ve,Fe);default:if(!this.rendererByCompId.has(Fe.id)){const xt=He(Fe.id,Fe.styles,[]);this.sharedStylesHost.addStyles(xt),this.rendererByCompId.set(Fe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Xe),u.LFG(Ne),u.LFG(u.AFp))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class nt{constructor(Re){this.eventManager=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,ve){return ve?document.createElementNS(Bt[ve]||ve,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,ve){(Pt(Re)?Re.content:Re).appendChild(ve)}insertBefore(Re,ve,Fe){Re&&(Pt(Re)?Re.content:Re).insertBefore(ve,Fe)}removeChild(Re,ve){Re&&Re.removeChild(ve)}selectRootElement(Re,ve){let Fe="string"==typeof Re?document.querySelector(Re):Re;if(!Fe)throw new Error(`The selector "${Re}" did not match any elements`);return ve||(Fe.textContent=""),Fe}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,ve,Fe,xt){if(xt){ve=xt+":"+ve;const Jt=Bt[xt];Jt?Re.setAttributeNS(Jt,ve,Fe):Re.setAttribute(ve,Fe)}else Re.setAttribute(ve,Fe)}removeAttribute(Re,ve,Fe){if(Fe){const xt=Bt[Fe];xt?Re.removeAttributeNS(xt,ve):Re.removeAttribute(`${Fe}:${ve}`)}else Re.removeAttribute(ve)}addClass(Re,ve){Re.classList.add(ve)}removeClass(Re,ve){Re.classList.remove(ve)}setStyle(Re,ve,Fe,xt){xt&(u.JOm.DashCase|u.JOm.Important)?Re.style.setProperty(ve,Fe,xt&u.JOm.Important?"important":""):Re.style[ve]=Fe}removeStyle(Re,ve,Fe){Fe&u.JOm.DashCase?Re.style.removeProperty(ve):Re.style[ve]=""}setProperty(Re,ve,Fe){Re[ve]=Fe}setValue(Re,ve){Re.nodeValue=ve}listen(Re,ve,Fe){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,ve,et(Fe)):this.eventManager.addEventListener(Re,ve,et(Fe))}}function Pt(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class bt extends nt{constructor(Re,ve,Fe,xt){super(Re),this.component=Fe;const Jt=He(xt+"-"+Fe.id,Fe.styles,[]);ve.addStyles(Jt),this.contentAttr=function Ge(Le){return"_ngcontent-%COMP%".replace(Je,Le)}(xt+"-"+Fe.id),this.hostAttr=function ht(Le){return"_nghost-%COMP%".replace(Je,Le)}(xt+"-"+Fe.id)}applyToHost(Re){super.setAttribute(Re,this.hostAttr,"")}createElement(Re,ve){const Fe=super.createElement(Re,ve);return super.setAttribute(Fe,this.contentAttr,""),Fe}}class at extends nt{constructor(Re,ve,Fe,xt){super(Re),this.sharedStylesHost=ve,this.hostEl=Fe,this.shadowRoot=Fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=He(xt.id,xt.styles,[]);for(let Wn=0;Wn<Jt.length;Wn++){const Vn=document.createElement("style");Vn.textContent=Jt[Wn],this.shadowRoot.appendChild(Vn)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Re,ve){return super.appendChild(this.nodeOrShadowRoot(Re),ve)}insertBefore(Re,ve,Fe){return super.insertBefore(this.nodeOrShadowRoot(Re),ve,Fe)}removeChild(Re,ve){return super.removeChild(this.nodeOrShadowRoot(Re),ve)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}}let Rt=(()=>{class Le extends Tt{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Fe,xt){return ve.addEventListener(Fe,xt,!1),()=>this.removeEventListener(ve,Fe,xt)}removeEventListener(ve,Fe,xt){return ve.removeEventListener(Fe,xt)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const _n=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let zn=(()=>{class Le extends Tt{constructor(ve){super(ve)}supports(ve){return null!=Le.parseEventName(ve)}addEventListener(ve,Fe,xt){const Jt=Le.parseEventName(Fe),Wn=Le.eventCallback(Jt.fullKey,xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(ve,Jt.domEventName,Wn))}static parseEventName(ve){const Fe=ve.toLowerCase().split("."),xt=Fe.shift();if(0===Fe.length||"keydown"!==xt&&"keyup"!==xt)return null;const Jt=Le._normalizeKey(Fe.pop());let Wn="";if(_n.forEach(Dn=>{const Br=Fe.indexOf(Dn);Br>-1&&(Fe.splice(Br,1),Wn+=Dn+".")}),Wn+=Jt,0!=Fe.length||0===Jt.length)return null;const Vn={};return Vn.domEventName=xt,Vn.fullKey=Wn,Vn}static getEventFullKey(ve){let Fe="",xt=function Or(Le){let Re=Le.key;if(null==Re){if(Re=Le.keyIdentifier,null==Re)return"Unidentified";Re.startsWith("U+")&&(Re=String.fromCharCode(parseInt(Re.substring(2),16)),3===Le.location&&En.hasOwnProperty(Re)&&(Re=En[Re]))}return yn[Re]||Re}(ve);return xt=xt.toLowerCase()," "===xt?xt="space":"."===xt&&(xt="dot"),_n.forEach(Jt=>{Jt!=xt&&(0,bn[Jt])(ve)&&(Fe+=Jt+".")}),Fe+=xt,Fe}static eventCallback(ve,Fe,xt){return Jt=>{Le.getEventFullKey(Jt)===ve&&xt.runGuarded(()=>Fe(Jt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const rn=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:h.bD},{provide:u.g9A,useValue:function $n(){fe.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function nr(){return(0,u.RDi)(document),document},deps:[]}]),Qn=new u.OlP(""),Fn=[{provide:u.rWj,useClass:class pe{addToWindow(Re){u.dqk.getAngularTestability=(Fe,xt=!0)=>{const Jt=Re.findTestabilityInTree(Fe,xt);if(null==Jt)throw new Error("Could not find testability for element.");return Jt},u.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(Fe=>{const xt=u.dqk.getAllAngularTestabilities();let Jt=xt.length,Wn=!1;const Vn=function(Dn){Wn=Wn||Dn,Jt--,0==Jt&&Fe(Wn)};xt.forEach(function(Dn){Dn.whenStable(Vn)})})}findTestabilityInTree(Re,ve,Fe){return null==ve?null:Re.getTestability(ve)??(Fe?(0,h.q)().isShadowRoot(ve)?this.findTestabilityInTree(Re,ve.host,!0):this.findTestabilityInTree(Re,ve.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],vn=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ar(){return new u.qLn},deps:[]},{provide:Me,useClass:Rt,multi:!0,deps:[h.K0,u.R0b,u.Lbi]},{provide:Me,useClass:zn,multi:!0,deps:[h.K0]},{provide:pt,useClass:pt,deps:[Xe,Ne,u.AFp]},{provide:u.FYo,useExisting:pt},{provide:tt,useExisting:Ne},{provide:Ne,useClass:Ne,deps:[h.K0]},{provide:Xe,useClass:Xe,deps:[Me,u.R0b]},{provide:h.JF,useClass:ze,deps:[]},[]];let Nn=(()=>{class Le{constructor(ve){}static withServerTransition(ve){return{ngModule:Le,providers:[{provide:u.AFp,useValue:ve.appId},{provide:se,useExisting:u.AFp},ee]}}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Qn,12))},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[...vn,...Fn],imports:[h.ez,u.hGG]}),Le})(),li=(()=>{class Le{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new ve:function Mr(){return new li((0,u.LFG)(h.K0))}(),Fe},providedIn:"root"}),Le})();typeof window<"u"&&window;let Vt=(()=>{class Le{}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new(ve||Le):u.LFG(Mt),Fe},providedIn:"root"}),Le})(),Mt=(()=>{class Le extends Vt{constructor(ve){super(),this._doc=ve}sanitize(ve,Fe){if(null==Fe)return null;switch(ve){case u.q3G.NONE:return Fe;case u.q3G.HTML:return(0,u.qzn)(Fe,"HTML")?(0,u.z3N)(Fe):(0,u.EiD)(this._doc,String(Fe)).toString();case u.q3G.STYLE:return(0,u.qzn)(Fe,"Style")?(0,u.z3N)(Fe):Fe;case u.q3G.SCRIPT:if((0,u.qzn)(Fe,"Script"))return(0,u.z3N)(Fe);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(Fe,"URL")?(0,u.z3N)(Fe):(0,u.mCW)(String(Fe));case u.q3G.RESOURCE_URL:if((0,u.qzn)(Fe,"ResourceURL"))return(0,u.z3N)(Fe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ve){return(0,u.JVY)(ve)}bypassSecurityTrustStyle(ve){return(0,u.L6k)(ve)}bypassSecurityTrustScript(ve){return(0,u.eBb)(ve)}bypassSecurityTrustUrl(ve){return(0,u.LAX)(ve)}bypassSecurityTrustResourceUrl(ve){return(0,u.pB0)(ve)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new ve:function wn(Le){return new Mt(Le.get(h.K0))}(u.LFG(u.zs3)),Fe},providedIn:"root"}),Le})()},1441:(jt,Ke,M)=>{M.d(Ke,{gz:()=>ys,F0:()=>Ui,Od:()=>di,yS:()=>To,Bz:()=>Js,lC:()=>gn});var h=M(4650),u=M(9751),k=M(4742),fe=M(8996),W=M(4671),J=M(3268),X=M(3269),Y=M(1810),se=M(5403),G=M(9672);function ee(...T){const C=(0,X.yG)(T),w=(0,X.jO)(T),{args:P,keys:B}=(0,k.D)(T);if(0===P.length)return(0,fe.D)([],C);const ie=new u.y(function pe(T,C,w=W.y){return P=>{ze(C,()=>{const{length:B}=T,ie=new Array(B);let Ee=B,Ae=B;for(let Et=0;Et<B;Et++)ze(C,()=>{const on=(0,fe.D)(T[Et],C);let Mn=!1;on.subscribe((0,se.x)(P,Pn=>{ie[Et]=Pn,Mn||(Mn=!0,Ae--),Ae||P.next(w(ie.slice()))},()=>{--Ee||P.complete()}))},P)},P)}}(P,C,B?Ee=>(0,Y.n)(B,Ee):W.y));return w?ie.pipe((0,J.Z)(w)):ie}function ze(T,C,w){T?(0,G.f)(w,T,C):C()}var Me=M(9646),Xe=M(1135),Tt=M(7272),tt=M(9770),Ne=M(9635),Pe=M(2843),Bt=M(6805),Je=M(515),de=M(4033),Ye=M(7579),Ie=M(6895),he=M(8421),Ge=M(4482);function ht(T){return(0,Ge.e)((C,w)=>{let ie,P=null,B=!1;P=C.subscribe((0,se.x)(w,void 0,void 0,Ee=>{ie=(0,he.Xf)(T(Ee,ht(T)(C))),P?(P.unsubscribe(),P=null,ie.subscribe(w)):B=!0})),B&&(P.unsubscribe(),P=null,ie.subscribe(w))})}function et(T){return(0,Ge.e)((C,w)=>{try{C.subscribe(w)}finally{w.add(T)}})}var Ue=M(4004),pt=M(3900),nt=M(5698),Ut=M(8675),lt=M(9300),Pt=M(5577),bt=M(590),at=M(4351),Rt=M(8505),_n=M(5026),Cn=M(3103),yn=M(6590),En=M(2035),bn=M(9718),zn=M(8343),Or=M(8189),pr=M(1481);const nn="primary";class ei{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w[0]:w}return null}getAll(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function $n(T){return new ei(T)}function Ar(T,C,w){const P=w.path.split("/");if(P.length>T.length||"full"===w.pathMatch&&(C.hasChildren()||P.length<T.length))return null;const B={};for(let ie=0;ie<P.length;ie++){const Ee=P[ie],Ae=T[ie];if(Ee.startsWith(":"))B[Ee.substring(1)]=Ae;else if(Ee!==Ae.path)return null}return{consumed:T.slice(0,P.length),posParams:B}}function ur(T,C){const w=T?Object.keys(T):void 0,P=C?Object.keys(C):void 0;if(!w||!P||w.length!=P.length)return!1;let B;for(let ie=0;ie<w.length;ie++)if(B=w[ie],!rn(T[B],C[B]))return!1;return!0}function rn(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const w=[...T].sort(),P=[...C].sort();return w.every((B,ie)=>P[ie]===B)}return T===C}function Qn(T){return Array.prototype.concat.apply([],T)}function Fn(T){return T.length>0?T[T.length-1]:null}function Nn(T,C){for(const w in T)T.hasOwnProperty(w)&&C(T[w],w)}function Tr(T){return(0,h.CqO)(T)?T:(0,h.QGY)(T)?(0,fe.D)(Promise.resolve(T)):(0,Me.of)(T)}const Mr={exact:function en(T,C,w){if(!Oe(T.segments,C.segments)||!Pr(T.segments,C.segments,w)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const P in C.children)if(!T.children[P]||!en(T.children[P],C.children[P],w))return!1;return!0},subset:Ur},li={exact:function Yt(T,C){return ur(T,C)},subset:function zr(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(w=>rn(T[w],C[w]))},ignored:()=>!0};function kn(T,C,w){return Mr[w.paths](T.root,C.root,w.matrixParams)&&li[w.queryParams](T.queryParams,C.queryParams)&&!("exact"===w.fragment&&T.fragment!==C.fragment)}function Ur(T,C,w){return An(T,C,C.segments,w)}function An(T,C,w,P){if(T.segments.length>w.length){const B=T.segments.slice(0,w.length);return!(!Oe(B,w)||C.hasChildren()||!Pr(B,w,P))}if(T.segments.length===w.length){if(!Oe(T.segments,w)||!Pr(T.segments,w,P))return!1;for(const B in C.children)if(!T.children[B]||!Ur(T.children[B],C.children[B],P))return!1;return!0}{const B=w.slice(0,T.segments.length),ie=w.slice(T.segments.length);return!!(Oe(T.segments,B)&&Pr(T.segments,B,P)&&T.children[nn])&&An(T.children[nn],C,ie,P)}}function Pr(T,C,w){return C.every((P,B)=>li[w](T[B].parameters,P.parameters))}class cr{constructor(C,w,P){this.root=C,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return K.serialize(this)}}class Qt{constructor(C,w){this.segments=C,this.children=w,this.parent=null,Nn(w,(P,B)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Se(this)}}class jn{constructor(C,w){this.path=C,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return De(this)}}function Oe(T,C){return T.length===C.length&&T.every((w,P)=>w.path===C[P].path)}class le{}class V{parse(C){const w=new Fe(C);return new cr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(C){const w=`/${ot(C.root,!0)}`,P=function Vt(T){const C=Object.keys(T).map(w=>{const P=T[w];return Array.isArray(P)?P.map(B=>`${xn(w)}=${xn(B)}`).join("&"):`${xn(w)}=${xn(P)}`}).filter(w=>!!w);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${w}${P}${"string"==typeof C.fragment?`#${function fn(T){return encodeURI(T)}(C.fragment)}`:""}`}}const K=new V;function Se(T){return T.segments.map(C=>De(C)).join("/")}function ot(T,C){if(!T.hasChildren())return Se(T);if(C){const w=T.children[nn]?ot(T.children[nn],!1):"",P=[];return Nn(T.children,(B,ie)=>{ie!==nn&&P.push(`${ie}:${ot(B,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function ke(T,C){let w=[];return Nn(T.children,(P,B)=>{B===nn&&(w=w.concat(C(P,B)))}),Nn(T.children,(P,B)=>{B!==nn&&(w=w.concat(C(P,B)))}),w}(T,(P,B)=>B===nn?[ot(T.children[nn],!1)]:[`${B}:${ot(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[nn]?`${Se(T)}/${w[0]}`:`${Se(T)}/(${w.join("//")})`}}function zt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(T){return zt(T).replace(/%3B/gi,";")}function Tn(T){return zt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(T){return decodeURIComponent(T)}function Ce(T){return qe(T.replace(/\+/g,"%20"))}function De(T){return`${Tn(T.path)}${function wt(T){return Object.keys(T).map(C=>`;${Tn(C)}=${Tn(T[C])}`).join("")}(T.parameters)}`}const wn=/^[^\/()?;=#]+/;function Mt(T){const C=T.match(wn);return C?C[0]:""}const sn=/^[^=?&#]+/,Re=/^[^&#]+/;class Fe{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(C.length>0||Object.keys(w).length>0)&&(P[nn]=new Qt(C,w)),P}parseSegment(){const C=Mt(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(C),new jn(qe(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const w=Mt(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const B=Mt(this.remaining);B&&(P=B,this.capture(P))}C[qe(w)]=qe(P)}parseQueryParam(C){const w=function Le(T){const C=T.match(sn);return C?C[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const Ee=function ve(T){const C=T.match(Re);return C?C[0]:""}(this.remaining);Ee&&(P=Ee,this.capture(P))}const B=Ce(w),ie=Ce(P);if(C.hasOwnProperty(B)){let Ee=C[B];Array.isArray(Ee)||(Ee=[Ee],C[B]=Ee),Ee.push(ie)}else C[B]=ie}parseParens(C){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Mt(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new h.vHH(4010,!1);let ie;P.indexOf(":")>-1?(ie=P.slice(0,P.indexOf(":")),this.capture(ie),this.capture(":")):C&&(ie=nn);const Ee=this.parseChildren();w[ie]=1===Object.keys(Ee).length?Ee[nn]:new Qt([],Ee),this.consumeOptional("//")}return w}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new h.vHH(4011,!1)}}function xt(T){return T.segments.length>0?new Qt([],{[nn]:T}):T}function Jt(T){const C={};for(const P of Object.keys(T.children)){const ie=Jt(T.children[P]);(ie.segments.length>0||ie.hasChildren())&&(C[P]=ie)}return function Wn(T){if(1===T.numberOfChildren&&T.children[nn]){const C=T.children[nn];return new Qt(T.segments.concat(C.segments),C.children)}return T}(new Qt(T.segments,C))}function Vn(T){return T instanceof cr}function Ki(T,C,w,P,B){if(0===w.length)return Ai(C.root,C.root,C.root,P,B);const ie=function pi(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new ui(!0,0,T);let C=0,w=!1;const P=T.reduce((B,ie,Ee)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Ae={};return Nn(ie.outlets,(Et,on)=>{Ae[on]="string"==typeof Et?Et.split("/"):Et}),[...B,{outlets:Ae}]}if(ie.segmentPath)return[...B,ie.segmentPath]}return"string"!=typeof ie?[...B,ie]:0===Ee?(ie.split("/").forEach((Ae,Et)=>{0==Et&&"."===Ae||(0==Et&&""===Ae?w=!0:".."===Ae?C++:""!=Ae&&B.push(Ae))}),B):[...B,ie]},[]);return new ui(w,C,P)}(w);return ie.toRoot()?Ai(C.root,C.root,new Qt([],{}),P,B):function Ee(Et){const on=function Mi(T,C,w,P){if(T.isAbsolute)return new Rr(C.root,!0,0);if(-1===P)return new Rr(w,w===C.root,0);return function Fi(T,C,w){let P=T,B=C,ie=w;for(;ie>B;){if(ie-=B,P=P.parent,!P)throw new h.vHH(4005,!1);B=P.segments.length}return new Rr(P,!1,B-ie)}(w,P+(ti(T.commands[0])?0:1),T.numberOfDoubleDots)}(ie,C,T.snapshot?._urlSegment,Et),Mn=on.processChildren?Pi(on.segmentGroup,on.index,ie.commands):Ci(on.segmentGroup,on.index,ie.commands);return Ai(C.root,on.segmentGroup,Mn,P,B)}(T.snapshot?._lastPathIndex)}function ti(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Hr(T){return"object"==typeof T&&null!=T&&T.outlets}function Ai(T,C,w,P,B){let Ee,ie={};P&&Nn(P,(Et,on)=>{ie[on]=Array.isArray(Et)?Et.map(Mn=>`${Mn}`):`${Et}`}),Ee=T===C?w:Qr(T,C,w);const Ae=xt(Jt(Ee));return new cr(Ae,ie,B)}function Qr(T,C,w){const P={};return Nn(T.children,(B,ie)=>{P[ie]=B===C?w:Qr(B,C,w)}),new Qt(T.segments,P)}class ui{constructor(C,w,P){if(this.isAbsolute=C,this.numberOfDoubleDots=w,this.commands=P,C&&P.length>0&&ti(P[0]))throw new h.vHH(4003,!1);const B=P.find(Hr);if(B&&B!==Fn(P))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rr{constructor(C,w,P){this.segmentGroup=C,this.processChildren=w,this.index=P}}function Ci(T,C,w){if(T||(T=new Qt([],{})),0===T.segments.length&&T.hasChildren())return Pi(T,C,w);const P=function Ze(T,C,w){let P=0,B=C;const ie={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(P>=w.length)return ie;const Ee=T.segments[B],Ae=w[P];if(Hr(Ae))break;const Et=`${Ae}`,on=P<w.length-1?w[P+1]:null;if(B>0&&void 0===Et)break;if(Et&&on&&"object"==typeof on&&void 0===on.outlets){if(!$t(Et,on,Ee))return ie;P+=2}else{if(!$t(Et,{},Ee))return ie;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(T,C,w),B=w.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const ie=new Qt(T.segments.slice(0,P.pathIndex),{});return ie.children[nn]=new Qt(T.segments.slice(P.pathIndex),T.children),Pi(ie,0,B)}return P.match&&0===B.length?new Qt(T.segments,{}):P.match&&!T.hasChildren()?$e(T,C,w):P.match?Pi(T,0,B):$e(T,C,w)}function Pi(T,C,w){if(0===w.length)return new Qt(T.segments,{});{const P=function Os(T){return Hr(T[0])?T[0].outlets:{[nn]:T}}(w),B={};return Nn(P,(ie,Ee)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(B[Ee]=Ci(T.children[Ee],C,ie))}),Nn(T.children,(ie,Ee)=>{void 0===P[Ee]&&(B[Ee]=ie)}),new Qt(T.segments,B)}}function $e(T,C,w){const P=T.segments.slice(0,C);let B=0;for(;B<w.length;){const ie=w[B];if(Hr(ie)){const Et=gt(ie.outlets);return new Qt(P,Et)}if(0===B&&ti(w[0])){P.push(new jn(T.segments[C].path,St(w[0]))),B++;continue}const Ee=Hr(ie)?ie.outlets[nn]:`${ie}`,Ae=B<w.length-1?w[B+1]:null;Ee&&Ae&&ti(Ae)?(P.push(new jn(Ee,St(Ae))),B+=2):(P.push(new jn(Ee,{})),B++)}return new Qt(P,{})}function gt(T){const C={};return Nn(T,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(C[P]=$e(new Qt([],{}),0,w))}),C}function St(T){const C={};return Nn(T,(w,P)=>C[P]=`${w}`),C}function $t(T,C,w){return T==w.path&&ur(C,w.parameters)}class cn{constructor(C,w){this.id=C,this.url=w}}class _e extends cn{constructor(C,w,P="imperative",B=null){super(C,w),this.type=0,this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ct extends cn{constructor(C,w,P){super(C,w),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class je extends cn{constructor(C,w,P,B){super(C,w),this.reason=P,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dt extends cn{constructor(C,w,P,B){super(C,w),this.error=P,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wt extends cn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends cn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends cn{constructor(C,w,P,B,ie){super(C,w),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cr extends cn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends cn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dr{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ai{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(C,w,P){this.routerEvent=C,this.position=w,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bs{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const w=this.pathFromRoot(C);return w.length>1?w[w.length-2]:null}children(C){const w=Ho(C,this._root);return w?w.children.map(P=>P.value):[]}firstChild(C){const w=Ho(C,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(C){const w=Ns(C,this._root);return w.length<2?[]:w[w.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Ns(C,this._root).map(w=>w.value)}}function Ho(T,C){if(T===C.value)return C;for(const w of C.children){const P=Ho(T,w);if(P)return P}return null}function Ns(T,C){if(T===C.value)return[C];for(const w of C.children){const P=Ns(T,w);if(P.length)return P.unshift(C),P}return[]}class cs{constructor(C,w){this.value=C,this.children=w}toString(){return`TreeNode(${this.value})`}}function xi(T){const C={};return T&&T.children.forEach(w=>C[w.value.outlet]=w),C}class go extends Bs{constructor(C,w){super(C),this.snapshot=w,_s(this,C)}toString(){return this.snapshot.toString()}}function $o(T,C){const w=function ds(T,C){const Ee=new $i([],{},{},"",{},nn,C,null,T.root,-1,{});return new Hs("",new cs(Ee,[]))}(T,C),P=new Xe.X([new jn("",{})]),B=new Xe.X({}),ie=new Xe.X({}),Ee=new Xe.X({}),Ae=new Xe.X(""),Et=new ys(P,B,Ee,Ae,ie,nn,C,w.root);return Et.snapshot=w.root,new go(new cs(Et,[]),w)}class ys{constructor(C,w,P,B,ie,Ee,Ae,Et){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=ie,this.outlet=Ee,this.component=Ae,this._futureSnapshot=Et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(C=>$n(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(C=>$n(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zi(T,C="emptyOnly"){const w=T.pathFromRoot;let P=0;if("always"!==C)for(P=w.length-1;P>=1;){const B=w[P],ie=w[P-1];if(B.routeConfig&&""===B.routeConfig.path)P--;else{if(ie.component)break;P--}}return function qi(T){return T.reduce((C,w)=>({params:{...C.params,...w.params},data:{...C.data,...w.data},resolve:{...w.data,...C.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(P))}class $i{constructor(C,w,P,B,ie,Ee,Ae,Et,on,Mn,Pn,Zr){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=ie,this.outlet=Ee,this.component=Ae,this.routeConfig=Et,this._urlSegment=on,this._lastPathIndex=Mn,this._correctedLastPathIndex=Zr??Mn,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends Bs{constructor(C,w){super(w),this.url=C,_s(this,w)}toString(){return vs(this._root)}}function _s(T,C){C.value._routerState=T,C.children.forEach(w=>_s(T,w))}function vs(T){const C=T.children.length>0?` { ${T.children.map(vs).join(", ")} } `:"";return`${T.value}${C}`}function Es(T){if(T.snapshot){const C=T.snapshot,w=T._futureSnapshot;T.snapshot=w,ur(C.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),C.fragment!==w.fragment&&T.fragment.next(w.fragment),ur(C.params,w.params)||T.params.next(w.params),function nr(T,C){if(T.length!==C.length)return!1;for(let w=0;w<T.length;++w)if(!ur(T[w],C[w]))return!1;return!0}(C.url,w.url)||T.url.next(w.url),ur(C.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function bs(T,C){const w=ur(T.params,C.params)&&function $r(T,C){return Oe(T,C)&&T.every((w,P)=>ur(w.parameters,C[P].parameters))}(T.url,C.url);return w&&!(!T.parent!=!C.parent)&&(!T.parent||bs(T.parent,C.parent))}function Ys(T,C,w){if(w&&T.shouldReuseRoute(C.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=C.value;const B=function Vr(T,C,w){return C.children.map(P=>{for(const B of w.children)if(T.shouldReuseRoute(P.value,B.value.snapshot))return Ys(T,P,B);return Ys(T,P)})}(T,C,w);return new cs(P,B)}{if(T.shouldAttach(C.value)){const ie=T.retrieve(C.value);if(null!==ie){const Ee=ie.route;return Ee.value._futureSnapshot=C.value,Ee.children=C.children.map(Ae=>Ys(T,Ae)),Ee}}const P=function si(T){return new ys(new Xe.X(T.url),new Xe.X(T.params),new Xe.X(T.queryParams),new Xe.X(T.fragment),new Xe.X(T.data),T.outlet,T.component,T)}(C.value),B=C.children.map(ie=>Ys(T,ie));return new cs(P,B)}}const te="ngNavigationCancelingError";function Z(T,C){const{redirectTo:w,navigationBehaviorOptions:P}=Vn(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,B=we(!1,0,C);return B.url=w,B.navigationBehaviorOptions=P,B}function we(T,C,w){const P=new Error("NavigationCancelingError: "+(T||""));return P[te]=!0,P.cancellationCode=C,w&&(P.url=w),P}function Ve(T){return ut(T)&&Vn(T.url)}function ut(T){return T&&T[te]}class yt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new an,this.attachRef=null}}class an{constructor(){this.contexts=new Map}onChildOutletCreated(C,w){const P=this.getOrCreateContext(C);P.outlet=w,this.contexts.set(C,P)}onChildOutletDestroyed(C){const w=this.getContext(C);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let w=this.getContext(C);return w||(w=new yt,this.contexts.set(C,w)),w}getContext(C){return this.contexts.get(C)||null}}const pn=!1;let gn=(()=>{class T{constructor(w,P,B,ie,Ee){this.parentContexts=w,this.location=P,this.changeDetector=ie,this.environmentInjector=Ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=B||nn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,pn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,pn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,pn);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new h.vHH(4013,pn);this._activatedRoute=w;const B=this.location,Ee=w._futureSnapshot.component,Ae=this.parentContexts.getOrCreateContext(this.name).children,Et=new Un(w,Ae,B.injector);if(P&&function sr(T){return!!T.resolveComponentFactory}(P)){const on=P.resolveComponentFactory(Ee);this.activated=B.createComponent(on,B.length,Et)}else this.activated=B.createComponent(Ee,{index:B.length,injector:Et,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(an),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},T.\u0275dir=h.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class Un{constructor(C,w,P){this.route=C,this.childContexts=w,this.parent=P}get(C,w){return C===ys?this.route:C===an?this.childContexts:this.parent.get(C,w)}}let mr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=h.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,P){1&w&&h._UZ(0,"router-outlet")},dependencies:[gn],encapsulation:2}),T})();function Jr(T,C){return T.providers&&!T._injector&&(T._injector=(0,h.MMx)(T.providers,C,`Route: ${T.path}`)),T._injector??C}function un(T){const C=T.children&&T.children.map(un),w=C?{...T,children:C}:{...T};return!w.component&&!w.loadComponent&&(C||w.loadChildren)&&w.outlet&&w.outlet!==nn&&(w.component=mr),w}function Zn(T){return T.outlet||nn}function jr(T,C){const w=T.filter(P=>Zn(P)===C);return w.push(...T.filter(P=>Zn(P)!==C)),w}function kr(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let C=T.parent;C;C=C.parent){const w=C.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class vi{constructor(C,w,P,B){this.routeReuseStrategy=C,this.futureState=w,this.currState=P,this.forwardEvent=B}activate(C){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,C),Es(this.futureState.root),this.activateChildRoutes(w,P,C)}deactivateChildRoutes(C,w,P){const B=xi(w);C.children.forEach(ie=>{const Ee=ie.value.outlet;this.deactivateRoutes(ie,B[Ee],P),delete B[Ee]}),Nn(B,(ie,Ee)=>{this.deactivateRouteAndItsChildren(ie,P)})}deactivateRoutes(C,w,P){const B=C.value,ie=w?w.value:null;if(B===ie)if(B.component){const Ee=P.getContext(B.outlet);Ee&&this.deactivateChildRoutes(C,w,Ee.children)}else this.deactivateChildRoutes(C,w,P);else ie&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(C,w){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,w):this.deactivateRouteAndOutlet(C,w)}detachAndStoreRouteSubtree(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,ie=xi(C);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],B);if(P&&P.outlet){const Ee=P.outlet.detach(),Ae=P.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:Ee,route:C,contexts:Ae})}}deactivateRouteAndOutlet(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,ie=xi(C);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],B);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(C,w,P){const B=xi(w);C.children.forEach(ie=>{this.activateRoutes(ie,B[ie.value.outlet],P),this.forwardEvent(new Rs(ie.value.snapshot))}),C.children.length&&this.forwardEvent(new Ps(C.value.snapshot))}activateRoutes(C,w,P){const B=C.value,ie=w?w.value:null;if(Es(B),B===ie)if(B.component){const Ee=P.getOrCreateContext(B.outlet);this.activateChildRoutes(C,w,Ee.children)}else this.activateChildRoutes(C,w,P);else if(B.component){const Ee=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ae=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ee.children.onOutletReAttached(Ae.contexts),Ee.attachRef=Ae.componentRef,Ee.route=Ae.route.value,Ee.outlet&&Ee.outlet.attach(Ae.componentRef,Ae.route.value),Es(Ae.route.value),this.activateChildRoutes(C,null,Ee.children)}else{const Ae=kr(B.snapshot),Et=Ae?.get(h._Vd)??null;Ee.attachRef=null,Ee.route=B,Ee.resolver=Et,Ee.injector=Ae,Ee.outlet&&Ee.outlet.activateWith(B,Ee.injector),this.activateChildRoutes(C,null,Ee.children)}}else this.activateChildRoutes(C,null,P)}}class ni{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class gi{constructor(C,w){this.component=C,this.route=w}}function Lt(T,C,w){const P=T._root;return hs(P,C?C._root:null,w,[P.value])}function ji(T,C,w){return(kr(C)??w).get(T)}function hs(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const ie=xi(C);return T.children.forEach(Ee=>{(function ri(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const ie=T.value,Ee=C?C.value:null,Ae=w?w.getContext(T.value.outlet):null;if(Ee&&ie.routeConfig===Ee.routeConfig){const Et=function mo(T,C,w){if("function"==typeof w)return w(T,C);switch(w){case"pathParamsChange":return!Oe(T.url,C.url);case"pathParamsOrQueryParamsChange":return!Oe(T.url,C.url)||!ur(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bs(T,C)||!ur(T.queryParams,C.queryParams);default:return!bs(T,C)}}(Ee,ie,ie.routeConfig.runGuardsAndResolvers);Et?B.canActivateChecks.push(new ni(P)):(ie.data=Ee.data,ie._resolvedData=Ee._resolvedData),hs(T,C,ie.component?Ae?Ae.children:null:w,P,B),Et&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&B.canDeactivateChecks.push(new gi(Ae.outlet.component,Ee))}else Ee&&tr(C,Ae,B),B.canActivateChecks.push(new ni(P)),hs(T,null,ie.component?Ae?Ae.children:null:w,P,B)})(Ee,ie[Ee.value.outlet],w,P.concat([Ee.value]),B),delete ie[Ee.value.outlet]}),Nn(ie,(Ee,Ae)=>tr(Ee,w.getContext(Ae),B)),B}function tr(T,C,w){const P=xi(T),B=T.value;Nn(P,(ie,Ee)=>{tr(ie,B.component?C?C.children.getContext(Ee):null:C,w)}),w.canDeactivateChecks.push(new gi(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}function ts(T){return"function"==typeof T}const ue=Symbol("INITIAL_VALUE");function vt(){return(0,pt.w)(T=>ee(T.map(C=>C.pipe((0,nt.q)(1),(0,Ut.O)(ue)))).pipe((0,Ue.U)(C=>{for(const w of C)if(!0!==w){if(w===ue)return ue;if(!1===w||w instanceof cr)return w}return!0}),(0,lt.h)(C=>C!==ue),(0,nt.q)(1)))}function ul(T){return(0,Ne.z)((0,Rt.b)(C=>{if(Vn(C))throw Z(0,C)}),(0,Ue.U)(C=>!0===C))}const Wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ci(T,C,w,P,B){const ie=Oi(T,C,w);return ie.matched?function Vi(T,C,w,P){const B=C.canMatch;if(!B||0===B.length)return(0,Me.of)(!0);const ie=B.map(Ee=>{const Ae=T.get(Ee),Et=function $(T){return T&&ts(T.canMatch)}(Ae)?Ae.canMatch(C,w):Ae(C,w);return Tr(Et)});return(0,Me.of)(ie).pipe(vt(),ul())}(P=Jr(C,P),C,w).pipe((0,Ue.U)(Ee=>!0===Ee?ie:{...Wo})):(0,Me.of)(ie)}function Oi(T,C,w){if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||w.length>0)?{...Wo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const B=(C.matcher||Ar)(w,T,C);if(!B)return{...Wo};const ie={};Nn(B.posParams,(Ae,Et)=>{ie[Et]=Ae.path});const Ee=B.consumed.length>0?{...ie,...B.consumed[B.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:B.consumed,remainingSegments:w.slice(B.consumed.length),parameters:Ee,positionalParamSegments:B.posParams??{}}}function Lr(T,C,w,P,B="corrected"){if(w.length>0&&function $a(T,C,w){return w.some(P=>Wi(T,C,P)&&Zn(P)!==nn)}(T,w,P)){const Ee=new Qt(C,function Tl(T,C,w,P){const B={};B[nn]=P,P._sourceSegment=T,P._segmentIndexShift=C.length;for(const ie of w)if(""===ie.path&&Zn(ie)!==nn){const Ee=new Qt([],{});Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,B[Zn(ie)]=Ee}return B}(T,C,P,new Qt(w,T.children)));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:[]}}if(0===w.length&&function Ma(T,C,w){return w.some(P=>Wi(T,C,P))}(T,w,P)){const Ee=new Qt(T.segments,function Go(T,C,w,P,B,ie){const Ee={};for(const Ae of P)if(Wi(T,w,Ae)&&!B[Zn(Ae)]){const Et=new Qt([],{});Et._sourceSegment=T,Et._segmentIndexShift="legacy"===ie?T.segments.length:C.length,Ee[Zn(Ae)]=Et}return{...B,...Ee}}(T,C,w,P,T.children,B));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:w}}const ie=new Qt(T.segments,T.children);return ie._sourceSegment=T,ie._segmentIndexShift=C.length,{segmentGroup:ie,slicedSegments:w}}function Wi(T,C,w){return(!(T.hasChildren()||C.length>0)||"full"!==w.pathMatch)&&""===w.path}function Ls(T,C,w,P){return!!(Zn(T)===P||P!==nn&&Wi(C,w,T))&&("**"===T.path||Oi(C,T,w).matched)}function mi(T,C,w){return 0===C.length&&!T.children[w]}const No=!1;class ua{constructor(C){this.segmentGroup=C||null}}class Io{constructor(C){this.urlTree=C}}function js(T){return(0,Pe._)(new ua(T))}function ja(T){return(0,Pe._)(new Io(T))}class Yi{constructor(C,w,P,B,ie){this.injector=C,this.configLoader=w,this.urlSerializer=P,this.urlTree=B,this.config=ie,this.allowRedirects=!0}apply(){const C=Lr(this.urlTree.root,[],[],this.config).segmentGroup,w=new Qt(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,w,nn).pipe((0,Ue.U)(ie=>this.createUrlTree(Jt(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ht(ie=>{if(ie instanceof Io)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof ua?this.noMatchError(ie):ie}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,nn).pipe((0,Ue.U)(B=>this.createUrlTree(Jt(B),C.queryParams,C.fragment))).pipe(ht(B=>{throw B instanceof ua?this.noMatchError(B):B}))}noMatchError(C){return new h.vHH(4002,No)}createUrlTree(C,w,P){const B=xt(C);return new cr(B,w,P)}expandSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(C,w,P).pipe((0,Ue.U)(ie=>new Qt([],ie))):this.expandSegment(C,P,w,P.segments,B,!0)}expandChildren(C,w,P){const B=[];for(const ie of Object.keys(P.children))"primary"===ie?B.unshift(ie):B.push(ie);return(0,fe.D)(B).pipe((0,at.b)(ie=>{const Ee=P.children[ie],Ae=jr(w,ie);return this.expandSegmentGroup(C,Ae,Ee,ie).pipe((0,Ue.U)(Et=>({segment:Et,outlet:ie})))}),(0,_n.R)((ie,Ee)=>(ie[Ee.outlet]=Ee.segment,ie),{}),(0,Cn.Z)())}expandSegment(C,w,P,B,ie,Ee){return(0,fe.D)(P).pipe((0,at.b)(Ae=>this.expandSegmentAgainstRoute(C,w,P,Ae,B,ie,Ee).pipe(ht(on=>{if(on instanceof ua)return(0,Me.of)(null);throw on}))),(0,bt.P)(Ae=>!!Ae),ht((Ae,Et)=>{if(Ae instanceof Bt.K||"EmptyError"===Ae.name)return mi(w,B,ie)?(0,Me.of)(new Qt([],{})):js(w);throw Ae}))}expandSegmentAgainstRoute(C,w,P,B,ie,Ee,Ae){return Ls(B,w,ie,Ee)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,w,B,ie,Ee):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee):js(w):js(w)}expandSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,P,B,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,P,B){const ie=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?ja(ie):this.lineralizeSegments(P,ie).pipe((0,Pt.z)(Ee=>{const Ae=new Qt(Ee,{});return this.expandSegment(C,Ae,w,Ee,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee){const{matched:Ae,consumedSegments:Et,remainingSegments:on,positionalParamSegments:Mn}=Oi(w,B,ie);if(!Ae)return js(w);const Pn=this.applyRedirectCommands(Et,B.redirectTo,Mn);return B.redirectTo.startsWith("/")?ja(Pn):this.lineralizeSegments(B,Pn).pipe((0,Pt.z)(Zr=>this.expandSegment(C,w,P,Zr.concat(on),Ee,!1)))}matchSegmentAgainstRoute(C,w,P,B,ie){return"**"===P.path?(C=Jr(P,C),P.loadChildren?(P._loadedRoutes?(0,Me.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(C,P)).pipe((0,Ue.U)(Ae=>(P._loadedRoutes=Ae.routes,P._loadedInjector=Ae.injector,new Qt(B,{})))):(0,Me.of)(new Qt(B,{}))):ci(w,P,B,C).pipe((0,pt.w)(({matched:Ee,consumedSegments:Ae,remainingSegments:Et})=>Ee?this.getChildConfig(C=P._injector??C,P,B).pipe((0,Pt.z)(Mn=>{const Pn=Mn.injector??C,Zr=Mn.routes,{segmentGroup:is,slicedSegments:ao}=Lr(w,Ae,Et,Zr),Jo=new Qt(is.segments,is.children);if(0===ao.length&&Jo.hasChildren())return this.expandChildren(Pn,Zr,Jo).pipe((0,Ue.U)(ya=>new Qt(Ae,ya)));if(0===Zr.length&&0===ao.length)return(0,Me.of)(new Qt(Ae,{}));const ss=Zn(P)===ie;return this.expandSegment(Pn,Jo,Zr,ao,ss?nn:ie,!0).pipe((0,Ue.U)(Ks=>new Qt(Ae.concat(Ks.segments),Ks.children)))})):js(w)))}getChildConfig(C,w,P){return w.children?(0,Me.of)({routes:w.children,injector:C}):w.loadChildren?void 0!==w._loadedRoutes?(0,Me.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function jo(T,C,w,P){const B=C.canLoad;if(void 0===B||0===B.length)return(0,Me.of)(!0);const ie=B.map(Ee=>{const Ae=T.get(Ee),Et=function Di(T){return T&&ts(T.canLoad)}(Ae)?Ae.canLoad(C,w):Ae(C,w);return Tr(Et)});return(0,Me.of)(ie).pipe(vt(),ul())}(C,w,P).pipe((0,Pt.z)(B=>B?this.configLoader.loadChildren(C,w).pipe((0,Rt.b)(ie=>{w._loadedRoutes=ie.routes,w._loadedInjector=ie.injector})):function Dl(T){return(0,Pe._)(we(No,3))}())):(0,Me.of)({routes:[],injector:C})}lineralizeSegments(C,w){let P=[],B=w.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,Me.of)(P);if(B.numberOfChildren>1||!B.children[nn])return(0,Pe._)(new h.vHH(4e3,No));B=B.children[nn]}}applyRedirectCommands(C,w,P){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),C,P)}applyRedirectCreateUrlTree(C,w,P,B){const ie=this.createSegmentGroup(C,w.root,P,B);return new cr(ie,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(C,w){const P={};return Nn(C,(B,ie)=>{if("string"==typeof B&&B.startsWith(":")){const Ae=B.substring(1);P[ie]=w[Ae]}else P[ie]=B}),P}createSegmentGroup(C,w,P,B){const ie=this.createSegments(C,w.segments,P,B);let Ee={};return Nn(w.children,(Ae,Et)=>{Ee[Et]=this.createSegmentGroup(C,Ae,P,B)}),new Qt(ie,Ee)}createSegments(C,w,P,B){return w.map(ie=>ie.path.startsWith(":")?this.findPosParam(C,ie,B):this.findOrReturn(ie,P))}findPosParam(C,w,P){const B=P[w.path.substring(1)];if(!B)throw new h.vHH(4001,No);return B}findOrReturn(C,w){let P=0;for(const B of w){if(B.path===C.path)return w.splice(P),B;P++}return C}}class zo{}class Co{constructor(C,w,P,B,ie,Ee,Ae,Et){this.injector=C,this.rootComponentType=w,this.config=P,this.urlTree=B,this.url=ie,this.paramsInheritanceStrategy=Ee,this.relativeLinkResolution=Ae,this.urlSerializer=Et}recognize(){const C=Lr(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,nn).pipe((0,Ue.U)(w=>{if(null===w)return null;const P=new $i([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new cs(P,w),ie=new Hs(this.url,B);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(C){const w=C.value,P=Zi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.processChildren(C,w,P):this.processSegment(C,w,P,P.segments,B)}processChildren(C,w,P){return(0,fe.D)(Object.keys(P.children)).pipe((0,at.b)(B=>{const ie=P.children[B],Ee=jr(w,B);return this.processSegmentGroup(C,Ee,ie,B)}),(0,_n.R)((B,ie)=>B&&ie?(B.push(...ie),B):null),function He(T,C=!1){return(0,Ge.e)((w,P)=>{let B=0;w.subscribe((0,se.x)(P,ie=>{const Ee=T(ie,B++);(Ee||C)&&P.next(ie),!Ee&&P.complete()}))})}(B=>null!==B),(0,yn.d)(null),(0,Cn.Z)(),(0,Ue.U)(B=>{if(null===B)return null;const ie=Gl(B);return function Ga(T){T.sort((C,w)=>C.value.outlet===nn?-1:w.value.outlet===nn?1:C.value.outlet.localeCompare(w.value.outlet))}(ie),ie}))}processSegment(C,w,P,B,ie){return(0,fe.D)(w).pipe((0,at.b)(Ee=>this.processSegmentAgainstRoute(Ee._injector??C,Ee,P,B,ie)),(0,bt.P)(Ee=>!!Ee),ht(Ee=>{if(Ee instanceof Bt.K)return mi(P,B,ie)?(0,Me.of)([]):(0,Me.of)(null);throw Ee}))}processSegmentAgainstRoute(C,w,P,B,ie){if(w.redirectTo||!Ls(w,P,B,ie))return(0,Me.of)(null);let Ee;if("**"===w.path){const Ae=B.length>0?Fn(B).parameters:{},Et=Lo(P)+B.length,on=new $i(B,Ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yo(w),Zn(w),w.component??w._loadedComponent??null,w,Ws(P),Et,Gs(w),Et);Ee=(0,Me.of)({snapshot:on,consumedSegments:[],remainingSegments:[]})}else Ee=ci(P,w,B,C).pipe((0,Ue.U)(({matched:Ae,consumedSegments:Et,remainingSegments:on,parameters:Mn})=>{if(!Ae)return null;const Pn=Lo(P)+Et.length;return{snapshot:new $i(Et,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yo(w),Zn(w),w.component??w._loadedComponent??null,w,Ws(P),Pn,Gs(w),Pn),consumedSegments:Et,remainingSegments:on}}));return Ee.pipe((0,pt.w)(Ae=>{if(null===Ae)return(0,Me.of)(null);const{snapshot:Et,consumedSegments:on,remainingSegments:Mn}=Ae;C=w._injector??C;const Pn=w._loadedInjector??C,Zr=function da(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:is,slicedSegments:ao}=Lr(P,on,Mn,Zr.filter(ss=>void 0===ss.redirectTo),this.relativeLinkResolution);if(0===ao.length&&is.hasChildren())return this.processChildren(Pn,Zr,is).pipe((0,Ue.U)(ss=>null===ss?null:[new cs(Et,ss)]));if(0===Zr.length&&0===ao.length)return(0,Me.of)([new cs(Et,[])]);const Jo=Zn(w)===ie;return this.processSegment(Pn,Zr,is,ao,Jo?nn:ie).pipe((0,Ue.U)(ss=>null===ss?null:[new cs(Et,ss)]))}))}}function bi(T){const C=T.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Gl(T){const C=[],w=new Set;for(const P of T){if(!bi(P)){C.push(P);continue}const B=C.find(ie=>P.value.routeConfig===ie.value.routeConfig);void 0!==B?(B.children.push(...P.children),w.add(B)):C.push(P)}for(const P of w){const B=Gl(P.children);C.push(new cs(P.value,B))}return C.filter(P=>!w.has(P))}function Ws(T){let C=T;for(;C._sourceSegment;)C=C._sourceSegment;return C}function Lo(T){let C=T,w=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,w+=C._segmentIndexShift??0;return w-1}function yo(T){return T.data||{}}function Gs(T){return T.resolve||{}}const dl=Symbol("RouteTitle");function Jn(T){return"string"==typeof T.title||null===T.title}function Al(T){return(0,pt.w)(C=>{const w=T(C);return w?(0,fe.D)(w).pipe((0,Ue.U)(()=>C)):(0,Me.of)(C)})}class Nt extends class At{shouldDetach(C){return!1}store(C,w){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,w){return C.routeConfig===w.routeConfig}}{}const Ko=new h.OlP("ROUTES");let qo=(()=>{class T{constructor(w,P){this.injector=w,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Me.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const P=Tr(w.loadComponent()).pipe((0,Rt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ie}),et(()=>{this.componentLoaders.delete(w)})),B=new de.c(P,()=>new Ye.x).pipe((0,zn.x)());return this.componentLoaders.set(w,B),B}loadChildren(w,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Me.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const ie=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Ue.U)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Et,on,Mn=!1;Array.isArray(Ae)?on=Ae:(Et=Ae.create(w).injector,on=Qn(Et.get(Ko,[],h.XFs.Self|h.XFs.Optional)));return{routes:on.map(un),injector:Et}}),et(()=>{this.childrenLoaders.delete(P)})),Ee=new de.c(ie,()=>new Ye.x).pipe((0,zn.x)());return this.childrenLoaders.set(P,Ee),Ee}loadModuleFactoryOrRoutes(w){return Tr(w()).pipe((0,Pt.z)(P=>P instanceof h.YKP||Array.isArray(P)?(0,Me.of)(P):(0,fe.D)(this.compiler.compileModuleAsync(P))))}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(h.zs3),h.LFG(h.Sil))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();class fa{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,w){return C}}function Zo(T){throw T}function hl(T,C,w){return C.parse("/")}const Ka={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class T{constructor(w,P,B,ie,Ee,Ae,Et){this.rootComponentType=w,this.urlSerializer=P,this.rootContexts=B,this.location=ie,this.config=Et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ye.x,this.errorHandler=Zo,this.malformedUriErrorHandler=hl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Me.of)(void 0),this.urlHandlingStrategy=new fa,this.routeReuseStrategy=new Nt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ee.get(qo),this.configLoader.onLoadEndListener=Zr=>this.triggerEvent(new dr(Zr)),this.configLoader.onLoadStartListener=Zr=>this.triggerEvent(new Ti(Zr)),this.ngModule=Ee.get(h.h0i),this.console=Ee.get(h.c2e);const Pn=Ee.get(h.R0b);this.isNgZoneEnabled=Pn instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(Et),this.currentUrlTree=function Yn(){return new cr(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$o(this.currentUrlTree,this.rootComponentType),this.transitions=new Xe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(w){const P=this.events;return w.pipe((0,lt.h)(B=>0!==B.id),(0,Ue.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,pt.w)(B=>{let ie=!1,Ee=!1;return(0,Me.of)(B).pipe((0,Rt.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.rawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(Ae=>{const Et=this.browserUrlTree.toString(),on=!this.navigated||Ae.extractedUrl.toString()!==Et||Et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||on)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return br(Ae.source)&&(this.browserUrlTree=Ae.extractedUrl),(0,Me.of)(Ae).pipe((0,pt.w)(Pn=>{const Zr=this.transitions.getValue();return P.next(new _e(Pn.id,this.serializeUrl(Pn.extractedUrl),Pn.source,Pn.restoredState)),Zr!==this.transitions.getValue()?Je.E:Promise.resolve(Pn)}),function Sl(T,C,w,P){return(0,pt.w)(B=>function Wa(T,C,w,P,B){return new Yi(T,C,w,P,B).apply()}(T,C,w,B.extractedUrl,P).pipe((0,Ue.U)(ie=>({...B,urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rt.b)(Pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects},B.urlAfterRedirects=Pn.urlAfterRedirects}),function xa(T,C,w,P,B,ie){return(0,Pt.z)(Ee=>function ko(T,C,w,P,B,ie,Ee="emptyOnly",Ae="legacy"){return new Co(T,C,w,P,B,Ee,Ae,ie).recognize().pipe((0,pt.w)(Et=>null===Et?function ca(T){return new u.y(C=>C.error(T))}(new zo):(0,Me.of)(Et)))}(T,C,w,Ee.urlAfterRedirects,P.serialize(Ee.urlAfterRedirects),P,B,ie).pipe((0,Ue.U)(Ae=>({...Ee,targetSnapshot:Ae}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rt.b)(Pn=>{if(B.targetSnapshot=Pn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const is=this.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);this.setBrowserUrl(is,Pn)}this.browserUrlTree=Pn.urlAfterRedirects}const Zr=new Wt(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);P.next(Zr)}));if(on&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:is,source:ao,restoredState:Jo,extras:ss}=Ae,Xo=new _e(Zr,this.serializeUrl(is),ao,Jo);P.next(Xo);const Ks=$o(is,this.rootComponentType).snapshot;return B={...Ae,targetSnapshot:Ks,urlAfterRedirects:is,extras:{...ss,skipLocationChange:!1,replaceUrl:!1}},(0,Me.of)(B)}return this.rawUrlTree=Ae.rawUrl,Ae.resolve(null),Je.E}),(0,Rt.b)(Ae=>{const Et=new tn(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(Et)}),(0,Ue.U)(Ae=>B={...Ae,guards:Lt(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)}),function dn(T,C){return(0,Pt.z)(w=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:ie,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===ie.length?(0,Me.of)({...w,guardsResult:!0}):function Ei(T,C,w,P){return(0,fe.D)(T).pipe((0,Pt.z)(B=>function ll(T,C,w,P,B){const ie=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,Me.of)(!0);const Ee=ie.map(Ae=>{const Et=ji(Ae,C,B);return Tr(function Aa(T){return T&&ts(T.canDeactivate)}(Et)?Et.canDeactivate(T,C,w,P):Et(T,C,w,P)).pipe((0,bt.P)())});return(0,Me.of)(Ee).pipe(vt())}(B.component,B.route,w,C,P)),(0,bt.P)(B=>!0!==B,!0))}(Ee,P,B,T).pipe((0,Pt.z)(Ae=>Ae&&function wo(T){return"boolean"==typeof T}(Ae)?function Ri(T,C,w,P){return(0,fe.D)(C).pipe((0,at.b)(B=>(0,Tt.z)(function io(T,C){return null!==T&&C&&C(new ai(T)),(0,Me.of)(!0)}(B.route.parent,P),function Qs(T,C){return null!==T&&C&&C(new Ds(T)),(0,Me.of)(!0)}(B.route,P),function ks(T,C,w){const P=C[C.length-1],ie=C.slice(0,C.length-1).reverse().map(Ee=>function or(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>(0,tt.P)(()=>{const Ae=Ee.guards.map(Et=>{const on=ji(Et,Ee.node,w);return Tr(function Ha(T){return T&&ts(T.canActivateChild)}(on)?on.canActivateChild(P,T):on(P,T)).pipe((0,bt.P)())});return(0,Me.of)(Ae).pipe(vt())}));return(0,Me.of)(ie).pipe(vt())}(T,B.path,w),function so(T,C,w){const P=C.routeConfig?C.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Me.of)(!0);const B=P.map(ie=>(0,tt.P)(()=>{const Ee=ji(ie,C,w);return Tr(function la(T){return T&&ts(T.canActivate)}(Ee)?Ee.canActivate(C,T):Ee(C,T)).pipe((0,bt.P)())}));return(0,Me.of)(B).pipe(vt())}(T,B.route,w))),(0,bt.P)(B=>!0!==B,!0))}(P,ie,T,C):(0,Me.of)(Ae)),(0,Ue.U)(Ae=>({...w,guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,Rt.b)(Ae=>{if(B.guardsResult=Ae.guardsResult,Vn(Ae.guardsResult))throw Z(0,Ae.guardsResult);const Et=new rr(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(Et)}),(0,lt.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"",3),!1)),Al(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,Me.of)(Ae).pipe((0,Rt.b)(Et=>{const on=new Cr(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(on)}),(0,pt.w)(Et=>{let on=!1;return(0,Me.of)(Et).pipe(function Kt(T,C){return(0,Pt.z)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=w;if(!B.length)return(0,Me.of)(w);let ie=0;return(0,fe.D)(B).pipe((0,at.b)(Ee=>function Ni(T,C,w,P){const B=T.routeConfig,ie=T._resolve;return void 0!==B?.title&&!Jn(B)&&(ie[dl]=B.title),function fs(T,C,w,P){const B=function Fs(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,Me.of)({});const ie={};return(0,fe.D)(B).pipe((0,Pt.z)(Ee=>function On(T,C,w,P){const B=ji(T,C,P);return Tr(B.resolve?B.resolve(C,w):B(C,w))}(T[Ee],C,w,P).pipe((0,bt.P)(),(0,Rt.b)(Ae=>{ie[Ee]=Ae}))),(0,En.h)(1),(0,bn.h)(ie),ht(Ee=>Ee instanceof Bt.K?Je.E:(0,Pe._)(Ee)))}(ie,T,C,P).pipe((0,Ue.U)(Ee=>(T._resolvedData=Ee,T.data=Zi(T,w).resolve,B&&Jn(B)&&(T.data[dl]=B.title),null)))}(Ee.route,P,T,C)),(0,Rt.b)(()=>ie++),(0,En.h)(1),(0,Pt.z)(Ee=>ie===B.length?(0,Me.of)(w):Je.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rt.b)({next:()=>on=!0,complete:()=>{on||(this.restoreHistory(Et),this.cancelNavigationTransition(Et,"",2))}}))}),(0,Rt.b)(Et=>{const on=new gr(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(on)}))}),Al(Ae=>{const Et=on=>{const Mn=[];on.routeConfig?.loadComponent&&!on.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(on.routeConfig).pipe((0,Rt.b)(Pn=>{on.component=Pn}),(0,Ue.U)(()=>{})));for(const Pn of on.children)Mn.push(...Et(Pn));return Mn};return ee(Et(Ae.targetSnapshot.root)).pipe((0,yn.d)(),(0,nt.q)(1))}),Al(()=>this.afterPreactivation()),(0,Ue.U)(Ae=>{const Et=function $s(T,C,w){const P=Ys(T,C._root,w?w._root:void 0);return new go(P,C)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return B={...Ae,targetRouterState:Et}}),(0,Rt.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((T,C,w)=>(0,Ue.U)(P=>(new vi(C,P.targetRouterState,P.currentRouterState,w).activate(T),P)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,Rt.b)({next(){ie=!0},complete(){ie=!0}}),et(()=>{ie||Ee||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),ht(Ae=>{if(Ee=!0,ut(Ae)){Ve(Ae)||(this.navigated=!0,this.restoreHistory(B,!0));const Et=new je(B.id,this.serializeUrl(B.extractedUrl),Ae.message,Ae.cancellationCode);if(P.next(Et),Ve(Ae)){const on=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),Mn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||br(B.source)};this.scheduleNavigation(on,"imperative",null,Mn,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{this.restoreHistory(B,!0);const Et=new dt(B.id,this.serializeUrl(B.extractedUrl),Ae,B.targetSnapshot??void 0);P.next(Et);try{B.resolve(this.errorHandler(Ae))}catch(on){B.reject(on)}}return Je.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next({...this.transitions.value,...w})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{const B={replaceUrl:!0},ie=w.state?.navigationId?w.state:null;if(ie){const Ae={...ie};delete Ae.navigationId,delete Ae.\u0275routerPageId,0!==Object.keys(Ae).length&&(B.state=Ae)}const Ee=this.parseUrl(w.url);this.scheduleNavigation(Ee,P,ie,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){this.config=w.map(un),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:B,queryParams:ie,fragment:Ee,queryParamsHandling:Ae,preserveFragment:Et}=P,on=B||this.routerState.root,Mn=Et?this.currentUrlTree.fragment:Ee;let Pn=null;switch(Ae){case"merge":Pn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=ie||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),Ki(on,this.currentUrlTree,w,Pn,Mn??null)}navigateByUrl(w,P={skipLocationChange:!1}){const B=Vn(w)?w:this.parseUrl(w),ie=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,P)}navigate(w,P={skipLocationChange:!1}){return function Yo(T){for(let C=0;C<T.length;C++){if(null==T[C])throw new h.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch(B){P=this.malformedUriErrorHandler(B,this.urlSerializer,w)}return P}isActive(w,P){let B;if(B=!0===P?{...Ka}:!1===P?{...Oa}:P,Vn(w))return kn(this.currentUrlTree,w,B);const ie=this.parseUrl(w);return kn(this.currentUrlTree,ie,B)}removeEmptyProps(w){return Object.keys(w).reduce((P,B)=>{const ie=w[B];return null!=ie&&(P[B]=ie),P},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new ct(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,P,B,ie,Ee){if(this.disposed)return Promise.resolve(!1);let Ae,Et,on;Ee?(Ae=Ee.resolve,Et=Ee.reject,on=Ee.promise):on=new Promise((Zr,is)=>{Ae=Zr,Et=is});const Mn=++this.navigationId;let Pn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Pn=B&&B.\u0275routerPageId?B.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Pn=0,this.setTransition({id:Mn,targetPageId:Pn,source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:ie,resolve:Ae,reject:Et,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(w,P){const B=this.urlSerializer.serialize(w),ie={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl?this.location.replaceState(B,"",ie):this.location.go(B,"",ie)}restoreHistory(w,P=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,P,B){const ie=new je(w.id,this.serializeUrl(w.extractedUrl),P,B);this.triggerEvent(ie),w.resolve(!1)}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return T.\u0275fac=function(w){h.$Z()},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();function br(T){return"imperative"!==T}let Ss=(()=>{class T{constructor(w,P,B,ie,Ee){this.router=w,this.route=P,this.tabIndexAttribute=B,this.renderer=ie,this.el=Ee,this.commands=null,this.onChanges=new Ye.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const P=this.renderer,B=this.el.nativeElement;null!==w?P.setAttribute(B,"tabindex",w):P.removeAttribute(B,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:(0,h.D6c)(this.skipLocationChange),replaceUrl:(0,h.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,h.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Ui),h.Y36(ys),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,P){1&w&&h.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),T})(),To=(()=>{class T{constructor(w,P,B){this.router=w,this.route=P,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new Ye.x,this.subscription=w.events.subscribe(ie=>{ie instanceof ct&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,P,B,ie,Ee){if(0!==w||P||B||ie||Ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ae={skipLocationChange:(0,h.D6c)(this.skipLocationChange),replaceUrl:(0,h.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,h.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Ui),h.Y36(ys),h.Y36(Ie.S$))},T.\u0275dir=h.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,P){1&w&&h.NdJ("click",function(ie){return P.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&w&&h.uIk("target",P.target)("href",P.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),T})(),di=(()=>{class T{constructor(w,P,B,ie,Ee,Ae){this.router=w,this.element=P,this.renderer=B,this.cdr=ie,this.link=Ee,this.linkWithHref=Ae,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=w.events.subscribe(Et=>{Et instanceof ct&&this.update()})}ngAfterContentInit(){(0,Me.of)(this.links.changes,this.linksWithHrefs.changes,(0,Me.of)(null)).pipe((0,Or.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,fe.D)(w).pipe((0,Or.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(w){const P=Array.isArray(w)?w:w.split(" ");this.classes=P.filter(B=>!!B)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(P=>{w?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const P=function Xn(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&w.isActive(B.urlTree,P)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Ui),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Ss,8),h.Y36(To,8))},T.\u0275dir=h.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(w,P,B){if(1&w&&(h.Suo(B,Ss,5),h.Suo(B,To,5)),2&w){let ie;h.iGM(ie=h.CRH())&&(P.links=ie),h.iGM(ie=h.CRH())&&(P.linksWithHrefs=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.TTD]}),T})(),Dr=(()=>{class T{buildTitle(w){let P,B=w.root;for(;void 0!==B;)P=this.getResolvedTitleForRoute(B)??P,B=B.children.find(ie=>ie.outlet===nn);return P}getResolvedTitleForRoute(w){return w.data[dl]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=h.Yz7({token:T,factory:function(){return(0,h.f3M)(hr)},providedIn:"root"}),T})(),hr=(()=>{class T extends Dr{constructor(w){super(),this.title=w}updateTitle(w){const P=this.buildTitle(w);void 0!==P&&this.title.setTitle(P)}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(pr.Dx))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class ns{}let Qo=(()=>{class T{constructor(w,P,B,ie,Ee){this.router=w,this.injector=B,this.preloadingStrategy=ie,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(w=>w instanceof ct),(0,at.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const B=[];for(const ie of P){ie.providers&&!ie._injector&&(ie._injector=(0,h.MMx)(ie.providers,w,`Route: ${ie.path}`));const Ee=ie._injector??w,Ae=ie._loadedInjector??Ee;ie.loadChildren&&!ie._loadedRoutes||ie.loadComponent&&!ie._loadedComponent?B.push(this.preloadConfig(Ee,ie)):(ie.children||ie._loadedRoutes)&&B.push(this.processRoutes(Ae,ie.children??ie._loadedRoutes))}return(0,fe.D)(B).pipe((0,Or.J)())}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>{let B;B=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(w,P):(0,Me.of)(null);const ie=B.pipe((0,Pt.z)(Ee=>null===Ee?(0,Me.of)(void 0):(P._loadedRoutes=Ee.routes,P._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(P.loadComponent&&!P._loadedComponent){const Ee=this.loader.loadComponent(P);return(0,fe.D)([ie,Ee]).pipe((0,Or.J)())}return ie})}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(Ui),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(ns),h.LFG(qo))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();const qa=new h.OlP("");let _o=(()=>{class T{constructor(w,P,B={}){this.router=w,this.viewportScroller=P,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ct&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Us&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.router.triggerEvent(new Us(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(w){h.$Z()},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();const Do=new h.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Pa=new h.OlP("ROUTER_FORROOT_GUARD"),Qi=new h.OlP(""),So=[Ie.Ye,{provide:le,useClass:V},{provide:Ui,useFactory:function Iu(T,C,w,P,B,ie,Ee,Ae={},Et,on){const Mn=new Ui(null,T,C,w,P,B,Qn(ie));return Et&&(Mn.urlHandlingStrategy=Et),on&&(Mn.routeReuseStrategy=on),Mn.titleStrategy=Ee,function fl(T,C){T.errorHandler&&(C.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(C.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(C.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(C.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(C.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(C.canceledNavigationResolution=T.canceledNavigationResolution)}(Ae,Mn),Mn},deps:[le,an,Ie.Ye,h.zs3,h.Sil,Ko,Dr,Do,[class ha{},new h.FiY],[class hn{},new h.FiY]]},an,{provide:ys,useFactory:function Fo(T){return T.routerState.root},deps:[Ui]},qo];function zl(){return new h.PXZ("Router",Ui)}let Js=(()=>{class T{constructor(w,P){}static forRoot(w,P){return{ngModule:T,providers:[So,[],Ao(w),{provide:Pa,useFactory:Za,deps:[[Ui,new h.FiY,new h.tp0]]},{provide:Do,useValue:P||{}},P?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:qa,useFactory:()=>{const T=(0,h.f3M)(Ui),C=(0,h.f3M)(Ie.EM),w=(0,h.f3M)(Do);return w.scrollOffset&&C.setOffset(w.scrollOffset),new _o(T,C,w)}},P?.preloadingStrategy?oo(P.preloadingStrategy):[],{provide:h.PXZ,multi:!0,useFactory:zl},P?.initialNavigation?Cu(P):[],[{provide:ga,useFactory:pl},{provide:h.tb,multi:!0,useExisting:ga}]]}}static forChild(w){return{ngModule:T,providers:[Ao(w)]}}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(Pa,8),h.LFG(Ui,8))},T.\u0275mod=h.oAB({type:T}),T.\u0275inj=h.cJS({}),T})();function Za(T){return"guarded"}function Ao(T){return[{provide:h.deG,multi:!0,useValue:T},{provide:Ko,multi:!0,useValue:T}]}function pl(){const T=(0,h.f3M)(h.zs3);return C=>{const w=T.get(h.z2F);if(C!==w.components[0])return;const P=T.get(Ui),B=T.get(Ml);null===T.get(zs,null,h.XFs.Optional)&&P.initialNavigation(),T.get(Qi,null,h.XFs.Optional)?.setUpPreloading(),T.get(qa,null,h.XFs.Optional)?.init(),P.resetRootComponentType(w.componentTypes[0]),B.next(),B.complete()}}const ga=new h.OlP("");function Cu(T){return["disabled"===T.initialNavigation?[{provide:h.ip1,multi:!0,useFactory:()=>{const T=(0,h.f3M)(Ui);return()=>{T.setUpLocationChangeListener()}}},{provide:zs,useValue:"disabled"}]:[],"enabledBlocking"===T.initialNavigation?[{provide:zs,useValue:"enabledBlocking"},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:T=>{const C=T.get(Ie.V_,Promise.resolve(null));let w=!1;return()=>C.then(()=>new Promise(B=>{const ie=T.get(Ui),Ee=T.get(Ml);(function P(B){T.get(Ui).events.pipe((0,lt.h)(Ee=>Ee instanceof ct||Ee instanceof je||Ee instanceof dt),(0,Ue.U)(Ee=>Ee instanceof ct||Ee instanceof je&&(0===Ee.code||1===Ee.code)&&null),(0,lt.h)(Ee=>null!==Ee),(0,nt.q)(1)).subscribe(()=>{B()})})(()=>{B(!0),w=!0}),ie.afterPreactivation=()=>(B(!0),w||Ee.closed?(0,Me.of)(void 0):Ee),ie.initialNavigation()}))}}]:[]]}const Ml=new h.OlP("",{factory:()=>new Ye.x}),zs=new h.OlP("");function oo(T){return[Qo,{provide:Qi,useExisting:Qo},{provide:ns,useExisting:T}]}},3942:(jt,Ke,M)=>{M.d(Ke,{Z:()=>Xe});var h=M(2090),u=M(4859),k=M(9681),fe=M(1877);class W{constructor(tt,Ne){this._delegate=tt,this.firebase=Ne,(0,k._addComponent)(tt,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(tt,Ne=k._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Bt=this._delegate.container.getProvider(tt);return!Bt.isInitialized()&&"EXPLICIT"===(null===(Pe=Bt.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Bt.initialize(),Bt.getImmediate({identifier:Ne})}_removeServiceInstance(tt,Ne=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Ne)}_addComponent(tt){(0,k._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,k._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function se(){const Tt=function Y(Tt){const tt={},Ne={__esModule:!0,initializeApp:function Je(he,Ge={}){const ht=k.initializeApp(he,Ge);if((0,h.r3)(tt,ht.name))return tt[ht.name];const He=new Tt(ht,Ne);return tt[ht.name]=He,He},app:Bt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ye(he){const Ge=he.name,ht=Ge.replace("-compat","");if(k._registerComponent(he)&&"PUBLIC"===he.type){const He=(et=Bt())=>{if("function"!=typeof et[ht])throw X.create("invalid-app-argument",{appName:Ge});return et[ht]()};void 0!==he.serviceProps&&(0,h.ZB)(He,he.serviceProps),Ne[ht]=He,Tt.prototype[ht]=function(...et){return this._getService.bind(this,Ge).apply(this,he.multipleInstances?et:[])}}return"PUBLIC"===he.type?Ne[ht]:null},removeApp:function Pe(he){delete tt[he]},useAsService:function Ie(he,Ge){return"serverAuth"===Ge?null:Ge},modularAPIs:k}};function Bt(he){if(!(0,h.r3)(tt,he=he||k._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:he});return tt[he]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function de(){return Object.keys(tt).map(he=>tt[he])}}),Bt.App=Tt,Ne}(W);return Tt.INTERNAL=Object.assign(Object.assign({},Tt.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function tt(Ne){(0,h.ZB)(Tt,Ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Tt}(),ee=new fe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=G;!function Me(Tt){(0,k.registerVersion)("@firebase/app-compat","0.1.30",Tt)}()},9681:(jt,Ke,M)=>{M.r(Ke),M.d(Ke,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>yn,_apps:()=>Rt,_clearComponents:()=>Or,_components:()=>_n,_getProvider:()=>bn,_registerComponent:()=>En,_removeServiceInstance:()=>zn,deleteApp:()=>rn,getApp:()=>nr,getApps:()=>ur,initializeApp:()=>Ar,onLog:()=>vn,registerVersion:()=>Fn,setLogLevel:()=>Nn});var h=M(5861),u=M(4859),k=M(1877),fe=M(2090),W=M(8766);class J{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function X(le){return"VERSION"===le.getComponent()?.type}(K)){const Se=K.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(K=>K).join(" ")}}const Y="@firebase/app",G=new k.Yd("@firebase/app"),bt="[DEFAULT]",at={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,_n=new Map;function Cn(le,V){try{le.container.addComponent(V)}catch(K){G.debug(`Component ${V.name} failed to register with FirebaseApp ${le.name}`,K)}}function yn(le,V){le.container.addOrOverwriteComponent(V)}function En(le){const V=le.name;if(_n.has(V))return G.debug(`There were multiple attempts to register component ${V}.`),!1;_n.set(V,le);for(const K of Rt.values())Cn(K,le);return!0}function bn(le,V){const K=le.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),le.container.getProvider(V)}function zn(le,V,K=bt){bn(le,V).clearInstance(K)}function Or(){_n.clear()}const nn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ei{constructor(V,K,Se){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const $n="9.9.1";function Ar(le,V={}){"object"!=typeof V&&(V={name:V});const K=Object.assign({name:bt,automaticDataCollectionEnabled:!1},V),Se=K.name;if("string"!=typeof Se||!Se)throw nn.create("bad-app-name",{appName:String(Se)});const ot=Rt.get(Se);if(ot){if((0,fe.vZ)(le,ot.options)&&(0,fe.vZ)(K,ot.config))return ot;throw nn.create("duplicate-app",{appName:Se})}const zt=new u.H0(Se);for(const fn of _n.values())zt.addComponent(fn);const xn=new ei(le,K,zt);return Rt.set(Se,xn),xn}function nr(le=bt){const V=Rt.get(le);if(!V)throw nn.create("no-app",{appName:le});return V}function ur(){return Array.from(Rt.values())}function rn(le){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(le){const V=le.name;Rt.has(V)&&(Rt.delete(V),yield Promise.all(le.container.getProviders().map(K=>K.delete())),le.isDeleted=!0)})).apply(this,arguments)}function Fn(le,V,K){var Se;let ot=null!==(Se=at[le])&&void 0!==Se?Se:le;K&&(ot+=`-${K}`);const zt=ot.match(/\s|\//),xn=V.match(/\s|\//);if(zt||xn){const fn=[`Unable to register library "${ot}" with version "${V}":`];return zt&&fn.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),zt&&xn&&fn.push("and"),xn&&fn.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void G.warn(fn.join(" "))}En(new u.wA(`${ot}-version`,()=>({library:ot,version:V}),"VERSION"))}function vn(le,V){if(null!==le&&"function"!=typeof le)throw nn.create("invalid-log-argument");(0,k.Am)(le,V)}function Nn(le){(0,k.Ub)(le)}const Yn="firebase-heartbeat-store";let Mr=null;function li(){return Mr||(Mr=(0,W.X3)("firebase-heartbeat-database",1,{upgrade:(le,V)=>{0===V&&le.createObjectStore(Yn)}}).catch(le=>{throw nn.create("storage-open",{originalErrorMessage:le.message})})),Mr}function Yt(){return(Yt=(0,h.Z)(function*(le){var V;try{return(yield li()).transaction(Yn).objectStore(Yn).get(Ur(le))}catch(K){throw nn.create("storage-get",{originalErrorMessage:null===(V=K)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function en(le,V){return zr.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(le,V){var K;try{const ot=(yield li()).transaction(Yn,"readwrite");return yield ot.objectStore(Yn).put(V,Ur(le)),ot.done}catch(Se){throw nn.create("storage-set",{originalErrorMessage:null===(K=Se)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function Ur(le){return`${le.name}!${le.options.appId}`}class cr{constructor(V){this.container=V,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new $r(K),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var V=this;return(0,h.Z)(function*(){const Se=V.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Qt();if(null===V._heartbeatsCache&&(V._heartbeatsCache=yield V._heartbeatsCachePromise),V._heartbeatsCache.lastSentHeartbeatDate!==ot&&!V._heartbeatsCache.heartbeats.some(zt=>zt.date===ot))return V._heartbeatsCache.heartbeats.push({date:ot,agent:Se}),V._heartbeatsCache.heartbeats=V._heartbeatsCache.heartbeats.filter(zt=>{const xn=new Date(zt.date).valueOf();return Date.now()-xn<=2592e6}),V._storage.overwrite(V._heartbeatsCache)})()}getHeartbeatsHeader(){var V=this;return(0,h.Z)(function*(){if(null===V._heartbeatsCache&&(yield V._heartbeatsCachePromise),null===V._heartbeatsCache||0===V._heartbeatsCache.heartbeats.length)return"";const K=Qt(),{heartbeatsToSend:Se,unsentEntries:ot}=function jn(le,V=1024){const K=[];let Se=le.slice();for(const ot of le){const zt=K.find(xn=>xn.agent===ot.agent);if(zt){if(zt.dates.push(ot.date),Oe(K)>V){zt.dates.pop();break}}else if(K.push({agent:ot.agent,dates:[ot.date]}),Oe(K)>V){K.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:K,unsentEntries:Se}}(V._heartbeatsCache.heartbeats),zt=(0,fe.L)(JSON.stringify({version:2,heartbeats:Se}));return V._heartbeatsCache.lastSentHeartbeatDate=K,ot.length>0?(V._heartbeatsCache.heartbeats=ot,yield V._storage.overwrite(V._heartbeatsCache)):(V._heartbeatsCache.heartbeats=[],V._storage.overwrite(V._heartbeatsCache)),zt})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class $r{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var V=this;return(0,h.Z)(function*(){return(yield V._canUseIndexedDBPromise)&&(yield function kn(le){return Yt.apply(this,arguments)}(V.app))||{heartbeats:[]}})()}overwrite(V){var K=this;return(0,h.Z)(function*(){var Se;if(yield K._canUseIndexedDBPromise){const zt=yield K.read();return en(K.app,{lastSentHeartbeatDate:null!==(Se=V.lastSentHeartbeatDate)&&void 0!==Se?Se:zt.lastSentHeartbeatDate,heartbeats:V.heartbeats})}})()}add(V){var K=this;return(0,h.Z)(function*(){var Se;if(yield K._canUseIndexedDBPromise){const zt=yield K.read();return en(K.app,{lastSentHeartbeatDate:null!==(Se=V.lastSentHeartbeatDate)&&void 0!==Se?Se:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...V.heartbeats]})}})()}}function Oe(le){return(0,fe.L)(JSON.stringify({version:2,heartbeats:le})).length}!function ke(le){En(new u.wA("platform-logger",V=>new J(V),"PRIVATE")),En(new u.wA("heartbeat",V=>new cr(V),"PRIVATE")),Fn(Y,"0.7.29",le),Fn(Y,"0.7.29","esm2017"),Fn("fire-js","")}("")},4859:(jt,Ke,M)=>{M.d(Ke,{H0:()=>Y,wA:()=>k});var h=M(5861),u=M(2090);class k{constructor(G,ee,pe){this.name=G,this.instanceFactory=ee,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const fe="[DEFAULT]";class W{constructor(G,ee){this.name=G,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const ee=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(ee)){const pe=new u.BH;if(this.instancesDeferred.set(ee,pe),this.isInitialized(ee)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ee});ze&&pe.resolve(ze)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(G){var ee;const pe=this.normalizeInstanceIdentifier(G?.identifier),ze=null!==(ee=G?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function X(se){return"EAGER"===se.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ee,pe]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ee);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});pe.resolve(Me)}catch{}}}}clearInstance(G=fe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,h.Z)(function*(){const ee=Array.from(G.instances.values());yield Promise.all([...ee.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ee.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=fe){return this.instances.has(G)}getOptions(G=fe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:ee={}}=G,pe=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:pe,options:ee});for(const[Me,Xe]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Me)&&Xe.resolve(ze);return ze}onInit(G,ee){var pe;const ze=this.normalizeInstanceIdentifier(ee),Me=null!==(pe=this.onInitCallbacks.get(ze))&&void 0!==pe?pe:new Set;Me.add(G),this.onInitCallbacks.set(ze,Me);const Xe=this.instances.get(ze);return Xe&&G(Xe,ze),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,ee){const pe=this.onInitCallbacks.get(ee);if(pe)for(const ze of pe)try{ze(G,ee)}catch{}}getOrInitializeService({instanceIdentifier:G,options:ee={}}){let pe=this.instances.get(G);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(se=G,se===fe?void 0:se),options:ee}),this.instances.set(G,pe),this.instancesOptions.set(G,ee),this.invokeOnInitCallbacks(pe,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,pe)}catch{}var se;return pe||null}normalizeInstanceIdentifier(G=fe){return this.component?this.component.multipleInstances?G:fe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const ee=this.getProvider(G.name);if(ee.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);ee.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const ee=new W(G,this);return this.providers.set(G,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,Ke,M)=>{M.d(Ke,{Am:()=>se,Ub:()=>Y,Yd:()=>X,in:()=>u});const h=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const k={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},fe=u.INFO,W={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},J=(G,ee,...pe)=>{if(ee<G.logLevel)return;const ze=(new Date).toISOString(),Me=W[ee];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Me](`[${ze}]  ${G.name}:`,...pe)};class X{constructor(ee){this.name=ee,this._logLevel=fe,this._logHandler=J,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in u))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?k[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ee),this._logHandler(this,u.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ee),this._logHandler(this,u.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ee),this._logHandler(this,u.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ee),this._logHandler(this,u.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ee),this._logHandler(this,u.ERROR,...ee)}}function Y(G){h.forEach(ee=>{ee.setLogLevel(G)})}function se(G,ee){for(const pe of h){let ze=null;ee&&ee.level&&(ze=k[ee.level]),pe.userLogHandler=null===G?null:(Me,Xe,...Tt)=>{const tt=Tt.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Xe>=(ze??Me.logLevel)&&G({level:u[Xe].toLowerCase(),message:tt,args:Tt,type:Me.name})}}}},6897:(jt,Ke,M)=>{M.d(Ke,{yh:()=>Pr,Aw:()=>Os,PH:()=>Bt,Lq:()=>cn,on:()=>$t,Ky:()=>Je});var h=M(4650),u=M(1135),k=M(9751),fe=M(7579),W=M(233),J=M(4482),X=M(5403),Y=M(8421),se=M(4671),G=M(5032),ee=M(3269),ze=M(4004),Xe=M(5363),Tt=M(5026),tt=M(1884);const Ne={};function Bt(_e,ct){if(Ne[_e]=(Ne[_e]||0)+1,"function"==typeof ct)return Ye(_e,(...dt)=>({...ct(...dt),type:_e}));switch(ct?ct._as:"empty"){case"empty":return Ye(_e,()=>({type:_e}));case"props":return Ye(_e,dt=>({...dt,type:_e}));default:throw new Error("Unexpected config.")}}function Je(){return{_as:"props",_p:void 0}}function Ye(_e,ct){return Object.defineProperty(ct,"type",{value:_e,writable:!1})}const et="@ngrx/store/init";let Ue=(()=>{class _e extends u.X{constructor(){super({type:et})}next(je){if("function"==typeof je)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof je>"u")throw new TypeError("Actions must be objects");if(typeof je.type>"u")throw new TypeError("Actions must have a type property");super.next(je)}complete(){}ngOnDestroy(){super.complete()}}return _e.\u0275fac=function(je){return new(je||_e)},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const pt=[Ue],nt=new h.OlP("@ngrx/store Internal Root Guard"),Ut=new h.OlP("@ngrx/store Internal Initial State"),lt=new h.OlP("@ngrx/store Initial State"),Pt=new h.OlP("@ngrx/store Reducer Factory"),bt=new h.OlP("@ngrx/store Internal Reducer Factory Provider"),at=new h.OlP("@ngrx/store Initial Reducers"),Rt=new h.OlP("@ngrx/store Internal Initial Reducers"),_n=new h.OlP("@ngrx/store Store Features"),Cn=new h.OlP("@ngrx/store Internal Store Reducers"),yn=new h.OlP("@ngrx/store Internal Feature Reducers"),En=new h.OlP("@ngrx/store Internal Feature Configs"),bn=new h.OlP("@ngrx/store Internal Store Features"),zn=new h.OlP("@ngrx/store Internal Feature Reducers Token"),Or=new h.OlP("@ngrx/store Feature Reducers"),pr=new h.OlP("@ngrx/store User Provided Meta Reducers"),nn=new h.OlP("@ngrx/store Meta Reducers"),ei=new h.OlP("@ngrx/store Internal Resolved Meta Reducers"),$n=new h.OlP("@ngrx/store User Runtime Checks Config"),Ar=new h.OlP("@ngrx/store Internal User Runtime Checks Config"),nr=new h.OlP("@ngrx/store Internal Runtime Checks"),ur=new h.OlP("@ngrx/store Check if Action types are unique");function rn(_e,ct={}){const je=Object.keys(_e),dt={};for(let tn=0;tn<je.length;tn++){const rr=je[tn];"function"==typeof _e[rr]&&(dt[rr]=_e[rr])}const Wt=Object.keys(dt);return function(rr,Cr){rr=void 0===rr?ct:rr;let gr=!1;const Ti={};for(let dr=0;dr<Wt.length;dr++){const ai=Wt[dr],Ds=rr[ai],Rs=(0,dt[ai])(Ds,Cr);Ti[ai]=Rs,gr=gr||Rs!==Ds}return gr?Ti:rr}}function Fn(..._e){return function(ct){if(0===_e.length)return ct;const je=_e[_e.length-1];return _e.slice(0,-1).reduceRight((Wt,tn)=>tn(Wt),je(ct))}}function vn(_e,ct){return Array.isArray(ct)&&ct.length>0&&(_e=Fn.apply(null,[...ct,_e])),(je,dt)=>{const Wt=_e(je);return(tn,rr)=>Wt(tn=void 0===tn?dt:tn,rr)}}class Tr extends k.y{}class qr extends Ue{}let Mr=(()=>{class _e extends u.X{constructor(je,dt,Wt,tn){super(tn(Wt,dt)),this.dispatcher=je,this.initialState=dt,this.reducers=Wt,this.reducerFactory=tn}get currentReducers(){return this.reducers}addFeature(je){this.addFeatures([je])}addFeatures(je){const dt=je.reduce((Wt,{reducers:tn,reducerFactory:rr,metaReducers:Cr,initialState:gr,key:Ti})=>{const dr="function"==typeof tn?function Nn(_e){const ct=Array.isArray(_e)&&_e.length>0?Fn(..._e):je=>je;return(je,dt)=>(je=ct(je),(Wt,tn)=>je(Wt=void 0===Wt?dt:Wt,tn))}(Cr)(tn,gr):vn(rr,Cr)(tn,gr);return Wt[Ti]=dr,Wt},{});this.addReducers(dt)}removeFeature(je){this.removeFeatures([je])}removeFeatures(je){this.removeReducers(je.map(dt=>dt.key))}addReducer(je,dt){this.addReducers({[je]:dt})}addReducers(je){this.reducers={...this.reducers,...je},this.updateReducers(Object.keys(je))}removeReducer(je){this.removeReducers([je])}removeReducers(je){je.forEach(dt=>{this.reducers=function Qn(_e,ct){return Object.keys(_e).filter(je=>je!==ct).reduce((je,dt)=>Object.assign(je,{[dt]:_e[dt]}),{})}(this.reducers,dt)}),this.updateReducers(je)}updateReducers(je){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:je})}ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(qr),h.LFG(lt),h.LFG(at),h.LFG(Pt))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const li=[Mr,{provide:Tr,useExisting:Mr},{provide:qr,useExisting:Ue}];let kn=(()=>{class _e extends fe.x{ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(){let ct;return function(dt){return(ct||(ct=h.n5z(_e)))(dt||_e)}}(),_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Yt=[kn];class en extends k.y{}let zr=(()=>{class _e extends u.X{constructor(je,dt,Wt,tn){super(tn);const Cr=je.pipe((0,Xe.Q)(W.N)).pipe(function pe(..._e){const ct=(0,ee.jO)(_e);return(0,J.e)((je,dt)=>{const Wt=_e.length,tn=new Array(Wt);let rr=_e.map(()=>!1),Cr=!1;for(let gr=0;gr<Wt;gr++)(0,Y.Xf)(_e[gr]).subscribe((0,X.x)(dt,Ti=>{tn[gr]=Ti,!Cr&&!rr[gr]&&(rr[gr]=!0,(Cr=rr.every(se.y))&&(rr=null))},G.Z));je.subscribe((0,X.x)(dt,gr=>{if(Cr){const Ti=[gr,...tn];dt.next(ct?ct(...Ti):Ti)}}))})}(dt)),Ti=Cr.pipe((0,Tt.R)(Ur,{state:tn}));this.stateSubscription=Ti.subscribe(({state:dr,action:ai})=>{this.next(dr),Wt.next(ai)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return _e.INIT=et,_e.\u0275fac=function(je){return new(je||_e)(h.LFG(Ue),h.LFG(Tr),h.LFG(kn),h.LFG(lt))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function Ur(_e={state:void 0},[ct,je]){const{state:dt}=_e;return{state:je(dt,ct),action:ct}}const An=[zr,{provide:en,useExisting:zr}];let Pr=(()=>{class _e extends k.y{constructor(je,dt,Wt){super(),this.actionsObserver=dt,this.reducerManager=Wt,this.source=je}select(je,...dt){return Qt.call(null,je,...dt)(this)}lift(je){const dt=new _e(this,this.actionsObserver,this.reducerManager);return dt.operator=je,dt}dispatch(je){this.actionsObserver.next(je)}next(je){this.actionsObserver.next(je)}error(je){this.actionsObserver.error(je)}complete(){this.actionsObserver.complete()}addReducer(je,dt){this.reducerManager.addReducer(je,dt)}removeReducer(je){this.reducerManager.removeReducer(je)}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(en),h.LFG(Ue),h.LFG(Mr))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const cr=[Pr];function Qt(_e,ct,...je){return function(Wt){let tn;if("string"==typeof _e){const rr=[ct,...je].filter(Boolean);tn=Wt.pipe(function Me(..._e){const ct=_e.length;if(0===ct)throw new Error("list of properties cannot be empty.");return(0,ze.U)(je=>{let dt=je;for(let Wt=0;Wt<ct;Wt++){const tn=dt?.[_e[Wt]];if(!(typeof tn<"u"))return;dt=tn}return dt})}(_e,...rr))}else{if("function"!=typeof _e)throw new TypeError(`Unexpected type '${typeof _e}' in select operator, expected 'string' or 'function'`);tn=Wt.pipe((0,ze.U)(rr=>_e(rr,ct)))}return tn.pipe((0,tt.x)())}}const jn="https://ngrx.io/guide/store/configuration/runtime-checks";function $r(_e){return void 0===_e}function Oe(_e){return null===_e}function ke(_e){return Array.isArray(_e)}function Se(_e){return"object"==typeof _e&&null!==_e}function xn(_e){return"function"==typeof _e}function Vn(_e){Object.freeze(_e);const ct=xn(_e);return Object.getOwnPropertyNames(_e).forEach(je=>{if(!je.startsWith("\u0275")&&function Tn(_e,ct){return Object.prototype.hasOwnProperty.call(_e,ct)}(_e,je)&&(!ct||"caller"!==je&&"callee"!==je&&"arguments"!==je)){const dt=_e[je];(Se(dt)||xn(dt))&&!Object.isFrozen(dt)&&Vn(dt)}}),_e}function Br(_e,ct=[]){return($r(_e)||Oe(_e))&&0===ct.length?{path:["root"],value:_e}:Object.keys(_e).reduce((dt,Wt)=>{if(dt)return dt;const tn=_e[Wt];return function fn(_e){return xn(_e)&&_e.hasOwnProperty("\u0275cmp")}(tn)?dt:!($r(tn)||Oe(tn)||function K(_e){return"number"==typeof _e}(tn)||function V(_e){return"boolean"==typeof _e}(tn)||function le(_e){return"string"==typeof _e}(tn)||ke(tn))&&(function zt(_e){if(!function ot(_e){return Se(_e)&&!ke(_e)}(_e))return!1;const ct=Object.getPrototypeOf(_e);return ct===Object.prototype||null===ct}(tn)?Br(tn,[...ct,Wt]):{path:[...ct,Wt],value:tn})},!1)}function fi(_e,ct){if(!1===_e)return;const je=_e.path.join("."),dt=new Error(`Detected unserializable ${ct} at "${je}". ${jn}#strict${ct}serializability`);throw dt.value=_e.value,dt.unserializablePath=je,dt}function Ki(_e){return(0,h.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,..._e}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ti({strictActionSerializability:_e,strictStateSerializability:ct}){return je=>_e||ct?function Dn(_e,ct){return function(je,dt){ct.action(dt)&&fi(Br(dt),"action");const Wt=_e(je,dt);return ct.state()&&fi(Br(Wt),"state"),Wt}}(je,{action:dt=>_e&&!Ai(dt),state:()=>ct}):je}function Hr({strictActionImmutability:_e,strictStateImmutability:ct}){return je=>_e||ct?function Wn(_e,ct){return function(je,dt){const Wt=ct.action(dt)?Vn(dt):dt,tn=_e(je,Wt);return ct.state()?Vn(tn):tn}}(je,{action:dt=>_e&&!Ai(dt),state:()=>ct}):je}function Ai(_e){return _e.type.startsWith("@ngrx")}function Qr({strictActionWithinNgZone:_e}){return ct=>_e?function es(_e,ct){return function(je,dt){if(ct.action(dt)&&!h.R0b.isInAngularZone())throw new Error(`Action '${dt.type}' running outside NgZone. ${jn}#strictactionwithinngzone`);return _e(je,dt)}}(ct,{action:je=>_e&&!Ai(je)}):ct}function ui(_e){return[{provide:Ar,useValue:_e},{provide:$n,useFactory:Rr,deps:[Ar]},{provide:nr,deps:[$n],useFactory:Ki},{provide:nn,multi:!0,deps:[nr],useFactory:Hr},{provide:nn,multi:!0,deps:[nr],useFactory:ti},{provide:nn,multi:!0,deps:[nr],useFactory:Qr}]}function pi(){return[{provide:ur,multi:!0,deps:[nr],useFactory:Li}]}function Rr(_e){return _e}function Li(_e){if(!_e.strictActionTypeUniqueness)return;const ct=Object.entries(Ne).filter(([,je])=>je>1).map(([je])=>je);if(ct.length)throw new Error(`Action types are registered more than once, ${ct.map(je=>`"${je}"`).join(", ")}. ${jn}#strictactiontypeuniqueness`)}let Mi=(()=>{class _e{constructor(je,dt,Wt,tn,rr,Cr){}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(Ue),h.LFG(Tr),h.LFG(kn),h.LFG(Pr),h.LFG(nt,8),h.LFG(ur,8))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})(),Fi=(()=>{class _e{constructor(je,dt,Wt,tn,rr){this.features=je,this.featureReducers=dt,this.reducerManager=Wt;const Cr=je.map((gr,Ti)=>{const ai=dt.shift()[Ti];return{...gr,reducers:ai,initialState:$e(gr.initialState)}});Wt.addFeatures(Cr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(bn),h.LFG(Or),h.LFG(Mr),h.LFG(Mi),h.LFG(ur,8))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})(),Os=(()=>{class _e{static forRoot(je,dt={}){return{ngModule:Mi,providers:[{provide:nt,useFactory:St,deps:[[Pr,new h.FiY,new h.tp0]]},{provide:Ut,useValue:dt.initialState},{provide:lt,useFactory:$e,deps:[Ut]},{provide:Rt,useValue:je},{provide:Cn,useExisting:je instanceof h.OlP?je:Rt},{provide:at,deps:[h.zs3,Rt,[new h.tBr(Cn)]],useFactory:Ci},{provide:pr,useValue:dt.metaReducers?dt.metaReducers:[]},{provide:ei,deps:[nn,pr],useFactory:gt},{provide:bt,useValue:dt.reducerFactory?dt.reducerFactory:rn},{provide:Pt,deps:[bt,ei],useFactory:vn},pt,li,Yt,An,cr,ui(dt.runtimeChecks),pi()]}}static forFeature(je,dt,Wt={}){return{ngModule:Fi,providers:[{provide:En,multi:!0,useValue:je instanceof Object?{}:Wt},{provide:_n,multi:!0,useValue:{key:je instanceof Object?je.name:je,reducerFactory:Wt instanceof h.OlP||!Wt.reducerFactory?rn:Wt.reducerFactory,metaReducers:Wt instanceof h.OlP||!Wt.metaReducers?[]:Wt.metaReducers,initialState:Wt instanceof h.OlP||!Wt.initialState?void 0:Wt.initialState}},{provide:bn,deps:[h.zs3,En,_n],useFactory:Pi},{provide:yn,multi:!0,useValue:je instanceof Object?je.reducer:dt},{provide:zn,multi:!0,useExisting:dt instanceof h.OlP?dt:yn},{provide:Or,multi:!0,deps:[h.zs3,yn,[new h.tBr(zn)]],useFactory:Ze},pi()]}}}return _e.\u0275fac=function(je){return new(je||_e)},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})();function Ci(_e,ct){return ct instanceof h.OlP?_e.get(ct):ct}function Pi(_e,ct,je){return je.map((dt,Wt)=>{if(ct[Wt]instanceof h.OlP){const tn=_e.get(ct[Wt]);return{key:dt.key,reducerFactory:tn.reducerFactory?tn.reducerFactory:rn,metaReducers:tn.metaReducers?tn.metaReducers:[],initialState:tn.initialState}}return dt})}function Ze(_e,ct){return ct.map(dt=>dt instanceof h.OlP?_e.get(dt):dt)}function $e(_e){return"function"==typeof _e?_e():_e}function gt(_e,ct){return _e.concat(ct)}function St(_e){if(_e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function $t(..._e){return{reducer:_e.pop(),types:_e.map(dt=>dt.type)}}function cn(_e,...ct){const je=new Map;for(const dt of ct)for(const Wt of dt.types){const tn=je.get(Wt);je.set(Wt,tn?(Cr,gr)=>dt.reducer(tn(Cr,gr),gr):dt.reducer)}return function(dt=_e,Wt){const tn=je.get(Wt.type);return tn?tn(dt,Wt):dt}}},8766:(jt,Ke,M)=>{M.d(Ke,{Lj:()=>Je,X3:()=>Bt});var h=M(5861);let k,fe;const X=new WeakMap,Y=new WeakMap,se=new WeakMap,G=new WeakMap,ee=new WeakMap;let Me={get(Ge,ht,He){if(Ge instanceof IDBTransaction){if("done"===ht)return Y.get(Ge);if("objectStoreNames"===ht)return Ge.objectStoreNames||se.get(Ge);if("store"===ht)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return Ne(Ge[ht])},set:(Ge,ht,He)=>(Ge[ht]=He,!0),has:(Ge,ht)=>Ge instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in Ge};function tt(Ge){return"function"==typeof Ge?function Tt(Ge){return Ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ge)?function(...ht){return Ge.apply(Pe(this),ht),Ne(X.get(this))}:function(...ht){return Ne(Ge.apply(Pe(this),ht))}:function(ht,...He){const et=Ge.call(Pe(this),ht,...He);return se.set(et,ht.sort?ht.sort():[ht]),Ne(et)}}(Ge):(Ge instanceof IDBTransaction&&function ze(Ge){if(Y.has(Ge))return;const ht=new Promise((He,et)=>{const Ue=()=>{Ge.removeEventListener("complete",pt),Ge.removeEventListener("error",nt),Ge.removeEventListener("abort",nt)},pt=()=>{He(),Ue()},nt=()=>{et(Ge.error||new DOMException("AbortError","AbortError")),Ue()};Ge.addEventListener("complete",pt),Ge.addEventListener("error",nt),Ge.addEventListener("abort",nt)});Y.set(Ge,ht)}(Ge),((Ge,ht)=>ht.some(He=>Ge instanceof He))(Ge,function W(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ge,Me):Ge)}function Ne(Ge){if(Ge instanceof IDBRequest)return function pe(Ge){const ht=new Promise((He,et)=>{const Ue=()=>{Ge.removeEventListener("success",pt),Ge.removeEventListener("error",nt)},pt=()=>{He(Ne(Ge.result)),Ue()},nt=()=>{et(Ge.error),Ue()};Ge.addEventListener("success",pt),Ge.addEventListener("error",nt)});return ht.then(He=>{He instanceof IDBCursor&&X.set(He,Ge)}).catch(()=>{}),ee.set(ht,Ge),ht}(Ge);if(G.has(Ge))return G.get(Ge);const ht=tt(Ge);return ht!==Ge&&(G.set(Ge,ht),ee.set(ht,Ge)),ht}const Pe=Ge=>ee.get(Ge);function Bt(Ge,ht,{blocked:He,upgrade:et,blocking:Ue,terminated:pt}={}){const nt=indexedDB.open(Ge,ht),Ut=Ne(nt);return et&&nt.addEventListener("upgradeneeded",lt=>{et(Ne(nt.result),lt.oldVersion,lt.newVersion,Ne(nt.transaction))}),He&&nt.addEventListener("blocked",()=>He()),Ut.then(lt=>{pt&&lt.addEventListener("close",()=>pt()),Ue&&lt.addEventListener("versionchange",()=>Ue())}).catch(()=>{}),Ut}function Je(Ge,{blocked:ht}={}){const He=indexedDB.deleteDatabase(Ge);return ht&&He.addEventListener("blocked",()=>ht()),Ne(He).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Ie=new Map;function he(Ge,ht){if(!(Ge instanceof IDBDatabase)||ht in Ge||"string"!=typeof ht)return;if(Ie.get(ht))return Ie.get(ht);const He=ht.replace(/FromIndex$/,""),et=ht!==He,Ue=Ye.includes(He);if(!(He in(et?IDBIndex:IDBObjectStore).prototype)||!Ue&&!de.includes(He))return;const pt=function(){var nt=(0,h.Z)(function*(Ut,...lt){const Pt=this.transaction(Ut,Ue?"readwrite":"readonly");let bt=Pt.store;return et&&(bt=bt.index(lt.shift())),(yield Promise.all([bt[He](...lt),Ue&&Pt.done]))[0]});return function(lt){return nt.apply(this,arguments)}}();return Ie.set(ht,pt),pt}!function Xe(Ge){Me=Ge(Me)}(Ge=>({...Ge,get:(ht,He,et)=>he(ht,He)||Ge.get(ht,He,et),has:(ht,He)=>!!he(ht,He)||Ge.has(ht,He)}))},805:(jt,Ke,M)=>{M.d(Ke,{$_:()=>Ne,F0:()=>Me,b4:()=>X,ez:()=>ze,h4:()=>tt,iZ:()=>ee,jx:()=>Pe,m8:()=>Bt,ws:()=>Y});var h=M(4650),u=M(7579),k=M(982),fe=M(6895);const W=["*"];let J=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.IN="in",de.LESS_THAN="lt",de.LESS_THAN_OR_EQUAL_TO="lte",de.GREATER_THAN="gt",de.GREATER_THAN_OR_EQUAL_TO="gte",de.BETWEEN="between",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.DATE_IS="dateIs",de.DATE_IS_NOT="dateIsNot",de.DATE_BEFORE="dateBefore",de.DATE_AFTER="dateAfter",de})(),X=(()=>{class de{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[J.STARTS_WITH,J.CONTAINS,J.NOT_CONTAINS,J.ENDS_WITH,J.EQUALS,J.NOT_EQUALS],numeric:[J.EQUALS,J.NOT_EQUALS,J.LESS_THAN,J.LESS_THAN_OR_EQUAL_TO,J.GREATER_THAN,J.GREATER_THAN_OR_EQUAL_TO],date:[J.DATE_IS,J.DATE_IS_NOT,J.DATE_BEFORE,J.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new u.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Ie){return this.translation[Ie]}setTranslation(Ie){this.translation={...this.translation,...Ie},this.translationSource.next(this.translation)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Y=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.NO_FILTER="noFilter",de.LT="lt",de.LTE="lte",de.GT="gt",de.GTE="gte",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.CLEAR="clear",de.APPLY="apply",de.MATCH_ALL="matchAll",de.MATCH_ANY="matchAny",de.ADD_RULE="addRule",de.REMOVE_RULE="removeRule",de.ACCEPT="accept",de.REJECT="reject",de.CHOOSE="choose",de.UPLOAD="upload",de.CANCEL="cancel",de.DAY_NAMES="dayNames",de.DAY_NAMES_SHORT="dayNamesShort",de.DAY_NAMES_MIN="dayNamesMin",de.MONTH_NAMES="monthNames",de.MONTH_NAMES_SHORT="monthNamesShort",de.FIRST_DAY_OF_WEEK="firstDayOfWeek",de.TODAY="today",de.WEEK_HEADER="weekHeader",de.WEAK="weak",de.MEDIUM="medium",de.STRONG="strong",de.PASSWORD_PROMPT="passwordPrompt",de.EMPTY_MESSAGE="emptyMessage",de.EMPTY_FILTER_MESSAGE="emptyFilterMessage",de})(),ee=(()=>{class de{constructor(){this.filters={startsWith:(Ie,he,Ge)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let ht=k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge);return k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge).slice(0,ht.length)===ht},contains:(Ie,he,Ge)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let ht=k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge);return-1!==k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge).indexOf(ht)},notContains:(Ie,he,Ge)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let ht=k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge);return-1===k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge).indexOf(ht)},endsWith:(Ie,he,Ge)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let ht=k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge),He=k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge);return-1!==He.indexOf(ht,He.length-ht.length)},equals:(Ie,he,Ge)=>null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge)),notEquals:(Ie,he,Ge)=>!(null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(Ge)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(Ge))),in:(Ie,he)=>{if(null==he||0===he.length)return!0;for(let Ge=0;Ge<he.length;Ge++)if(k.gb.equals(Ie,he[Ge]))return!0;return!1},between:(Ie,he)=>null==he||null==he[0]||null==he[1]||null!=Ie&&(Ie.getTime?he[0].getTime()<=Ie.getTime()&&Ie.getTime()<=he[1].getTime():he[0]<=Ie&&Ie<=he[1]),lt:(Ie,he,Ge)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<he.getTime():Ie<he),lte:(Ie,he,Ge)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<=he.getTime():Ie<=he),gt:(Ie,he,Ge)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>he.getTime():Ie>he),gte:(Ie,he,Ge)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>=he.getTime():Ie>=he),is:(Ie,he,Ge)=>this.filters.equals(Ie,he,Ge),isNot:(Ie,he,Ge)=>this.filters.notEquals(Ie,he,Ge),before:(Ie,he,Ge)=>this.filters.lt(Ie,he,Ge),after:(Ie,he,Ge)=>this.filters.gt(Ie,he,Ge),dateIs:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()===he.toDateString(),dateIsNot:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()!==he.toDateString(),dateBefore:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()<he.getTime(),dateAfter:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()>he.getTime()}}filter(Ie,he,Ge,ht,He){let et=[];if(Ie)for(let Ue of Ie)for(let pt of he){let nt=k.gb.resolveFieldData(Ue,pt);if(this.filters[ht](nt,Ge,He)){et.push(Ue);break}}return et}register(Ie,he){this.filters[Ie]=he}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),ze=(()=>{class de{constructor(){this.messageSource=new u.x,this.clearSource=new u.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Ie){Ie&&this.messageSource.next(Ie)}addAll(Ie){Ie&&Ie.length&&this.messageSource.next(Ie)}clear(Ie){this.clearSource.next(Ie||null)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})(),Me=(()=>{class de{constructor(){this.clickSource=new u.x,this.clickObservable=this.clickSource.asObservable()}add(Ie){Ie&&this.clickSource.next(Ie)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),tt=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=h.Xpm({type:de,selectors:[["p-header"]],ngContentSelectors:W,decls:1,vars:0,template:function(Ie,he){1&Ie&&(h.F$t(),h.Hsn(0))},encapsulation:2}),de})(),Ne=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=h.Xpm({type:de,selectors:[["p-footer"]],ngContentSelectors:W,decls:1,vars:0,template:function(Ie,he){1&Ie&&(h.F$t(),h.Hsn(0))},encapsulation:2}),de})(),Pe=(()=>{class de{constructor(Ie){this.template=Ie}getType(){return this.name}}return de.\u0275fac=function(Ie){return new(Ie||de)(h.Y36(h.Rgc))},de.\u0275dir=h.lG2({type:de,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),de})(),Bt=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275mod=h.oAB({type:de}),de.\u0275inj=h.cJS({imports:[fe.ez]}),de})()},5593:(jt,Ke,M)=>{M.d(Ke,{Hq:()=>ze,hJ:()=>Xe,zx:()=>Me});var h=M(4650),u=M(9592),k=M(6895),fe=M(1795),W=M(805);function J(Tt,tt){1&Tt&&h.GkF(0)}const X=function(Tt,tt,Ne,Pe){return{"p-button-icon":!0,"p-button-icon-left":Tt,"p-button-icon-right":tt,"p-button-icon-top":Ne,"p-button-icon-bottom":Pe}};function Y(Tt,tt){if(1&Tt&&h._UZ(0,"span",4),2&Tt){const Ne=h.oxw();h.Tol(Ne.loading?"p-button-loading-icon "+Ne.loadingIcon:Ne.icon),h.Q6J("ngClass",h.l5B(4,X,"left"===Ne.iconPos&&Ne.label,"right"===Ne.iconPos&&Ne.label,"top"===Ne.iconPos&&Ne.label,"bottom"===Ne.iconPos&&Ne.label)),h.uIk("aria-hidden",!0)}}function se(Tt,tt){if(1&Tt&&(h.TgZ(0,"span",5),h._uU(1),h.qZA()),2&Tt){const Ne=h.oxw();h.uIk("aria-hidden",Ne.icon&&!Ne.label),h.xp6(1),h.Oqu(Ne.label||"\xa0")}}function G(Tt,tt){if(1&Tt&&(h.TgZ(0,"span",4),h._uU(1),h.qZA()),2&Tt){const Ne=h.oxw();h.Tol(Ne.badgeClass),h.Q6J("ngClass",Ne.badgeStyleClass()),h.xp6(1),h.Oqu(Ne.badge)}}const ee=function(Tt,tt,Ne,Pe,Bt){return{"p-button p-component":!0,"p-button-icon-only":Tt,"p-button-vertical":tt,"p-disabled":Ne,"p-button-loading":Pe,"p-button-loading-label-only":Bt}},pe=["*"];let ze=(()=>{class Tt{constructor(Ne){this.el=Ne,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,u.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let Ne=document.createElement("span");this.icon&&!this.label&&Ne.setAttribute("aria-hidden","true"),Ne.className="p-button-label",this.label?Ne.appendChild(document.createTextNode(this.label)):Ne.innerHTML="&nbsp;",this.el.nativeElement.appendChild(Ne),this.initialized=!0}getStyleClass(){let Ne="p-button p-component";return this.icon&&!this.label&&(Ne+=" p-button-icon-only"),this.loading&&(Ne+=" p-disabled p-button-loading",!this.icon&&this.label&&(Ne+=" p-button-loading-label-only")),Ne}setStyleClass(){let Ne=this.getStyleClass();this.el.nativeElement.className=Ne+" "+this._initialStyleClass}createIconEl(){let Ne=document.createElement("span");Ne.className="p-button-icon",Ne.setAttribute("aria-hidden","true");let Pe=this.label?"p-button-icon-"+this.iconPos:null;Pe&&u.p.addClass(Ne,Pe);let Bt=this.getIconClass();Bt&&u.p.addMultipleClasses(Ne,Bt);let Je=u.p.findSingle(this.el.nativeElement,".p-button-label");Je?this.el.nativeElement.insertBefore(Ne,Je):this.el.nativeElement.appendChild(Ne)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let Ne=u.p.findSingle(this.el.nativeElement,".p-button-icon");Ne?Ne.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let Ne=u.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(Ne)}get label(){return this._label}set label(Ne){this._label=Ne,this.initialized&&(u.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(Ne){this._icon=Ne,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(Ne){this._loading=Ne,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return Tt.\u0275fac=function(Ne){return new(Ne||Tt)(h.Y36(h.SBq))},Tt.\u0275dir=h.lG2({type:Tt,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Tt})(),Me=(()=>{class Tt{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new h.vpe,this.onFocus=new h.vpe,this.onBlur=new h.vpe}ngAfterContentInit(){this.templates.forEach(Ne=>{Ne.getType(),this.contentTemplate=Ne.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Tt.\u0275fac=function(Ne){return new(Ne||Tt)},Tt.\u0275cmp=h.Xpm({type:Tt,selectors:[["p-button"]],contentQueries:function(Ne,Pe,Bt){if(1&Ne&&h.Suo(Bt,W.jx,4),2&Ne){let Je;h.iGM(Je=h.CRH())&&(Pe.templates=Je)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:pe,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Ne,Pe){1&Ne&&(h.F$t(),h.TgZ(0,"button",0),h.NdJ("click",function(Je){return Pe.onClick.emit(Je)})("focus",function(Je){return Pe.onFocus.emit(Je)})("blur",function(Je){return Pe.onBlur.emit(Je)}),h.Hsn(1),h.YNc(2,J,1,0,"ng-container",1),h.YNc(3,Y,1,9,"span",2),h.YNc(4,se,2,2,"span",3),h.YNc(5,G,2,4,"span",2),h.qZA()),2&Ne&&(h.Tol(Pe.styleClass),h.Q6J("ngStyle",Pe.style)("disabled",Pe.disabled||Pe.loading)("ngClass",h.qbA(11,ee,Pe.icon&&!Pe.label,("top"===Pe.iconPos||"bottom"===Pe.iconPos)&&Pe.label,Pe.disabled||Pe.loading,Pe.loading,Pe.loading&&!Pe.icon&&Pe.label)),h.uIk("type",Pe.type)("aria-label",Pe.ariaLabel),h.xp6(2),h.Q6J("ngTemplateOutlet",Pe.contentTemplate),h.xp6(1),h.Q6J("ngIf",!Pe.contentTemplate&&(Pe.icon||Pe.loading)),h.xp6(1),h.Q6J("ngIf",!Pe.contentTemplate),h.xp6(1),h.Q6J("ngIf",!Pe.contentTemplate&&Pe.badge))},dependencies:[k.mk,k.O5,k.tP,k.PC,fe.H],encapsulation:2,changeDetection:0}),Tt})(),Xe=(()=>{class Tt{}return Tt.\u0275fac=function(Ne){return new(Ne||Tt)},Tt.\u0275mod=h.oAB({type:Tt}),Tt.\u0275inj=h.cJS({imports:[k.ez,fe.T]}),Tt})()},5700:(jt,Ke,M)=>{M.d(Ke,{b:()=>Ut});var h=M(4650),u=M(805),k=M(1795),fe=M(6895);let Ut=(()=>{class lt{}return lt.\u0275fac=function(bt){return new(bt||lt)},lt.\u0275mod=h.oAB({type:lt}),lt.\u0275inj=h.cJS({imports:[fe.ez,u.m8,k.T,fe.ez,u.m8]}),lt})()},9592:(jt,Ke,M)=>{M.d(Ke,{V:()=>u,p:()=>h});let h=(()=>{class k{static addClass(W,J){W.classList?W.classList.add(J):W.className+=" "+J}static addMultipleClasses(W,J){if(W.classList){let X=J.trim().split(" ");for(let Y=0;Y<X.length;Y++)W.classList.add(X[Y])}else{let X=J.split(" ");for(let Y=0;Y<X.length;Y++)W.className+=" "+X[Y]}}static removeClass(W,J){W.classList?W.classList.remove(J):W.className=W.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(W,J){return W.classList?W.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(W.className)}static siblings(W){return Array.prototype.filter.call(W.parentNode.children,function(J){return J!==W})}static find(W,J){return Array.from(W.querySelectorAll(J))}static findSingle(W,J){return W?W.querySelector(J):null}static index(W){let J=W.parentNode.childNodes,X=0;for(var Y=0;Y<J.length;Y++){if(J[Y]==W)return X;1==J[Y].nodeType&&X++}return-1}static indexWithinGroup(W,J){let X=W.parentNode?W.parentNode.childNodes:[],Y=0;for(var se=0;se<X.length;se++){if(X[se]==W)return Y;X[se].attributes&&X[se].attributes[J]&&1==X[se].nodeType&&Y++}return-1}static relativePosition(W,J){let X=W.offsetParent?{width:W.offsetWidth,height:W.offsetHeight}:this.getHiddenElementDimensions(W);const Y=J.offsetHeight,se=J.getBoundingClientRect(),G=this.getViewport();let ee,pe;se.top+Y+X.height>G.height?(ee=-1*X.height,W.style.transformOrigin="bottom",se.top+ee<0&&(ee=-1*se.top)):(ee=Y,W.style.transformOrigin="top"),pe=X.width>G.width?-1*se.left:se.left+X.width>G.width?-1*(se.left+X.width-G.width):0,W.style.top=ee+"px",W.style.left=pe+"px"}static absolutePosition(W,J){let Tt,tt,X=W.offsetParent?{width:W.offsetWidth,height:W.offsetHeight}:this.getHiddenElementDimensions(W),Y=X.height,se=X.width,G=J.offsetHeight,ee=J.offsetWidth,pe=J.getBoundingClientRect(),ze=this.getWindowScrollTop(),Me=this.getWindowScrollLeft(),Xe=this.getViewport();pe.top+G+Y>Xe.height?(Tt=pe.top+ze-Y,W.style.transformOrigin="bottom",Tt<0&&(Tt=ze)):(Tt=G+pe.top+ze,W.style.transformOrigin="top"),tt=pe.left+se>Xe.width?Math.max(0,pe.left+Me+ee-se):pe.left+Me,W.style.top=Tt+"px",W.style.left=tt+"px"}static getParents(W,J=[]){return null===W.parentNode?J:this.getParents(W.parentNode,J.concat([W.parentNode]))}static getScrollableParents(W){let J=[];if(W){let X=this.getParents(W);const Y=/(auto|scroll)/,se=G=>{let ee=window.getComputedStyle(G,null);return Y.test(ee.getPropertyValue("overflow"))||Y.test(ee.getPropertyValue("overflowX"))||Y.test(ee.getPropertyValue("overflowY"))};for(let G of X){let ee=1===G.nodeType&&G.dataset.scrollselectors;if(ee){let pe=ee.split(",");for(let ze of pe){let Me=this.findSingle(G,ze);Me&&se(Me)&&J.push(Me)}}9!==G.nodeType&&se(G)&&J.push(G)}}return J}static getHiddenElementOuterHeight(W){W.style.visibility="hidden",W.style.display="block";let J=W.offsetHeight;return W.style.display="none",W.style.visibility="visible",J}static getHiddenElementOuterWidth(W){W.style.visibility="hidden",W.style.display="block";let J=W.offsetWidth;return W.style.display="none",W.style.visibility="visible",J}static getHiddenElementDimensions(W){let J={};return W.style.visibility="hidden",W.style.display="block",J.width=W.offsetWidth,J.height=W.offsetHeight,W.style.display="none",W.style.visibility="visible",J}static scrollInView(W,J){let X=getComputedStyle(W).getPropertyValue("borderTopWidth"),Y=X?parseFloat(X):0,se=getComputedStyle(W).getPropertyValue("paddingTop"),G=se?parseFloat(se):0,ee=W.getBoundingClientRect(),ze=J.getBoundingClientRect().top+document.body.scrollTop-(ee.top+document.body.scrollTop)-Y-G,Me=W.scrollTop,Xe=W.clientHeight,Tt=this.getOuterHeight(J);ze<0?W.scrollTop=Me+ze:ze+Tt>Xe&&(W.scrollTop=Me+ze-Xe+Tt)}static fadeIn(W,J){W.style.opacity=0;let X=+new Date,Y=0,se=function(){Y=+W.style.opacity.replace(",",".")+((new Date).getTime()-X)/J,W.style.opacity=Y,X=+new Date,+Y<1&&(window.requestAnimationFrame&&requestAnimationFrame(se)||setTimeout(se,16))};se()}static fadeOut(W,J){var X=1,G=50/J;let ee=setInterval(()=>{(X-=G)<=0&&(X=0,clearInterval(ee)),W.style.opacity=X},50)}static getWindowScrollTop(){let W=document.documentElement;return(window.pageYOffset||W.scrollTop)-(W.clientTop||0)}static getWindowScrollLeft(){let W=document.documentElement;return(window.pageXOffset||W.scrollLeft)-(W.clientLeft||0)}static matches(W,J){var X=Element.prototype;return(X.matches||X.webkitMatchesSelector||X.mozMatchesSelector||X.msMatchesSelector||function(se){return-1!==[].indexOf.call(document.querySelectorAll(se),this)}).call(W,J)}static getOuterWidth(W,J){let X=W.offsetWidth;if(J){let Y=getComputedStyle(W);X+=parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)}return X}static getHorizontalPadding(W){let J=getComputedStyle(W);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(W){let J=getComputedStyle(W);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(W){let J=W.offsetWidth,X=getComputedStyle(W);return J+=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight),J}static width(W){let J=W.offsetWidth,X=getComputedStyle(W);return J-=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight),J}static getInnerHeight(W){let J=W.offsetHeight,X=getComputedStyle(W);return J+=parseFloat(X.paddingTop)+parseFloat(X.paddingBottom),J}static getOuterHeight(W,J){let X=W.offsetHeight;if(J){let Y=getComputedStyle(W);X+=parseFloat(Y.marginTop)+parseFloat(Y.marginBottom)}return X}static getHeight(W){let J=W.offsetHeight,X=getComputedStyle(W);return J-=parseFloat(X.paddingTop)+parseFloat(X.paddingBottom)+parseFloat(X.borderTopWidth)+parseFloat(X.borderBottomWidth),J}static getWidth(W){let J=W.offsetWidth,X=getComputedStyle(W);return J-=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight)+parseFloat(X.borderLeftWidth)+parseFloat(X.borderRightWidth),J}static getViewport(){let W=window,J=document,X=J.documentElement,Y=J.getElementsByTagName("body")[0];return{width:W.innerWidth||X.clientWidth||Y.clientWidth,height:W.innerHeight||X.clientHeight||Y.clientHeight}}static getOffset(W){var J=W.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(W,J){let X=W.parentNode;if(!X)throw"Can't replace element";return X.replaceChild(J,W)}static getUserAgent(){return navigator.userAgent}static isIE(){var W=window.navigator.userAgent;return W.indexOf("MSIE ")>0||(W.indexOf("Trident/")>0?(W.indexOf("rv:"),!0):W.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(W,J){if(this.isElement(J))J.appendChild(W);else{if(!J.el||!J.el.nativeElement)throw"Cannot append "+J+" to "+W;J.el.nativeElement.appendChild(W)}}static removeChild(W,J){if(this.isElement(J))J.removeChild(W);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+W+" from "+J;J.el.nativeElement.removeChild(W)}}static removeElement(W){"remove"in Element.prototype?W.remove():W.parentNode.removeChild(W)}static isElement(W){return"object"==typeof HTMLElement?W instanceof HTMLElement:W&&"object"==typeof W&&null!==W&&1===W.nodeType&&"string"==typeof W.nodeName}static calculateScrollbarWidth(W){if(W){let J=getComputedStyle(W);return W.offsetWidth-W.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let X=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=X,X}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let W=document.createElement("div");W.className="p-scrollbar-measure",document.body.appendChild(W);let J=W.offsetHeight-W.clientHeight;return document.body.removeChild(W),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(W,J,X){W[J].apply(W,X)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let W=this.resolveUserAgent();this.browser={},W.browser&&(this.browser[W.browser]=!0,this.browser.version=W.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let W=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(W)||/(webkit)[ \/]([\w.]+)/.exec(W)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(W)||/(msie) ([\w.]+)/.exec(W)||W.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(W)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(W){return Number.isInteger?Number.isInteger(W):"number"==typeof W&&isFinite(W)&&Math.floor(W)===W}static isHidden(W){return null===W.offsetParent}static getFocusableElements(W){let J=k.find(W,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),X=[];for(let Y of J)"none"!=getComputedStyle(Y).display&&"hidden"!=getComputedStyle(Y).visibility&&X.push(Y);return X}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return k.zindex=1e3,k.calculatedScrollbarWidth=null,k.calculatedScrollbarHeight=null,k})();class u{constructor(fe,W=(()=>{})){this.element=fe,this.listener=W}bindScrollListener(){this.scrollableParents=h.getScrollableParents(this.element);for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},1795:(jt,Ke,M)=>{M.d(Ke,{H:()=>W,T:()=>J});var h=M(4650),u=M(6895),k=M(9592),fe=M(805);let W=(()=>{class X{constructor(se,G,ee){this.el=se,this.zone=G,this.config=ee}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(se){let G=this.getInk();if(!G||"none"===getComputedStyle(G,null).display)return;if(k.p.removeClass(G,"p-ink-active"),!k.p.getHeight(G)&&!k.p.getWidth(G)){let Me=Math.max(k.p.getOuterWidth(this.el.nativeElement),k.p.getOuterHeight(this.el.nativeElement));G.style.height=Me+"px",G.style.width=Me+"px"}let ee=k.p.getOffset(this.el.nativeElement),pe=se.pageX-ee.left+document.body.scrollTop-k.p.getWidth(G)/2,ze=se.pageY-ee.top+document.body.scrollLeft-k.p.getHeight(G)/2;G.style.top=ze+"px",G.style.left=pe+"px",k.p.addClass(G,"p-ink-active")}getInk(){for(let se=0;se<this.el.nativeElement.children.length;se++)if(-1!==this.el.nativeElement.children[se].className.indexOf("p-ink"))return this.el.nativeElement.children[se];return null}resetInk(){let se=this.getInk();se&&k.p.removeClass(se,"p-ink-active")}onAnimationEnd(se){k.p.removeClass(se.currentTarget,"p-ink-active")}create(){let se=document.createElement("span");se.className="p-ink",this.el.nativeElement.appendChild(se),this.animationListener=this.onAnimationEnd.bind(this),se.addEventListener("animationend",this.animationListener)}remove(){let se=this.getInk();se&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),se.removeEventListener("animationend",this.animationListener),k.p.removeElement(se))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return X.\u0275fac=function(se){return new(se||X)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(fe.b4,8))},X.\u0275dir=h.lG2({type:X,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),X})(),J=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=h.oAB({type:X}),X.\u0275inj=h.cJS({imports:[u.ez]}),X})()},1167:(jt,Ke,M)=>{M.d(Ke,{CO:()=>se,KZ:()=>G});var h=M(4650),u=M(6895),k=M(1795),fe=M(433);const W=function(ee,pe){return{"p-button-icon":!0,"p-button-icon-left":ee,"p-button-icon-right":pe}};function J(ee,pe){if(1&ee&&h._UZ(0,"span",3),2&ee){const ze=h.oxw();h.Tol(ze.checked?ze.onIcon:ze.offIcon),h.Q6J("ngClass",h.WLB(3,W,"left"===ze.iconPos,"right"===ze.iconPos))}}const X=function(ee,pe,ze){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":ee,"p-highlight":pe,"p-disabled":ze}},Y={provide:fe.JU,useExisting:(0,h.Gpc)(()=>se),multi:!0};let se=(()=>{class ee{constructor(ze){this.cd=ze,this.iconPos="left",this.onChange=new h.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(ze){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:ze,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(ze){this.checked=ze,this.cd.markForCheck()}registerOnChange(ze){this.onModelChange=ze}registerOnTouched(ze){this.onModelTouched=ze}setDisabledState(ze){this.disabled=ze,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return ee.\u0275fac=function(ze){return new(ze||ee)(h.Y36(h.sBO))},ee.\u0275cmp=h.Xpm({type:ee,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[h._Bn([Y])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(ze,Me){1&ze&&(h.TgZ(0,"div",0),h.NdJ("click",function(Tt){return Me.toggle(Tt)})("keydown.enter",function(Tt){return Me.toggle(Tt)}),h.YNc(1,J,1,6,"span",1),h.TgZ(2,"span",2),h._uU(3),h.qZA()()),2&ze&&(h.Tol(Me.styleClass),h.Q6J("ngClass",h.kEZ(8,X,Me.onIcon&&Me.offIcon&&!Me.hasOnLabel&&!Me.hasOffLabel,Me.checked,Me.disabled))("ngStyle",Me.style),h.uIk("tabindex",Me.disabled?null:"0")("aria-checked",Me.checked),h.xp6(1),h.Q6J("ngIf",Me.onIcon||Me.offIcon),h.xp6(2),h.Oqu(Me.checked?Me.hasOnLabel?Me.onLabel:"":Me.hasOffLabel?Me.offLabel:""))},dependencies:[u.mk,u.O5,u.PC,k.H],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}"],changeDetection:0}),ee})(),G=(()=>{class ee{}return ee.\u0275fac=function(ze){return new(ze||ee)},ee.\u0275mod=h.oAB({type:ee}),ee.\u0275inj=h.cJS({imports:[u.ez,k.T]}),ee})()},3608:(jt,Ke,M)=>{M.d(Ke,{u:()=>J,z:()=>X});var h=M(4650),u=M(6895),k=M(9592),fe=M(982),W=M(805);let J=(()=>{class Y{constructor(G,ee,pe){this.el=G,this.zone=ee,this.config=pe,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(G){this._disabled=G,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let G=this.getTarget(this.el.nativeElement);G.addEventListener("focus",this.focusListener),G.addEventListener("blur",this.blurListener)}})}ngOnChanges(G){G.tooltipPosition&&this.setOption({tooltipPosition:G.tooltipPosition.currentValue}),G.tooltipEvent&&this.setOption({tooltipEvent:G.tooltipEvent.currentValue}),G.appendTo&&this.setOption({appendTo:G.appendTo.currentValue}),G.positionStyle&&this.setOption({positionStyle:G.positionStyle.currentValue}),G.tooltipStyleClass&&this.setOption({tooltipStyleClass:G.tooltipStyleClass.currentValue}),G.tooltipZIndex&&this.setOption({tooltipZIndex:G.tooltipZIndex.currentValue}),G.escape&&this.setOption({escape:G.escape.currentValue}),G.showDelay&&this.setOption({showDelay:G.showDelay.currentValue}),G.hideDelay&&this.setOption({hideDelay:G.hideDelay.currentValue}),G.life&&this.setOption({life:G.life.currentValue}),G.positionTop&&this.setOption({positionTop:G.positionTop.currentValue}),G.positionLeft&&this.setOption({positionLeft:G.positionLeft.currentValue}),G.disabled&&this.setOption({disabled:G.disabled.currentValue}),G.text&&(this.setOption({tooltipLabel:G.text.currentValue}),this.active&&(G.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),G.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...G.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(G){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(G){this.deactivate()}onFocus(G){this.activate()}onBlur(G){this.deactivate()}onClick(G){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let G=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},G)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let G=document.createElement("div");G.className="p-tooltip-arrow",this.container.appendChild(G),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?k.p.appendChild(this.container,this.el.nativeElement):k.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),k.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?fe.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&fe.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let G=this.el.nativeElement.getBoundingClientRect();return{left:G.left+k.p.getWindowScrollLeft(),top:G.top+k.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let G=this.getHostOffset(),ee=G.left+k.p.getOuterWidth(this.el.nativeElement),pe=G.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let G=this.getHostOffset(),ee=G.left-k.p.getOuterWidth(this.container),pe=G.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let G=this.getHostOffset(),ee=G.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,pe=G.top-k.p.getOuterHeight(this.container);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let G=this.getHostOffset(),ee=G.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,pe=G.top+k.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}setOption(G){this._tooltipOptions={...this._tooltipOptions,...G}}getOption(G){return this._tooltipOptions[G]}getTarget(G){return k.p.hasClass(G,"p-inputwrapper")?k.p.findSingle(G,"input"):G}preAlign(G){this.container.style.left="-999px",this.container.style.top="-999px";let ee="p-tooltip p-component p-tooltip-"+G;this.container.className=this.getOption("tooltipStyleClass")?ee+" "+this.getOption("tooltipStyleClass"):ee}isOutOfBounds(){let G=this.container.getBoundingClientRect(),ee=G.top,pe=G.left,ze=k.p.getOuterWidth(this.container),Me=k.p.getOuterHeight(this.container),Xe=k.p.getViewport();return pe+ze>Xe.width||pe<0||ee<0||ee+Me>Xe.height}onWindowResize(G){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new k.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let G=this.getTarget(this.el.nativeElement);G.removeEventListener("focus",this.focusListener),G.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):k.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&fe.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return Y.\u0275fac=function(G){return new(G||Y)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(W.b4))},Y.\u0275dir=h.lG2({type:Y,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[h.TTD]}),Y})(),X=(()=>{class Y{}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({imports:[u.ez]}),Y})()},982:(jt,Ke,M)=>{M.d(Ke,{P9:()=>W,Th:()=>k,gb:()=>h});class h{static equals(X,Y,se){return se?this.resolveFieldData(X,se)===this.resolveFieldData(Y,se):this.equalsByValue(X,Y)}static equalsByValue(X,Y){if(X===Y)return!0;if(X&&Y&&"object"==typeof X&&"object"==typeof Y){var ee,pe,ze,se=Array.isArray(X),G=Array.isArray(Y);if(se&&G){if((pe=X.length)!=Y.length)return!1;for(ee=pe;0!=ee--;)if(!this.equalsByValue(X[ee],Y[ee]))return!1;return!0}if(se!=G)return!1;var Me=X instanceof Date,Xe=Y instanceof Date;if(Me!=Xe)return!1;if(Me&&Xe)return X.getTime()==Y.getTime();var Tt=X instanceof RegExp,tt=Y instanceof RegExp;if(Tt!=tt)return!1;if(Tt&&tt)return X.toString()==Y.toString();var Ne=Object.keys(X);if((pe=Ne.length)!==Object.keys(Y).length)return!1;for(ee=pe;0!=ee--;)if(!Object.prototype.hasOwnProperty.call(Y,Ne[ee]))return!1;for(ee=pe;0!=ee--;)if(!this.equalsByValue(X[ze=Ne[ee]],Y[ze]))return!1;return!0}return X!=X&&Y!=Y}static resolveFieldData(X,Y){if(X&&Y){if(this.isFunction(Y))return Y(X);if(-1==Y.indexOf("."))return X[Y];{let se=Y.split("."),G=X;for(let ee=0,pe=se.length;ee<pe;++ee){if(null==G)return null;G=G[se[ee]]}return G}}return null}static isFunction(X){return!!(X&&X.constructor&&X.call&&X.apply)}static reorderArray(X,Y,se){X&&Y!==se&&(se>=X.length&&(se%=X.length,Y%=X.length),X.splice(se,0,X.splice(Y,1)[0]))}static insertIntoOrderedArray(X,Y,se,G){if(se.length>0){let ee=!1;for(let pe=0;pe<se.length;pe++)if(this.findIndexInList(se[pe],G)>Y){se.splice(pe,0,X),ee=!0;break}ee||se.push(X)}else se.push(X)}static findIndexInList(X,Y){let se=-1;if(Y)for(let G=0;G<Y.length;G++)if(Y[G]==X){se=G;break}return se}static contains(X,Y){if(null!=X&&Y&&Y.length)for(let se of Y)if(this.equals(X,se))return!0;return!1}static removeAccents(X){return X&&X.search(/[\xC0-\xFF]/g)>-1&&(X=X.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),X}static isEmpty(X){return null==X||""===X||Array.isArray(X)&&0===X.length||!(X instanceof Date)&&"object"==typeof X&&0===Object.keys(X).length}static isNotEmpty(X){return!this.isEmpty(X)}}var u=0;function k(){return"pr_id_"+ ++u}var W=function fe(){let J=[];const G=ee=>ee&&parseInt(ee.style.zIndex,10)||0;return{get:G,set:(ee,pe,ze)=>{pe&&(pe.style.zIndex=String(((ee,pe)=>{let ze=J.length>0?J[J.length-1]:{key:ee,value:pe},Me=ze.value+(ze.key===ee?0:pe)+1;return J.push({key:ee,value:Me}),Me})(ee,ze)))},clear:ee=>{ee&&((ee=>{J=J.filter(pe=>pe.value!==ee)})(G(ee)),ee.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(jt,Ke,M)=>{function h(k,fe,W,J,X,Y,se){try{var G=k[Y](se),ee=G.value}catch(pe){return void W(pe)}G.done?fe(ee):Promise.resolve(ee).then(J,X)}function u(k){return function(){var fe=this,W=arguments;return new Promise(function(J,X){var Y=k.apply(fe,W);function se(ee){h(Y,J,X,se,G,"next",ee)}function G(ee){h(Y,J,X,se,G,"throw",ee)}se(void 0)})}}M.d(Ke,{Z:()=>u})}},jt=>{jt(jt.s=4932)}]);