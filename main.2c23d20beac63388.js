"use strict";(self.webpackChunkHappy_Paws=self.webpackChunkHappy_Paws||[]).push([[179],{7128:(Gt,Ze,M)=>{M.d(Ze,{nm:()=>pi});var c=M(6351),W=(M(4650),M(3692),M(5867),M(5861)),J=M(9681),X=M(4859),Y=M(2090),se=M(1877);const G=new Map,ee={activated:!1,tokenObservers:[]},pe={initialized:!1,enabled:!1};function Ke(Ye){return G.get(Ye)||ee}function Ae(Ye,je){G.set(Ye,je)}function tt(){return pe}class de{constructor(je,mt,At,jt,fn){if(this.operation=je,this.retryPolicy=mt,this.getWaitDuration=At,this.lowerBound=jt,this.upperBound=fn,this.pending=null,this.nextErrorWaitInterval=jt,jt>fn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var mt=this;return(0,W.Z)(function*(){mt.stop();try{mt.pending=new Y.BH,yield function Qe(Ye){return new Promise(je=>{setTimeout(je,Ye)})}(mt.getNextRun(je)),mt.pending.resolve(),yield mt.pending.promise,mt.pending=new Y.BH,yield mt.operation(),mt.pending.resolve(),yield mt.pending.promise,mt.process(!0).catch(()=>{})}catch(At){mt.retryPolicy(At)?mt.process(!1).catch(()=>{}):mt.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),mt}}}const he=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(Ye){if(!Ke(Ye).activated)throw he.create("use-before-activation",{appName:Ye.name})}function Be(Ye,je){return pt.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*({url:Ye,body:je},mt){var At,jt;const fn={"Content-Type":"application/json"},_e=mt.getImmediate({optional:!0});if(_e){const Ir=yield _e.getHeartbeatsHeader();Ir&&(fn["X-Firebase-Client"]=Ir)}const ct={method:"POST",body:JSON.stringify(je),headers:fn};let We,ht;try{We=yield fetch(Ye,ct)}catch(Ir){throw he.create("fetch-network-error",{originalErrorMessage:null===(At=Ir)||void 0===At?void 0:At.message})}if(200!==We.status)throw he.create("fetch-status-error",{httpStatus:We.status});try{ht=yield We.json()}catch(Ir){throw he.create("fetch-parse-error",{originalErrorMessage:null===(jt=Ir)||void 0===jt?void 0:jt.message})}const zt=ht.ttl.match(/^([\d.]+)(s)$/);if(!zt||!zt[2]||isNaN(Number(zt[1])))throw he.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ht.ttl}`});const nn=1e3*Number(zt[1]),rr=Date.now();return{token:ht.token,expireTimeMillis:rr+nn,issuedAtTimeMillis:rr}})).apply(this,arguments)}function kt(Ye,je){const{projectId:mt,appId:At,apiKey:jt}=Ye.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${mt}/apps/${At}:exchangeDebugToken?key=${jt}`,body:{debug_token:je}}}const Ce="firebase-app-check-store";let xt=null;function Wt(){return xt||(xt=new Promise((Ye,je)=>{var mt;try{const At=indexedDB.open("firebase-app-check-database",1);At.onsuccess=jt=>{Ye(jt.target.result)},At.onerror=jt=>{var fn;je(he.create("storage-open",{originalErrorMessage:null===(fn=jt.target.error)||void 0===fn?void 0:fn.message}))},At.onupgradeneeded=jt=>{0===jt.oldVersion&&jt.target.result.createObjectStore(Ce,{keyPath:"compositeKey"})}}catch(At){je(he.create("storage-open",{originalErrorMessage:null===(mt=At)||void 0===mt?void 0:mt.message}))}}),xt)}function fr(){return(fr=(0,W.Z)(function*(Ye,je){const At=(yield Wt()).transaction(Ce,"readwrite"),fn=At.objectStore(Ce).put({compositeKey:Ye,value:je});return new Promise((_e,ct)=>{fn.onsuccess=We=>{_e()},At.onerror=We=>{var ht;ct(he.create("storage-set",{originalErrorMessage:null===(ht=We.target.error)||void 0===ht?void 0:ht.message}))}})})).apply(this,arguments)}const Ar=new se.Yd("@firebase/app-check");function sn(Ye,je){return(0,Y.hl)()?function hn(Ye,je){return function Pr(Ye,je){return fr.apply(this,arguments)}(function jn(Ye){return`${Ye.options.appId}-${Ye.name}`}(Ye),je)}(Ye,je).catch(mt=>{Ar.warn(`Failed to write token to IndexedDB. Error: ${mt}`)}):Promise.resolve()}function bn(){return tt().enabled}function Nn(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,W.Z)(function*(){const Ye=tt();if(Ye.enabled&&Ye.token)return Ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Qn={error:"UNKNOWN_ERROR"};function Mr(Ye){return Y.US.encodeString(JSON.stringify(Ye),!1)}function ui(Ye){return kn.apply(this,arguments)}function kn(){return(kn=(0,W.Z)(function*(Ye,je=!1){const mt=Ye.app;dt(mt);const At=Ke(mt);let fn,jt=At.token;if(!jt){const We=yield At.cachedTokenPromise;We&&Rr(We)&&(jt=We)}if(!je&&jt&&Rr(jt))return{token:jt.token};let ct,_e=!1;if(bn()){At.exchangeTokenPromise||(At.exchangeTokenPromise=Be(kt(mt,yield Nn()),Ye.heartbeatServiceProvider).then(ht=>(At.exchangeTokenPromise=void 0,ht)),_e=!0);const We=yield At.exchangeTokenPromise;return yield sn(mt,We),Ae(mt,Object.assign(Object.assign({},At),{token:We})),{token:We.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().then(We=>(At.exchangeTokenPromise=void 0,We)),_e=!0),jt=yield At.exchangeTokenPromise}catch(We){"appCheck/throttled"===We.code?Ar.warn(We.message):Ar.error(We),fn=We}return jt?(ct={token:jt.token},Ae(mt,Object.assign(Object.assign({},At),{token:jt})),yield sn(mt,jt)):ct=dr(fn),_e&&An(mt,ct),ct})).apply(this,arguments)}function tn(Ye,je){const mt=Ke(Ye),At=mt.tokenObservers.filter(jt=>jt.next!==je);0===At.length&&mt.tokenRefresher&&mt.tokenRefresher.isRunning()&&mt.tokenRefresher.stop(),Ae(Ye,Object.assign(Object.assign({},mt),{tokenObservers:At}))}function zr(Ye){const{app:je}=Ye,mt=Ke(je);let At=mt.tokenRefresher;At||(At=function Hr(Ye){const{app:je}=Ye;return new de((0,W.Z)(function*(){let At;if(At=Ke(je).token?yield ui(Ye,!0):yield ui(Ye),At.error)throw At.error}),()=>!0,()=>{const mt=Ke(je);if(mt.token){let At=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,mt.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},3e4,96e4)}(Ye),Ae(je,Object.assign(Object.assign({},mt),{tokenRefresher:At}))),!At.isRunning()&&mt.isTokenAutoRefreshEnabled&&At.start()}function An(Ye,je){const mt=Ke(Ye).tokenObservers;for(const At of mt)try{"EXTERNAL"===At.type&&null!=je.error?At.error(je.error):At.next(je)}catch{}}function Rr(Ye){return Ye.expireTimeMillis-Date.now()>0}function dr(Ye){return{token:Mr(Qn),error:Ye}}class Xt{constructor(je,mt){this.app=je,this.heartbeatServiceProvider=mt}_delete(){const{tokenObservers:je}=Ke(this.app);for(const mt of je)tn(this.app,mt.next);return Promise.resolve()}}const zn="app-check-internal";!function Un(){(0,J._registerComponent)(new X.wA("app-check",Ye=>function Gn(Ye,je){return new Xt(Ye,je)}(Ye.getProvider("app").getImmediate(),Ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ye,je,mt)=>{Ye.getProvider(zn).initialize()})),(0,J._registerComponent)(new X.wA(zn,Ye=>function Wr(Ye){return{getToken:je=>ui(Ye,je),addTokenListener:je=>function Jt(Ye,je,mt,At){const{app:jt}=Ye,fn=Ke(jt),_e={next:mt,error:At,type:je};if(Ae(jt,Object.assign(Object.assign({},fn),{tokenObservers:[...fn.tokenObservers,_e]})),fn.token&&Rr(fn.token)){const ct=fn.token;Promise.resolve().then(()=>{mt({token:ct.token}),zr(Ye)}).catch(()=>{})}fn.cachedTokenPromise.then(()=>zr(Ye))}(Ye,"INTERNAL",je),removeTokenListener:je=>tn(Ye.app,je)}}(Ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/app-check","0.5.12")}();class pi{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(Gt,Ze,M)=>{M.d(Ze,{Ot:()=>fe,ZF:()=>nt,hX:()=>Ke,z6:()=>W});var c=M(5867),u=M(4650),k=M(6351);class fe{constructor(de){return de}}class W{constructor(){return(0,c.C6)()}}const Y=new u.OlP("angularfire2._apps"),se={provide:fe,useFactory:function X(Xe){return Xe&&1===Xe.length?Xe[0]:new fe((0,c.Mq)())},deps:[[new u.FiY,Y]]},G={provide:W,deps:[[new u.FiY,Y]]};function ee(Xe){return(de,Qe)=>{const Ie=de.runOutsideAngular(()=>Xe(Qe));return new fe(Ie)}}let pe=(()=>{class Xe{constructor(Qe){(0,c.KN)("angularfire",k.q4.full,"core"),(0,c.KN)("angularfire",k.q4.full,"app"),(0,c.KN)("angular",u.q4F.full,Qe.toString())}}return Xe.\u0275fac=function(Qe){return new(Qe||Xe)(u.LFG(u.Lbi))},Xe.\u0275mod=u.oAB({type:Xe}),Xe.\u0275inj=u.cJS({providers:[se,G]}),Xe})();function Ke(Xe,...de){return{ngModule:pe,providers:[{provide:Y,useFactory:ee(Xe),multi:!0,deps:[u.R0b,u.zs3,k.HU,...de]}]}}const nt=(0,k.u3)(c.ZF,!0)},1205:(Gt,Ze,M)=>{M.d(Ze,{zQ:()=>it,rT:()=>$e,f7:()=>Be,L6:()=>ze,_Q:()=>dt,lh:()=>et,Qv:()=>he,nw:()=>pt});var c=M(4650),u=M(7579),k=M(9646),fe=M(9751),W=M(8996),J=M(6451),X=M(6063);class Y extends u.x{constructor(gt=1/0,Pt=1/0,Ce=X.l){super(),this._bufferSize=gt,this._windowTime=Pt,this._timestampProvider=Ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pt===1/0,this._bufferSize=Math.max(1,gt),this._windowTime=Math.max(1,Pt)}next(gt){const{isStopped:Pt,_buffer:Ce,_infiniteTimeWindow:rt,_timestampProvider:xt,_windowTime:Wt}=this;Pt||(Ce.push(gt),!rt&&Ce.push(xt.now()+Wt)),this._trimBuffer(),super.next(gt)}_subscribe(gt){this._throwIfClosed(),this._trimBuffer();const Pt=this._innerSubscribe(gt),{_infiniteTimeWindow:Ce,_buffer:rt}=this,xt=rt.slice();for(let Wt=0;Wt<xt.length&&!gt.closed;Wt+=Ce?1:2)gt.next(xt[Wt]);return this._checkFinalizedStatuses(gt),Pt}_trimBuffer(){const{_bufferSize:gt,_timestampProvider:Pt,_buffer:Ce,_infiniteTimeWindow:rt}=this,xt=(rt?1:2)*gt;if(gt<1/0&&xt<Ce.length&&Ce.splice(0,Ce.length-xt),!rt){const Wt=Pt.now();let cn=0;for(let hn=1;hn<Ce.length&&Ce[hn]<=Wt;hn+=2)cn=hn;cn&&Ce.splice(0,cn+1)}}}var se=M(3099);function G(kt,gt,Pt){let Ce,rt=!1;return kt&&"object"==typeof kt?({bufferSize:Ce=1/0,windowTime:gt=1/0,refCount:rt=!1,scheduler:Pt}=kt):Ce=kt??1/0,(0,se.B)({connector:()=>new Y(Ce,gt,Pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:rt})}var ee=M(3900),pe=M(576);function Ke(kt,gt){return(0,pe.m)(gt)?(0,ee.w)(()=>kt,gt):(0,ee.w)(()=>kt)}var Ae=M(5363),tt=M(4004),Dt=M(590),nt=M(9468),ke=M(9300),Pe=M(6351),Ht=M(2011),Xe=M(6895),de=M(7128);M(127);const he=new c.OlP("angularfire2.auth.use-emulator"),ze=new c.OlP("angularfire2.auth.settings"),dt=new c.OlP("angularfire2.auth.tenant-id"),$e=new c.OlP("angularfire2.auth.langugage-code"),et=new c.OlP("angularfire2.auth.use-device-language"),Be=new c.OlP("angularfire.auth.persistence"),pt=(kt,gt,Pt,Ce,rt,xt,Wt,cn)=>(0,Ht.cc)(`${kt.name}.auth`,"AngularFireAuth",kt.name,()=>{const hn=gt.runOutsideAngular(()=>kt.auth());if(Pt&&hn.useEmulator(...Pt),Ce&&(hn.tenantId=Ce),hn.languageCode=rt,xt&&hn.useDeviceLanguage(),Wt)for(const[wn,Kn]of Object.entries(Wt))hn.settings[wn]=Kn;return cn&&hn.setPersistence(cn),hn},[Pt,Ce,rt,xt,Wt,cn]);let it=(()=>{class kt{constructor(Pt,Ce,rt,xt,Wt,cn,hn,wn,Kn,Pr,fr,rn){const ti=new u.x,jn=(0,k.of)(void 0).pipe((0,Ae.Q)(Wt.outsideAngular),(0,ee.w)(()=>xt.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,tt.U)(()=>(0,Ht.on)(Pt,xt,Ce)),(0,tt.U)(Ar=>pt(Ar,xt,cn,wn,Kn,Pr,hn,fr)),G({bufferSize:1,refCount:!1}));if((0,Xe.PM)(rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,k.of)(null);else{jn.pipe((0,Dt.P)()).subscribe();const nr=jn.pipe((0,ee.w)(Jn=>Jn.getRedirectResult().then(Ln=>Ln,()=>null)),Pe.iC,G({bufferSize:1,refCount:!1})),cr=jn.pipe((0,ee.w)(Jn=>new fe.y(Ln=>({unsubscribe:xt.runOutsideAngular(()=>Jn.onAuthStateChanged(bn=>Ln.next(bn),bn=>Ln.error(bn),()=>Ln.complete()))})))),sn=jn.pipe((0,ee.w)(Jn=>new fe.y(Ln=>({unsubscribe:xt.runOutsideAngular(()=>Jn.onIdTokenChanged(bn=>Ln.next(bn),bn=>Ln.error(bn),()=>Ln.complete()))}))));this.authState=nr.pipe(Ke(cr),(0,nt.R)(Wt.outsideAngular),(0,Ae.Q)(Wt.insideAngular)),this.user=nr.pipe(Ke(sn),(0,nt.R)(Wt.outsideAngular),(0,Ae.Q)(Wt.insideAngular)),this.idToken=this.user.pipe((0,ee.w)(Jn=>Jn?(0,W.D)(Jn.getIdToken()):(0,k.of)(null))),this.idTokenResult=this.user.pipe((0,ee.w)(Jn=>Jn?(0,W.D)(Jn.getIdTokenResult()):(0,k.of)(null))),this.credential=(0,J.T)(nr,ti,this.authState.pipe((0,ke.h)(Jn=>!Jn))).pipe((0,tt.U)(Jn=>Jn?.user?Jn:null),(0,nt.R)(Wt.outsideAngular),(0,Ae.Q)(Wt.insideAngular))}return(0,Ht.pX)(this,jn,xt,{spy:{apply:(Ar,nr,cr)=>{(Ar.startsWith("signIn")||Ar.startsWith("createUser"))&&cr.then(sn=>ti.next(sn))}}})}}return kt.\u0275fac=function(Pt){return new(Pt||kt)(c.LFG(Ht.Dh),c.LFG(Ht.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Pe.HU),c.LFG(he,8),c.LFG(ze,8),c.LFG(dt,8),c.LFG($e,8),c.LFG(et,8),c.LFG(Be,8),c.LFG(de.nm,8))},kt.\u0275prov=c.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"any"}),kt})()},6185:(Gt,Ze,M)=>{M.d(Ze,{ST:()=>Re});var c=M(4650),u=M(4986),k=M(9751),fe=M(8996),W=M(9646),J=M(6351),X=M(4482),Y=M(5403);function se(){return(0,X.e)((le,V)=>{let K,Me=!1;le.subscribe((0,Y.x)(V,at=>{const Zt=K;K=at,Me&&V.next([Zt,at]),Me=!0}))})}var G=M(8675),ee=M(4004),pe=M(5026),Ke=M(1884),Ae=M(9300),tt=M(2011),Dt=M(6895),ke=(M(5881),M(3942)),Pe=M(5525),Ht=M(2090),Xe=M(4859);function Ie(le,V){if(void 0===V)return{merge:!1};if(void 0!==V.mergeFields&&void 0!==V.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${le}(): You cannot specify both "merge" and "mergeFields".`);return V}function he(){if(typeof Uint8Array>"u")throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ze(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dt{constructor(V){this._delegate=V}static fromBase64String(V){return ze(),new dt(Pe.Jj.fromBase64String(V))}static fromUint8Array(V){return he(),new dt(Pe.Jj.fromUint8Array(V))}toBase64(){return ze(),this._delegate.toBase64()}toUint8Array(){return he(),this._delegate.toUint8Array()}isEqual(V){return this._delegate.isEqual(V._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $e(le){return function et(le,V){if("object"!=typeof le||null===le)return!1;const K=le;for(const Me of V)if(Me in K&&"function"==typeof K[Me])return!0;return!1}(le,["next","error","complete"])}class Be{enableIndexedDbPersistence(V,K){return(0,Pe.ST)(V._delegate,{forceOwnership:K})}enableMultiTabIndexedDbPersistence(V){return(0,Pe.fH)(V._delegate)}clearIndexedDbPersistence(V){return(0,Pe.Fc)(V._delegate)}}class pt{constructor(V,K,Me){this._delegate=K,this._persistenceProvider=Me,this.INTERNAL={delete:()=>this.terminate()},V instanceof Pe.l7||(this._appCompat=V)}get _databaseId(){return this._delegate._databaseId}settings(V){const K=this._delegate._getSettings();!V.merge&&K.host!==V.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),V.merge&&delete(V=Object.assign(Object.assign({},K),V)).merge,this._delegate._setSettings(V)}useEmulator(V,K,Me={}){(0,Pe.at)(this._delegate,V,K,Me)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(V){let K=!1,Me=!1;return V&&(K=!!V.synchronizeTabs,Me=!!V.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",K,"experimentalForceOwningTab",Me)),K?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Me)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(V){return(0,Pe.sc)(this._delegate,V)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(V){try{return new fr(this,(0,Pe.hJ)(this._delegate,V))}catch(K){throw rt(K,"collection()","Firestore.collection()")}}doc(V){try{return new Ce(this,(0,Pe.JU)(this._delegate,V))}catch(K){throw rt(K,"doc()","Firestore.doc()")}}collectionGroup(V){try{return new wn(this,(0,Pe.B$)(this._delegate,V))}catch(K){throw rt(K,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(V){return(0,Pe.i3)(this._delegate,K=>V(new kt(this,K)))}batch(){return(0,Pe.qY)(this._delegate),new gt(new Pe.PU(this._delegate,V=>(0,Pe.GL)(this._delegate,V)))}loadBundle(V){return(0,Pe.Pb)(this._delegate,V)}namedQuery(V){return(0,Pe.L$)(this._delegate,V).then(K=>K?new wn(this,K):null)}}class it extends Pe.u7{constructor(V){super(),this.firestore=V}convertBytes(V){return new dt(new Pe.Jj(V))}convertReference(V){const K=this.convertDocumentKey(V,this.firestore._databaseId);return Ce.forKey(K,this.firestore,null)}}class kt{constructor(V,K){this._firestore=V,this._delegate=K,this._userDataWriter=new it(V)}get(V){const K=rn(V);return this._delegate.get(K).then(Me=>new cn(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,Me._key,Me._document,Me.metadata,K.converter)))}set(V,K,Me){const at=rn(V);return Me?(Ie("Transaction.set",Me),this._delegate.set(at,K,Me)):this._delegate.set(at,K),this}update(V,K,Me,...at){const Zt=rn(V);return 2===arguments.length?this._delegate.update(Zt,K):this._delegate.update(Zt,K,Me,...at),this}delete(V){const K=rn(V);return this._delegate.delete(K),this}}class gt{constructor(V){this._delegate=V}set(V,K,Me){const at=rn(V);return Me?(Ie("WriteBatch.set",Me),this._delegate.set(at,K,Me)):this._delegate.set(at,K),this}update(V,K,Me,...at){const Zt=rn(V);return 2===arguments.length?this._delegate.update(Zt,K):this._delegate.update(Zt,K,Me,...at),this}delete(V){const K=rn(V);return this._delegate.delete(K),this}commit(){return this._delegate.commit()}}class Pt{constructor(V,K,Me){this._firestore=V,this._userDataWriter=K,this._delegate=Me}fromFirestore(V,K){const Me=new Pe.$q(this._firestore._delegate,this._userDataWriter,V._key,V._document,V.metadata,null);return this._delegate.fromFirestore(new hn(this._firestore,Me),K??{})}toFirestore(V,K){return K?this._delegate.toFirestore(V,K):this._delegate.toFirestore(V)}static getInstance(V,K){const Me=Pt.INSTANCES;let at=Me.get(V);at||(at=new WeakMap,Me.set(V,at));let Zt=at.get(K);return Zt||(Zt=new Pt(V,new it(V),K),at.set(K,Zt)),Zt}}Pt.INSTANCES=new WeakMap;class Ce{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new it(V)}static forPath(V,K,Me){if(V.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${V.canonicalString()} has ${V.length}`);return new Ce(K,new Pe.my(K._delegate,Me,new Pe.Ky(V)))}static forKey(V,K,Me){return new Ce(K,new Pe.my(K._delegate,Me,V))}get id(){return this._delegate.id}get parent(){return new fr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(V){try{return new fr(this.firestore,(0,Pe.hJ)(this._delegate,V))}catch(K){throw rt(K,"collection()","DocumentReference.collection()")}}isEqual(V){return(V=(0,Ht.m9)(V))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,V)}set(V,K){K=Ie("DocumentReference.set",K);try{return K?(0,Pe.pl)(this._delegate,V,K):(0,Pe.pl)(this._delegate,V)}catch(Me){throw rt(Me,"setDoc()","DocumentReference.set()")}}update(V,K,...Me){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,V):(0,Pe.r7)(this._delegate,V,K,...Me)}catch(at){throw rt(at,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...V){const K=xt(V),Me=Wt(V,at=>new cn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,at._key,at._document,at.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,K,Me)}get(V){let K;return K="cache"===V?.source?(0,Pe.kl)(this._delegate):"server"===V?.source?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),K.then(Me=>new cn(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,Me._key,Me._document,Me.metadata,this._delegate.converter)))}withConverter(V){return new Ce(this.firestore,this._delegate.withConverter(V?Pt.getInstance(this.firestore,V):null))}}function rt(le,V,K){return le.message=le.message.replace(V,K),le}function xt(le){for(const V of le)if("object"==typeof V&&!$e(V))return V;return{}}function Wt(le,V){var K,Me;let at;return at=$e(le[0])?le[0]:$e(le[1])?le[1]:"function"==typeof le[0]?{next:le[0],error:le[1],complete:le[2]}:{next:le[1],error:le[2],complete:le[3]},{next:Zt=>{at.next&&at.next(V(Zt))},error:null===(K=at.error)||void 0===K?void 0:K.bind(at),complete:null===(Me=at.complete)||void 0===Me?void 0:Me.bind(at)}}class cn{constructor(V,K){this._firestore=V,this._delegate=K}get ref(){return new Ce(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(V){return this._delegate.data(V)}get(V,K){return this._delegate.get(V,K)}isEqual(V){return(0,Pe.qK)(this._delegate,V._delegate)}}class hn extends cn{data(V){const K=this._delegate.data(V);return(0,Pe.K9)(void 0!==K,"Document in a QueryDocumentSnapshot should exist"),K}}class wn{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new it(V)}where(V,K,Me){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(V,K,Me)))}catch(at){throw rt(at,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(V,K){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(V,K)))}catch(Me){throw rt(Me,/(orderBy|where)\(\)/,"Query.$1()")}}limit(V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(V)))}catch(K){throw rt(K,"limit()","Query.limit()")}}limitToLast(V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(V)))}catch(K){throw rt(K,"limitToLast()","Query.limitToLast()")}}startAt(...V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...V)))}catch(K){throw rt(K,"startAt()","Query.startAt()")}}startAfter(...V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...V)))}catch(K){throw rt(K,"startAfter()","Query.startAfter()")}}endBefore(...V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...V)))}catch(K){throw rt(K,"endBefore()","Query.endBefore()")}}endAt(...V){try{return new wn(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...V)))}catch(K){throw rt(K,"endAt()","Query.endAt()")}}isEqual(V){return(0,Pe.iE)(this._delegate,V._delegate)}get(V){let K;return K="cache"===V?.source?(0,Pe.UQ)(this._delegate):"server"===V?.source?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),K.then(Me=>new Pr(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Me._snapshot)))}onSnapshot(...V){const K=xt(V),Me=Wt(V,at=>new Pr(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,at._snapshot)));return(0,Pe.cf)(this._delegate,K,Me)}withConverter(V){return new wn(this.firestore,this._delegate.withConverter(V?Pt.getInstance(this.firestore,V):null))}}class Kn{constructor(V,K){this._firestore=V,this._delegate=K}get type(){return this._delegate.type}get doc(){return new hn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pr{constructor(V,K){this._firestore=V,this._delegate=K}get query(){return new wn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(V=>new hn(this._firestore,V))}docChanges(V){return this._delegate.docChanges(V).map(K=>new Kn(this._firestore,K))}forEach(V,K){this._delegate.forEach(Me=>{V.call(K,new hn(this._firestore,Me))})}isEqual(V){return(0,Pe.qK)(this._delegate,V._delegate)}}class fr extends wn{constructor(V,K){super(V,K),this.firestore=V,this._delegate=K}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const V=this._delegate.parent;return V?new Ce(this.firestore,V):null}doc(V){try{return new Ce(this.firestore,void 0===V?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,V))}catch(K){throw rt(K,"doc()","CollectionReference.doc()")}}add(V){return(0,Pe.ET)(this._delegate,V).then(K=>new Ce(this.firestore,K))}isEqual(V){return(0,Pe.Eo)(this._delegate,V._delegate)}withConverter(V){return new fr(this.firestore,this._delegate.withConverter(V?Pt.getInstance(this.firestore,V):null))}}function rn(le){return(0,Pe.Cf)(le,Pe.my)}class ti{constructor(...V){this._delegate=new Pe.Lz(...V)}static documentId(){return new ti(Pe.Xb.keyField().canonicalString())}isEqual(V){return(V=(0,Ht.m9)(V))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(V._internalPath)}}class jn{constructor(V){this._delegate=V}static serverTimestamp(){const V=(0,Pe.Bt)();return V._methodName="FieldValue.serverTimestamp",new jn(V)}static delete(){const V=(0,Pe.AK)();return V._methodName="FieldValue.delete",new jn(V)}static arrayUnion(...V){const K=(0,Pe.vr)(...V);return K._methodName="FieldValue.arrayUnion",new jn(K)}static arrayRemove(...V){const K=(0,Pe.Ab)(...V);return K._methodName="FieldValue.arrayRemove",new jn(K)}static increment(V){const K=(0,Pe.nP)(V);return K._methodName="FieldValue.increment",new jn(K)}isEqual(V){return this._delegate.isEqual(V._delegate)}}const Ar={Firestore:pt,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:dt,Transaction:kt,WriteBatch:gt,DocumentReference:Ce,DocumentSnapshot:cn,Query:wn,QueryDocumentSnapshot:hn,QuerySnapshot:Pr,CollectionReference:fr,FieldPath:ti,FieldValue:jn,setLogLevel:function Bt(le){(0,Pe.Ub)(le)},CACHE_SIZE_UNLIMITED:Pe.IX};!function cr(le){(function nr(le,V){le.INTERNAL.registerComponent(new Xe.wA("firestore-compat",K=>{const Me=K.getProvider("app-compat").getImmediate(),at=K.getProvider("firestore").getImmediate();return V(Me,at)},"PUBLIC").setServiceProps(Object.assign({},Ar)))})(le,(V,K)=>new pt(V,K,new Be)),le.registerVersion("@firebase/firestore-compat","0.1.22")}(ke.Z);var sn=M(1205),Jn=M(7128);function Nn(le,V){return function bn(le,V=u.z){return new k.y(K=>{let Me;return null!=V?V.schedule(()=>{Me=le.onSnapshot({includeMetadataChanges:!0},K)}):Me=le.onSnapshot({includeMetadataChanges:!0},K),()=>{Me?.()}})}(le,V)}function Kr(le,V){return Nn(le,V).pipe((0,ee.U)(K=>({payload:K,type:"query"})))}function Qn(le,V){return Kr(le,V).pipe((0,G.O)(void 0),se(),(0,ee.U)(([K,Me])=>{const at=Me.payload.docChanges(),Zt=at.map(xn=>({type:xn.type,payload:xn}));return K&&JSON.stringify(K.payload.metadata)!==JSON.stringify(Me.payload.metadata)&&Me.payload.docs.forEach((xn,yn)=>{const Tn=at.find(Te=>Te.doc.ref.isEqual(xn.ref)),qe=K?.payload.docs.find(Te=>Te.ref.isEqual(xn.ref));Tn&&JSON.stringify(Tn.doc.metadata)===JSON.stringify(xn.metadata)||!Tn&&qe&&JSON.stringify(qe.metadata)===JSON.stringify(xn.metadata)||Zt.push({type:"modified",payload:{oldIndex:yn,newIndex:yn,type:"modified",doc:xn}})}),Zt}))}function Mr(le,V,K){return Qn(le,K).pipe((0,pe.R)((Me,at)=>function ui(le,V,K){return V.forEach(Me=>{K.indexOf(Me.type)>-1&&(le=function Jt(le,V){switch(V.type){case"added":if(!le[V.newIndex]||!le[V.newIndex].doc.ref.isEqual(V.doc.ref))return kn(le,V.newIndex,0,V);break;case"modified":if(null==le[V.oldIndex]||le[V.oldIndex].doc.ref.isEqual(V.doc.ref)){if(V.oldIndex!==V.newIndex){const K=le.slice();return K.splice(V.oldIndex,1),K.splice(V.newIndex,0,V),K}return kn(le,V.newIndex,1,V)}break;case"removed":if(le[V.oldIndex]&&le[V.oldIndex].doc.ref.isEqual(V.doc.ref))return kn(le,V.oldIndex,1)}return le}(le,Me))}),le}(Me,at.map(Zt=>Zt.payload),V),[]),(0,Ke.x)(),(0,ee.U)(Me=>Me.map(at=>({type:at.type,payload:at}))))}function kn(le,V,K,...Me){const at=le.slice();return at.splice(V,K,...Me),at}function tn(le){return(!le||0===le.length)&&(le=["added","removed","modified"]),le}M(127);class zr{constructor(V,K,Me){this.ref=V,this.query=K,this.afs=Me}stateChanges(V){let K=Qn(this.query,this.afs.schedulers.outsideAngular);return V&&V.length>0&&(K=K.pipe((0,ee.U)(Me=>Me.filter(at=>V.indexOf(at.type)>-1)))),K.pipe((0,G.O)(void 0),se(),(0,Ae.h)(([Me,at])=>at.length>0||!Me),(0,ee.U)(([Me,at])=>at),J.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,pe.R)((K,Me)=>[...K,...Me],[]))}snapshotChanges(V){const K=tn(V);return Mr(this.query,K,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return Kr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(K=>K.payload.docs.map(Me=>V.idField?Object.assign(Object.assign({},Me.data()),{[V.idField]:Me.id}):Me.data())),J.iC)}get(V){return(0,fe.D)(this.query.get(V)).pipe(J.iC)}add(V){return this.ref.add(V)}doc(V){return new Hr(this.ref.doc(V),this.afs)}}class Hr{constructor(V,K){this.ref=V,this.afs=K}set(V,K){return this.ref.set(V,K)}update(V){return this.ref.update(V)}delete(){return this.ref.delete()}collection(V,K){const Me=this.ref.collection(V),{ref:at,query:Zt}=Wr(Me,K);return new zr(at,Zt,this.afs)}snapshotChanges(){return function Tr(le,V){return Nn(le,V).pipe((0,G.O)(void 0),se(),(0,ee.U)(([K,Me])=>Me.exists?K?.exists?{payload:Me,type:"modified"}:{payload:Me,type:"added"}:{payload:Me,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return this.snapshotChanges().pipe((0,ee.U)(({payload:K})=>V.idField?Object.assign(Object.assign({},K.data()),{[V.idField]:K.id}):K.data()))}get(V){return(0,fe.D)(this.ref.get(V)).pipe(J.iC)}}class An{constructor(V,K){this.query=V,this.afs=K}stateChanges(V){return V&&0!==V.length?Qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(K=>K.filter(Me=>V.indexOf(Me.type)>-1)),(0,Ae.h)(K=>K.length>0),J.iC):Qn(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,pe.R)((K,Me)=>[...K,...Me],[]))}snapshotChanges(V){const K=tn(V);return Mr(this.query,K,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(V={}){return Kr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(Me=>Me.payload.docs.map(at=>V.idField?Object.assign({[V.idField]:at.id},at.data()):at.data())),J.iC)}get(V){return(0,fe.D)(this.query.get(V)).pipe(J.iC)}}const Rr=new c.OlP("angularfire2.enableFirestorePersistence"),dr=new c.OlP("angularfire2.firestore.persistenceSettings"),Xt=new c.OlP("angularfire2.firestore.settings"),Gn=new c.OlP("angularfire2.firestore.use-emulator");function Wr(le,V=(K=>K)){return{query:V(le),ref:le}}let Re=(()=>{class le{constructor(K,Me,at,Zt,xn,yn,Tn,qe,Te,Se,Ct,Vt,In,Mt,on,Fe,Ne){this.schedulers=Tn;const ve=(0,tt.on)(K,yn,Me),Ve=Te;Se&&(0,sn.nw)(ve,yn,Ct,In,Mt,on,Vt,Fe),[this.firestore,this.persistenceEnabled$]=(0,tt.cc)(`${ve.name}.firestore`,"AngularFirestore",ve.name,()=>{const Ot=yn.runOutsideAngular(()=>ve.firestore());if(Zt&&Ot.settings(Zt),Ve&&Ot.useEmulator(...Ve),at&&!(0,Dt.PM)(xn)){const en=()=>{try{return(0,fe.D)(Ot.enablePersistence(qe||void 0).then(()=>!0,()=>!1))}catch(zn){return typeof console<"u"&&console.warn(zn),(0,W.of)(!1)}};return[Ot,yn.runOutsideAngular(en)]}return[Ot,(0,W.of)(!1)]},[Zt,Ve,at])}collection(K,Me){let at;at="string"==typeof K?this.firestore.collection(K):K;const{ref:Zt,query:xn}=Wr(at,Me),yn=this.schedulers.ngZone.run(()=>Zt);return new zr(yn,xn,this)}collectionGroup(K,Me){const at=Me||(xn=>xn),Zt=this.firestore.collectionGroup(K);return new An(at(Zt),this)}doc(K){let Me;Me="string"==typeof K?this.firestore.doc(K):K;const at=this.schedulers.ngZone.run(()=>Me);return new Hr(at,this)}createId(){return this.firestore.collection("_").doc().id}}return le.\u0275fac=function(K){return new(K||le)(c.LFG(tt.Dh),c.LFG(tt.xv,8),c.LFG(Rr,8),c.LFG(Xt,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(J.HU),c.LFG(dr,8),c.LFG(Gn,8),c.LFG(sn.zQ,8),c.LFG(sn.Qv,8),c.LFG(sn.L6,8),c.LFG(sn._Q,8),c.LFG(sn.rT,8),c.LFG(sn.lh,8),c.LFG(sn.f7,8),c.LFG(Jn.nm,8))},le.\u0275prov=c.Yz7({token:le,factory:le.\u0275fac,providedIn:"any"}),le})()},2011:(Gt,Ze,M)=>{M.d(Ze,{Dh:()=>X,GT:()=>W,cc:()=>Ke,on:()=>se,pX:()=>fe,xv:()=>Y});var c=M(4650),u=M(127);Gt=M.hmd(Gt);const k=["ngOnDestroy"],fe=(nt,ke,Pe,Ht={})=>new Proxy(nt,{get:(Xe,de)=>Pe.runOutsideAngular(()=>{var Qe;if(nt[de])return!(null===(Qe=Ht?.spy)||void 0===Qe)&&Qe.get&&Ht.spy.get(de,nt[de]),nt[de];if(k.indexOf(de)>-1)return()=>{};const Ie=ke.toPromise().then(he=>{const ze=he&&he[de];return"function"==typeof ze?ze.bind(he):ze&&ze.then?ze.then(dt=>Pe.run(()=>dt)):Pe.run(()=>ze)});return new Proxy(()=>{},{get:(he,ze)=>Ie[ze],apply:(he,ze,dt)=>Ie.then($e=>{var et;const Be=$e&&$e(...dt);return!(null===(et=Ht?.spy)||void 0===et)&&et.apply&&Ht.spy.apply(de,dt,Be),Be})})})}),W=(nt,ke)=>{ke.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ht=>{Object.defineProperty(nt.prototype,Ht,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ht))})})};class J{constructor(ke){return ke}}const X=new c.OlP("angularfire2.app.options"),Y=new c.OlP("angularfire2.app.name");function se(nt,ke,Pe){const Xe="object"==typeof Pe&&Pe||{};Xe.name=Xe.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Qe=u.Z.apps.filter(Ie=>Ie&&Ie.name===Xe.name)[0]||ke.runOutsideAngular(()=>u.Z.initializeApp(nt,Xe));try{JSON.stringify(nt)!==JSON.stringify(Qe.options)&&G("error",`${Qe.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new J(Qe)}const G=(nt,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[nt](...ke)};function Ke(nt,ke,Pe,Ht,Xe){const[,de,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===nt)||[];if(de)return function Ae(nt,ke){try{return nt.toString()===ke.toString()}catch{return nt===ke}}(Xe,Qe)||(Dt("error",`${ke} was already initialized on the ${Pe} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),Dt("warn",{is:Xe,was:Qe})),de;{const Ie=Ht();return globalThis.\u0275AngularfireInstanceCache.push([nt,Ie,Xe]),Ie}}const tt=!!Gt.hot,Dt=(nt,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[nt](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Gt,Ze,M)=>{M.d(Ze,{q4:()=>ie,iC:()=>uo,fc:()=>ta,HU:()=>su,vb:()=>ea,JM:()=>ss,u3:()=>Ea});var c=M(4650),u=M(5867),k=M(5861),fe=M(9681),W=M(2090),J=M(4859),X=M(1877),Y=M(8766);const se="@firebase/installations",G="0.5.12",pe=`w:${G}`,Ke="FIS_v2",Pe=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(R){return R instanceof W.ZR&&R.code.includes("request-failed")}function Xe({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function de(R){return{token:R.token,requestStatus:2,expiresIn:et(R.expiresIn),creationTime:Date.now()}}function Qe(R,H){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(R,H){const De=(yield H.json()).error;return Pe.create("request-failed",{requestName:R,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function he({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ze(R,{refreshToken:H}){const oe=he(R);return oe.append("Authorization",function Be(R){return`${Ke} ${R}`}(H)),oe}function dt(R){return $e.apply(this,arguments)}function $e(){return($e=(0,k.Z)(function*(R){const H=yield R();return H.status>=500&&H.status<600?R():H})).apply(this,arguments)}function et(R){return Number(R.replace("s","000"))}function pt(R,H){return it.apply(this,arguments)}function it(){return(it=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},{fid:oe}){const De=Xe(R),ot=he(R),Tt=H.getImmediate({optional:!0});if(Tt){const mr=yield Tt.getHeartbeatsHeader();mr&&ot.append("x-firebase-client",mr)}const Cn={method:"POST",headers:ot,body:JSON.stringify({fid:oe,authVersion:Ke,appId:R.appId,sdkVersion:pe})},sr=yield dt(()=>fetch(De,Cn));if(sr.ok){const mr=yield sr.json();return{fid:mr.fid||oe,registrationStatus:2,refreshToken:mr.refreshToken,authToken:de(mr.authToken)}}throw yield Qe("Create Installation",sr)})).apply(this,arguments)}function Bt(R){return new Promise(H=>{setTimeout(H,R)})}const gt=/^[cdef][\w-]{21}$/;function Ce(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const oe=function rt(R){return function kt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return gt.test(oe)?oe:""}catch{return""}}function xt(R){return`${R.appName}!${R.appId}`}const Wt=new Map;function cn(R,H){const oe=xt(R);Kn(oe,H),function Pr(R,H){const oe=function rn(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=R=>{Kn(R.data.key,R.data.fid)}),fr}();oe&&oe.postMessage({key:R,fid:H}),function ti(){0===Wt.size&&fr&&(fr.close(),fr=null)}()}(oe,H)}function Kn(R,H){const oe=Wt.get(R);if(oe)for(const De of oe)De(H)}let fr=null;const nr="firebase-installations-store";let cr=null;function sn(){return cr||(cr=(0,Y.X3)("firebase-installations-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(nr)}})),cr}function Jn(R,H){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(R,H){const oe=xt(R),ot=(yield sn()).transaction(nr,"readwrite"),Tt=ot.objectStore(nr),Kt=yield Tt.get(oe);return yield Tt.put(H,oe),yield ot.done,(!Kt||Kt.fid!==H.fid)&&cn(R,H.fid),H})).apply(this,arguments)}function bn(R){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(R){const H=xt(R),De=(yield sn()).transaction(nr,"readwrite");yield De.objectStore(nr).delete(H),yield De.done})).apply(this,arguments)}function Tr(R,H){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,k.Z)(function*(R,H){const oe=xt(R),ot=(yield sn()).transaction(nr,"readwrite"),Tt=ot.objectStore(nr),Kt=yield Tt.get(oe),Cn=H(Kt);return void 0===Cn?yield Tt.delete(oe):yield Tt.put(Cn,oe),yield ot.done,Cn&&(!Kt||Kt.fid!==Cn.fid)&&cn(R,Cn.fid),Cn})).apply(this,arguments)}function Qn(R){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(R){let H;const oe=yield Tr(R.appConfig,De=>{const ot=ui(De),Tt=kn(R,ot);return H=Tt.registrationPromise,Tt.installationEntry});return""===oe.fid?{installationEntry:yield H}:{installationEntry:oe,registrationPromise:H}})).apply(this,arguments)}function ui(R){return Rr(R||{fid:Ce(),registrationStatus:0})}function kn(R,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Pe.create("app-offline"))};const oe={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},De=function Jt(R,H){return tn.apply(this,arguments)}(R,oe);return{installationEntry:oe,registrationPromise:De}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:zr(R)}:{installationEntry:H}}function tn(){return(tn=(0,k.Z)(function*(R,H){try{const oe=yield pt(R,H);return Jn(R.appConfig,oe)}catch(oe){throw Ht(oe)&&409===oe.customData.serverCode?yield bn(R.appConfig):yield Jn(R.appConfig,{fid:H.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function zr(R){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,k.Z)(function*(R){let H=yield An(R.appConfig);for(;1===H.registrationStatus;)yield Bt(100),H=yield An(R.appConfig);if(0===H.registrationStatus){const{installationEntry:oe,registrationPromise:De}=yield Qn(R);return De||oe}return H})).apply(this,arguments)}function An(R){return Tr(R,H=>{if(!H)throw Pe.create("installation-not-found");return Rr(H)})}function Rr(R){return function dr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Xt(R,H){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},oe){const De=Wr(R,oe),ot=ze(R,oe),Tt=H.getImmediate({optional:!0});if(Tt){const mr=yield Tt.getHeartbeatsHeader();mr&&ot.append("x-firebase-client",mr)}const Cn={method:"POST",headers:ot,body:JSON.stringify({installation:{sdkVersion:pe,appId:R.appId}})},sr=yield dt(()=>fetch(De,Cn));if(sr.ok)return de(yield sr.json());throw yield Qe("Generate Auth Token",sr)})).apply(this,arguments)}function Wr(R,{fid:H}){return`${Xe(R)}/${H}/authTokens:generate`}function Re(R){return Le.apply(this,arguments)}function Le(){return(Le=(0,k.Z)(function*(R,H=!1){let oe;const De=yield Tr(R.appConfig,Tt=>{if(!Zt(Tt))throw Pe.create("not-registered");const Kt=Tt.authToken;if(!H&&xn(Kt))return Tt;if(1===Kt.requestStatus)return oe=le(R,H),Tt;{if(!navigator.onLine)throw Pe.create("app-offline");const Cn=Tn(Tt);return oe=Me(R,Cn),Cn}});return oe?yield oe:De.authToken})).apply(this,arguments)}function le(R,H){return V.apply(this,arguments)}function V(){return(V=(0,k.Z)(function*(R,H){let oe=yield K(R.appConfig);for(;1===oe.authToken.requestStatus;)yield Bt(100),oe=yield K(R.appConfig);const De=oe.authToken;return 0===De.requestStatus?Re(R,H):De})).apply(this,arguments)}function K(R){return Tr(R,H=>{if(!Zt(H))throw Pe.create("not-registered");return function qe(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Me(R,H){return at.apply(this,arguments)}function at(){return(at=(0,k.Z)(function*(R,H){try{const oe=yield Xt(R,H),De=Object.assign(Object.assign({},H),{authToken:oe});return yield Jn(R.appConfig,De),oe}catch(oe){if(!Ht(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const De=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Jn(R.appConfig,De)}else yield bn(R.appConfig);throw oe}})).apply(this,arguments)}function Zt(R){return void 0!==R&&2===R.registrationStatus}function xn(R){return 2===R.requestStatus&&!function yn(R){const H=Date.now();return H<R.creationTime||R.creationTime+R.expiresIn<H+36e5}(R)}function Tn(R){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:H})}function Se(){return(Se=(0,k.Z)(function*(R){const H=R,{installationEntry:oe,registrationPromise:De}=yield Qn(H);return De?De.catch(console.error):Re(H).catch(console.error),oe.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(R,H=!1){const oe=R;return yield In(oe),(yield Re(oe,H)).token})).apply(this,arguments)}function In(R){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,k.Z)(function*(R){const{registrationPromise:H}=yield Qn(R);H&&(yield H)})).apply(this,arguments)}function Un(R){return Pe.create("missing-app-config-values",{valueName:R})}const Dn="installations",pi=R=>{const H=R.getProvider("app").getImmediate(),oe=function zn(R){if(!R||!R.options)throw Un("App Configuration");if(!R.name)throw Un("App Name");const H=["projectId","apiKey","appId"];for(const oe of H)if(!R.options[oe])throw Un(oe);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(H);return{app:H,appConfig:oe,heartbeatServiceProvider:(0,fe._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},ts=R=>{const H=R.getProvider("app").getImmediate(),oe=(0,fe._getProvider)(H,Dn).getImmediate();return{getId:()=>function Te(R){return Se.apply(this,arguments)}(oe),getToken:ot=>function Ct(R){return Vt.apply(this,arguments)}(oe,ot)}};(function Gi(){(0,fe._registerComponent)(new J.wA(Dn,pi,"PUBLIC")),(0,fe._registerComponent)(new J.wA("installations-internal",ts,"PRIVATE"))})(),(0,fe.registerVersion)(se,G),(0,fe.registerVersion)(se,G,"esm2017");const ni="@firebase/remote-config",gi=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rr{constructor(H,oe,De,ot){this.client=H,this.storage=oe,this.storageCache=De,this.logger=ot}isCachedDataFresh(H,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-oe,ot=De<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${ot}.`),ot}fetch(H){var oe=this;return(0,k.Z)(function*(){const[De,ot]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(ot&&oe.isCachedDataFresh(H.cacheMaxAgeMillis,De))return ot;H.eTag=ot&&ot.eTag;const Tt=yield oe.client.fetch(H),Kt=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&Kt.push(oe.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(Kt),Tt})()}}function Ir(R=navigator){return R.languages&&R.languages[0]||R.language}class pr{constructor(H,oe,De,ot,Tt,Kt){this.firebaseInstallations=H,this.sdkVersion=oe,this.namespace=De,this.projectId=ot,this.apiKey=Tt,this.appId=Kt}fetch(H){var oe=this;return(0,k.Z)(function*(){var De,ot,Tt;const[Kt,Cn]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),mr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},er={sdk_version:oe.sdkVersion,app_instance_id:Kt,app_instance_id_token:Cn,app_id:oe.appId,language_code:Ir()},yr={method:"POST",headers:Zn,body:JSON.stringify(er)},Xs=fetch(mr,yr),qa=new Promise((Io,No)=>{H.signal.addEventListener(()=>{const ps=new Error("The operation was aborted.");ps.name="AbortError",No(ps)})});let Ds;try{yield Promise.race([Xs,qa]),Ds=yield Xs}catch(Io){let No="fetch-client-network";throw"AbortError"===(null===(De=Io)||void 0===De?void 0:De.name)&&(No="fetch-timeout"),gi.create(No,{originalErrorMessage:null===(ot=Io)||void 0===ot?void 0:ot.message})}let ba=Ds.status;const Ya=Ds.headers.get("ETag")||void 0;let Qa,wa;if(200===Ds.status){let Io;try{Io=yield Ds.json()}catch(No){throw gi.create("fetch-client-parse",{originalErrorMessage:null===(Tt=No)||void 0===Tt?void 0:Tt.message})}Qa=Io.entries,wa=Io.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?ba=500:"NO_CHANGE"===wa?ba=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(Qa={}),304!==ba&&200!==ba)throw gi.create("fetch-status",{httpStatus:ba});return{status:ba,eTag:Ya,config:Qa}})()}}class ai{constructor(H,oe){this.client=H,this.storage=oe}fetch(H){var oe=this;return(0,k.Z)(function*(){const De=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(H,De)})()}attemptFetch(H,{throttleEndTimeMillis:oe,backoffCount:De}){var ot=this;return(0,k.Z)(function*(){yield function bi(R,H){return new Promise((oe,De)=>{const ot=Math.max(H-Date.now(),0),Tt=setTimeout(oe,ot);R.addEventListener(()=>{clearTimeout(Tt),De(gi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,oe);try{const Tt=yield ot.client.fetch(H);return yield ot.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function hr(R){if(!(R instanceof W.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Tt))throw Tt;const Kt={throttleEndTimeMillis:Date.now()+(0,W.$s)(De),backoffCount:De+1};return yield ot.storage.setThrottleMetadata(Kt),ot.attemptFetch(H,Kt)}})()}}class xs{constructor(H,oe,De,ot,Tt){this.app=H,this._client=oe,this._storageCache=De,this._storage=ot,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vs(R,H){var oe;const De=R.target.error||void 0;return gi.create(H,{originalErrorMessage:De&&(null===(oe=De)||void 0===oe?void 0:oe.message)})}const ys="app_namespace_store";class us{constructor(H,oe,De,ot=function Ps(){return new Promise((R,H)=>{var oe;try{const De=indexedDB.open("firebase_remote_config",1);De.onerror=ot=>{H(Vs(ot,"storage-open"))},De.onsuccess=ot=>{R(ot.target.result)},De.onupgradeneeded=ot=>{0===ot.oldVersion&&ot.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(De){H(gi.create("storage-open",{originalErrorMessage:null===(oe=De)||void 0===oe?void 0:oe.message}))}})}()){this.appId=H,this.appName=oe,this.namespace=De,this.openDbPromise=ot}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var oe=this;return(0,k.Z)(function*(){const De=yield oe.openDbPromise;return new Promise((ot,Tt)=>{var Kt;const sr=De.transaction([ys],"readonly").objectStore(ys),mr=oe.createCompositeKey(H);try{const Zn=sr.get(mr);Zn.onerror=er=>{Tt(Vs(er,"storage-get"))},Zn.onsuccess=er=>{const yr=er.target.result;ot(yr?yr.value:void 0)}}catch(Zn){Tt(gi.create("storage-get",{originalErrorMessage:null===(Kt=Zn)||void 0===Kt?void 0:Kt.message}))}})})()}set(H,oe){var De=this;return(0,k.Z)(function*(){const ot=yield De.openDbPromise;return new Promise((Tt,Kt)=>{var Cn;const mr=ot.transaction([ys],"readwrite").objectStore(ys),Zn=De.createCompositeKey(H);try{const er=mr.put({compositeKey:Zn,value:oe});er.onerror=yr=>{Kt(Vs(yr,"storage-set"))},er.onsuccess=()=>{Tt()}}catch(er){Kt(gi.create("storage-set",{originalErrorMessage:null===(Cn=er)||void 0===Cn?void 0:Cn.message}))}})})()}delete(H){var oe=this;return(0,k.Z)(function*(){const De=yield oe.openDbPromise;return new Promise((ot,Tt)=>{var Kt;const sr=De.transaction([ys],"readwrite").objectStore(ys),mr=oe.createCompositeKey(H);try{const Zn=sr.delete(mr);Zn.onerror=er=>{Tt(Vs(er,"storage-delete"))},Zn.onsuccess=()=>{ot()}}catch(Zn){Tt(gi.create("storage-delete",{originalErrorMessage:null===(Kt=Zn)||void 0===Kt?void 0:Kt.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Ai{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,k.Z)(function*(){const oe=H.storage.getLastFetchStatus(),De=H.storage.getLastSuccessfulFetchTimestampMillis(),ot=H.storage.getActiveConfig(),Tt=yield oe;Tt&&(H.lastFetchStatus=Tt);const Kt=yield De;Kt&&(H.lastSuccessfulFetchTimestampMillis=Kt);const Cn=yield ot;Cn&&(H.activeConfig=Cn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function _s(){return qi.apply(this,arguments)}function qi(){return(qi=(0,k.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function mo(){(0,fe._registerComponent)(new J.wA("remote-config",function R(H,{instanceIdentifier:oe}){const De=H.getProvider("app").getImmediate(),ot=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,W.hl)())throw gi.create("indexed-db-unavailable");const{projectId:Tt,apiKey:Kt,appId:Cn}=De.options;if(!Tt)throw gi.create("registration-project-id");if(!Kt)throw gi.create("registration-api-key");if(!Cn)throw gi.create("registration-app-id");const sr=new us(Cn,De.name,oe=oe||"firebase"),mr=new Ai(sr),Zn=new X.Yd(ni);Zn.logLevel=X.in.ERROR;const er=new pr(ot,fe.SDK_VERSION,oe,Tt,Kt,Cn),yr=new ai(er,sr),Xs=new rr(yr,sr,mr,Zn),qa=new xs(De,Xs,mr,sr,Zn);return function mt(R){const H=(0,W.m9)(R);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(qa),qa},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(ni,"0.3.11"),(0,fe.registerVersion)(ni,"0.3.11","esm2017")}();const zi="/firebase-messaging-sw.js",Bi="/firebase-cloud-messaging-push-scope",Bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Es="google.c.a.c_id",bs="google.c.a.c_l",ws="google.c.a.ts",Hs="google.c.a.e";var Br=(()=>{return(R=Br||(Br={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Br;var R})();function si(R){const H=new Uint8Array(R);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function te(R){const oe=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(oe),ot=new Uint8Array(De.length);for(let Tt=0;Tt<De.length;++Tt)ot[Tt]=De.charCodeAt(Tt);return ot}const q="fcm_token_details_db",Ue="fcm_token_object_Store";function ut(R){return _t.apply(this,arguments)}function _t(){return _t=(0,k.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(q))return null;let H=null;return(yield(0,Y.X3)(q,5,{upgrade:(De=(0,k.Z)(function*(ot,Tt,Kt,Cn){var sr;if(Tt<2||!ot.objectStoreNames.contains(Ue))return;const mr=Cn.objectStore(Ue),Zn=yield mr.index("fcmSenderId").get(R);if(yield mr.clear(),Zn)if(2===Tt){const er=Zn;if(!er.auth||!er.p256dh||!er.endpoint)return;H={token:er.fcmToken,createTime:null!==(sr=er.createTime)&&void 0!==sr?sr:Date.now(),subscriptionOptions:{auth:er.auth,p256dh:er.p256dh,endpoint:er.endpoint,swScope:er.swScope,vapidKey:"string"==typeof er.vapidKey?er.vapidKey:si(er.vapidKey)}}}else if(3===Tt){const er=Zn;H={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:si(er.auth),p256dh:si(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:si(er.vapidKey)}}}else if(4===Tt){const er=Zn;H={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:si(er.auth),p256dh:si(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:si(er.vapidKey)}}}}),function(Tt,Kt,Cn,sr){return De.apply(this,arguments)})})).close(),yield(0,Y.Lj)(q),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),ln(H)?H:null;var De}),_t.apply(this,arguments)}function ln(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:H}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Bn="firebase-messaging-store";let or=null;function gr(){return or||(or=(0,Y.X3)("firebase-messaging-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(Bn)}})),or}function ei(R){return kr.apply(this,arguments)}function kr(){return(kr=(0,k.Z)(function*(R){const H=He(R),De=yield(yield gr()).transaction(Bn).objectStore(Bn).get(H);if(De)return De;{const ot=yield ut(R.appConfig.senderId);if(ot)return yield F(R,ot),ot}})).apply(this,arguments)}function F(R,H){return re.apply(this,arguments)}function re(){return(re=(0,k.Z)(function*(R,H){const oe=He(R),ot=(yield gr()).transaction(Bn,"readwrite");return yield ot.objectStore(Bn).put(H,oe),yield ot.done,H})).apply(this,arguments)}function U(R){return ce.apply(this,arguments)}function ce(){return(ce=(0,k.Z)(function*(R){const H=He(R),De=(yield gr()).transaction(Bn,"readwrite");yield De.objectStore(Bn).delete(H),yield De.done})).apply(this,arguments)}function He({appConfig:R}){return R.appId}const st=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dn(R,H){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,k.Z)(function*(R,H){var oe;const De=yield mi(R),ot=ar(H),Tt={method:"POST",headers:De,body:JSON.stringify(ot)};let Kt;try{Kt=yield(yield fetch(ri(R.appConfig),Tt)).json()}catch(Cn){throw st.create("token-subscribe-failed",{errorInfo:null===(oe=Cn)||void 0===oe?void 0:oe.toString()})}if(Kt.error)throw st.create("token-subscribe-failed",{errorInfo:Kt.error.message});if(!Kt.token)throw st.create("token-subscribe-no-token");return Kt.token})).apply(this,arguments)}function Gr(R,H){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(R,H){var oe;const De=yield mi(R),ot=ar(H.subscriptionOptions),Tt={method:"PATCH",headers:De,body:JSON.stringify(ot)};let Kt;try{Kt=yield(yield fetch(`${ri(R.appConfig)}/${H.token}`,Tt)).json()}catch(Cn){throw st.create("token-update-failed",{errorInfo:null===(oe=Cn)||void 0===oe?void 0:oe.toString()})}if(Kt.error)throw st.create("token-update-failed",{errorInfo:Kt.error.message});if(!Kt.token)throw st.create("token-update-no-token");return Kt.token})).apply(this,arguments)}function br(R,H){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(R,H){var oe;const ot={method:"DELETE",headers:yield mi(R)};try{const Kt=yield(yield fetch(`${ri(R.appConfig)}/${H}`,ot)).json();if(Kt.error)throw st.create("token-unsubscribe-failed",{errorInfo:Kt.error.message})}catch(Tt){throw st.create("token-unsubscribe-failed",{errorInfo:null===(oe=Tt)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function ri({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function mi(R){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*({appConfig:R,installations:H}){const oe=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function ar({p256dh:R,auth:H,endpoint:oe,vapidKey:De}){const ot={web:{endpoint:oe,auth:H,p256dh:R}};return De!==Bs&&(ot.web.applicationPubKey=De),ot}const Hi=6048e5;function ds(R){return ii.apply(this,arguments)}function ii(){return(ii=(0,k.Z)(function*(R){const H=yield Ba(R.swRegistration,R.vapidKey),oe={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:H.endpoint,auth:si(H.getKey("auth")),p256dh:si(H.getKey("p256dh"))},De=yield ei(R.firebaseDependencies);if(De){if($(De.subscriptionOptions,oe))return Date.now()>=De.createTime+Hi?ns(R,{token:De.token,createTime:Date.now(),subscriptionOptions:oe}):De.token;try{yield br(R.firebaseDependencies,De.token)}catch(ot){console.warn(ot)}return wi(R.firebaseDependencies,oe)}return wi(R.firebaseDependencies,oe)})).apply(this,arguments)}function yo(R){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,k.Z)(function*(R){const H=yield ei(R.firebaseDependencies);H&&(yield br(R.firebaseDependencies,H.token),yield U(R.firebaseDependencies));const oe=yield R.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function ns(R,H){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(R,H){try{const oe=yield Gr(R.firebaseDependencies,H),De=Object.assign(Object.assign({},H),{token:oe,createTime:Date.now()});return yield F(R.firebaseDependencies,De),oe}catch(oe){throw yield yo(R),oe}})).apply(this,arguments)}function wi(R,H){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(R,H){const De={token:yield dn(R,H),createTime:Date.now(),subscriptionOptions:H};return yield F(R,De),De.token})).apply(this,arguments)}function Ba(R,H){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,k.Z)(function*(R,H){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:te(H)})})).apply(this,arguments)}function $(R,H){return H.vapidKey===R.vapidKey&&H.endpoint===R.endpoint&&H.auth===R.auth&&H.p256dh===R.p256dh}function L(R){const H={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function x(R,H){if(!H.notification)return;R.notification={};const oe=H.notification.title;oe&&(R.notification.title=oe);const De=H.notification.body;De&&(R.notification.body=De);const ot=H.notification.image;ot&&(R.notification.image=ot)}(H,R),function ue(R,H){!H.data||(R.data=H.data)}(H,R),function Et(R,H){var oe,De,ot,Tt,Kt;if(!(H.fcmOptions||null!==(oe=H.notification)&&void 0!==oe&&oe.click_action))return;R.fcmOptions={};const Cn=null!==(ot=null===(De=H.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==ot?ot:null===(Tt=H.notification)||void 0===Tt?void 0:Tt.click_action;Cn&&(R.fcmOptions.link=Cn);const sr=null===(Kt=H.fcmOptions)||void 0===Kt?void 0:Kt.analytics_label;sr&&(R.fcmOptions.analyticsLabel=sr)}(H,R),H}function gn(R){return"object"==typeof R&&!!R&&Es in R}function _i(R,H){const oe=[];for(let De=0;De<R.length;De++)oe.push(R.charAt(De)),De<H.length&&oe.push(H.charAt(De));return oe.join("")}function Ys(R){return st.create("missing-app-config-values",{valueName:R})}_i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_i("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class io{constructor(H,oe,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ot=function Pi(R){if(!R||!R.options)throw Ys("App Configuration Object");if(!R.name)throw Ys("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=R;for(const De of H)if(!oe[De])throw Ys(De);return{appName:R.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:ot,installations:oe,analyticsProvider:De}}_delete(){return Promise.resolve()}}function so(R){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,k.Z)(function*(R){var H;try{R.swRegistration=yield navigator.serviceWorker.register(zi,{scope:Bi}),R.swRegistration.update().catch(()=>{})}catch(oe){throw st.create("failed-service-worker-registration",{browserErrorMessage:null===(H=oe)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function al(R,H){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,k.Z)(function*(R,H){if(!H&&!R.swRegistration&&(yield so(R)),H||!R.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw st.create("invalid-sw-registration");R.swRegistration=H}})).apply(this,arguments)}function ll(R,H){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(R,H){H?R.vapidKey=H:R.vapidKey||(R.vapidKey=Bs)})).apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(R,H){if(!navigator)throw st.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw st.create("permission-blocked");return yield ll(R,H?.vapidKey),yield al(R,H?.serviceWorkerRegistration),ds(R)})).apply(this,arguments)}function Mi(R,H,oe){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(R,H,oe){const De=zo(H);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:oe[Es],message_name:oe[bs],message_time:oe[ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zo(R){switch(R){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yi(){return(Yi=(0,k.Z)(function*(R,H){const oe=H.data;if(!oe.isFirebaseMessaging)return;R.onMessageHandler&&oe.messageType===Br.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(L(oe)):R.onMessageHandler.next(L(oe)));const De=oe.data;gn(De)&&"1"===De[Hs]&&(yield Mi(R,oe.messageType,De))})).apply(this,arguments)}const da="@firebase/messaging",Ns=R=>{const H=new io(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function Ha(R,H){return Yi.apply(this,arguments)}(H,oe)),H},vi=R=>{const H=R.getProvider("messaging").getImmediate();return{getToken:De=>function Go(R,H){return di.apply(this,arguments)}(H,De)}};function Oa(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,k.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ma(){(0,fe._registerComponent)(new J.wA("messaging",Ns,"PUBLIC")),(0,fe._registerComponent)(new J.wA("messaging-internal",vi,"PRIVATE")),(0,fe.registerVersion)(da,"0.9.16"),(0,fe.registerVersion)(da,"0.9.16","esm2017")}();const Ko="analytics",Zo="firebase_id",Pa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fa="https://www.googletagmanager.com/gtag/js",Qi=new X.Yd("@firebase/analytics");function _o(R){return Promise.all(R.map(H=>H.catch(oe=>oe)))}function cl(R,H){const oe=document.createElement("script");oe.src=`${fa}?l=${R}&id=${H}`,oe.async=!0,document.head.appendChild(oe)}function dl(R,H,oe,De,ot,Tt){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,k.Z)(function*(R,H,oe,De,ot,Tt){const Kt=De[ot];try{if(Kt)yield H[Kt];else{const sr=(yield _o(oe)).find(mr=>mr.measurementId===ot);sr&&(yield H[sr.appId])}}catch(Cn){Qi.error(Cn)}R("config",ot,Tt)})).apply(this,arguments)}function $s(R,H,oe,De,ot){return js.apply(this,arguments)}function js(){return(js=(0,k.Z)(function*(R,H,oe,De,ot){try{let Tt=[];if(ot&&ot.send_to){let Kt=ot.send_to;Array.isArray(Kt)||(Kt=[Kt]);const Cn=yield _o(oe);for(const sr of Kt){const mr=Cn.find(er=>er.measurementId===sr),Zn=mr&&H[mr.appId];if(!Zn){Tt=[];break}Tt.push(Zn)}}0===Tt.length&&(Tt=Object.values(H)),yield Promise.all(Tt),R("event",De,ot||{})}catch(Tt){Qi.error(Tt)}})).apply(this,arguments)}function qt(){const R=window.document.getElementsByTagName("script");for(const H of Object.values(R))if(H.src&&H.src.includes(fa))return H;return null}const rs=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$l=new class Wn{constructor(H={},oe=1e3){this.throttleMetadata=H,this.intervalMillis=oe}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,oe){this.throttleMetadata[H]=oe}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function mn(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function wt(R){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,k.Z)(function*(R){var H;const{appId:oe,apiKey:De}=R,ot={method:"GET",headers:mn(De)},Tt=Pa.replace("{app-id}",oe),Kt=yield fetch(Tt,ot);if(200!==Kt.status&&304!==Kt.status){let Cn="";try{const sr=yield Kt.json();null!==(H=sr.error)&&void 0!==H&&H.message&&(Cn=sr.error.message)}catch{}throw rs.create("config-fetch-failed",{httpStatus:Kt.status,responseMessage:Cn})}return Kt.json()})).apply(this,arguments)}function oi(R){return qo.apply(this,arguments)}function qo(){return(qo=(0,k.Z)(function*(R,H=$l,oe){const{appId:De,apiKey:ot,measurementId:Tt}=R.options;if(!De)throw rs.create("no-app-id");if(!ot){if(Tt)return{measurementId:Tt,appId:De};throw rs.create("no-api-key")}const Kt=H.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Wa;return setTimeout((0,k.Z)(function*(){Cn.abort()}),void 0!==oe?oe:6e4),Fo({appId:De,apiKey:ot,measurementId:Tt},Kt,Cn,H)})).apply(this,arguments)}function Fo(R,H,oe){return pa.apply(this,arguments)}function pa(){return(pa=(0,k.Z)(function*(R,{throttleEndTimeMillis:H,backoffCount:oe},De,ot=$l){var Tt,Kt;const{appId:Cn,measurementId:sr}=R;try{yield Ml(De,H)}catch(mr){if(sr)return Qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sr} provided in the "measurementId" field in the local Firebase config. [${null===(Tt=mr)||void 0===Tt?void 0:Tt.message}]`),{appId:Cn,measurementId:sr};throw mr}try{const mr=yield wt(R);return ot.deleteThrottleMetadata(Cn),mr}catch(mr){const Zn=mr;if(!Yo(Zn)){if(ot.deleteThrottleMetadata(Cn),sr)return Qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sr} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:Cn,measurementId:sr};throw mr}const er=503===Number(null===(Kt=Zn?.customData)||void 0===Kt?void 0:Kt.httpStatus)?(0,W.$s)(oe,ot.intervalMillis,30):(0,W.$s)(oe,ot.intervalMillis),yr={throttleEndTimeMillis:Date.now()+er,backoffCount:oe+1};return ot.setThrottleMetadata(Cn,yr),Qi.debug(`Calling attemptFetch again in ${er} millis`),Fo(R,yr,De,ot)}})).apply(this,arguments)}function Ml(R,H){return new Promise((oe,De)=>{const ot=Math.max(H-Date.now(),0),Tt=setTimeout(oe,ot);R.addEventListener(()=>{clearTimeout(Tt),De(rs.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function Yo(R){if(!(R instanceof W.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Wa{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let fl,Dr;function pl(){return(pl=(0,k.Z)(function*(R,H,oe,De,ot){if(ot&&ot.global)R("event",oe,De);else{const Tt=yield H;R("event",oe,Object.assign(Object.assign({},De),{send_to:Tt}))}})).apply(this,arguments)}function ga(R){Dr=R}function $i(R){fl=R}function pn(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(){var R;if(!(0,W.hl)())return Qi.warn(rs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(H){return Qi.warn(rs.create("indexeddb-unavailable",{errorInfo:null===(R=H)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(R,H,oe,De,ot,Tt,Kt){var Cn;const sr=oi(R);sr.then(Xs=>{oe[Xs.measurementId]=Xs.appId,R.options.measurementId&&Xs.measurementId!==R.options.measurementId&&Qi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xs=>Qi.error(Xs)),H.push(sr);const mr=pn().then(Xs=>{if(Xs)return De.getId()}),[Zn,er]=yield Promise.all([sr,mr]);qt()||cl(Tt,Zn.measurementId),Dr&&(ot("consent","default",Dr),ga(void 0)),ot("js",new Date);const yr=null!==(Cn=Kt?.config)&&void 0!==Cn?Cn:{};return yr.origin="firebase",yr.update=!0,null!=er&&(yr[Zo]=er),ot("config",Zn.measurementId,yr),fl&&(ot("set",fl),$i(void 0)),Zn.measurementId})).apply(this,arguments)}class hs{constructor(H){this.app=H}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},bo=[];const ma={};let za,wr,Ji="dataLayer",Or=!1;function Ka(R,H,oe){!function bt(){const R=[];if((0,W.ru)()&&R.push("This is a browser extension environment."),(0,W.zI)()||R.push("Cookies are not available."),R.length>0){const H=R.map((De,ot)=>`(${ot+1}) ${De}`).join(" "),oe=rs.create("invalid-analytics-context",{errorInfo:H});Qi.warn(oe.message)}}();const De=R.options.appId;if(!De)throw rs.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw rs.create("no-api-key");Qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[De])throw rs.create("already-exists",{id:De});if(!Or){!function Al(R){let H=[];Array.isArray(window[R])?H=window[R]:window[R]=H}(Ji);const{wrappedGtag:Tt,gtagCore:Kt}=function hl(R,H,oe,De,ot){let Tt=function(...Kt){window[De].push(arguments)};return window[ot]&&"function"==typeof window[ot]&&(Tt=window[ot]),window[ot]=function Ra(R,H,oe,De){function Tt(){return(Tt=(0,k.Z)(function*(Kt,Cn,sr){try{"event"===Kt?yield $s(R,H,oe,Cn,sr):"config"===Kt?yield dl(R,H,oe,De,Cn,sr):"consent"===Kt?R("consent","update",sr):R("set",Cn)}catch(mr){Qi.error(mr)}})).apply(this,arguments)}return function ot(Kt,Cn,sr){return Tt.apply(this,arguments)}}(Tt,R,H,oe),{gtagCore:Tt,wrappedGtag:window[ot]}}(is,bo,ma,Ji,"gtag");wr=Tt,za=Kt,Or=!0}return is[De]=function Ga(R,H,oe,De,ot,Tt,Kt){return Js.apply(this,arguments)}(R,bo,ma,H,za,Ji,oe),new hs(R)}function gl(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,k.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const Za="@firebase/analytics";!function oo(){(0,fe._registerComponent)(new J.wA(Ko,(H,{options:oe})=>Ka(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,fe._registerComponent)(new J.wA("analytics-internal",function R(H){try{const oe=H.getProvider(Ko).getImmediate();return{logEvent:(De,ot,Tt)=>function _a(R,H,oe,De){R=(0,W.m9)(R),function Qs(R,H,oe,De,ot){return pl.apply(this,arguments)}(wr,is[R.app.options.appId],H,oe,De).catch(ot=>Qi.error(ot))}(oe,De,ot,Tt)}}catch(oe){throw rs.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,fe.registerVersion)(Za,"0.8.0"),(0,fe.registerVersion)(Za,"0.8.0","esm2017")}();var ji=M(233),T=M(4986),C=M(9751),w=M(8505),P=M(5363),B=M(9468);const ie=new c.GfV("7.4.1"),Ee="__angularfire_symbol__analyticsIsSupportedValue",xe="__angularfire_symbol__analyticsIsSupported",It="__angularfire_symbol__remoteConfigIsSupportedValue",an="__angularfire_symbol__remoteConfigIsSupported",On="__angularfire_symbol__messagingIsSupportedValue",Pn="__angularfire_symbol__messagingIsSupported";function ss(R,H,oe){if(H){if(1===H.length)return H[0];const Tt=H.filter(Kt=>Kt.app===oe);if(1===Tt.length)return Tt[0]}return oe.container.getProvider(R).getImmediate({optional:!0})}globalThis[xe]||(globalThis[xe]=gl().then(R=>globalThis[Ee]=R).catch(()=>globalThis[Ee]=!1)),globalThis[Pn]||(globalThis[Pn]=Oa().then(R=>globalThis[On]=R).catch(()=>globalThis[On]=!1)),globalThis[an]||(globalThis[an]=_s().then(R=>globalThis[It]=R).catch(()=>globalThis[It]=!1));const ea=(R,H)=>{const oe=H?[H]:(0,u.C6)(),De=[];return oe.forEach(ot=>{ot.container.getProvider(R).instances.forEach(Kt=>{De.includes(Kt)||De.push(Kt)})}),De};function Ls(){}class va{constructor(H,oe=ji.N){this.zone=H,this.delegate=oe}now(){return this.delegate.now()}schedule(H,oe,De){const ot=this.zone;return this.delegate.schedule(function(Kt){ot.runGuarded(()=>{H.apply(this,[Kt])})},oe,De)}}class wo{constructor(H){this.zone=H,this.task=null}call(H,oe){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),oe.pipe((0,w.b)({next:De,complete:De,error:De})).subscribe(H).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class R{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new va(Zone.current)),this.insideAngular=oe.run(()=>new va(Zone.current,T.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(oe){return new(oe||R)(c.LFG(c.R0b))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function os(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Po(R){return os().ngZone.runOutsideAngular(()=>R())}function lo(R){return os().ngZone.run(()=>R())}function ta(R){return R.pipe((0,P.Q)(os().outsideAngular))}function uo(R){return os(),function jl(R){return function(oe){return(oe=oe.lift(new wo(R.ngZone))).pipe((0,B.R)(R.outsideAngular),(0,P.Q)(R.insideAngular))}}(os())(R)}const Ro=(R,H)=>function(){const De=arguments;return H&&setTimeout(()=>{"scheduled"===H.state&&H.invoke()},10),lo(()=>R.apply(void 0,De))},Ea=(R,H)=>function(){let oe;const De=arguments;for(let Tt=0;Tt<arguments.length;Tt++)"function"==typeof De[Tt]&&(H&&(oe||(oe=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)))),De[Tt]=Ro(De[Tt],oe));const ot=Po(()=>R.apply(this,De));if(!H){if(ot instanceof C.y){const Tt=os();return ot.pipe((0,B.R)(Tt.outsideAngular),(0,P.Q)(Tt.insideAngular))}return lo(()=>ot)}return ot instanceof C.y?ot.pipe(uo):ot instanceof Promise?lo(()=>new Promise((Tt,Kt)=>ot.then(Cn=>lo(()=>Tt(Cn)),Cn=>lo(()=>Kt(Cn))))):"function"==typeof ot&&oe?function(){return setTimeout(()=>{oe&&"scheduled"===oe.state&&oe.invoke()},10),ot.apply(this,arguments)}:lo(()=>ot)}},6457:(Gt,Ze,M)=>{M.d(Ze,{$:()=>ri,A:()=>ee,B:()=>Ae,G:()=>ts,H:()=>Xr,J:()=>ai,L:()=>xn,M:()=>qi,N:()=>vs,P:()=>ie,Q:()=>Es,R:()=>Zi,T:()=>bs,U:()=>Bs,V:()=>Br,W:()=>si,X:()=>ut,Y:()=>vt,Z:()=>dn,_:()=>Gr,a:()=>Mn,a0:()=>ds,a1:()=>yo,a2:()=>ns,a3:()=>wi,a4:()=>Ba,a5:()=>$,a6:()=>x,a7:()=>ue,a8:()=>gn,a9:()=>_i,aA:()=>Ya,aB:()=>yr,aC:()=>Ro,aD:()=>jl,aE:()=>$r,aI:()=>mn,aL:()=>Hs,aa:()=>so,ab:()=>al,ac:()=>ll,af:()=>Mi,ag:()=>zo,ah:()=>Ha,ak:()=>Bn,al:()=>$a,an:()=>fa,ao:()=>Ri,ap:()=>Ne,aq:()=>dt,ar:()=>Fe,as:()=>In,at:()=>Ht,au:()=>ka,av:()=>No,aw:()=>Xe,ax:()=>he,ay:()=>et,az:()=>yn,b:()=>rs,c:()=>ao,d:()=>Ls,e:()=>ss,f:()=>H,g:()=>Cn,h:()=>ot,i:()=>Jo,j:()=>Zn,k:()=>nc,l:()=>Xi,m:()=>Kl,n:()=>Vc,o:()=>Y,r:()=>ji,s:()=>Ws,u:()=>P});var c=M(5861),u=M(2090),k=M(9681),fe=M(655),W=M(1877),J=M(4859);const Y={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new u.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new W.Yd("@firebase/auth");function Pe(I,...g){ke.logLevel<=W.in.ERROR&&ke.error(`Auth (${k.SDK_VERSION}): ${I}`,...g)}function Ht(I,...g){throw Ie(I,...g)}function Xe(I,...g){return Ie(I,...g)}function de(I,g,y){const S=Object.assign(Object.assign({},tt()),{[g]:y});return new u.LL("auth","Firebase",S).create(g,{appName:I.name})}function Qe(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ht(I,"argument-error"),de(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(I,...g){if("string"!=typeof I){const y=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(y,...S)}return Dt.create(I,...g)}function he(I,g,...y){if(!I)throw Ie(g,...y)}function ze(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Pe(g),new Error(g)}function dt(I,g){I||ze(g)}const $e=new Map;function et(I){dt(I instanceof Function,"Expected a class definition");let g=$e.get(I);return g?(dt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,$e.set(I,g),g)}function it(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Bt(){return"http:"===kt()||"https:"===kt()}function kt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ce{constructor(g,y){this.shortDelay=g,this.longDelay=y,dt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,u.uI)()||(0,u.b$)()}get(){return function gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,u.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rt(I,g){dt(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class xt{static initialize(g,y,S){this.fetchImpl=g,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new Ce(3e4,6e4);function hn(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function wn(I,g,y,S){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(I,g,y,S,ne={}){return Pr(I,ne,(0,c.Z)(function*(){let ge={},lt={};S&&("GET"===g?lt=S:ge={body:JSON.stringify(S)});const Ut=(0,u.xO)(Object.assign({key:I.config.apiKey},lt)).slice(1),Sn=yield I._getAdditionalHeaders();return Sn["Content-Type"]="application/json",I.languageCode&&(Sn["X-Firebase-Locale"]=I.languageCode),xt.fetch()(jn(I,I.config.apiHost,y,Ut),Object.assign({method:g,headers:Sn,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function Pr(I,g,y){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(I,g,y){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Wt),g);try{const ne=new Ar(I),ge=yield Promise.race([y(),ne.promise]);ne.clearNetworkTimeout();const lt=yield ge.json();if("needConfirmation"in lt)throw nr(I,"account-exists-with-different-credential",lt);if(ge.ok&&!("errorMessage"in lt))return lt;{const Ut=ge.ok?lt.errorMessage:lt.error.message,[Sn,Fn]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Sn)throw nr(I,"credential-already-in-use",lt);if("EMAIL_EXISTS"===Sn)throw nr(I,"email-already-in-use",lt);if("USER_DISABLED"===Sn)throw nr(I,"user-disabled",lt);const Vr=S[Sn]||Sn.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw de(I,Vr,Fn);Ht(I,Vr)}}catch(ne){if(ne instanceof u.ZR)throw ne;Ht(I,"network-request-failed")}})).apply(this,arguments)}function rn(I,g,y,S){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(I,g,y,S,ne={}){const ge=yield wn(I,g,y,S,ne);return"mfaPendingCredential"in ge&&Ht(I,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function jn(I,g,y,S){const ne=`${g}${y}?${S}`;return I.config.emulator?rt(I.config,ne):`${I.config.apiScheme}://${ne}`}class Ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Xe(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(I,g,y){const S={appName:I.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const ne=Xe(I,g,S);return ne.customData._tokenResponse=y,ne}function sn(){return(sn=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Jn(I,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bn(I,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Tr(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Mr(){return(Mr=(0,c.Z)(function*(I,g=!1){const y=(0,u.m9)(I),S=yield y.getIdToken(g),ne=kn(S);he(ne&&ne.exp&&ne.auth_time&&ne.iat,y.auth,"internal-error");const ge="object"==typeof ne.firebase?ne.firebase:void 0,lt=ge?.sign_in_provider;return{claims:ne,token:S,authTime:Tr(ui(ne.auth_time)),issuedAtTime:Tr(ui(ne.iat)),expirationTime:Tr(ui(ne.exp)),signInProvider:lt||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(I){return 1e3*Number(I)}function kn(I){var g;const[y,S,ne]=I.split(".");if(void 0===y||void 0===S||void 0===ne)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const ge=(0,u.tV)(S);return ge?JSON.parse(ge):(Pe("Failed to decode base64 JWT payload"),null)}catch(ge){return Pe("Caught error parsing JWT payload as JSON",null===(g=ge)||void 0===g?void 0:g.toString()),null}}function tn(I,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(S){throw S instanceof u.ZR&&Hr(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function Hr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class An{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const ne=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),S)}iteration(){var g=this;return(0,c.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(y=S)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Rr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(I){var g;const y=I.auth,S=yield I.getIdToken(),ne=yield tn(I,bn(y,{idToken:S}));he(ne?.users.length,y,"internal-error");const ge=ne.users[0];I._notifyReloadListener(ge);const lt=null!==(g=ge.providerUserInfo)&&void 0!==g&&g.length?Le(ge.providerUserInfo):[],Ut=Re(I.providerData,lt),Vr=!!I.isAnonymous&&!(I.email&&ge.passwordHash||Ut?.length),Oi={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Ut,metadata:new Rr(ge.createdAt,ge.lastLoginAt),isAnonymous:Vr};Object.assign(I,Oi)})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(I){const g=(0,u.m9)(I);yield dr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Re(I,g){return[...I.filter(S=>!g.some(ne=>ne.providerId===S.providerId)),...g]}function Le(I){return I.map(g=>{var{providerId:y}=g,S=(0,fe._T)(g,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function V(){return(V=(0,c.Z)(function*(I,g){const y=yield Pr(I,{},(0,c.Z)(function*(){const S=(0,u.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:ne,apiKey:ge}=I.config,lt=jn(I,ne,"/v1/token",`key=${ge}`),Ut=yield I._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(lt,{method:"POST",headers:Ut,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){he(g.idToken,"internal-error"),he(typeof g.idToken<"u","internal-error"),he(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Jt(I){const g=kn(I);return he(g,"internal-error"),he(typeof g.exp<"u","internal-error"),he(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var S=this;return(0,c.Z)(function*(){return he(!S.accessToken||S.refreshToken,g,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var S=this;return(0,c.Z)(function*(){const{accessToken:ne,refreshToken:ge,expiresIn:lt}=yield function le(I,g){return V.apply(this,arguments)}(g,y);S.updateTokensAndExpiration(ne,ge,Number(lt))})()}updateTokensAndExpiration(g,y,S){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,y){const{refreshToken:S,accessToken:ne,expirationTime:ge}=y,lt=new K;return S&&(he("string"==typeof S,"internal-error",{appName:g}),lt.refreshToken=S),ne&&(he("string"==typeof ne,"internal-error",{appName:g}),lt.accessToken=ne),ge&&(he("number"==typeof ge,"internal-error",{appName:g}),lt.expirationTime=ge),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return ze("not implemented")}}function Me(I,g){he("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class at{constructor(g){var{uid:y,auth:S,stsTokenManager:ne}=g,ge=(0,fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Rr(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const S=yield tn(y,y.stsTokenManager.getToken(y.auth,g));return he(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(g){return function Qn(I){return Mr.apply(this,arguments)}(this,g)}reload(){return function Gn(I){return Wr.apply(this,arguments)}(this)}_assign(g){this!==g&&(he(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new at(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var S=this;return(0,c.Z)(function*(){let ne=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),ne=!0),y&&(yield dr(S)),yield S.auth._persistUserIfCurrent(S),ne&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield tn(g,function cr(I,g){return sn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var S,ne,ge,lt,Ut,Sn,Fn,Vr;const Oi=null!==(S=y.displayName)&&void 0!==S?S:void 0,Ca=null!==(ne=y.email)&&void 0!==ne?ne:void 0,Ta=null!==(ge=y.phoneNumber)&&void 0!==ge?ge:void 0,vl=null!==(lt=y.photoURL)&&void 0!==lt?lt:void 0,Xa=null!==(Ut=y.tenantId)&&void 0!==Ut?Ut:void 0,ic=null!==(Sn=y._redirectEventId)&&void 0!==Sn?Sn:void 0,lu=null!==(Fn=y.createdAt)&&void 0!==Fn?Fn:void 0,ia=null!==(Vr=y.lastLoginAt)&&void 0!==Vr?Vr:void 0,{uid:es,emailVerified:uu,isAnonymous:sc,providerData:as,stsTokenManager:li}=y;he(es&&li,g,"internal-error");const Dd=K.fromJSON(this.name,li);he("string"==typeof es,g,"internal-error"),Me(Oi,g.name),Me(Ca,g.name),he("boolean"==typeof uu,g,"internal-error"),he("boolean"==typeof sc,g,"internal-error"),Me(Ta,g.name),Me(vl,g.name),Me(Xa,g.name),Me(ic,g.name),Me(lu,g.name),Me(ia,g.name);const oc=new at({uid:es,auth:g,email:Ca,emailVerified:uu,displayName:Oi,isAnonymous:sc,photoURL:vl,phoneNumber:Ta,tenantId:Xa,stsTokenManager:Dd,createdAt:lu,lastLoginAt:ia});return as&&Array.isArray(as)&&(oc.providerData=as.map(Nl=>Object.assign({},Nl))),ic&&(oc._redirectEventId=ic),oc}static _fromIdTokenResponse(g,y,S=!1){return(0,c.Z)(function*(){const ne=new K;ne.updateFromServerResponse(y);const ge=new at({uid:y.localId,auth:g,stsTokenManager:ne,isAnonymous:S});return yield dr(ge),ge})()}}const xn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,S){var ne=this;return(0,c.Z)(function*(){ne.storage[y]=S})()}_get(y){var S=this;return(0,c.Z)(function*(){const ne=S.storage[y];return void 0===ne?null:ne})()}_remove(y){var S=this;return(0,c.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return I.type="NONE",I})();function yn(I,g,y){return`firebase:${I}:${g}:${y}`}class Tn{constructor(g,y,S){this.persistence=g,this.auth=y,this.userKey=S;const{config:ne,name:ge}=this.auth;this.fullUserKey=yn(this.userKey,ne.apiKey,ge),this.fullPersistenceKey=yn("persistence",ne.apiKey,ge),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?at._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,S="authUser"){return(0,c.Z)(function*(){if(!y.length)return new Tn(et(xn),g,S);const ne=(yield Promise.all(y.map(function(){var Fn=(0,c.Z)(function*(Vr){if(yield Vr._isAvailable())return Vr});return function(Vr){return Fn.apply(this,arguments)}}()))).filter(Fn=>Fn);let ge=ne[0]||et(xn);const lt=yn(S,g.config.apiKey,g.name);let Ut=null;for(const Fn of y)try{const Vr=yield Fn._get(lt);if(Vr){const Oi=at._fromJSON(g,Vr);Fn!==ge&&(Ut=Oi),ge=Fn;break}}catch{}const Sn=ne.filter(Fn=>Fn._shouldAllowMigration);return ge._shouldAllowMigration&&Sn.length?(ge=Sn[0],Ut&&(yield ge._set(lt,Ut.toJSON())),yield Promise.all(y.map(function(){var Fn=(0,c.Z)(function*(Vr){if(Vr!==ge)try{yield Vr._remove(lt)}catch{}});return function(Vr){return Fn.apply(this,arguments)}}())),new Tn(ge,g,S)):new Tn(ge,g,S)})()}}function qe(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Te(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Mt(g))return"Blackberry";if(on(g))return"Webos";if(Se(g))return"Safari";if((g.includes("chrome/")||Ct(g))&&!g.includes("edge/"))return"Chrome";if(In(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Te(I=(0,u.z$)()){return/firefox\//i.test(I)}function Se(I=(0,u.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ct(I=(0,u.z$)()){return/crios\//i.test(I)}function Vt(I=(0,u.z$)()){return/iemobile/i.test(I)}function In(I=(0,u.z$)()){return/android/i.test(I)}function Mt(I=(0,u.z$)()){return/blackberry/i.test(I)}function on(I=(0,u.z$)()){return/webos/i.test(I)}function Fe(I=(0,u.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ne(I=(0,u.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Ot(I=(0,u.z$)()){return Fe(I)||In(I)||on(I)||Mt(I)||/windows phone/i.test(I)||Vt(I)}function zn(I,g=[]){let y;switch(I){case"Browser":y=qe((0,u.z$)());break;case"Worker":y=`${qe((0,u.z$)())}-${I}`;break;default:y=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${S}`}class Un{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const S=ge=>new Promise((lt,Ut)=>{try{lt(g(ge))}catch(Sn){Ut(Sn)}});S.onAbort=y,this.queue.push(S);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,c.Z)(function*(){var S;if(y.auth.currentUser===g)return;const ne=[];try{for(const ge of y.queue)yield ge(g),ge.onAbort&&ne.push(ge.onAbort)}catch(ge){ne.reverse();for(const lt of ne)try{lt()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=ge)||void 0===S?void 0:S.message})}})()}}class Dn{constructor(g,y,S){this.app=g,this.heartbeatServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var S=this;return y&&(this._popupRedirectResolver=et(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var ne,ge;if(!S._deleted&&(S.persistenceManager=yield Tn.create(S,g),!S._deleted)){if(null!==(ne=S._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(ge=S.currentUser)||void 0===ge?void 0:ge.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var S;const ne=yield y.assertedPersistence.getCurrentUser();let ge=ne,lt=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ut=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,Sn=ge?._redirectEventId,Fn=yield y.tryRedirectSignIn(g);(!Ut||Ut===Sn)&&Fn?.user&&(ge=Fn.user,lt=!0)}if(!ge)return y.directlySetCurrentUser(null);if(!ge._redirectEventId){if(lt)try{yield y.beforeStateQueue.runMiddleware(ge)}catch(Ut){ge=ne,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ut))}return ge?y.reloadAndSetCurrentUserOrClear(ge):y.directlySetCurrentUser(null)}return he(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ge._redirectEventId?y.directlySetCurrentUser(ge):y.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){var S;try{yield dr(g)}catch(ne){if("auth/network-request-failed"!==(null===(S=ne)||void 0===S?void 0:S.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Pt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const S=g?(0,u.m9)(g):null;return S&&he(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(g,y=!1){var S=this;return(0,c.Z)(function*(){if(!S._deleted)return g&&he(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,c.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(et(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new u.LL("auth","Firebase",g())}onAuthStateChanged(g,y,S){return this.registerStateListener(this.authStateSubscription,g,y,S)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,S){return this.registerStateListener(this.idTokenSubscription,g,y,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var S=this;return(0,c.Z)(function*(){const ne=yield S.getOrInitRedirectPersistenceManager(y);return null===g?ne.removeCurrentUser():ne.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const S=g&&et(g)||y._popupRedirectResolver;he(S,y,"argument-error"),y.redirectPersistenceManager=yield Tn.create(y,[et(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var S,ne;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===g?y._currentUser:(null===(ne=y.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,S,ne){if(this._deleted)return()=>{};const ge="function"==typeof y?y:y.next.bind(y),lt=this._isInitialized?Promise.resolve():this._initializationPromise;return he(lt,this,"internal-error"),lt.then(()=>ge(this.currentUser)),"function"==typeof y?g.addObserver(y,S,ne):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var y;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const ne=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return ne&&(S["X-Firebase-Client"]=ne),S})()}}function $r(I){return(0,u.m9)(I)}class pi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,u.ne)(y=>this.observer=y)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ts(I,g,y){const S=$r(I);he(S._canInitEmulator,S,"emulator-config-failed"),he(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const ne=!!y?.disableWarnings,ge=Gi(g),{host:lt,port:Ut}=function ni(I){const g=Gi(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(S);if(ne){const ge=ne[1];return{host:ge,port:jr(S.substr(ge.length+1))}}{const[ge,lt]=S.split(":");return{host:ge,port:jr(lt)}}}(g);S.config.emulator={url:`${ge}//${lt}${null===Ut?"":`:${Ut}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:lt,port:Ut,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Di(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Gi(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function jr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Xr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ze("not implemented")}_getIdTokenResponse(g){return ze("not implemented")}_linkToIdToken(g,y){return ze("not implemented")}_getReauthenticationResolver(g){return ze("not implemented")}}function ci(I,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:resetPassword",hn(I,g))})).apply(this,arguments)}function Nr(I,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Si(I,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:update",hn(I,g))})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithPassword",hn(I,g))})).apply(this,arguments)}function xi(I,g){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:sendOobCode",hn(I,g))})).apply(this,arguments)}function je(I,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(I,g){return xi(I,g)})).apply(this,arguments)}function At(I,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(I,g){return xi(I,g)})).apply(this,arguments)}function fn(I,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(I,g){return xi(I,g)})).apply(this,arguments)}function ct(I,g){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(I,g){return xi(I,g)})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithEmailLink",hn(I,g))})).apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithEmailLink",hn(I,g))})).apply(this,arguments)}class Ir extends Xr{constructor(g,y,S,ne=null){super("password",S),this._email=g,this._password=y,this._tenantId=ne}static _fromEmailAndPassword(g,y){return new Ir(g,y,"password")}static _fromEmailAndCode(g,y,S=null){return new Ir(g,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function Ms(I,g){return Ei.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ht(I,g){return zt.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ht(g,"internal-error")}})()}_linkToIdToken(g,y){var S=this;return(0,c.Z)(function*(){switch(S.signInMethod){case"password":return Nr(g,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function nn(I,g){return rr.apply(this,arguments)}(g,{idToken:y,email:S._email,oobCode:S._password});default:Ht(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function pr(I,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithIdp",hn(I,g))})).apply(this,arguments)}class ai extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ai(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ht("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:ne}=y,ge=(0,fe._T)(y,["providerId","signInMethod"]);if(!S||!ne)return null;const lt=new ai(S,ne);return lt.idToken=ge.idToken||void 0,lt.accessToken=ge.accessToken||void 0,lt.secret=ge.secret,lt.nonce=ge.nonce,lt.pendingToken=ge.pendingToken||null,lt}_getIdTokenResponse(g){return pr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,pr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,pr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,u.xO)(y)}return g}}function Os(I,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:sendVerificationCode",hn(I,g))})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithPhoneNumber",hn(I,g))})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(I,g){const y=yield rn(I,"POST","/v1/accounts:signInWithPhoneNumber",hn(I,g));if(y.temporaryProof)throw nr(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const $o={USER_NOT_FOUND:"user-not-found"};function us(){return(us=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithPhoneNumber",hn(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),$o)})).apply(this,arguments)}class Ai extends Xr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ai({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ai({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function xs(I,g){return Vs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function ys(I,g){return Us.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ps(I,g){return us.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:S,verificationCode:ne}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:S,code:ne}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:S,phoneNumber:ne,temporaryProof:ge}=g;return S||y||ne||ge?new Ai({verificationId:y,verificationCode:S,phoneNumber:ne,temporaryProof:ge}):null}}class cs{constructor(g){var y,S,ne,ge,lt,Ut;const Sn=(0,u.zd)((0,u.pd)(g)),Fn=null!==(y=Sn.apiKey)&&void 0!==y?y:null,Vr=null!==(S=Sn.oobCode)&&void 0!==S?S:null,Oi=function mo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=Sn.mode)&&void 0!==ne?ne:null);he(Fn&&Vr&&Oi,"argument-error"),this.apiKey=Fn,this.operation=Oi,this.code=Vr,this.continueUrl=null!==(ge=Sn.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(lt=Sn.languageCode)&&void 0!==lt?lt:null,this.tenantId=null!==(Ut=Sn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(g){const y=function jo(I){const g=(0,u.zd)((0,u.pd)(I)).link,y=g?(0,u.zd)((0,u.pd)(g)).deep_link_id:null,S=(0,u.zd)((0,u.pd)(I)).deep_link_id;return(S?(0,u.zd)((0,u.pd)(S)).link:null)||S||y||g||I}(g);try{return new cs(y)}catch{return null}}}let qi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,S){return Ir._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const ne=cs.parseLink(S);return he(ne,"argument-error"),Ir._fromEmailAndCode(y,ne.code,ne.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class zi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Bi extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Bs extends Bi{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return he("providerId"in y&&"signInMethod"in y,"argument-error"),ai._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return he(g.idToken||g.accessToken,"argument-error"),ai._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Bs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Bs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:ne,pendingToken:ge,nonce:lt,providerId:Ut}=g;if(!S&&!ne&&!y&&!ge||!Ut)return null;try{return new Bs(Ut)._credential({idToken:y,accessToken:S,nonce:lt,pendingToken:ge})}catch{return null}}}let vs=(()=>{class I extends Bi{constructor(){super("facebook.com")}static credential(y){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Es=(()=>{class I extends Bi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:ne}=y;if(!S&&!ne)return null;try{return I.credential(S,ne)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),bs=(()=>{class I extends Bi{constructor(){super("github.com")}static credential(y){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Hs extends Xr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return pr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,pr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,pr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:ne,pendingToken:ge}=y;return S&&ne&&ge&&S===ne?new Hs(S,ge):null}static _create(g,y){return new Hs(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends zi{constructor(g){he(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Br.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Br.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Hs.fromJSON(g);return he(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:S}=g;if(!y||!S)return null;try{return Hs._create(S,y)}catch{return null}}}let si=(()=>{class I extends Bi{constructor(){super("twitter.com")}static credential(y,S){return ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:ne}=y;if(!S||!ne)return null;try{return I.credential(S,ne)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function te(I,g){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signUp",hn(I,g))})).apply(this,arguments)}class we{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,S,ne=!1){return(0,c.Z)(function*(){const ge=yield at._fromIdTokenResponse(g,S,ne),lt=Ue(S);return new we({user:ge,providerId:lt,_tokenResponse:S,operationType:y})})()}static _forOperation(g,y,S){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const ne=Ue(S);return new we({user:g,providerId:ne,_tokenResponse:S,operationType:y})})()}}function Ue(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ut(I){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(I){var g;const y=$r(I);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new we({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield te(y,{returnSecureToken:!0}),ne=yield we._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class ln extends u.ZR{constructor(g,y,S,ne){var ge;super(y.code,y.message),this.operationType=S,this.user=ne,Object.setPrototypeOf(this,ln.prototype),this.customData={appName:g.name,tenantId:null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,y,S,ne){return new ln(g,y,S,ne)}}function _n(I,g,y,S){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?ln._fromErrorAndOperation(I,ge,g,S):ge})}function vn(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Bn(I,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(I,g){const y=(0,u.m9)(I);yield kr(!0,y,g);const{providerUserInfo:S}=yield Jn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),ne=vn(S||[]);return y.providerData=y.providerData.filter(ge=>ne.has(ge.providerId)),ne.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function gr(I,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(I,g,y=!1){const S=yield tn(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return we._forOperation(I,"link",S)})).apply(this,arguments)}function kr(I,g,y){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(I,g,y){yield dr(g);const ne=!1===I?"provider-already-linked":"no-such-provider";he(vn(g.providerData).has(y)===I,g.auth,ne)})).apply(this,arguments)}function re(I,g){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(I,g,y=!1){var S;const{auth:ne}=I,ge="reauthenticate";try{const lt=yield tn(I,_n(ne,ge,g,I),y);he(lt.idToken,ne,"internal-error");const Ut=kn(lt.idToken);he(Ut,ne,"internal-error");const{sub:Sn}=Ut;return he(I.uid===Sn,ne,"user-mismatch"),we._forOperation(I,ge,lt)}catch(lt){throw"auth/user-not-found"===(null===(S=lt)||void 0===S?void 0:S.code)&&Ht(ne,"user-mismatch"),lt}})).apply(this,arguments)}function ce(I,g){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(I,g,y=!1){const S="signIn",ne=yield _n(I,S,g),ge=yield we._fromIdTokenResponse(I,S,ne);return y||(yield I._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function vt(I,g){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(I,g){return ce($r(I),g)})).apply(this,arguments)}function dn(I,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(I,g){const y=(0,u.m9)(I);return yield kr(!1,y,g.providerId),gr(y,g)})).apply(this,arguments)}function Gr(I,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(I,g){return re((0,u.m9)(I),g)})).apply(this,arguments)}function br(I,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(I,g){return rn(I,"POST","/v1/accounts:signInWithCustomToken",hn(I,g))})).apply(this,arguments)}function ri(I,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(I,g){const y=$r(I),S=yield br(y,{token:g,returnSecureToken:!0}),ne=yield we._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Lt{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?ar._fromServerResponse(g,y):Ht(g,"internal-error")}}class ar extends Lt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new ar(y)}}function Hi(I,g,y){var S;he((null===(S=y.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),he(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(he(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(he(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function ds(I,g,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne={requestType:"PASSWORD_RESET",email:g};y&&Hi(S,ne,y),yield At(S,ne)})).apply(this,arguments)}function yo(I,g,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(I,g,y){yield ci((0,u.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ns(I,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(I,g){yield Si((0,u.m9)(I),{oobCode:g})})).apply(this,arguments)}function wi(I,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(I,g){const y=(0,u.m9)(I),S=yield ci(y,{oobCode:g}),ne=S.requestType;switch(he(ne,y,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(S.mfaInfo,y,"internal-error");default:he(S.email,y,"internal-error")}let ge=null;return S.mfaInfo&&(ge=Lt._fromServerResponse($r(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ge},operation:ne}})).apply(this,arguments)}function Ba(I,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(I,g){const{data:y}=yield wi((0,u.m9)(I),g);return y.email})).apply(this,arguments)}function $(I,g,y){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(I,g,y){const S=$r(I),ne=yield te(S,{returnSecureToken:!0,email:g,password:y}),ge=yield we._fromIdTokenResponse(S,"signIn",ne);return yield S._updateCurrentUser(ge.user),ge})).apply(this,arguments)}function x(I,g,y){return vt((0,u.m9)(I),qi.credential(g,y))}function ue(I,g,y){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne={requestType:"EMAIL_SIGNIN",email:g};he(y.handleCodeInApp,S,"argument-error"),y&&Hi(S,ne,y),yield fn(S,ne)})).apply(this,arguments)}function gn(I,g){return"EMAIL_SIGNIN"===cs.parseLink(g)?.operation}function _i(I,g,y){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne=qi.credentialWithLink(g,y||it());return he(ne._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),vt(S,ne)})).apply(this,arguments)}function Ys(I,g){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:createAuthUri",hn(I,g))})).apply(this,arguments)}function so(I,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(I,g){const S={identifier:g,continueUri:Bt()?it():"http://localhost"},{signinMethods:ne}=yield Ys((0,u.m9)(I),S);return ne||[]})).apply(this,arguments)}function al(I,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(I,g){const y=(0,u.m9)(I),ne={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&Hi(y.auth,ne,g);const{email:ge}=yield je(y.auth,ne);ge!==I.email&&(yield I.reload())})).apply(this,arguments)}function ll(I,g,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&Hi(S.auth,ge,y);const{email:lt}=yield ct(S.auth,ge);lt!==I.email&&(yield I.reload())})).apply(this,arguments)}function Go(I,g){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(I,g){return wn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mi(I,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const S=(0,u.m9)(I),ge={idToken:yield S.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},lt=yield tn(S,Go(S.auth,ge));S.displayName=lt.displayName||null,S.photoURL=lt.photoUrl||null;const Ut=S.providerData.find(({providerId:Sn})=>"password"===Sn);Ut&&(Ut.displayName=S.displayName,Ut.photoURL=S.photoURL),yield S._updateTokensIfNecessary(lt)})).apply(this,arguments)}function zo(I,g){return Yi((0,u.m9)(I),g,null)}function Ha(I,g){return Yi((0,u.m9)(I),null,g)}function Yi(I,g,y){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(I,g,y){const{auth:S}=I,ge={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(ge.email=g),y&&(ge.password=y);const lt=yield tn(I,Nr(S,ge));yield I._updateTokensIfNecessary(lt,!0)})).apply(this,arguments)}class Ns{constructor(g,y,S={}){this.isNewUser=g,this.providerId=y,this.profile=S}}class vi extends Ns{constructor(g,y,S,ne){super(g,y,S),this.username=ne}}class Ma extends Ns{constructor(g,y){super(g,"facebook.com",y)}}class Oa extends vi{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Mo extends Ns{constructor(g,y){super(g,"google.com",y)}}class xa extends vi{constructor(g,y,S){super(g,"twitter.com",y,S)}}function $a(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ki(I){var g,y;if(!I)return null;const{providerId:S}=I,ne=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ge=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const lt=null===(y=null===(g=kn(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(lt)return new Ns(ge,"anonymous"!==lt&&"custom"!==lt?lt:null)}if(!S)return null;switch(S){case"facebook.com":return new Ma(ge,ne);case"github.com":return new Oa(ge,ne);case"google.com":return new Mo(ge,ne);case"twitter.com":return new xa(ge,ne,I.screenName||null);case"custom":case"anonymous":return new Ns(ge,null);default:return new Ns(ge,S,ne)}}(y)}class Oo{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Oo("enroll",g)}static _fromMfaPendingCredential(g){return new Oo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,S;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Oo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return Oo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Pa{constructor(g,y,S){this.session=g,this.hints=y,this.signInResolver=S}static _fromError(g,y){const S=$r(g),ne=y.customData._serverResponse,ge=(ne.mfaInfo||[]).map(Ut=>Lt._fromServerResponse(S,Ut));he(ne.mfaPendingCredential,S,"internal-error");const lt=Oo._fromMfaPendingCredential(ne.mfaPendingCredential);return new Pa(lt,ge,function(){var Ut=(0,c.Z)(function*(Sn){const Fn=yield Sn._process(S,lt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Vr=Object.assign(Object.assign({},ne),{idToken:Fn.idToken,refreshToken:Fn.refreshToken});switch(y.operationType){case"signIn":const Oi=yield we._fromIdTokenResponse(S,y.operationType,Vr);return yield S._updateCurrentUser(Oi.user),Oi;case"reauthenticate":return he(y.user,S,"internal-error"),we._forOperation(y.user,y.operationType,Vr);default:Ht(S,"internal-error")}});return function(Sn){return Ut.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function fa(I,g){var y;const S=(0,u.m9)(I),ne=g;return he(g.customData.operationType,S,"argument-error"),he(null===(y=ne.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),Pa._fromError(S,ne)}function Qi(I,g){return wn(I,"POST","/v2/accounts/mfaEnrollment:start",hn(I,g))}class Al{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>Lt._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Al(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Oo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var S=this;return(0,c.Z)(function*(){const ne=g,ge=yield S.getSession(),lt=yield tn(S.user,ne._process(S.user.auth,ge,y));return yield S.user._updateTokensIfNecessary(lt),S.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){var S;const ne="string"==typeof g?g:g.uid,ge=yield y.user.getIdToken(),lt=yield tn(y.user,function cl(I,g){return wn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(I,g))}(y.user.auth,{idToken:ge,mfaEnrollmentId:ne}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ut})=>Ut!==ne),yield y.user._updateTokensIfNecessary(lt);try{yield y.user.reload()}catch(Ut){if("auth/user-token-expired"!==(null===(S=Ut)||void 0===S?void 0:S.code))throw Ut}})()}}const dl=new WeakMap;function Ri(I){const g=(0,u.m9)(I);return dl.has(g)||dl.set(g,Al._fromUser(g)),dl.get(g)}const $s="__sak";class js{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem($s,"1"),this.storage.removeItem($s),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const rs=(()=>{class I extends js{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ra(){const I=(0,u.z$)();return Se(I)||Fe(I)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ot(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const ne=this.storage.getItem(S),ge=this.localCache[S];ne!==ge&&y(S,ge,ne)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((Ut,Sn,Fn)=>{this.notifyListeners(Ut,Fn)});const ne=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(ne);if(y.newValue!==Ut)null!==y.newValue?this.storage.setItem(ne,y.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===y.newValue&&!S)return}const ge=()=>{const Ut=this.storage.getItem(ne);!S&&this.localCache[ne]===Ut||this.notifyListeners(ne,Ut)},lt=this.storage.getItem(ne);!function Ve(){return(0,u.w1)()&&10===document.documentMode}()||lt===y.newValue||y.newValue===y.oldValue?ge():setTimeout(ge,10)}notifyListeners(y,S){this.localCache[y]=S;const ne=this.listeners[y];if(ne)for(const ge of Array.from(ne))ge(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var ne=()=>super._set,ge=this;return(0,c.Z)(function*(){yield ne().call(ge,y,S),ge.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,ne=this;return(0,c.Z)(function*(){const ge=yield S().call(ne,y);return ne.localCache[y]=JSON.stringify(ge),ge})()}_remove(y){var S=()=>super._remove,ne=this;return(0,c.Z)(function*(){yield S().call(ne,y),delete ne.localCache[y]})()}}return I.type="LOCAL",I})(),Mn=(()=>{class I extends js{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return I.type="SESSION",I})();let $l=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(ge=>ge.isListeningto(y));if(S)return S;const ne=new I(y);return this.receivers.push(ne),ne}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,c.Z)(function*(){const ne=y,{eventId:ge,eventType:lt,data:Ut}=ne.data,Sn=S.handlersMap[lt];if(!Sn?.size)return;ne.ports[0].postMessage({status:"ack",eventId:ge,eventType:lt});const Fn=Array.from(Sn).map(function(){var Oi=(0,c.Z)(function*(Ca){return Ca(ne.origin,Ut)});return function(Ca){return Oi.apply(this,arguments)}}()),Vr=yield function Wn(I){return Promise.all(I.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return g.apply(this,arguments)}}()))}(Fn);ne.ports[0].postMessage({status:"done",eventId:ge,eventType:lt,response:Vr})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function mn(I="",g=10){let y="";for(let S=0;S<g;S++)y+=Math.floor(10*Math.random());return I+y}class wt{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,S=50){var ne=this;return(0,c.Z)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let lt,Ut;return new Promise((Sn,Fn)=>{const Vr=mn("",20);ge.port1.start();const Oi=setTimeout(()=>{Fn(new Error("unsupported_event"))},S);Ut={messageChannel:ge,onMessage(Ca){const Ta=Ca;if(Ta.data.eventId===Vr)switch(Ta.data.status){case"ack":clearTimeout(Oi),lt=setTimeout(()=>{Fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(lt),Sn(Ta.data.response);break;default:clearTimeout(Oi),clearTimeout(lt),Fn(new Error("invalid_response"))}}},ne.handlers.add(Ut),ge.port1.addEventListener("message",Ut.onMessage),ne.target.postMessage({eventType:g,eventId:Vr,data:y},[ge.port2])}).finally(()=>{Ut&&ne.removeMessageHandler(Ut)})})()}}function Rt(){return window}function qo(){return typeof Rt().WorkerGlobalScope<"u"&&"function"==typeof Rt().importScripts}function pa(){return(pa=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wa="firebaseLocalStorageDb",Qs="firebaseLocalStorage",pl="fbase_key";class Vi{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Qo(I,g){return I.transaction([Qs],g?"readwrite":"readonly").objectStore(Qs)}function ks(){const I=indexedDB.open(Wa,1);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Qs,{keyPath:pl})}catch(ne){y(ne)}}),I.addEventListener("success",(0,c.Z)(function*(){const S=I.result;S.objectStoreNames.contains(Qs)?g(S):(S.close(),yield function Cr(){const I=indexedDB.deleteDatabase(Wa);return new Vi(I).toPromise()}(),g(yield ks()))}))})}function vo(I,g,y){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(I,g,y){const S=Qo(I,!0).put({[pl]:g,value:y});return new Vi(S).toPromise()})).apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(I,g){const y=Qo(I,!1).get(g),S=yield new Vi(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Dr(I,g){const y=Qo(I,!0).delete(g);return new Vi(y).toPromise()}const Jo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield ks()),y.db})()}_withRetries(y){var S=this;return(0,c.Z)(function*(){let ne=0;for(;;)try{const ge=yield S._openDb();return yield y(ge)}catch(ge){if(ne++>3)throw ge;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return qo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=$l._getInstance(function Yo(){return qo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,c.Z)(function*(ne,ge){return{keyProcessed:(yield y._poll()).includes(ge.key)}});return function(ne,ge){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,c.Z)(function*(ne,ge){return["keyChanged"]});return function(ne,ge){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var S,ne;if(y.activeServiceWorker=yield function Fo(){return pa.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new wt(y.activeServiceWorker);const ge=yield y.sender._send("ping",{},800);!ge||(null===(S=ge[0])||void 0===S?void 0:S.fulfilled)&&(null===(ne=ge[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,c.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Ml(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield ks();return yield vo(y,$s,"1"),yield Dr(y,$s),!0}catch{}return!1})()}_withPendingWrite(y){var S=this;return(0,c.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var ne=this;return(0,c.Z)(function*(){return ne._withPendingWrite((0,c.Z)(function*(){return yield ne._withRetries(ge=>vo(ge,y,S)),ne.localCache[y]=S,ne.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,c.Z)(function*(){const ne=yield S._withRetries(ge=>function ir(I,g){return Eo.apply(this,arguments)}(ge,y));return S.localCache[y]=ne,ne})()}_remove(y){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(ne=>Dr(ne,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const S=yield y._withRetries(lt=>{const Ut=Qo(lt,!1).getAll();return new Vi(Ut).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const ne=[],ge=new Set;for(const{fbase_key:lt,value:Ut}of S)ge.add(lt),JSON.stringify(y.localCache[lt])!==JSON.stringify(Ut)&&(y.notifyListeners(lt,Ut),ne.push(lt));for(const lt of Object.keys(y.localCache))y.localCache[lt]&&!ge.has(lt)&&(y.notifyListeners(lt,null),ne.push(lt));return ne})()}notifyListeners(y,S){this.localCache[y]=S;const ne=this.listeners[y];if(ne)for(const ge of Array.from(ne))ge(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Ga(I,g){return wn(I,"POST","/v2/accounts/mfaSignIn:start",hn(I,g))}function is(){return(is=(0,c.Z)(function*(I){return(yield wn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(I){return new Promise((g,y)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=ne=>{const ge=Xe("internal-error");ge.customData=ne,y(ge)},S.type="text/javascript",S.charset="UTF-8",function bo(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function Ji(I){return`__${I}${Math.floor(1e6*Math.random())}`}const wr=1e12;class Or{constructor(g){this.auth=g,this.counter=wr,this._widgets=new Map}render(g,y){const S=this.counter;return this._widgets.set(S,new fs(g,this.auth.name,y||{})),this.counter++,S}reset(g){var y;const S=g||wr;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(g){var y;return(null===(y=this._widgets.get(g||wr))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var S;return null===(S=y._widgets.get(g||wr))||void 0===S||S.execute(),""})()}}class fs{constructor(g,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof g?document.getElementById(g):g;he(ne,"argument-error",{appName:y}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bt(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=Ji("rcb"),xo=new Ce(3e4,6e4);class gl{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Rt().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return he(function Uo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Rt().grecaptcha):new Promise((S,ne)=>{const ge=Rt().setTimeout(()=>{ne(Xe(g,"network-request-failed"))},xo.get());Rt()[Ka]=()=>{Rt().clearTimeout(ge),delete Rt()[Ka];const Ut=Rt().grecaptcha;if(!Ut)return void ne(Xe(g,"internal-error"));const Sn=Ut.render;Ut.render=(Fn,Vr)=>{const Oi=Sn(Fn,Vr);return this.counter++,Oi},this.hostLanguage=y,S(Ut)},ma(`https://www.google.com/recaptcha/api.js??${(0,u.xO)({onload:Ka,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ge),ne(Xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Rt().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ml{load(g){return(0,c.Z)(function*(){return new Or(g)})()}clearedOneInstance(){}}const ya="recaptcha",wu={theme:"light",type:"image"};class Zi{constructor(g,y=Object.assign({},wu),S){this.parameters=y,this.type=ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$r(S),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof g?document.getElementById(g):g;he(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ml:new gl,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(y)||new Promise(ge=>{const lt=Ut=>{!Ut||(g.tokenChangeListeners.delete(lt),ge(Ut))};g.tokenChangeListeners.add(lt),g.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof g)g(y);else if("string"==typeof g){const S=Rt()[g];"function"==typeof S&&S(y)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){he(Bt()&&!qo(),g.auth,"internal-error"),yield function Ol(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function hs(I){return is.apply(this,arguments)}(g.auth);he(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _a{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ai._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ws(I,g,y){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(I,g,y){const S=$r(I),ne=yield C(S,g,(0,u.m9)(y));return new _a(ne,ge=>vt(S,ge))})).apply(this,arguments)}function Xi(I,g,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I);yield kr(!1,S,"phone");const ne=yield C(S.auth,g,(0,u.m9)(y));return new _a(ne,ge=>dn(S,ge))})).apply(this,arguments)}function ji(I,g,y){return T.apply(this,arguments)}function T(){return(T=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I),ne=yield C(S.auth,g,(0,u.m9)(y));return new _a(ne,ge=>Gr(S,ge))})).apply(this,arguments)}function C(I,g,y){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(function*(I,g,y){var S;const ne=yield y.verify();try{let ge;if(he("string"==typeof ne,I,"argument-error"),he(y.type===ya,I,"argument-error"),ge="string"==typeof g?{phoneNumber:g}:g,"session"in ge){const lt=ge.session;if("phoneNumber"in ge)return he("enroll"===lt.type,I,"internal-error"),(yield Qi(I,{idToken:lt.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{he("signin"===lt.type,I,"internal-error");const Ut=(null===(S=ge.multiFactorHint)||void 0===S?void 0:S.uid)||ge.multiFactorUid;return he(Ut,I,"missing-multi-factor-info"),(yield Ga(I,{mfaPendingCredential:lt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:lt}=yield Os(I,{phoneNumber:ge.phoneNumber,recaptchaToken:ne});return lt}}finally{y._reset()}})).apply(this,arguments)}function P(I,g){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(I,g){yield gr((0,u.m9)(I),g)})).apply(this,arguments)}let ie=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=$r(y)}verifyPhoneNumber(y,S){return C(this.auth,y,(0,u.m9)(S))}static credential(y,S){return Ai._fromVerification(y,S)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:ne}=y;return S&&ne?Ai._fromTokenResponse(S,ne):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ee(I,g){return g?et(g):(he(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class xe extends Xr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return pr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return pr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return pr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function It(I){return ce(I.auth,new xe(I),I.bypassAuthState)}function an(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),re(y,new xe(I),I.bypassAuthState)}function On(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),gr(y,new xe(I),I.bypassAuthState)})).apply(this,arguments)}class Zr{constructor(g,y,S,ne,ge=!1){this.auth=g,this.resolver=S,this.user=ne,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(S,ne){g.pendingPromise={resolve:S,reject:ne};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ge){g.reject(ge)}});return function(S,ne){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:S,sessionId:ne,postBody:ge,tenantId:lt,error:Ut,type:Sn}=g;if(Ut)return void y.reject(Ut);const Fn={auth:y.auth,requestUri:S,sessionId:ne,tenantId:lt||void 0,postBody:ge||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Sn)(Fn))}catch(Vr){y.reject(Vr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return It;case"linkViaPopup":case"linkViaRedirect":return On;case"reauthViaPopup":case"reauthViaRedirect":return an;default:Ht(this.auth,"internal-error")}}resolve(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gs=new Ce(2e3,1e4);function ao(I,g,y){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(I,g,y){const S=$r(I);Qe(I,g,zi);const ne=Ee(S,y);return new wo(S,"signInViaPopup",g,ne).executeNotNull()})).apply(this,arguments)}function ss(I,g,y){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I);Qe(S.auth,g,zi);const ne=Ee(S.auth,y);return new wo(S.auth,"reauthViaPopup",g,ne,S).executeNotNull()})).apply(this,arguments)}function Ls(I,g,y){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I);Qe(S.auth,g,zi);const ne=Ee(S.auth,y);return new wo(S.auth,"linkViaPopup",g,ne,S).executeNotNull()})).apply(this,arguments)}let wo=(()=>{class I extends Zr{constructor(y,S,ne,ge,lt){super(y,S,ge,lt),this.provider=ne,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const S=yield y.execute();return he(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,c.Z)(function*(){dt(1===y.filter.length,"Popup operations only handle one event");const S=mn();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(ne=>{y.reject(ne)}),y.resolver._isIframeWebStorageSupported(y.auth,ne=>{ne||y.reject(Xe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,ne;this.pollId=null!==(ne=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Gs.get())};y()}}return I.currentPopupAction=null,I})();const os=new Map;class Po extends Zr{constructor(g,y,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let S=os.get(y.auth._key());if(!S){try{const ge=(yield function lo(I,g){return ta.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;S=()=>Promise.resolve(ge)}catch(ne){S=()=>Promise.reject(ne)}os.set(y.auth._key(),S)}return y.bypassAuthState||os.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,S=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(S,g);if("unknown"!==g.type){if(g.eventId){const ne=yield S.auth._redirectUserForId(g.eventId);if(ne)return S.user=ne,y().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ta(){return(ta=(0,c.Z)(function*(I,g){const y=R(g),S=Ea(I);if(!(yield S._isAvailable()))return!1;const ne="true"===(yield S._get(y));return yield S._remove(y),ne})).apply(this,arguments)}function ou(I,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(I,g){return Ea(I)._set(R(g),"true")})).apply(this,arguments)}function jl(){os.clear()}function Ro(I,g){os.set(I._key(),g)}function Ea(I){return et(I._redirectPersistence)}function R(I){return yn("pendingRedirect",I.config.apiKey,I.name)}function H(I,g,y){return function oe(I,g,y){return De.apply(this,arguments)}(I,g,y)}function De(){return(De=(0,c.Z)(function*(I,g,y){const S=$r(I);Qe(I,g,zi);const ne=Ee(S,y);return yield ou(ne,S),ne._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function ot(I,g,y){return function Tt(I,g,y){return Kt.apply(this,arguments)}(I,g,y)}function Kt(){return(Kt=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I);Qe(S.auth,g,zi);const ne=Ee(S.auth,y);yield ou(ne,S.auth);const ge=yield qa(S);return ne._openRedirect(S.auth,g,"reauthViaRedirect",ge)})).apply(this,arguments)}function Cn(I,g,y){return function sr(I,g,y){return mr.apply(this,arguments)}(I,g,y)}function mr(){return(mr=(0,c.Z)(function*(I,g,y){const S=(0,u.m9)(I);Qe(S.auth,g,zi);const ne=Ee(S.auth,y);yield kr(!1,S,g.providerId),yield ou(ne,S.auth);const ge=yield qa(S);return ne._openRedirect(S.auth,g,"linkViaRedirect",ge)})).apply(this,arguments)}function Zn(I,g){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(I,g){return yield $r(I)._initializationPromise,yr(I,g,!1)})).apply(this,arguments)}function yr(I,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(I,g,y=!1){const S=$r(I),ne=Ee(S,g),lt=yield new Po(S,ne,y).execute();return lt&&!y&&(delete lt.user._redirectEventId,yield S._persistUserIfCurrent(lt.user),yield S._setRedirectUser(null,g)),lt})).apply(this,arguments)}function qa(I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(I){const g=mn(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Ya{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(y=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Io(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var S;if(g.error&&!wa(g)){const ne=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Xe(this.auth,ne))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const S=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(g))}saveEventToCache(g){this.cachedEventUids.add(Qa(g)),this.lastProcessedEventTime=Date.now()}}function Qa(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function wa({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function No(I){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(I,g={}){return wn(I,"GET","/v1/projects",g)})).apply(this,arguments)}const _h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pc=/^https?/;function Ju(){return(Ju=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield No(I);for(const y of g)try{if(Rc(y))return}catch{}Ht(I,"unauthorized-domain")})).apply(this,arguments)}function Rc(I){const g=it(),{protocol:y,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const lt=new URL(I);return""===lt.hostname&&""===S?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&lt.hostname===S}if(!Pc.test(y))return!1;if(_h.test(I))return S===I;const ne=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(S)}const wd=new Ce(3e4,6e4);function Xu(){const I=Rt().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let na=null;function Wl(I){return na=na||function Iu(I){return new Promise((g,y)=>{var S,ne,ge;function lt(){Xu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Xu(),y(Xe(I,"network-request-failed"))},timeout:wd.get()})}if(null!==(ne=null===(S=Rt().gapi)||void 0===S?void 0:S.iframes)&&void 0!==ne&&ne.Iframe)g(gapi.iframes.getContext());else{if(null===(ge=Rt().gapi)||void 0===ge||!ge.load){const Ut=Ji("iframefcb");return Rt()[Ut]=()=>{gapi.load?lt():y(Xe(I,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(Sn=>y(Sn))}lt()}}).catch(g=>{throw na=null,g})}(I),na}const Nc=new Ce(5e3,15e3),yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gl(I){const g=I.config;he(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?rt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:k.SDK_VERSION},ne=Cu.get(I.config.apiHost);ne&&(S.eid=ne);const ge=I._getFrameworks();return ge.length&&(S.fw=ge.join(",")),`${y}?${(0,u.xO)(S).slice(1)}`}function Na(){return Na=(0,c.Z)(function*(I){const g=yield Wl(I),y=Rt().gapi;return he(y,I,"internal-error"),g.open({where:document.body,url:Gl(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yl,dontclear:!0},S=>new Promise(function(){var ne=(0,c.Z)(function*(ge,lt){yield S.restyle({setHideOnLeave:!1});const Ut=Xe(I,"network-request-failed"),Sn=Rt().setTimeout(()=>{lt(Ut)},Nc.get());function Fn(){Rt().clearTimeout(Sn),ge(S)}S.ping(Fn).then(Fn,()=>{lt(Ut)})});return function(ge,lt){return ne.apply(this,arguments)}}()))}),Na.apply(this,arguments)}const au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ja{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ka(I,g,y,S,ne,ge){he(I.config.authDomain,I,"auth-domain-config-required"),he(I.config.apiKey,I,"invalid-api-key");const lt={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:S,v:k.SDK_VERSION,eventId:ne};if(g instanceof zi){g.setDefaultLanguage(I.languageCode),lt.providerId=g.providerId||"",(0,u.xb)(g.getCustomParameters())||(lt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Sn,Fn]of Object.entries(ge||{}))lt[Sn]=Fn}if(g instanceof Bi){const Sn=g.getScopes().filter(Fn=>""!==Fn);Sn.length>0&&(lt.scopes=Sn.join(","))}I.tenantId&&(lt.tid=I.tenantId);const Ut=lt;for(const Sn of Object.keys(Ut))void 0===Ut[Sn]&&delete Ut[Sn];return`${function Td({config:I}){return I.emulator?rt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,u.xO)(Ut).slice(1)}`}const Au="webStorageSupport",nc=class Lc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mn,this._completeRedirectFn=yr,this._overrideRedirectResult=Ro}_openPopup(g,y,S,ne){var ge=this;return(0,c.Z)(function*(){var lt;dt(null===(lt=ge.eventManagers[g._key()])||void 0===lt?void 0:lt.manager,"_initialize() not called before _openPopup()");const Ut=ka(g,y,S,it(),ne);return function Tu(I,g,y,S=500,ne=600){const ge=Math.max((window.screen.availHeight-ne)/2,0).toString(),lt=Math.max((window.screen.availWidth-S)/2,0).toString();let Ut="";const Sn=Object.assign(Object.assign({},au),{width:S.toString(),height:ne.toString(),top:ge,left:lt}),Fn=(0,u.z$)().toLowerCase();y&&(Ut=Ct(Fn)?"_blank":y),Te(Fn)&&(g=g||"http://localhost",Sn.scrollbars="yes");const Vr=Object.entries(Sn).reduce((Ca,[Ta,vl])=>`${Ca}${Ta}=${vl},`,"");if(function ve(I=(0,u.z$)()){var g;return Fe(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Fn)&&"_self"!==Ut)return function Du(I,g){const y=document.createElement("a");y.href=I,y.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(g||"",Ut),new Ja(null);const Oi=window.open(g||"",Ut,Vr);he(Oi,I,"popup-blocked");try{Oi.focus()}catch{}return new Ja(Oi)}(g,Ut,mn())})()}_openRedirect(g,y,S,ne){var ge=this;return(0,c.Z)(function*(){return yield ge._originValidation(g),function oi(I){Rt().location.href=I}(ka(g,y,S,it(),ne)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:ne,promise:ge}=this.eventManagers[y];return ne?Promise.resolve(ne):(dt(ge,"If manager is not set, promise should be"),ge)}const S=this.initAndGetManager(g);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const S=yield function kc(I){return Na.apply(this,arguments)}(g),ne=new Ya(g);return S.register("authEvent",ge=>(he(ge?.authEvent,g,"invalid-auth-event"),{status:ne.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:ne},y.iframes[g._key()]=S,ne})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Au,{type:Au},ne=>{var ge;const lt=null===(ge=ne?.[0])||void 0===ge?void 0:ge[Au];void 0!==lt&&y(!!lt),Ht(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function bd(I){return Ju.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ot()||Se()||Fe()}};class Ia extends class Mu{constructor(g){this.factorId=g}_process(g,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,S);case"signin":return this._finalizeSignIn(g,y.credential);default:return ze("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ia(g)}_finalizeEnroll(g,y,S){return function _o(I,g){return wn(I,"POST","/v2/accounts/mfaEnrollment:finalize",hn(I,g))}(g,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Js(I,g){return wn(I,"POST","/v2/accounts/mfaSignIn:finalize",hn(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kl=(()=>{class I{constructor(){}static assertion(y){return Ia._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var rc="@firebase/auth";class Pl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(S=>{var ne;g((null===(ne=S)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vc(I=(0,k.getApp)()){const g=(0,k._getProvider)(I,"auth");return g.isInitialized()?g.getImmediate():function Be(I,g){const y=(0,k._getProvider)(I,"auth");if(y.isInitialized()){const ne=y.getImmediate(),ge=y.getOptions();if((0,u.vZ)(ge,g??{}))return ne;Ht(ne,"already-initialized")}return y.initialize({options:g})}(I,{popupRedirectResolver:nc,persistence:[Jo,rs,Mn]})}!function Rl(I){(0,k._registerComponent)(new J.wA("auth",(g,{options:y})=>{const S=g.getProvider("app").getImmediate(),ne=g.getProvider("heartbeat"),{apiKey:ge,authDomain:lt}=S.options;return((Ut,Sn)=>{he(ge&&!ge.includes(":"),"invalid-api-key",{appName:Ut.name}),he(!lt?.includes(":"),"argument-error",{appName:Ut.name});const Fn={apiKey:ge,authDomain:lt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(I)},Vr=new Dn(Ut,Sn,Fn);return function pt(I,g){const y=g?.persistence||[],S=(Array.isArray(y)?y:[y]).map(et);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,g?.popupRedirectResolver)}(Vr,y),Vr})(S,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,S)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new J.wA("auth-internal",g=>{const y=$r(g.getProvider("auth").getImmediate());return new Pl(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(rc,"0.20.5",function Fc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,k.registerVersion)(rc,"0.20.5","esm2017")}("Browser")},5525:(Gt,Ze,M)=>{M.d(Ze,{u7:()=>If,Jj:()=>tu,IX:()=>Ny,my:()=>Ss,xU:()=>_u,Lz:()=>ju,WA:()=>Rt,F8:()=>sl,$q:()=>Mc,W:()=>Oc,EK:()=>hi,PU:()=>vg,l7:()=>ss,Ky:()=>pn,Xb:()=>$i,Cf:()=>Jr,K9:()=>$l,Me:()=>Ee,yq:()=>rs,Wi:()=>eg,ET:()=>Wy,Ab:()=>Zy,vr:()=>Jm,Fc:()=>Ly,hJ:()=>Py,B$:()=>lh,at:()=>xy,oe:()=>qm,AK:()=>zy,TF:()=>Uy,JU:()=>xm,ST:()=>ig,fH:()=>ky,Ix:()=>Vy,Wu:()=>jm,Lx:()=>$m,qY:()=>Ks,GL:()=>_d,QT:()=>zm,kl:()=>Km,Xk:()=>iv,PL:()=>Hy,UQ:()=>$y,zN:()=>Zm,ad:()=>Rm,nP:()=>Xm,b9:()=>Bm,vh:()=>fg,Pb:()=>Dc,L$:()=>nv,cf:()=>Gy,sc:()=>Ym,Xo:()=>dg,IO:()=>Ef,iE:()=>Pm,Eo:()=>ev,i3:()=>vd,Bt:()=>Ky,pl:()=>jy,Ub:()=>hl,qK:()=>_f,TQ:()=>Hm,e0:()=>By,r7:()=>So,Mx:()=>Fy,ar:()=>cg});var Y,c=M(5861),u=M(9681),k=M(4859),fe=M(1877),W=M(2090),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={},se=se||{},G=J||self;function ee(){}function pe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ke(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function nt(i,e,n){return i.call.apply(i.bind,arguments)}function ke(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Pe(i,e,n){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:ke).apply(null,arguments)}function Ht(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Xe(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,f){for(var E=Array(arguments.length-2),A=2;A<arguments.length;A++)E[A-2]=arguments[A];return e.prototype[l].apply(o,E)}}function de(){this.s=this.s,this.o=this.o}var Ie={};de.prototype.s=!1,de.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ae(i){return Object.prototype.hasOwnProperty.call(i,tt)&&i[tt]||(i[tt]=++Dt)}(this);delete Ie[i]}},de.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const he=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},ze=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in l&&e.call(n,l[f],f,i)};function $e(i){return Array.prototype.concat.apply([],arguments)}function et(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Be(i){return/^[\s\xa0]*$/.test(i)}var kt,pt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function it(i,e){return-1!=i.indexOf(e)}function Bt(i,e){return i<e?-1:i>e?1:0}e:{var gt=G.navigator;if(gt){var Pt=gt.userAgent;if(Pt){kt=Pt;break e}}kt=""}function Ce(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function rt(i){const e={};for(const n in i)e[n]=i[n];return e}var xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wt(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let f=0;f<xt.length;f++)n=xt[f],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function cn(i){return cn[" "](i),i}cn[" "]=ee;var Ar,i,wn=it(kt,"Opera"),Kn=it(kt,"Trident")||it(kt,"MSIE"),Pr=it(kt,"Edge"),fr=Pr||Kn,rn=it(kt,"Gecko")&&!(it(kt.toLowerCase(),"webkit")&&!it(kt,"Edge"))&&!(it(kt,"Trident")||it(kt,"MSIE"))&&!it(kt,"Edge"),ti=it(kt.toLowerCase(),"webkit")&&!it(kt,"Edge");function jn(){var i=G.document;return i?i.documentMode:void 0}e:{var nr="",cr=(i=kt,rn?/rv:([^\);]+)(\)|;)/.exec(i):Pr?/Edge\/([\d\.]+)/.exec(i):Kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ti?/WebKit\/(\S+)/.exec(i):wn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cr&&(nr=cr?cr[1]:""),Kn){var sn=jn();if(null!=sn&&sn>parseFloat(nr)){Ar=String(sn);break e}}Ar=nr}var Jn={};var Tr=G.document&&Kn&&(jn()||parseInt(Ar,10))||void 0,Kr=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{G.addEventListener("test",ee,e),G.removeEventListener("test",ee,e)}catch{}return i}();function Qn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Mr(i,e){if(Qn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(rn){e:{try{cn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ui[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mr.Z.h.call(this)}}Qn.prototype.h=function(){this.defaultPrevented=!0},Xe(Mr,Qn);var ui={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function tn(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++Jt,this.ca=this.fa=!1}function zr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Hr(i){this.src=i,this.g={},this.h=0}function An(i,e){var n=e.type;if(n in i.g){var f,o=i.g[n],l=he(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&(zr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Rr(i,e,n,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==e&&f.capture==!!n&&f.ia==o)return l}return-1}Hr.prototype.add=function(i,e,n,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var E=Rr(i,e,o,l);return-1<E?(e=i[E],n||(e.fa=!1)):((e=new tn(e,this.src,f,!!o,l)).fa=n,i.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),Xt={};function Gn(i,e,n,o,l){if(o&&o.once)return Le(i,e,n,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Gn(i,e[f],n,o,l);return null}return n=xn(n),i&&i[kn]?i.N(e,n,Ke(o)?!!o.capture:!!o,l):Wr(i,e,n,!1,o,l)}function Wr(i,e,n,o,l,f){if(!e)throw Error("Invalid event type");var E=Ke(l)?!!l.capture:!!l,A=at(i);if(A||(i[dr]=A=new Hr(i)),(n=A.add(e,n,o,E,f)).proxy)return n;if(o=function Re(){var e=Me;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Kr||(l=E),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(K(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Le(i,e,n,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Le(i,e[f],n,o,l);return null}return n=xn(n),i&&i[kn]?i.O(e,n,Ke(o)?!!o.capture:!!o,l):Wr(i,e,n,!0,o,l)}function le(i,e,n,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)le(i,e[f],n,o,l);else o=Ke(o)?!!o.capture:!!o,n=xn(n),i&&i[kn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Rr(f=i.g[e],n,o,l))&&(zr(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=at(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Rr(e,n,o,l)),(n=-1<i?e[i]:null)&&V(n))}function V(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[kn])An(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(K(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=at(e))?(An(n,i),0==n.h&&(n.src=null,e[dr]=null)):zr(i)}}}function K(i){return i in Xt?Xt[i]:Xt[i]="on"+i}function Me(i,e){if(i.ca)i=!0;else{e=new Mr(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&V(i),i=n.call(o,e)}return i}function at(i){return(i=i[dr])instanceof Hr?i:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(i){return"function"==typeof i?i:(i[Zt]||(i[Zt]=function(e){return i.handleEvent(e)}),i[Zt])}function yn(){de.call(this),this.i=new Hr(this),this.P=this,this.I=null}function Tn(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Qn(e,i);else if(e instanceof Qn)e.target=e.target||i;else{var l=e;Wt(e=new Qn(o,i),l)}if(l=!0,n)for(var f=n.length-1;0<=f;f--){var E=e.g=n[f];l=qe(E,o,!0,e)&&l}if(l=qe(E=e.g=i,o,!0,e)&&l,l=qe(E,o,!1,e)&&l,n)for(f=0;f<n.length;f++)l=qe(E=e.g=n[f],o,!1,e)&&l}function qe(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var E=e[f];if(E&&!E.ca&&E.capture==n){var A=E.listener,j=E.ia||E.src;E.fa&&An(i.i,E),l=!1!==A.call(j,o)&&l}}return l&&!o.defaultPrevented}Xe(yn,de),yn.prototype[kn]=!0,yn.prototype.removeEventListener=function(i,e,n,o){le(this,i,e,n,o)},yn.prototype.M=function(){if(yn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)zr(n[o]);delete i.g[e],i.h--}}this.I=null},yn.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},yn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Te=G.JSON.stringify;function Se(){var i=Ve;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Fe,Vt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new In,i=>i.reset());class In{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mt(i){G.setTimeout(()=>{throw i},0)}function on(i,e){Fe||function Ne(){var i=G.Promise.resolve(void 0);Fe=function(){i.then(Ot)}}(),ve||(Fe(),ve=!0),Ve.add(i,e)}var ve=!1,Ve=new class Ct{constructor(){this.h=this.g=null}add(e,n){const o=Vt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function Ot(){for(var i;i=Se();){try{i.h.call(i.g)}catch(n){Mt(n)}var e=Vt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1}function en(i,e){yn.call(this),this.h=i||1,this.g=e||G,this.j=Pe(this.kb,this),this.l=Date.now()}function zn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Un(i,e,n){if("function"==typeof i)n&&(i=Pe(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Pe(i.handleEvent,i)}return 2147483647<Number(e)?-1:G.setTimeout(i,e||0)}function Dn(i){i.g=Un(()=>{i.g=null,i.i&&(i.i=!1,Dn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xe(en,yn),(Y=en.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tn(this,"tick"),this.da&&(zn(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){en.Z.M.call(this),zn(this),delete this.g};class $r extends de{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dn(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(i){de.call(this),this.h=i,this.g={}}Xe(pi,de);var ts=[];function Gi(i,e,n,o){Array.isArray(n)||(n&&(ts[0]=n.toString()),n=ts);for(var l=0;l<n.length;l++){var f=Gn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function ni(i){Ce(i.g,function(e,n){this.g.hasOwnProperty(n)&&V(e)},i),i.g={}}function jr(){this.g=!0}function ci(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var E=1;E<l.length;E++)l[E]=""}}}return Te(n)}catch{return e}}(i,n)+(o?" "+o:"")})}pi.prototype.M=function(){pi.Z.M.call(this),ni(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jr.prototype.Aa=function(){this.g=!1},jr.prototype.info=function(){};var ki={},Si=null;function Li(){return Si=Si||new yn}function Ms(i){Qn.call(this,ki.Ma,i)}function Ei(i){const e=Li();Tn(e,new Ms(e,i))}function xi(i,e){Qn.call(this,ki.STAT_EVENT,i),this.stat=e}function Ye(i){const e=Li();Tn(e,new xi(e,i))}function je(i,e){Qn.call(this,ki.Na,i),this.size=e}function mt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){i()},e)}ki.Ma="serverreachability",Xe(Ms,Qn),ki.STAT_EVENT="statevent",Xe(xi,Qn),ki.Na="timingevent",Xe(je,Qn);var At={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fn(){}function ct(){}fn.prototype.h=null;var nn,We={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ht(){Qn.call(this,"d")}function zt(){Qn.call(this,"c")}function rr(){}function Ir(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new pi(this),this.P=bi,this.W=new en(i=fr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}Xe(ht,Qn),Xe(zt,Qn),Xe(rr,fn),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},nn=new rr;var bi=45e3,hr={},ai={};function Os(i,e,n){i.K=1,i.v=si(Es(e)),i.s=n,i.U=!0,Ts(i,null)}function Ts(i,e){i.F=Date.now(),Us(i),i.A=Es(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F(n.h,"t",o),i.C=0,n=i.l.H,i.h=new pr,i.g=ru(i.l,n?e:null,!i.s),0<i.O&&(i.L=new $r(Pe(i.Ia,i,i.g),i.O)),Gi(i.V,i.g,"readystatechange",i.gb),e=i.H?rt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ei(1),function Di(i,e,n,o,l,f){i.info(function(){if(i.g)if(f)for(var E="",A=f.split("&"),j=0;j<A.length;j++){var Q=A[j].split("=");if(1<Q.length){var me=Q[0];Q=Q[1];var Ge=me.split("_");E=2<=Ge.length&&"type"==Ge[1]?E+(me+"=")+Q+"&":E+(me+"=redacted&")}}else E=null;else E=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+E})}(i.j,i.u,i.A,i.m,i.X,i.s)}function xs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Vs(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=ys(i,n),l==ai){4==e&&(i.o=4,Ye(14),o=!1),ci(i.j,i.m,null,"[Incomplete Response]");break}if(l==hr){i.o=4,Ye(15),ci(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ci(i.j,i.m,l,null),mo(i,l)}xs(i)&&l!=ai&&l!=hr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ye(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ki(e),e.L=!0,Ye(11))):(ci(i.j,i.m,n,"[Invalid Chunked Response]"),Ai(i),us(i))}function ys(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ai:(n=Number(e.substring(n,o)),isNaN(n)?hr:(o+=1)+n>e.length?ai:(e=e.substr(o,n),i.C=o+n,e))}function Us(i){i.Y=Date.now()+i.P,$o(i,i.P)}function $o(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=mt(Pe(i.eb,i),e)}function Ps(i){i.B&&(G.clearTimeout(i.B),i.B=null)}function us(i){0==i.l.G||i.I||Ma(i.l,i)}function Ai(i){Ps(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,zn(i.W),ni(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function mo(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Yn(n.i,i)))if(n.I=i.N,!i.J&&Yn(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;vi(n),ll(n)}da(n),Ye(18)}}else n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=mt(Pe(n.ab,n),6e3));if(1>=dn(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Mo(n,11)}else if((i.J||n.g==i)&&vi(n),!Be(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(n.U=Q[0],Q=Q[1],2==n.G)if("c"==Q[0]){n.J=Q[1],n.la=Q[2];const me=Q[3];null!=me&&(n.ma=me,n.h.info("VER="+n.ma));const Ge=Q[4];null!=Ge&&(n.za=Ge,n.h.info("SVER="+n.za));const St=Q[5];null!=St&&"number"==typeof St&&0<St&&(n.K=o=1.5*St,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ft=i.g;if(Ft){const Yt=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var f=o.i;!f.g&&(it(Yt,"spdy")||it(Yt,"quic")||it(Yt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Gr(f,f.h),f.h=null))}if(o.D){const Hn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Hn&&(o.sa=Hn,Br(o.F,o.D,Hn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var E=i;if((o=n).oa=$a(o,o.H?o.la:null,o.W),E.J){Lr(o.i,E);var A=E,j=o.K;j&&A.setTimeout(j),A.B&&(Ps(A),Us(A)),o.g=E}else Yi(o);0<n.l.length&&di(n)}else"stop"!=Q[0]&&"close"!=Q[0]||Mo(n,7);else 3==n.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Mo(n,7):Wo(n):"noop"!=Q[0]&&n.j&&n.j.wa(Q),n.A=0)}Ei(4)}catch{}}function cs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(pe(i)||"string"==typeof i)ze(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(pe(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function jo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(pe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var f=0;f<l;f++)e.call(void 0,o[f],n&&n[f],i)}}function _s(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof _s)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function qi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];zi(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)zi(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function zi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Y=Ir.prototype).setTimeout=function(i){this.P=i},Y.gb=function(i){i=i.target;const e=this.L;e&&3==Pi(i)?e.l():this.Ia(i)},Y.Ia=function(i){try{if(i==this.g)e:{const me=Pi(this.g);var e=this.g.Da();const Ge=this.g.ba();if(!(3>me)&&(3!=me||fr||this.g&&(this.h.h||this.g.ga()||Ys(this.g)))){this.I||4!=me||7==e||Ei(8==e||0>=Ge?3:2),Ps(this);var n=this.g.ba();this.N=n;t:if(xs(this)){var o=Ys(this.g);i="";var l=o.length,f=4==Pi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),us(this);var E="";break t}this.h.i=new G.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==n,function Xr(i,e,n,o,l,f,E){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+f+" "+E})}(this.j,this.u,this.A,this.m,this.X,me,n),this.i){if(this.$&&!this.J){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(A)){var Q=A;break t}}Q=null}if(!(n=Q)){this.i=!1,this.o=3,Ye(12),Ai(this),us(this);break e}ci(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mo(this,n)}this.U?(Vs(this,me,E),fr&&this.i&&3==me&&(Gi(this.V,this.W,"tick",this.fb),this.W.start())):(ci(this.j,this.m,E,null),mo(this,E)),4==me&&Ai(this),this.i&&!this.I&&(4==me?Ma(this.l,this):(this.i=!1,Us(this)))}else 400==n&&0<E.indexOf("Unknown SID")?(this.o=3,Ye(12)):(this.o=0,Ye(13)),Ai(this),us(this)}}}catch{}},Y.fb=function(){if(this.g){var i=Pi(this.g),e=this.g.ga();this.C<e.length&&(Ps(this),Vs(this,i,e),this.i&&4!=i&&Us(this))}},Y.cancel=function(){this.I=!0,Ai(this)},Y.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function gi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ei(3),Ye(17)),Ai(this),this.o=2,us(this)):$o(this,this.Y-i)},(Y=_s.prototype).R=function(){qi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Y.T=function(){return qi(this),this.g.concat()},Y.get=function(i,e){return zi(this.h,i)?this.h[i]:e},Y.set=function(i,e){zi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Y.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],f=this.get(l);i.call(e,f,l,this)}};var Bi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vs(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof vs){this.g=void 0!==e?e:i.g,bs(this,i.j),this.s=i.s,ws(this,i.i),Hs(this,i.m),this.l=i.l,e=i.h;var n=new or;n.i=e.i,e.g&&(n.g=new _s(e.g),n.h=e.h),qs(this,n),this.o=i.o}else i&&(n=String(i).match(Bi))?(this.g=!!e,bs(this,n[1]||"",!0),this.s=we(n[2]||""),ws(this,n[3]||"",!0),Hs(this,n[4]),this.l=we(n[5]||"",!0),qs(this,n[6]||"",!0),this.o=we(n[7]||"")):(this.g=!!e,this.h=new or(null,this.g))}function Es(i){return new vs(i)}function bs(i,e,n){i.j=n?we(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ws(i,e,n){i.i=n?we(e,!0):e}function Hs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function qs(i,e,n){e instanceof or?(i.h=e,function U(i,e){e&&!i.j&&(gr(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(ei(this,o),F(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ue(e,vn)),i.h=new or(e,i.g))}function Br(i,e,n){i.h.set(e,n)}function si(i){return Br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function we(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ue(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ut),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ut(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}vs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ue(e,_t,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ue(e,_t,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ue(n,"/"==n.charAt(0)?_n:ln,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ue(n,Bn)),i.join("")};var _t=/[#\/\?@]/g,ln=/[#\?:]/g,_n=/[#\?]/g,vn=/[#\?@]/g,Bn=/#/g;function or(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function gr(i){i.g||(i.g=new _s,i.h=0,i.i&&function Bs(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var f=i[n].substring(0,o);l=i[n].substring(o+1)}else f=i[n];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ei(i,e){gr(i),e=re(i,e),zi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,zi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&qi(i)))}function kr(i,e){return gr(i),e=re(i,e),zi(i.g.h,e)}function F(i,e,n){ei(i,e),0<n.length&&(i.i=null,i.g.set(re(i,e),et(n)),i.h+=n.length)}function re(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function He(i){this.l=i||vt,i=G.PerformanceNavigationTiming?0<(i=G.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(G.g&&G.g.Ea&&G.g.Ea()&&G.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=or.prototype).add=function(i,e){gr(this),this.i=null,i=re(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Y.forEach=function(i,e){gr(this),this.g.forEach(function(n,o){ze(n,function(l){i.call(e,l,o,this)},this)},this)},Y.T=function(){gr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],f=0;f<l.length;f++)n.push(e[o]);return n},Y.R=function(i){gr(this);var e=[];if("string"==typeof i)kr(this,i)&&(e=$e(e,this.g.get(re(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=$e(e,i[n])}return e},Y.set=function(i,e){return gr(this),this.i=null,kr(this,i=re(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Y.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var E=l;""!==o[f]&&(E+="="+encodeURIComponent(String(o[f]))),i.push(E)}}return this.i=i.join("&")};var vt=10;function st(i){return!!i.h||!!i.g&&i.g.size>=i.j}function dn(i){return i.h?1:i.g?i.g.size:0}function Yn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Gr(i,e){i.g?i.g.add(e):i.h=e}function Lr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function br(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return et(i.i)}function yi(){}function ri(){this.g=new yi}function mi(i,e,n){const o=n||"";try{cs(i,function(l,f){let E=l;Ke(l)&&(E=Te(l)),e.push(o+f+"="+encodeURIComponent(E))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function ar(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Hi(i){this.l=i.$b||null,this.j=i.ib||!1}function ds(i,e){yn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ii,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He.prototype.cancel=function(){if(this.i=br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},yi.prototype.stringify=function(i){return G.JSON.stringify(i,void 0)},yi.prototype.parse=function(i){return G.JSON.parse(i,void 0)},Xe(Hi,fn),Hi.prototype.g=function(){return new ds(this.l,this.j)},Hi.prototype.i=function(i){return function(){return i}}({}),Xe(ds,yn);var ii=0;function yo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Xn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ns(i)}function ns(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Y=ds.prototype).open=function(i,e){if(this.readyState!=ii)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ns(this)},Y.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||G).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xn(this)),this.readyState=ii},Y.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xn(this):ns(this),3==this.readyState&&yo(this)}},Y.Ua=function(i){this.g&&(this.response=this.responseText=i,Xn(this))},Y.Ta=function(i){this.g&&(this.response=i,Xn(this))},Y.ha=function(){this.g&&Xn(this)},Y.setRequestHeader=function(i,e){this.v.append(i,e)},Y.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ao=G.JSON.parse;function wi(i){yn.call(this),this.headers=new _s,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ca,this.K=this.L=!1}Xe(wi,yn);var ca="",Ba=/^https?$/i,Aa=["POST","PUT"];function L(i){return"content-type"==i.toLowerCase()}function x(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ue(i),gn(i)}function ue(i){i.D||(i.D=!0,Tn(i,"complete"),Tn(i,"error"))}function Et(i){if(i.h&&typeof se<"u"&&(!i.C[1]||4!=Pi(i)||2!=i.ba()))if(i.v&&4==Pi(i))Un(i.Fa,0,i);else if(Tn(i,"readystatechange"),4==Pi(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===A){var l=String(i.H).match(Bi)[1]||null;if(!l&&G.self&&G.self.location){var f=G.self.location.protocol;l=f.substr(0,f.length-1)}o=!Ba.test(l?l.toLowerCase():"")}n=o}if(n)Tn(i,"complete"),Tn(i,"success");else{i.m=6;try{var E=2<Pi(i)?i.g.statusText:""}catch{E=""}i.j=E+" ["+i.ba()+"]",ue(i)}}finally{gn(i)}}}function gn(i,e){if(i.g){_i(i);const n=i.g,o=i.C[0]?ee:null;i.g=null,i.C=null,e||Tn(i,"ready");try{n.onreadystatechange=o}catch{}}}function _i(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(G.clearTimeout(i.A),i.A=null)}function Pi(i){return i.g?i.g.readyState:0}function Ys(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ca:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function so(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function io(i){let e="";return Ce(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Br(i,e,n))}function Rs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function al(i){this.za=0,this.l=[],this.h=new jr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rs("baseRetryDelayMs",5e3,i),this.$a=Rs("retryDelaySeedMs",1e4,i),this.Ya=Rs("forwardChannelMaxRetries",2,i),this.ra=Rs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new He(i&&i.concurrentRequestLimit),this.Ca=new ri,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Wo(i){if(Fi(i),3==i.G){var e=i.V++,n=Es(i.F);Br(n,"SID",i.J),Br(n,"RID",e),Br(n,"TYPE","terminate"),zo(i,n),(e=new Ir(i,i.h,e,void 0)).K=2,e.v=si(Es(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=ru(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Us(e)}xa(i)}function ll(i){i.g&&(Ki(i),i.g.cancel(),i.g=null)}function Fi(i){ll(i),i.u&&(G.clearTimeout(i.u),i.u=null),vi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&G.clearTimeout(i.m),i.m=null)}function Go(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&di(i)}function di(i){st(i.i)||i.m||(i.m=!0,on(i.Ha,i),i.C=0)}function Fr(i,e){var n;n=e?e.m:i.V++;const o=Es(i.F);Br(o,"SID",i.J),Br(o,"RID",n),Br(o,"AID",i.U),zo(i,o),i.o&&i.s&&so(o,i.o,i.s),n=new Ir(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ha(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Gr(i.i,n),Os(n,o,e)}function zo(i,e){i.j&&cs({},function(n,o){Br(e,o,n)})}function Ha(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Pe(i.j.Oa,i.j,i):null;e:{var l=i.l;let f=-1;for(;;){const E=["count="+n];-1==f?0<n?(f=l[0].h,E.push("ofs="+f)):f=0:E.push("ofs="+f);let A=!0;for(let j=0;j<n;j++){let Q=l[j].h;const me=l[j].g;if(Q-=f,0>Q)f=Math.max(0,l[j].h-100),A=!1;else try{mi(me,E,"req"+Q+"_")}catch{o&&o(me)}}if(A){o=E.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Yi(i){i.g||i.u||(i.Y=1,on(i.Ga,i),i.A=0)}function da(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=mt(Pe(i.Ga,i),Oa(i,i.A)),i.A++,0))}function Ki(i){null!=i.B&&(G.clearTimeout(i.B),i.B=null)}function Ns(i){i.g=new Ir(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Es(i.oa);Br(e,"RID","rpc"),Br(e,"SID",i.J),Br(e,"CI",i.N?"0":"1"),Br(e,"AID",i.U),zo(i,e),Br(e,"TYPE","xmlhttp"),i.o&&i.s&&so(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=si(Es(e)),n.s=null,n.U=!0,Ts(n,i)}function vi(i){null!=i.v&&(G.clearTimeout(i.v),i.v=null)}function Ma(i,e){var n=null;if(i.g==e){vi(i),Ki(i),i.g=null;var o=2}else{if(!Yn(i.i,e))return;n=e.D,Lr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Tn(o=Li(),new je(o,n,e,l)),di(i)}else Yi(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Mi(i,e){return!(dn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=mt(Pe(i.Ha,i,e),Oa(i,i.C)),i.C++,0)))}(i,e)||2==o&&da(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Mo(i,5);break;case 4:Mo(i,10);break;case 3:Mo(i,6);break;default:Mo(i,2)}}function Oa(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Mo(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Pe(i.jb,i);n||(n=new vs("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||bs(n,"https"),si(n)),function Lt(i,e){const n=new jr;if(G.Image){const o=new Image;o.onload=Ht(ar,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ht(ar,n,o,"TestLoadImage: error",!1,e),o.onabort=Ht(ar,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ht(ar,n,o,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Ye(2);i.G=0,i.j&&i.j.va(e),xa(i),Fi(i)}function xa(i){i.G=0,i.I=-1,i.j&&((0!=br(i.i).length||0!=i.l.length)&&(i.i.i.length=0,et(i.l),i.l.length=0),i.j.ua())}function $a(i,e,n){let o=function te(i){return i instanceof vs?Es(i):new vs(i,void 0)}(n);if(""!=o.i)e&&ws(o,e+"."+o.i),Hs(o,o.m);else{const l=G.location;o=function q(i,e,n,o){var l=new vs(null,void 0);return i&&bs(l,i),e&&ws(l,e),n&&Hs(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&Ce(i.aa,function(l,f){Br(o,f,l)}),n=i.sa,(e=i.D)&&n&&Br(o,e,n),Br(o,"VER",i.ma),zo(i,o),o}function ru(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wi(n&&i.Ba&&!i.qa?new Hi({ib:!0}):i.qa)).L=i.H,e}function Sl(){}function ja(){if(Kn&&!(10<=Number(Tr)))throw Error("Environmental error: no available transport.")}function Is(i,e){yn.call(this),this.g=new al(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ko(this)}function iu(i){ht.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ul(){zt.call(this),this.status=1}function Ko(i){this.g=i}(Y=wi.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nn.g(),this.C=function _e(i){return i.h||(i.h=i.i())}(this.u?this.u:nn),this.g.onreadystatechange=Pe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void x(this,f)}i=n||"";const l=new _s(this.headers);o&&cs(o,function(f,E){l.set(E,f)}),o=function dt(i){e:{var e=L;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=G.FormData&&i instanceof G.FormData,!(0<=he(Aa,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,E){this.g.setRequestHeader(E,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_i(this),0<this.B&&((this.K=function $(i){return Kn&&function Ln(){return function hn(i){var e=Jn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=pt(String(Ar)).split("."),n=pt("9").split("."),o=Math.max(e.length,n.length);for(let E=0;0==i&&E<o;E++){var l=e[E]||"",f=n[E]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=Bt(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Bt(0==l[2].length,0==f[2].length)||Bt(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pe(this.pa,this)):this.A=Un(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){x(this,f)}},Y.pa=function(){typeof se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},Y.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tn(this,"complete"),Tn(this,"abort"),gn(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gn(this,!0)),wi.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?Et(this):this.cb())},Y.cb=function(){Et(this)},Y.ba=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ao(e)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=al.prototype).ma=8,Y.G=1,Y.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},Y.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Ir(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=rt(f),Wt(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ha(this,l,e),Br(n=Es(this.F),"RID",i),Br(n,"CVER",22),this.D&&Br(n,"X-HTTP-Session-Id",this.D),zo(this,n),this.o&&f&&so(n,this.o,f),Gr(this.i,l),this.Ra&&Br(n,"TYPE","init"),this.ja?(Br(n,"$req",e),Br(n,"SID","null"),l.$=!0,Os(l,n,null)):Os(l,n,e),this.G=2}}else 3==this.G&&(i?Fr(this,i):0==this.l.length||st(this.i)||Fr(this))},Y.Ga=function(){if(this.u=null,Ns(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=mt(Pe(this.bb,this),i)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ye(10),ll(this),Ns(this))},Y.ab=function(){null!=this.v&&(this.v=null,ll(this),da(this),Ye(19))},Y.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ye(2)):(this.h.info("Failed to ping google.com"),Ye(1))},(Y=Sl.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},ja.prototype.g=function(i,e){return new Is(i,e)},Xe(Is,yn),Is.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),on(Pe(i.hb,i,e))),Ye(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=$a(i,null,i.W),di(i)},Is.prototype.close=function(){Wo(this.g)},Is.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Go(this.g,e)}else this.v?((e={}).__data__=Te(i),Go(this.g,e)):Go(this.g,i)},Is.prototype.M=function(){this.g.j=null,delete this.j,Wo(this.g),delete this.g,Is.Z.M.call(this)},Xe(iu,ht),Xe(ul,zt),Xe(Ko,Sl),Ko.prototype.xa=function(){Tn(this.g,"a")},Ko.prototype.wa=function(i){Tn(this.g,new iu(i))},Ko.prototype.va=function(i){Tn(this.g,new ul(i))},Ko.prototype.ua=function(){Tn(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,jt.COMPLETE="complete",ct.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",yn.prototype.listen=yn.prototype.N,wi.prototype.listenOnce=wi.prototype.O,wi.prototype.getLastError=wi.prototype.La,wi.prototype.getLastErrorCode=wi.prototype.Da,wi.prototype.getStatus=wi.prototype.ba,wi.prototype.getResponseJson=wi.prototype.Qa,wi.prototype.getResponseText=wi.prototype.ga,wi.prototype.send=wi.prototype.ea;var Zo=X.createWebChannelTransport=function(){return new ja},ha=X.getStatEventTarget=function(){return Li()},Oo=X.ErrorCode=At,Pa=X.EventType=jt,fa=X.Event=ki,Qi=X.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_o=X.FetchXmlHttpFactory=Hi,cl=X.WebChannel=ct,Al=X.XhrIo=wi;const dl="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let $s="9.9.1";const js=new fe.Yd("@firebase/firestore");function Ra(){return js.logLevel}function hl(i){js.setLogLevel(i)}function qt(i,...e){if(js.logLevel<=fe.in.DEBUG){const n=e.map(Lo);js.debug(`Firestore (${$s}): ${i}`,...n)}}function Ii(i,...e){if(js.logLevel<=fe.in.ERROR){const n=e.map(Lo);js.error(`Firestore (${$s}): ${i}`,...n)}}function rs(i,...e){if(js.logLevel<=fe.in.WARN){const n=e.map(Lo);js.warn(`Firestore (${$s}): ${i}`,...n)}}function Lo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Mn(i="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+i;throw Ii(e),new Error(e)}function Wn(i,e){i||Mn()}function $l(i,e){i||Mn()}function mn(i,e){return i}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends W.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class qo{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ri.UNAUTHENTICATED))}shutdown(){}}class pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ml{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const f=Q=>this.i!==l?(l=this.i,n(Q)):Promise.resolve();let E=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new oi,e.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const Q=E;e.enqueueRetryable((0,c.Z)(function*(){yield Q.promise,yield f(o.currentUser)}))},j=Q=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Q=>j(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?j(Q):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new oi)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Wn("string"==typeof o.accessToken),new qo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wn(null===e||"string"==typeof e),new Ri(e)}}class Yo{constructor(e,n,o){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Wa{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Yo(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qs{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=f=>{null!=f.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const E=f.token!==this.p;return this.p=f.token,qt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const l=f=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?l(f):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wn("string"==typeof n.token),this.p=n.token,new fl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Qo{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Vi(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<n&&(o+=e.charAt(l[f]%e.length))}return o}}function Cr(i,e){return i<e?-1:i>e?1:0}function ks(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function vo(i){return i+"\0"}class hi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new hi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ir{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ir(e)}static min(){return new ir(new hi(0,0))}static max(){return new ir(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Mn(),void 0===o?o=e.length-n:o>e.length-n&&Mn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Eo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const f=e.get(l),E=n.get(l);if(f<E)return-1;if(f>E)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dr extends Eo{construct(e,n,o){return new Dr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Rt(wt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new Dr(n)}static emptyPath(){return new Dr([])}}const ga=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Eo{construct(e,n,o){return new $i(e,n,o)}static isValidIdentifier(e){return ga.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const f=()=>{if(0===o.length)throw new Rt(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let E=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new Rt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Rt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,l+=2}else"`"===A?(E=!E,l++):"."!==A||E?(o+=A,l++):(f(),l++)}if(f(),E)throw new Rt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(n)}static emptyPath(){return new $i([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(Dr.fromString(e))}static fromName(e){return new pn(Dr.fromString(e).popFirst(5))}static empty(){return new pn(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Dr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new Dr(e.slice()))}}class Jo{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Ga(i){return i.fields.find(e=>2===e.kind)}function Js(i){return i.fields.filter(e=>2!==e.kind)}Jo.UNKNOWN_ID=-1;class hs{constructor(e,n){this.fieldPath=e,this.kind=n}}class is{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new is(0,Ji.min())}}function bo(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=ir.fromTimestamp(1e9===o?new hi(n+1,0):new hi(n,o));return new Ji(l,pn.empty(),e)}function ma(i){return new Ji(i.readTime,i.key,-1)}class Ji{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ji(ir.min(),pn.empty(),-1)}static max(){return new Ji(ir.max(),pn.empty(),-1)}}function Vo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=pn.comparator(i.documentKey,e.documentKey),0!==n?n:Cr(i.largestBatchId,e.largestBatchId))}const za="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Or(i){return fs.apply(this,arguments)}function fs(){return fs=(0,c.Z)(function*(i){if(i.code!==wt.FAILED_PRECONDITION||i.message!==za)throw i;qt("LocalStore","Unexpectedly lost primary lease")}),fs.apply(this,arguments)}class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new bt((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(n,f).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof bt?n:bt.resolve(n)}catch(n){return bt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):bt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):bt.reject(n)}static resolve(e){return new bt((n,o)=>{n(e)})}static reject(e){return new bt((n,o)=>{o(e)})}static waitFor(e){return new bt((n,o)=>{let l=0,f=0,E=!1;e.forEach(A=>{++l,A.next(()=>{++f,E&&f===l&&n()},j=>o(j))}),E=!0,f===l&&n()})}static or(e){let n=bt.resolve(!1);for(const o of e)n=n.next(l=>l?bt.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,f)=>{o.push(n.call(this,l,f))}),this.waitFor(o)}static mapArray(e,n){return new bt((o,l)=>{const f=e.length,E=new Array(f);let A=0;for(let j=0;j<f;j++){const Q=j;n(e[Q]).next(me=>{E[Q]=me,++A,A===f&&o(E)},me=>l(me))}})}static doWhile(e,n){return new bt((o,l)=>{const f=()=>{!0===e()?n().next(()=>{f()},l):o()};f()})}}class Ka{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new oi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new gl(e,n.error)):this.T.resolve()},this.transaction.onerror=o=>{const l=Zi(o.target.error);this.T.reject(new gl(e,l))}}static open(e,n,o,l){try{return new Ka(n,e.transaction(l,o))}catch(f){throw new gl(n,f)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ml(n)}}class xo{constructor(e,n,o){this.name=e,this.version=n,this.P=o,12.2===xo.v((0,W.z$)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),ya(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,W.hl)())return!1;if(xo.S())return!0;const e=(0,W.z$)(),n=xo.v(e),o=0<n&&n<10,l=xo.D(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var n=this;return(0,c.Z)(function*(){return n.db||(qt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const f=indexedDB.open(n.name,n.version);f.onsuccess=E=>{o(E.target.result)},f.onblocked=()=>{l(new gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const A=E.target.error;l("VersionError"===A.name?new Rt(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Rt(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new gl(e,A))},f.onupgradeneeded=E=>{qt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',E.oldVersion),n.P.O(E.target.result,f.transaction,E.oldVersion,n.version).next(()=>{qt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.M&&(n.db.onversionchange=o=>n.M(o)),n.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var f=this;return(0,c.Z)(function*(){const E="readonly"===n;let A=0;for(;;){++A;try{f.db=yield f.k(e);const j=Ka.open(f.db,e,E?"readonly":"readwrite",o),Q=l(j).next(me=>(j.R(),me)).catch(me=>(j.abort(me),bt.reject(me))).toPromise();return Q.catch(()=>{}),yield j.A,Q}catch(j){const Q=j,me="FirebaseError"!==Q.name&&A<3;if(qt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",me),f.close(),!me)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bu{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ya(this.$.delete())}}class gl extends Rt{constructor(e,n){super(wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Uo(i){return"IndexedDbTransactionError"===i.name}class ml{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(qt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ya(o)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),ya(this.store.add(e))}get(e){return ya(this.store.get(e)).next(n=>(void 0===n&&(n=null),qt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),ya(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),ya(this.store.count())}K(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),f=[];return this.G(l,(E,A)=>{f.push(A)}).next(()=>f)}{const l=this.store.getAll(o.range);return new bt((f,E)=>{l.onerror=A=>{E(A.target.error)},l.onsuccess=A=>{f(A.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new bt((l,f)=>{o.onerror=E=>{f(E.target.error)},o.onsuccess=E=>{l(E.target.result)}})}W(e,n){qt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.H=!1;const l=this.cursor(o);return this.G(l,(f,E,A)=>A.delete())}J(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Y(e){const n=this.cursor({});return new bt((o,l)=>{n.onerror=f=>{const E=Zi(f.target.error);l(E)},n.onsuccess=f=>{const E=f.target.result;E?e(E.primaryKey,E.value).next(A=>{A?E.continue():o()}):o()}})}G(e,n){const o=[];return new bt((l,f)=>{e.onerror=E=>{f(E.target.error)},e.onsuccess=E=>{const A=E.target.result;if(!A)return void l();const j=new bu(A),Q=n(A.primaryKey,A.value,j);if(Q instanceof bt){const me=Q.catch(Ge=>(j.done(),bt.reject(Ge)));o.push(me)}j.isDone?l():null===j.U?A.continue():A.continue(j.U)}}).next(()=>bt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ya(i){return new bt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Zi(o.target.error);n(l)}})}let wu=!1;function Zi(i){const e=xo.v((0,W.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wu||(wu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ol{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var n=this;qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){n.task=null;try{qt("IndexBackiller",`Documents written: ${yield n.X.tt()}`)}catch(o){Uo(o)?qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Or(o)}yield n.Z(1)}))}}class _a{constructor(e,n){this.localStore=e,this.persistence=n}tt(e=50){var n=this;return(0,c.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.et(o,e))})()}et(e,n){const o=new Set;let l=n,f=!0;return bt.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!o.has(E))return qt("IndexBackiller",`Processing collection: ${E}`),this.nt(e,E,l).next(A=>{l-=A,o.add(E)});f=!1})).next(()=>n-l)}nt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(f=>{const E=f.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.st(l,f)).next(A=>(qt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,n,A))).next(()=>E.size)}))}st(e,n){let o=e;return n.changes.forEach((l,f)=>{const E=ma(f);Vo(E,o)>0&&(o=E)}),new Ji(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Ws{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.it(o),this.rt=o=>n.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Za(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Xi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function oo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ws.ot=-1;class ji{constructor(e,n){this.comparator=e,this.root=n||C.EMPTY}insert(e,n){return new ji(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,C.BLACK,null,null))}remove(e){return new ji(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T(this.root,e,this.comparator,!1)}getReverseIterator(){return new T(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T(this.root,e,this.comparator,!0)}}class T{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?o(e.key,n):1,n&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class C{constructor(e,n,o,l,f){this.key=e,this.value=n,this.color=o??C.RED,this.left=l??C.EMPTY,this.right=f??C.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,f){return new C(e??this.key,n??this.value,o??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===f?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return C.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return C.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,C.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,C.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mn();const e=this.left.check();if(e!==this.right.check())throw Mn();return e+(this.isRed()?0:1)}}C.EMPTY=null,C.RED=!0,C.BLACK=!1,C.EMPTY=new class{constructor(){this.size=0}get key(){throw Mn()}get value(){throw Mn()}get color(){throw Mn()}get left(){throw Mn()}get right(){throw Mn()}copy(i,e,n,o,l){return this}insert(i,e,n){return new C(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class w{constructor(e){this.comparator=e,this.data=new ji(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P(this.data.getIterator())}getIteratorFrom(e){return new P(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof w)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new w(this.comparator);return n.data=e,n}}class P{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B(i){return i.hasNext()?i.getNext():void 0}class ie{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new ie([])}unionWith(e){let n=new w($i.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ie(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ee(){return typeof atob<"u"}class xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xe(n)}static fromUint8Array(e){const n=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const It=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function an(i){if(Wn(!!i),"string"==typeof i){let e=0;const n=It.exec(i);if(Wn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:On(i.seconds),nanos:On(i.nanos)}}function On(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Pn(i){return"string"==typeof i?xe.fromBase64String(i):xe.fromUint8Array(i)}function Zr(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gs(i){const e=i.mapValue.fields.__previous_value__;return Zr(e)?Gs(e):e}function ao(i){const e=an(i.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}class Xo{constructor(e,n,o,l,f,E,A,j){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=A,this.useFetchStreams=j}}class ss{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ss&&e.projectId===this.projectId&&e.database===this.database}}function ea(i){return null==i}function Ls(i){return 0===i&&1/i==-1/0}function va(i){return"number"==typeof i&&Number.isInteger(i)&&!Ls(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},su={nullValue:"NULL_VALUE"};function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zr(i)?4:Tt(i)?9007199254740991:10:Mn()}function Po(i,e){if(i===e)return!0;const n=os(i);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ao(i).isEqual(ao(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=an(o.timestampValue),E=an(l.timestampValue);return f.seconds===E.seconds&&f.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Pn(i.bytesValue).isEqual(Pn(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return On(o.geoPointValue.latitude)===On(l.geoPointValue.latitude)&&On(o.geoPointValue.longitude)===On(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return On(o.integerValue)===On(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=On(o.doubleValue),E=On(l.doubleValue);return f===E?Ls(f)===Ls(E):isNaN(f)&&isNaN(E)}return!1}(i,e);case 9:return ks(i.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(o,l){const f=o.mapValue.fields||{},E=l.mapValue.fields||{};if(Za(f)!==Za(E))return!1;for(const A in f)if(f.hasOwnProperty(A)&&(void 0===E[A]||!Po(f[A],E[A])))return!1;return!0}(i,e);default:return Mn()}var l}function lo(i,e){return void 0!==(i.values||[]).find(n=>Po(n,e))}function ta(i,e){if(i===e)return 0;const n=os(i),o=os(e);if(n!==o)return Cr(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cr(i.booleanValue,e.booleanValue);case 2:return function(l,f){const E=On(l.integerValue||l.doubleValue),A=On(f.integerValue||f.doubleValue);return E<A?-1:E>A?1:E===A?0:isNaN(E)?isNaN(A)?0:-1:1}(i,e);case 3:return ou(i.timestampValue,e.timestampValue);case 4:return ou(ao(i),ao(e));case 5:return Cr(i.stringValue,e.stringValue);case 6:return function(l,f){const E=Pn(l),A=Pn(f);return E.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const E=l.split("/"),A=f.split("/");for(let j=0;j<E.length&&j<A.length;j++){const Q=Cr(E[j],A[j]);if(0!==Q)return Q}return Cr(E.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const E=Cr(On(l.latitude),On(f.latitude));return 0!==E?E:Cr(On(l.longitude),On(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const E=l.values||[],A=f.values||[];for(let j=0;j<E.length&&j<A.length;++j){const Q=ta(E[j],A[j]);if(Q)return Q}return Cr(E.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===wo.mapValue&&f===wo.mapValue)return 0;if(l===wo.mapValue)return 1;if(f===wo.mapValue)return-1;const E=l.fields||{},A=Object.keys(E),j=f.fields||{},Q=Object.keys(j);A.sort(),Q.sort();for(let me=0;me<A.length&&me<Q.length;++me){const Ge=Cr(A[me],Q[me]);if(0!==Ge)return Ge;const St=ta(E[A[me]],j[Q[me]]);if(0!==St)return St}return Cr(A.length,Q.length)}(i.mapValue,e.mapValue);default:throw Mn()}}function ou(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Cr(i,e);const n=an(i),o=an(e),l=Cr(n.seconds,o.seconds);return 0!==l?l:Cr(n.nanos,o.nanos)}function uo(i){return jl(i)}function jl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=an(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Pn(i.bytesValue).toBase64():"referenceValue"in i?pn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const E of o.values||[])f?f=!1:l+=",",l+=jl(E);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",E=!0;for(const A of l)E?E=!1:f+=",",f+=`${A}:${jl(o.fields[A])}`;return f+"}"}(i.mapValue):Mn();var e}function Ro(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ea(i){return!!i&&"integerValue"in i}function R(i){return!!i&&"arrayValue"in i}function H(i){return!!i&&"nullValue"in i}function oe(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function De(i){return!!i&&"mapValue"in i}function ot(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ot(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ot(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Tt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kt(i){return"nullValue"in i?su:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ro(ss.empty(),pn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Mn()}function Cn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ro(ss.empty(),pn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?wo:Mn()}function sr(i,e){const n=ta(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function mr(i,e){const n=ta(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!De(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ot(n)}setAll(e){let n=$i.emptyPath(),o={},l=[];e.forEach((E,A)=>{if(!n.isImmediateParentOf(A)){const j=this.getFieldsMap(n);this.applyChanges(j,o,l),o={},l=[],n=A.popLast()}E?o[A.lastSegment()]=ot(E):l.push(A.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,o,l)}delete(e){const n=this.field(e.popLast());De(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];De(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Xi(n,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new Zn(ot(this.value))}}function er(i){const e=[];return Xi(i.fields,(n,o)=>{const l=new $i([n]);if(De(o)){const f=er(o.mapValue).fields;if(0===f.length)e.push(l);else for(const E of f)e.push(l.child(E))}else e.push(l)}),new ie(e)}class yr{constructor(e,n,o,l,f,E){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=f,this.documentState=E}static newInvalidDocument(e){return new yr(e,0,ir.min(),ir.min(),Zn.empty(),0)}static newFoundDocument(e,n,o){return new yr(e,1,n,ir.min(),o,0)}static newNoDocument(e,n){return new yr(e,2,n,ir.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,ir.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ir.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xs{constructor(e,n=null,o=[],l=[],f=null,E=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=E,this.endAt=A,this.ut=null}}function qa(i,e=null,n=[],o=[],l=null,f=null,E=null){return new Xs(i,e,n,o,l,f,E)}function Ds(i){const e=mn(i);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+uo(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),ea(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>uo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>uo(o)).join(",")),e.ut=n}return e.ut}function Ya(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Nc(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!Po(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ec(i.startAt,e.startAt)&&ec(i.endAt,e.endAt)}function Qa(i){return pn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function wa(i,e){return i.filters.filter(n=>n instanceof ps&&n.field.isEqual(e))}function Io(i,e,n){let o=su,l=!0;for(const f of wa(i,e)){let E=su,A=!0;switch(f.op){case"<":case"<=":E=Kt(f.value);break;case"==":case"in":case">=":E=f.value;break;case">":E=f.value,A=!1;break;case"!=":case"not-in":E=su}sr({value:o,inclusive:l},{value:E,inclusive:A})<0&&(o=E,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const E=n.position[f];sr({value:o,inclusive:l},{value:E,inclusive:n.inclusive})<0&&(o=E,l=n.inclusive);break}return{value:o,inclusive:l}}function No(i,e,n){let o=wo,l=!0;for(const f of wa(i,e)){let E=wo,A=!0;switch(f.op){case">=":case">":E=Cn(f.value),A=!1;break;case"==":case"in":case"<=":E=f.value;break;case"<":E=f.value,A=!1;break;case"!=":case"not-in":E=wo}mr({value:o,inclusive:l},{value:E,inclusive:A})>0&&(o=E,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const E=n.position[f];mr({value:o,inclusive:l},{value:E,inclusive:n.inclusive})>0&&(o=E,l=n.inclusive);break}return{value:o,inclusive:l}}class ps extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,o):new _h(e,n,o):"array-contains"===n?new Rc(e,o):"in"===n?new wd(e,o):"not-in"===n?new Xu(e,o):"array-contains-any"===n?new Iu(e,o):new ps(e,n,o)}static ct(e,n,o){return"in"===n?new Pc(e,o):new bd(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(ta(n,this.value)):null!==n&&os(this.value)===os(n)&&this.at(ta(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _h extends ps{constructor(e,n,o){super(e,n,o),this.key=pn.fromName(o.referenceValue)}matches(e){const n=pn.comparator(e.key,this.key);return this.at(n)}}class Pc extends ps{constructor(e,n){super(e,"in",n),this.keys=Ju(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bd extends ps{constructor(e,n){super(e,"not-in",n),this.keys=Ju(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ju(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>pn.fromName(o.referenceValue))}class Rc extends ps{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R(n)&&lo(n.arrayValue,this.value)}}class wd extends ps{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&lo(this.value.arrayValue,n)}}class Xu extends ps{constructor(e,n){super(e,"not-in",n)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!lo(this.value.arrayValue,n)}}class Iu extends ps{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>lo(this.value.arrayValue,o))}}class na{constructor(e,n){this.position=e,this.inclusive=n}}class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Id(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],E=i.position[l];if(o=f.field.isKeyField()?pn.comparator(pn.fromName(E.referenceValue),n.key):ta(E,n.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function ec(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Po(i.position[n],e.position[n]))return!1;return!0}class yl{constructor(e,n=null,o=[],l=[],f=null,E="F",A=null,j=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=E,this.startAt=A,this.endAt=j,this.lt=null,this.ft=null}}function Cu(i,e,n,o,l,f,E,A){return new yl(i,e,n,o,l,f,E,A)}function Gl(i){return new yl(i)}function Na(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function au(i){for(const e of i.filters)if(e.ht())return e.field;return null}function _l(i){return null!==i.collectionGroup}function zl(i){const e=mn(i);if(null===e.lt){e.lt=[];const n=au(e),o=Na(e);if(null!==n&&null===o)n.isKeyField()||e.lt.push(new Wl(n)),e.lt.push(new Wl($i.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.lt.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Wl($i.keyField(),f))}}}return e.lt}function ra(i){const e=mn(i);if(!e.ft)if("F"===e.limitType)e.ft=qa(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const f of zl(e))n.push(new Wl(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new na(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new na(e.startAt.position,e.startAt.inclusive):null;e.ft=qa(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.ft}function Cd(i,e,n){return new yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ja(i,e){return Ya(ra(i),ra(e))&&i.limitType===e.limitType}function Tu(i){return`${Ds(ra(i))}|lt:${i.limitType}`}function Du(i){return`Query(target=${function ba(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${uo(o.value)}`;var o}).join(", ")}]`),ea(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>uo(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>uo(n)).join(",")),`Target(${e})`}(ra(i))}; limitType=${i.limitType})`}function Su(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):pn.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,f,E){const A=Id(l,f,E);return l.inclusive?A<=0:A<0}(n.startAt,zl(n),o)||n.endAt&&!function(l,f,E){const A=Id(l,f,E);return l.inclusive?A>=0:A>0}(n.endAt,zl(n),o)));var n,o}function tc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ka(i){return(e,n)=>{let o=!1;for(const l of zl(i)){const f=Td(l,e,n);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function Td(i,e,n){const o=i.field.isKeyField()?pn.comparator(e.key,n.key):function(l,f,E){const A=f.data.field(l),j=E.data.field(l);return null!==A&&null!==j?ta(A,j):Mn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Mn()}}function Au(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(e)?"-0":e}}function Lc(i){return{integerValue:""+i}}function nc(i,e){return va(e)?Lc(e):Au(i,e)}class Mu{constructor(){this._=void 0}}function Ia(i,e,n){return i instanceof xl?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof Pl?Fc(i,e):i instanceof Rl?Vc(i,e):function(o,l){const f=rc(o,l),E=g(f)+g(o._t);return Ea(f)&&Ea(o._t)?Lc(E):Au(o.wt,E)}(i,e)}function Kl(i,e,n){return i instanceof Pl?Fc(i,e):i instanceof Rl?Vc(i,e):n}function rc(i,e){return i instanceof I?Ea(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class xl extends Mu{}class Pl extends Mu{constructor(e){super(),this.elements=e}}function Fc(i,e){const n=y(e);for(const o of i.elements)n.some(l=>Po(l,o))||n.push(o);return{arrayValue:{values:n}}}class Rl extends Mu{constructor(e){super(),this.elements=e}}function Vc(i,e){let n=y(e);for(const o of i.elements)n=n.filter(l=>!Po(l,o));return{arrayValue:{values:n}}}class I extends Mu{constructor(e,n){super(),this.wt=e,this._t=n}}function g(i){return On(i.integerValue||i.doubleValue)}function y(i){return R(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class S{constructor(e,n){this.field=e,this.transform=n}}class ge{constructor(e,n){this.version=e,this.transformResults=n}}class lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lt}static exists(e){return new lt(void 0,e)}static updateTime(e){return new lt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ut(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Sn{}function Fn(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new es(i.key,lt.none()):new vl(i.key,i.data,lt.none());{const n=i.data,o=Zn.empty();let l=new w($i.comparator);for(let f of e.fields)if(!l.has(f)){let E=n.field(f);null===E&&f.length>1&&(f=f.popLast(),E=n.field(f)),null===E?o.delete(f):o.set(f,E),l=l.add(f)}return new Xa(i.key,o,new ie(l.toArray()),lt.none())}}function Vr(i,e,n){i instanceof vl?function(o,l,f){const E=o.value.clone(),A=lu(o.fieldTransforms,l,f.transformResults);E.setAll(A),l.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(i,e,n):i instanceof Xa?function(o,l,f){if(!Ut(o.precondition,l))return void l.convertToUnknownDocument(f.version);const E=lu(o.fieldTransforms,l,f.transformResults),A=l.data;A.setAll(ic(o)),A.setAll(E),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Oi(i,e,n,o){return i instanceof vl?function(l,f,E,A){if(!Ut(l.precondition,f))return E;const j=l.value.clone(),Q=ia(l.fieldTransforms,A,f);return j.setAll(Q),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(i,e,n,o):i instanceof Xa?function(l,f,E,A){if(!Ut(l.precondition,f))return E;const j=ia(l.fieldTransforms,A,f),Q=f.data;return Q.setAll(ic(l)),Q.setAll(j),f.convertToFoundDocument(f.version,Q).setHasLocalMutations(),null===E?null:E.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(me=>me.field))}(i,e,n,o):(E=n,Ut(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):E);var f,E}function Ca(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=rc(o.transform,l||null);null!=f&&(null===n&&(n=Zn.empty()),n.set(o.field,f))}return n||null}function Ta(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&ks(n,o,(l,f)=>function ne(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Pl&&o instanceof Pl||n instanceof Rl&&o instanceof Rl?ks(n.elements,o.elements,Po):n instanceof I&&o instanceof I?Po(n._t,o._t):n instanceof xl&&o instanceof xl);var n,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class vl extends Sn{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xa extends Sn{constructor(e,n,o,l,f=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ic(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function lu(i,e,n){const o=new Map;Wn(i.length===n.length);for(let l=0;l<n.length;l++){const f=i[l],E=f.transform,A=e.data.field(f.field);o.set(f.field,Kl(E,A,n[l]))}return o}function ia(i,e,n){const o=new Map;for(const l of i){const f=l.transform,E=n.data.field(l.field);o.set(l.field,Ia(f,E,e))}return o}class es extends Sn{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uu extends Sn{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sc{constructor(e){this.count=e}}var as,li;function Dd(i){switch(i){default:return Mn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function oc(i){if(void 0===i)return Ii("GRPC error has no .code"),wt.UNKNOWN;switch(i){case as.OK:return wt.OK;case as.CANCELLED:return wt.CANCELLED;case as.UNKNOWN:return wt.UNKNOWN;case as.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case as.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case as.INTERNAL:return wt.INTERNAL;case as.UNAVAILABLE:return wt.UNAVAILABLE;case as.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case as.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case as.NOT_FOUND:return wt.NOT_FOUND;case as.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case as.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case as.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case as.ABORTED:return wt.ABORTED;case as.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case as.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case as.DATA_LOSS:return wt.DATA_LOSS;default:return Mn()}}(li=as||(as={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class Nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return oo(this.inner)}size(){return this.innerSize}}const Sd=new ji(pn.comparator);function eo(){return Sd}const ac=new ji(pn.comparator);function Ou(...i){let e=ac;for(const n of i)e=e.insert(n.key,n);return e}function Uc(i){let e=ac;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Ni(){return lc()}function Ad(){return lc()}function lc(){return new Nl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Md=new ji(pn.comparator),vh=new w(pn.comparator);function qr(...i){let e=vh;for(const n of i)e=e.add(n);return e}const Ag=new w(Cr);function Od(){return Ag}class Bc{constructor(e,n,o,l,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Bc(ir.min(),o,Od(),eo(),qr())}}class Hc{constructor(e,n,o,l,f){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Hc(xe.EMPTY_BYTE_STRING,n,qr(),qr(),qr())}}class Eh{constructor(e,n,o,l){this.gt=e,this.removedTargetIds=n,this.key=o,this.yt=l}}class Mg{constructor(e,n){this.targetId=e,this.It=n}}class uc{constructor(e,n,o=xe.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class xd{constructor(){this.Tt=0,this.Et=wh(),this.At=xe.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=qr(),n=qr(),o=qr();return this.Et.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:Mn()}}),new Hc(this.At,this.Rt,e,n,o)}Dt(){this.bt=!1,this.Et=wh()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rf{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=eo(),this.Bt=bh(),this.Lt=new w(Cr)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const o=this.Qt(n);switch(e.state){case 0:this.jt(n)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),o.Vt(e.resumeToken));break;default:Mn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((o,l)=>{this.jt(l)&&n(l)})}zt(e){const n=e.targetId,o=e.It.count,l=this.Ht(n);if(l){const f=l.target;if(Qa(f))if(0===o){const E=new pn(f.path);this.Kt(n,E,yr.newNoDocument(E,ir.min()))}else Wn(1===o);else this.Jt(n)!==o&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((f,E)=>{const A=this.Ht(E);if(A){if(f.current&&Qa(A.target)){const j=new pn(A.target.path);null!==this.$t.get(j)||this.Xt(E,j)||this.Kt(E,j,yr.newNoDocument(j,e))}f.vt&&(n.set(E,f.St()),f.Dt())}});let o=qr();this.Bt.forEach((f,E)=>{let A=!0;E.forEachWhile(j=>{const Q=this.Ht(j);return!Q||2===Q.purpose||(A=!1,!1)}),A&&(o=o.add(f))}),this.$t.forEach((f,E)=>E.setReadTime(e));const l=new Bc(e,n,this.Lt,this.$t,o);return this.$t=eo(),this.Bt=bh(),this.Lt=new w(Cr),l}qt(e,n){if(!this.jt(e))return;const o=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,o),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,o){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,n)?l.Ct(n,1):l.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),o&&(this.$t=this.$t.insert(n,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new xd,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new w(Cr),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||qt("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new xd),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function bh(){return new ji(pn.comparator)}function wh(){return new ji(pn.comparator)}const Og={asc:"ASCENDING",desc:"DESCENDING"},Ih={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nf{constructor(e,n){this.databaseId=e,this.dt=n}}function xu(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xg(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Pg(i,e){return xu(i,e.toTimestamp())}function to(i){return Wn(!!i),ir.fromTimestamp(function(e){const n=an(e);return new hi(n.seconds,n.nanos)}(i))}function Pd(i,e){return(n=i,new Dr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ch(i){const e=Dr.fromString(i);return Wn(dc(e)),e}function El(i,e){return Pd(i.databaseId,e.path)}function kl(i,e){const n=Ch(e);if(n.get(1)!==i.databaseId.projectId)throw new Rt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Rt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pn(Rd(n))}function $c(i,e){return Pd(i.databaseId,e)}function jc(i){const e=Ch(i);return 4===e.length?Dr.emptyPath():Rd(e)}function Wc(i){return new Dr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rd(i){return Wn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Gc(i,e,n){return{name:El(i,e),fields:n.value.mapValue.fields}}function cu(i,e,n){const o=kl(i,e.name),l=to(e.updateTime),f=new Zn({mapValue:{fields:e.fields}}),E=yr.newFoundDocument(o,l,f);return n&&E.setHasCommittedMutations(),n?E.setHasCommittedMutations():E}function zc(i,e){let n;if(e instanceof vl)n={update:Gc(i,e.key,e.value)};else if(e instanceof es)n={delete:El(i,e.key)};else if(e instanceof Xa)n={update:Gc(i,e.key,e.data),updateMask:kg(e.fieldMask)};else{if(!(e instanceof uu))return Mn();n={verify:El(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const E=f.transform;if(E instanceof xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Rl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof I)return{fieldPath:f.field.canonicalString(),increment:E._t};throw Mn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Pg(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Mn()),n;var l}function Dh(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?lt.updateTime(to(l.updateTime)):void 0!==l.exists?lt.exists(l.exists):lt.none():lt.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,E){let A=null;"setToServerValue"in E?(Wn("REQUEST_TIME"===E.setToServerValue),A=new xl):"appendMissingElements"in E?A=new Pl(E.appendMissingElements.values||[]):"removeAllFromArray"in E?A=new Rl(E.removeAllFromArray.values||[]):"increment"in E?A=new I(f,E.increment):Mn();const j=$i.fromServerFormat(E.fieldPath);return new S(j,A)}(i,l)):[];var l;if(e.update){const l=kl(i,e.update.name),f=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new ie((e.updateMask.fieldPaths||[]).map(Q=>$i.fromServerFormat(Q)));return new Xa(l,f,E,n,o)}return new vl(l,f,n,o)}if(e.delete){const l=kl(i,e.delete);return new es(l,n)}if(e.verify){const l=kl(i,e.verify);return new uu(l,n)}return Mn()}function Pu(i,e){return{documents:[$c(i,e.path)]}}function Ff(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=$c(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$c(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(j){if(0===j.length)return;const Q=j.map(me=>function(Ge){if("=="===Ge.op){if(oe(Ge.value))return{unaryFilter:{field:Ru(Ge.field),op:"IS_NAN"}};if(H(Ge.value))return{unaryFilter:{field:Ru(Ge.field),op:"IS_NULL"}}}else if("!="===Ge.op){if(oe(Ge.value))return{unaryFilter:{field:Ru(Ge.field),op:"IS_NOT_NAN"}};if(H(Ge.value))return{unaryFilter:{field:Ru(Ge.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(Ge.field),op:Ng(Ge.op),value:Ge.value}}}(me));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);l&&(n.structuredQuery.where=l);const f=function(j){if(0!==j.length)return j.map(Q=>{return{field:Ru((me=Q).field),direction:Sh(me.dir)};var me})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const E=(Q=e.limit,i.dt||ea(Q)?Q:{value:Q});var Q,A,j;return null!==E&&(n.structuredQuery.limit=E),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),n}function Vf(i){let e=jc(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Wn(1===o);const me=n.from[0];me.allDescendants?l=me.collectionId:e=e.child(me.collectionId)}let f=[];n.where&&(f=Uf(n.where));let E=[];n.orderBy&&(E=n.orderBy.map(me=>{return new Wl(cc((Ge=me).field),function(St){switch(St){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let A=null;n.limit&&(A=function(me){let Ge;return Ge="object"==typeof me?me.value:me,ea(Ge)?null:Ge}(n.limit));let j=null;var me;n.startAt&&(j=new na((me=n.startAt).values||[],!!me.before));let Q=null;return n.endAt&&(Q=function(me){return new na(me.values||[],!me.before)}(n.endAt)),Cu(e,l,E,f,A,"F",j,Q)}function Uf(i){return i?void 0!==i.unaryFilter?[gy(i)]:void 0!==i.fieldFilter?[Bf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Uf(e)).reduce((e,n)=>e.concat(n)):Mn():[]}function Sh(i){return Og[i]}function Ng(i){return Ih[i]}function Ru(i){return{fieldPath:i.canonicalString()}}function cc(i){return $i.fromServerFormat(i.fieldPath)}function Bf(i){return ps.create(cc(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mn()}}(i.fieldFilter.op),i.fieldFilter.value)}function gy(i){switch(i.unaryFilter.op){case"IS_NAN":const e=cc(i.unaryFilter.field);return ps.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=cc(i.unaryFilter.field);return ps.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cc(i.unaryFilter.field);return ps.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cc(i.unaryFilter.field);return ps.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Mn()}}function kg(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function sa(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=fc(e)),e=hc(i.get(n),e);return fc(e)}function hc(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const f=i.charAt(l);switch(f){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=f}}return n}function fc(i){return i+"\x01\x01"}function Ll(i){const e=i.length;if(Wn(e>=2),2===e)return Wn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Dr.emptyPath();const n=e-2,o=[];let l="";for(let f=0;f<e;){const E=i.indexOf("\x01",f);switch((E<0||E>n)&&Mn(),i.charAt(E+1)){case"\x01":const A=i.substring(f,E);let j;0===l.length?j=A:(l+=A,j=l,l=""),o.push(j);break;case"\x10":l+=i.substring(f,E),l+="\0";break;case"\x11":l+=i.substring(f,E+1);break;default:Mn()}f=E+2}return new Dr(o)}const Lg=["userId","batchId"];function Kc(i,e){return[i,sa(e)]}function Hf(i,e,n){return[i,sa(e),n]}const Fg={},$f=["prefixPath","collectionGroup","readTime","documentId"],Zc=["prefixPath","collectionGroup","documentId"],Nd=["collectionGroup","readTime","prefixPath","documentId"],kd=["canonicalId","targetId"],Vg=["targetId","path"],Ld=["path","targetId"],Fd=["collectionId","parent"],Ug=["indexId","uid"],Bg=["uid","sequenceNumber"],Vd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hg=["indexId","uid","orderedDocumentKey"],$g=["userId","collectionPath","documentId"],my=["userId","collectionPath","largestBatchId"],yy=["userId","collectionGroup","largestBatchId"],jg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wg=[...jg,"documentOverlays"],Ah=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ud=Ah,jf=[...Ud,"indexConfiguration","indexState","indexEntries"];class Mh extends wr{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function co(i,e){const n=mn(i);return xo.N(n.ee,e)}class qc{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&Vr(f,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Oi(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Oi(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Ad();return this.mutations.forEach(l=>{const f=e.get(l.key),E=f.overlayedDocument;let A=this.applyToLocalView(E,f.mutatedFields);A=n.has(l.key)?null:A;const j=Fn(E,A);null!==j&&o.set(l.key,j),E.isValidDocument()||E.convertToNoDocument(ir.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qr())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,o)=>Ta(n,o))&&ks(this.baseMutations,e.baseMutations,(n,o)=>Ta(n,o))}}class Oh{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Wn(e.mutations.length===o.length);let l=Md;const f=e.mutations;for(let E=0;E<f.length;E++)l=l.insert(f[E].key,o[E].version);return new Oh(e,n,o,l)}}class Yc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class el{constructor(e,n,o,l,f=ir.min(),E=ir.min(),A=xe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=A}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wf{constructor(e){this.ne=e}}function Gf(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:El(l=i.ne,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:xu(l,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return Mn();o.unknownDocument={path:n.path.toArray(),version:Nu(e.version)}}var l,f;return o}function Qc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ku(i){const e=new hi(i.seconds,i.nanoseconds);return ir.fromTimestamp(e)}function Lu(i,e){const n=(e.baseMutations||[]).map(f=>Dh(i.ne,f));for(let f=0;f<e.mutations.length-1;++f){const E=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(E.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>Dh(i.ne,f)),l=hi.fromMillis(e.localWriteTimeMs);return new qc(e.batchId,l,n,o)}function Jc(i){const e=ku(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?ku(i.lastLimboFreeSnapshotVersion):ir.min();let o;var l;return void 0!==i.query.documents?(Wn(1===(l=i.query).documents.length),o=ra(Gl(jc(l.documents[0])))):o=ra(Vf(i.query)),new el(o,i.targetId,0,i.lastListenSequenceNumber,e,n,xe.fromBase64String(i.resumeToken))}function Bd(i,e){const n=Nu(e.snapshotVersion),o=Nu(e.lastLimboFreeSnapshotVersion);let l;l=Qa(e.target)?Pu(i.ne,e.target):Ff(i.ne,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ds(e.target),readTime:n,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function xh(i){const e=Vf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Cd(e,e.limit,"L"):e}function Ph(i,e){return new Yc(e.largestBatchId,Dh(i.ne,e.overlayMutation))}function zf(i,e){const n=e.path.lastSegment();return[i,sa(e.path.popLast()),n]}function Rh(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Nu(o.readTime),documentKey:sa(o.documentKey.path),largestBatchId:o.largestBatchId}}class zg{getBundleMetadata(e,n){return Kf(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:ku(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return Kf(e).put({bundleId:(o=n).id,createTime:Nu(to(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Bo(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:xh(l.bundledQuery),readTime:ku(l.readTime)};var l})}saveNamedQuery(e,n){return Bo(e).put({name:(o=n).name,readTime:Nu(to(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Kf(i){return co(i,"bundles")}function Bo(i){return co(i,"namedQueries")}class pc{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){return new pc(e,n.uid||"")}getOverlay(e,n){return gc(e).get(zf(this.userId,n)).next(o=>o?Ph(this.wt,o):null)}getOverlays(e,n){const o=Ni();return bt.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((f,E)=>{const A=new Yc(n,E);l.push(this.ie(e,A))}),bt.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(E=>l.add(sa(E.getCollectionPath())));const f=[];return l.forEach(E=>{const A=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);f.push(gc(e).W("collectionPathOverlayIndex",A))}),bt.waitFor(f)}getOverlaysForCollection(e,n,o){const l=Ni(),f=sa(n),E=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return gc(e).K("collectionPathOverlayIndex",E).next(A=>{for(const j of A){const Q=Ph(this.wt,j);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const f=Ni();let E;const A=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gc(e).J({index:"collectionGroupOverlayIndex",range:A},(j,Q,me)=>{const Ge=Ph(this.wt,Q);f.size()<l||Ge.largestBatchId===E?(f.set(Ge.getKey(),Ge),E=Ge.largestBatchId):me.done()}).next(()=>f)}ie(e,n){return gc(e).put(function(o,l,f){const[E,A,j]=zf(l,f.mutation.key);return{userId:l,collectionPath:A,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:zc(o.ne,f.mutation)}}(this.wt,this.userId,n))}}function gc(i){return co(i,"documentOverlays")}class Zl{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(On(e.integerValue));else if("doubleValue"in e){const o=On(e.doubleValue);isNaN(o)?this.ce(n,13):(this.ce(n,15),Ls(o)?n.ae(0):n.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(n,20),"string"==typeof o?n.he(o):(n.he(`${o.seconds||""}`),n.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(Pn(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(n,45),n.ae(o.latitude||0),n.ae(o.longitude||0)}else"mapValue"in e?Tt(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):Mn()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const o=e.fields||{};this.ce(n,55);for(const l of Object.keys(o))this.le(l,n),this.oe(o[l],n)}me(e,n){const o=e.values||[];this.ce(n,50);for(const l of o)this.oe(l,n)}_e(e,n){this.ce(n,37),pn.fromName(e).path.forEach(o=>{this.ce(n,60),this.ge(o,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}function ko(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function mc(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const f=ko(255&n[l]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}Zl.ye=new Zl;class Nh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ie(o.value),o=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const l=n.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const l=n.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const n=this.Ve(e),o=mc(n);this.Se(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}De(e){const n=this.Ve(e),o=mc(n);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(l){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,l,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Ie(e){const n=255&e;0===n?(this.xe(0),this.xe(255)):255===n?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Kg{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Zg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class yc{constructor(){this.Me=new Nh,this.Fe=new Kg(this.Me),this.$e=new Zg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Fu{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Le(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Fu(this.indexId,this.documentKey,this.arrayValue,o)}}function du(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Zf(i.arrayValue,e.arrayValue),0!==n?n:(n=Zf(i.directionalValue,e.directionalValue),0!==n?n:pn.comparator(i.documentKey,e.documentKey)))}function Zf(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class qf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const o=n;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const n=Ga(e);if(void 0!==n&&!this.Qe(n))return!1;const o=Js(e);let l=0,f=0;for(;l<o.length&&this.Qe(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Ke){const E=o[l];if(!this.je(this.Ke,E)||!this.We(this.Ue[f++],E))return!1;++l}for(;l<o.length;++l){const E=o[l];if(f>=this.Ue.length||!this.We(this.Ue[f++],E))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class qg{constructor(){this.ze=new kh}addToCollectionParentIndex(e,n){return this.ze.add(n),bt.resolve()}getCollectionParents(e,n){return bt.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return bt.resolve()}deleteFieldIndex(e,n){return bt.resolve()}getDocumentsMatchingTarget(e,n){return bt.resolve(null)}getIndexType(e,n){return bt.resolve(0)}getFieldIndexes(e,n){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,n){return bt.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return bt.resolve(Ji.min())}updateCollectionGroup(e,n,o){return bt.resolve()}updateIndexEntries(e,n){return bt.resolve()}}class kh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new w(Dr.comparator),f=!l.has(o);return this.index[n]=l.add(o),f}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new w(Dr.comparator)).toArray()}}const Hd=new Uint8Array(0);class Yg{constructor(e,n){this.user=e,this.databaseId=n,this.He=new kh,this.Je=new Nl(o=>Ds(o),(o,l)=>Ya(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const f={collectionId:o,parent:sa(l)};return Yf(e).put(f)}return bt.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[vo(n),""],!1,!0);return Yf(e).K(l).next(f=>{for(const E of f){if(E.collectionId!==n)break;o.push(Ll(E.parent))}return o})}addFieldIndex(e,n){const o=ql(e),l={indexId:(E=n).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var E;delete l.indexId;const f=o.add(l);if(n.indexState){const E=La(e);return f.next(A=>{E.put(Rh(A,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return f.next()}deleteFieldIndex(e,n){const o=ql(e),l=La(e),f=Xc(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Xc(e);let l=!0;const f=new Map;return bt.forEach(this.Ye(n),E=>this.Xe(e,E).next(A=>{l&&(l=!!A),f.set(E,A)})).next(()=>{if(l){let E=qr();const A=[];return bt.forEach(f,(j,Q)=>{var me;qt("IndexedDbIndexManager",`Using index ${me=j,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(ms=>`${ms.fieldPath}:${ms.kind}`).join(",")}`} to execute ${Ds(n)}`);const Ge=function(ms,la){const po=Ga(la);if(void 0===po)return null;for(const Zs of wa(ms,po.fieldPath))switch(Zs.op){case"array-contains-any":return Zs.value.arrayValue.values||[];case"array-contains":return[Zs.value]}return null}(Q,j),St=function(ms,la){const po=new Map;for(const Zs of Js(la))for(const ua of wa(ms,Zs.fieldPath))switch(ua.op){case"==":case"in":po.set(Zs.fieldPath.canonicalString(),ua.value);break;case"not-in":case"!=":return po.set(Zs.fieldPath.canonicalString(),ua.value),Array.from(po.values())}return null}(Q,j),Ft=function(ms,la){const po=[];let Zs=!0;for(const ua of Js(la)){const Yu=0===ua.kind?Io(ms,ua.fieldPath,ms.startAt):No(ms,ua.fieldPath,ms.startAt);po.push(Yu.value),Zs&&(Zs=Yu.inclusive)}return new na(po,Zs)}(Q,j),Yt=function(ms,la){const po=[];let Zs=!0;for(const ua of Js(la)){const Yu=0===ua.kind?No(ms,ua.fieldPath,ms.endAt):Io(ms,ua.fieldPath,ms.endAt);po.push(Yu.value),Zs&&(Zs=Yu.inclusive)}return new na(po,Zs)}(Q,j),Hn=this.Ze(j,Q,Ft),lr=this.Ze(j,Q,Yt),Wi=this.tn(j,Q,St),Cs=this.en(j.indexId,Ge,Hn,Ft.inclusive,lr,Yt.inclusive,Wi);return bt.forEach(Cs,ms=>o.j(ms,n.limit).next(la=>{la.forEach(po=>{const Zs=pn.fromSegments(po.documentKey);E.has(Zs)||(E=E.add(Zs),A.push(Zs))})}))}).next(()=>A)}return bt.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,o,l,f,E,A){const j=(null!=n?n.length:1)*Math.max(o.length,f.length),Q=j/(null!=n?n.length:1),me=[];for(let Ge=0;Ge<j;++Ge){const St=n?this.nn(n[Ge/Q]):Hd,Ft=this.sn(e,St,o[Ge%Q],l),Yt=this.rn(e,St,f[Ge%Q],E),Hn=A.map(lr=>this.sn(e,St,lr,!0));me.push(...this.createRange(Ft,Yt,Hn))}return me}sn(e,n,o,l){const f=new Fu(e,pn.empty(),n,o);return l?f:f.Le()}rn(e,n,o,l){const f=new Fu(e,pn.empty(),n,o);return l?f.Le():f}Xe(e,n){const o=new qf(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let E=null;for(const A of f)o.Ge(A)&&(!E||A.fields.length>E.fields.length)&&(E=A);return E})}getIndexType(e,n){let o=2;return bt.forEach(this.Ye(n),l=>this.Xe(e,l).next(f=>{f?0!==o&&f.fields.length<function(E){let A=new w($i.comparator),j=!1;for(const Q of E.filters){const me=Q;me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?j=!0:A=A.add(me.field))}for(const Q of E.orderBy)Q.field.isKeyField()||(A=A.add(Q.field));return A.size+(j?1:0)}(l)&&(o=1):o=0})).next(()=>o)}on(e,n){const o=new yc;for(const l of Js(e)){const f=n.data.field(l.fieldPath);if(null==f)return null;const E=o.Be(l.kind);Zl.ye.re(f,E)}return o.Oe()}nn(e){const n=new yc;return Zl.ye.re(e,n.Be(0)),n.Oe()}un(e,n){const o=new yc;return Zl.ye.re(Ro(this.databaseId,n),o.Be(function(l){const f=Js(l);return 0===f.length?0:f[f.length-1].kind}(e))),o.Oe()}tn(e,n,o){if(null===o)return[];let l=[];l.push(new yc);let f=0;for(const E of Js(e)){const A=o[f++];for(const j of l)if(this.cn(n,E.fieldPath)&&R(A))l=this.an(l,E,A);else{const Q=j.Be(E.kind);Zl.ye.re(A,Q)}}return this.hn(l)}Ze(e,n,o){return this.tn(e,n,o.position)}hn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Oe();return n}an(e,n,o){const l=[...e],f=[];for(const E of o.arrayValue.values||[])for(const A of l){const j=new yc;j.seed(A.Oe()),Zl.ye.re(E,j.Be(n.kind)),f.push(j)}return f}cn(e,n){return!!e.filters.find(o=>o instanceof ps&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=ql(e),l=La(e);return(n?o.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.K()).next(f=>{const E=[];return bt.forEach(f,A=>l.get([A.indexId,this.uid]).next(j=>{E.push(function(Q,me){const Ge=me?new is(me.sequenceNumber,new Ji(ku(me.readTime),new pn(Ll(me.documentKey)),me.largestBatchId)):is.empty(),St=Q.fields.map(([Ft,Yt])=>new hs($i.fromServerFormat(Ft),Yt));return new Jo(Q.indexId,Q.collectionGroup,St,Ge)}(A,j))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const f=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:Cr(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=ql(e),f=La(e);return this.ln(e).next(E=>l.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(A=>bt.forEach(A,j=>f.put(Rh(j.indexId,this.user,E,o)))))}updateIndexEntries(e,n){const o=new Map;return bt.forEach(n,(l,f)=>{const E=o.get(l.collectionGroup);return(E?bt.resolve(E):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(o.set(l.collectionGroup,A),bt.forEach(A,j=>this.fn(e,l,j).next(Q=>{const me=this.dn(f,j);return Q.isEqual(me)?bt.resolve():this._n(e,f,j,Q,me)}))))})}wn(e,n,o,l){return Xc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(o,n.key),documentKey:n.key.path.toArray()})}mn(e,n,o,l){return Xc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(o,n.key),n.key.path.toArray()])}fn(e,n,o){const l=Xc(e);let f=new w(du);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,n)])},(E,A)=>{f=f.add(new Fu(o.indexId,n,A.arrayValue,A.directionalValue))}).next(()=>f)}dn(e,n){let o=new w(du);const l=this.on(n,e);if(null==l)return o;const f=Ga(n);if(null!=f){const E=e.data.field(f.fieldPath);if(R(E))for(const A of E.arrayValue.values||[])o=o.add(new Fu(n.indexId,e.key,this.nn(A),l))}else o=o.add(new Fu(n.indexId,e.key,Hd,l));return o}_n(e,n,o,l,f){qt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const E=[];return function(A,j,Q,me,Ge){const St=A.getIterator(),Ft=j.getIterator();let Yt=B(St),Hn=B(Ft);for(;Yt||Hn;){let lr=!1,Wi=!1;if(Yt&&Hn){const Cs=Q(Yt,Hn);Cs<0?Wi=!0:Cs>0&&(lr=!0)}else null!=Yt?Wi=!0:lr=!0;lr?(me(Hn),Hn=B(Ft)):Wi?(Ge(Yt),Yt=B(St)):(Yt=B(St),Hn=B(Ft))}}(l,f,du,A=>{E.push(this.wn(e,n,o,A))},A=>{E.push(this.mn(e,n,o,A))}),bt.waitFor(E)}ln(e){let n=1;return La(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,f)=>{f.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((E,A)=>du(E,A)).filter((E,A,j)=>!A||0!==du(E,j[A-1]));const l=[];l.push(e);for(const E of o){const A=du(E,e),j=du(E,n);if(0===A)l[0]=e.Le();else if(A>0&&j<0)l.push(E),l.push(E.Le());else if(j>0)break}l.push(n);const f=[];for(let E=0;E<l.length;E+=2)f.push(IDBKeyRange.bound([l[E].indexId,this.uid,l[E].arrayValue,l[E].directionalValue,Hd,[]],[l[E+1].indexId,this.uid,l[E+1].arrayValue,l[E+1].directionalValue,Hd,[]]));return f}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qf)}getMinOffset(e,n){return bt.mapArray(this.Ye(n),o=>this.Xe(e,o).next(l=>l||Mn())).next(Qf)}}function Yf(i){return co(i,"collectionParents")}function Xc(i){return co(i,"indexEntries")}function ql(i){return co(i,"indexConfiguration")}function La(i){return co(i,"indexState")}function Qf(i){Wn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Vo(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Ji(e.readTime,e.documentKey,n)}const Jf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Fa(e,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qg(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),f=[],E=IDBKeyRange.only(n.batchId);let A=0;const j=o.J({range:E},(me,Ge,St)=>(A++,St.delete()));f.push(j.next(()=>{Wn(1===A)}));const Q=[];for(const me of n.mutations){const Ge=Hf(e,me.key.path,n.batchId);f.push(l.delete(Ge)),Q.push(me.key)}return bt.waitFor(f).next(()=>Q)}function ed(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Mn();e=i.noDocument}return JSON.stringify(e).length}Fa.DEFAULT_COLLECTION_PERCENTILE=10,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fa.DEFAULT=new Fa(41943040,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fa.DISABLED=new Fa(-1,0,0);class Lh{constructor(e,n,o,l){this.userId=e,this.wt=n,this.indexManager=o,this.referenceDelegate=l,this.gn={}}static se(e,n,o,l){Wn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Lh(f,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).J({index:"userMutationsIndex",range:o},(l,f,E)=>{n=!1,E.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const f=Il(e),E=wl(e);return E.add({}).next(A=>{Wn("number"==typeof A);const j=new qc(A,n,o,l),Q=function(St,Ft,Yt){const Hn=Yt.baseMutations.map(Wi=>zc(St.ne,Wi)),lr=Yt.mutations.map(Wi=>zc(St.ne,Wi));return{userId:Ft,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:Hn,mutations:lr}}(this.wt,this.userId,j),me=[];let Ge=new w((St,Ft)=>Cr(St.canonicalString(),Ft.canonicalString()));for(const St of l){const Ft=Hf(this.userId,St.key.path,A);Ge=Ge.add(St.key.path.popLast()),me.push(E.put(Q)),me.push(f.put(Ft,Fg))}return Ge.forEach(St=>{me.push(this.indexManager.addToCollectionParentIndex(e,St))}),e.addOnCommittedListener(()=>{this.gn[A]=j.keys()}),bt.waitFor(me).next(()=>j)})}lookupMutationBatch(e,n){return wl(e).get(n).next(o=>o?(Wn(o.userId===this.userId),Lu(this.wt,o)):null)}yn(e,n){return this.gn[n]?bt.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.gn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return wl(e).J({index:"userMutationsIndex",range:l},(E,A,j)=>{A.userId===this.userId&&(Wn(A.batchId>=o),f=Lu(this.wt,A)),j.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return wl(e).J({index:"userMutationsIndex",range:n,reverse:!0},(l,f,E)=>{o=f.batchId,E.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).K("userMutationsIndex",n).next(o=>o.map(l=>Lu(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Kc(this.userId,n.path),l=IDBKeyRange.lowerBound(o),f=[];return Il(e).J({range:l},(E,A,j)=>{const[Q,me,Ge]=E,St=Ll(me);if(Q===this.userId&&n.path.isEqual(St))return wl(e).get(Ge).next(Ft=>{if(!Ft)throw Mn();Wn(Ft.userId===this.userId),f.push(Lu(this.wt,Ft))});j.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(Cr);const l=[];return n.forEach(f=>{const E=Kc(this.userId,f.path),A=IDBKeyRange.lowerBound(E),j=Il(e).J({range:A},(Q,me,Ge)=>{const[St,Ft,Yt]=Q,Hn=Ll(Ft);St===this.userId&&f.path.isEqual(Hn)?o=o.add(Yt):Ge.done()});l.push(j)}),bt.waitFor(l).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,f=Kc(this.userId,o),E=IDBKeyRange.lowerBound(f);let A=new w(Cr);return Il(e).J({range:E},(j,Q,me)=>{const[Ge,St,Ft]=j,Yt=Ll(St);Ge===this.userId&&o.isPrefixOf(Yt)?Yt.length===l&&(A=A.add(Ft)):me.done()}).next(()=>this.pn(e,A))}pn(e,n){const o=[],l=[];return n.forEach(f=>{l.push(wl(e).get(f).next(E=>{if(null===E)throw Mn();Wn(E.userId===this.userId),o.push(Lu(this.wt,E))}))}),bt.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Qg(e.ee,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),bt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return bt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Il(e).J({range:o},(f,E,A)=>{if(f[0]===this.userId){const j=Ll(f[1]);l.push(j)}else A.done()}).next(()=>{Wn(0===l.length)})})}containsKey(e,n){return bl(e,this.userId,n)}Tn(e){return $d(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bl(i,e,n){const o=Kc(e,n.path),l=o[1],f=IDBKeyRange.lowerBound(o);let E=!1;return Il(i).J({range:f,H:!0},(A,j,Q)=>{const[me,Ge,St]=A;me===e&&Ge===l&&(E=!0),Q.done()}).next(()=>E)}function wl(i){return co(i,"mutations")}function Il(i){return co(i,"documentMutations")}function $d(i){return co(i,"mutationQueues")}class Yl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Yl(0)}static Rn(){return new Yl(-1)}}class Jg{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const o=new Yl(n.highestTargetId);return n.highestTargetId=o.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>ir.fromTimestamp(new hi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Pn(e,l)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(n,o),this.Pn(e,o))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Va(e).delete(n.targetId)).next(()=>this.bn(e)).next(o=>(Wn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,n,o){let l=0;const f=[];return Va(e).J((E,A)=>{const j=Jc(A);j.sequenceNumber<=n&&null===o.get(j.targetId)&&(l++,f.push(this.removeTargetData(e,j)))}).next(()=>bt.waitFor(f)).next(()=>l)}forEachTarget(e,n){return Va(e).J((o,l)=>{const f=Jc(l);n(f)})}bn(e){return Fh(e).get("targetGlobalKey").next(n=>(Wn(null!==n),n))}Pn(e,n){return Fh(e).put("targetGlobalKey",n)}vn(e,n){return Va(e).put(Bd(this.wt,n))}Vn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Ds(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Va(e).J({range:l,index:"queryTargetsIndex"},(E,A,j)=>{const Q=Jc(A);Ya(n,Q.target)&&(f=Q,j.done())}).next(()=>f)}addMatchingKeys(e,n,o){const l=[],f=Fl(e);return n.forEach(E=>{const A=sa(E.path);l.push(f.put({targetId:o,path:A})),l.push(this.referenceDelegate.addReference(e,o,E))}),bt.waitFor(l)}removeMatchingKeys(e,n,o){const l=Fl(e);return bt.forEach(n,f=>{const E=sa(f.path);return bt.waitFor([l.delete([o,E]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,n){const o=Fl(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=Fl(e);let f=qr();return l.J({range:o,H:!0},(E,A,j)=>{const Q=Ll(E[1]),me=new pn(Q);f=f.add(me)}).next(()=>f)}containsKey(e,n){const o=sa(n.path),l=IDBKeyRange.bound([o],[vo(o)],!1,!0);let f=0;return Fl(e).J({index:"documentTargetsIndex",H:!0,range:l},([E,A],j,Q)=>{0!==E&&(f++,Q.done())}).next(()=>f>0)}te(e,n){return Va(e).get(n).next(o=>o?Jc(o):null)}}function Va(i){return co(i,"targets")}function Fh(i){return co(i,"targetGlobal")}function Fl(i){return co(i,"targetDocuments")}function td([i,e],[n,o]){const l=Cr(i,n);return 0===l?Cr(e,o):l}class jd{constructor(e){this.Sn=e,this.buffer=new w(td),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();td(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vh{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var n=this;qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){n.Nn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Uo(o)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Or(o)}yield n.kn(3e5)}))}}class Xg{constructor(e,n){this.On=e,this.params=n}calculateTargetCount(e,n){return this.On.Mn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return bt.resolve(Ws.ot);const o=new jd(n);return this.On.forEachTarget(e,l=>o.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>o.xn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.On.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.On.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(Jf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jf):this.$n(e,n))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,n){let o,l,f,E,A,j,Q;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),l=this.params.maximumSequenceNumbersToCollect):l=Ge,E=Date.now(),this.nthSequenceNumber(e,l))).next(Ge=>(o=Ge,A=Date.now(),this.removeTargets(e,o,n))).next(Ge=>(f=Ge,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ge=>(Q=Date.now(),Ra()<=fe.in.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-me}ms\n\tDetermined least recently used ${l} in `+(A-E)+`ms\n\tRemoved ${f} targets in `+(j-A)+`ms\n\tRemoved ${Ge} documents in `+(Q-j)+`ms\nTotal Duration: ${Q-me}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:Ge})))}}class _c{constructor(e,n){this.db=e,this.garbageCollector=new Xg(this,n)}Mn(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Bn(e){let n=0;return this.Fn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(o,l)=>n(l))}addReference(e,n,o){return vc(e,o)}removeReference(e,n,o){return vc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return vc(e,n)}Un(e,n){return function(o,l){let f=!1;return $d(o).Y(E=>bl(o,E,l).next(A=>(A&&(f=!0),bt.resolve(!A)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Ln(e,(E,A)=>{if(A<=n){const j=this.Un(e,E).next(Q=>{if(!Q)return f++,o.getEntry(e,E).next(()=>(o.removeEntry(E,ir.min()),Fl(e).delete([0,sa(E.path)])))});l.push(j)}}).next(()=>bt.waitFor(l)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return vc(e,n)}Ln(e,n){const o=Fl(e);let l,f=Ws.ot;return o.J({index:"documentTargetsIndex"},([E,A],{path:j,sequenceNumber:Q})=>{0===E?(f!==Ws.ot&&n(new pn(Ll(l)),f),f=Q,l=j):f=Ws.ot}).next(()=>{f!==Ws.ot&&n(new pn(Ll(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vc(i,e){return Fl(i).put((o=i.currentSequenceNumber,{targetId:0,path:sa(e.path),sequenceNumber:o}));var o}class Uh{constructor(){this.changes=new Nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?bt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class em{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Vu(e).put(o)}removeEntry(e,n,o){return Vu(e).delete(function(l,f){const E=l.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Qc(f),E[E.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.qn(e,o)))}getEntry(e,n){let o=yr.newInvalidDocument(n);return Vu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ec(n))},(l,f)=>{o=this.Kn(n,f)}).next(()=>o)}Gn(e,n){let o={size:0,document:yr.newInvalidDocument(n)};return Vu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ec(n))},(l,f)=>{o={document:this.Kn(n,f),size:ed(f)}}).next(()=>o)}getEntries(e,n){let o=eo();return this.Qn(e,n,(l,f)=>{const E=this.Kn(l,f);o=o.insert(l,E)}).next(()=>o)}jn(e,n){let o=eo(),l=new ji(pn.comparator);return this.Qn(e,n,(f,E)=>{const A=this.Kn(f,E);o=o.insert(f,A),l=l.insert(f,ed(E))}).next(()=>({documents:o,Wn:l}))}Qn(e,n,o){if(n.isEmpty())return bt.resolve();let l=new w(tp);n.forEach(j=>l=l.add(j));const f=IDBKeyRange.bound(Ec(l.first()),Ec(l.last())),E=l.getIterator();let A=E.getNext();return Vu(e).J({index:"documentKeyIndex",range:f},(j,Q,me)=>{const Ge=pn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;A&&tp(A,Ge)<0;)o(A,null),A=E.getNext();A&&A.isEqual(Ge)&&(o(A,Q),A=E.hasNext()?E.getNext():null),A?me.q(Ec(A)):me.done()}).next(()=>{for(;A;)o(A,null),A=E.hasNext()?E.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),Qc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vu(e).K(IDBKeyRange.bound(l,f,!0)).next(E=>{let A=eo();for(const j of E){const Q=this.Kn(pn.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);A=A.insert(Q.key,Q)}return A})}getAllFromCollectionGroup(e,n,o,l){let f=eo();const E=ep(n,o),A=ep(n,Ji.max());return Vu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,A,!0)},(j,Q,me)=>{const Ge=this.Kn(pn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(Ge.key,Ge),f.size===l&&me.done()}).next(()=>f)}newChangeBuffer(e){return new tm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Xf(e).get("remoteDocumentGlobalKey").next(n=>(Wn(!!n),n))}qn(e,n){return Xf(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const o=function Gg(i,e){let n;if(e.document)n=cu(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=pn.fromSegments(e.noDocument.path),l=ku(e.noDocument.readTime);n=yr.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mn();{const o=pn.fromSegments(e.unknownDocument.path),l=ku(e.unknownDocument.version);n=yr.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new hi(o[0],o[1]);return ir.fromTimestamp(l)}(e.readTime)),n}(this.wt,n);if(!o.isNoDocument()||!o.version.isEqual(ir.min()))return o}return yr.newInvalidDocument(e)}}function Wd(i){return new em(i)}class tm extends Uh{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new Nl(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new w((f,E)=>Cr(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const A=this.Hn.get(f);if(n.push(this.zn.removeEntry(e,f,A.readTime)),E.isValidDocument()){const j=Gf(this.zn.wt,E);l=l.add(f.path.popLast()),o+=ed(j)-A.size,n.push(this.zn.addEntry(e,f,j))}else if(o-=A.size,this.trackRemovals){const j=Gf(this.zn.wt,E.convertToNoDocument(ir.min()));n.push(this.zn.addEntry(e,f,j))}}),l.forEach(f=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,f))}),n.push(this.zn.updateMetadata(e,o)),bt.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(o=>(this.Hn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:o,Wn:l})=>(l.forEach((f,E)=>{this.Hn.set(f,{size:E,readTime:o.get(f).readTime})}),o))}}function Xf(i){return co(i,"remoteDocumentGlobal")}function Vu(i){return co(i,"remoteDocumentsV14")}function Ec(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ep(i,e){const n=e.documentKey.path.toArray();return[i,Qc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tp(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let f=0;f<n.length-2&&f<o.length-2;++f)if(l=Cr(n[f],o[f]),l)return l;return l=Cr(n.length,o.length),l||(l=Cr(n[n.length-2],o[o.length-2]),l||Cr(n[n.length-1],o[o.length-1]))}class np{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Gd{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.getBaseDocument(e,n,o))).next(l=>(null!==o&&Oi(o.mutation,l,ie.empty(),hi.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,qr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=qr()){const l=Ni();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(f=>{let E=Ou();return f.forEach((A,j)=>{E=E.insert(A,j.overlayedDocument)}),E}))}getOverlayedDocuments(e,n){const o=Ni();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,qr()))}populateOverlays(e,n,o){const l=[];return o.forEach(f=>{n.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((E,A)=>{n.set(E,A)})})}computeViews(e,n,o,l){let f=eo();const E=lc(),A=lc();return n.forEach((j,Q)=>{const me=o.get(Q.key);l.has(Q.key)&&(void 0===me||me.mutation instanceof Xa)?f=f.insert(Q.key,Q):void 0!==me&&(E.set(Q.key,me.mutation.getFieldMask()),Oi(me.mutation,Q,me.mutation.getFieldMask(),hi.now()))}),this.recalculateAndSaveOverlays(e,f).next(j=>(j.forEach((Q,me)=>E.set(Q,me)),n.forEach((Q,me)=>{var Ge;return A.set(Q,new np(me,null!==(Ge=E.get(Q))&&void 0!==Ge?Ge:null))}),A))}recalculateAndSaveOverlays(e,n){const o=lc();let l=new ji((E,A)=>E-A),f=qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(E=>{for(const A of E)A.keys().forEach(j=>{const Q=n.get(j);if(null===Q)return;let me=o.get(j)||ie.empty();me=A.applyToLocalView(Q,me),o.set(j,me);const Ge=(l.get(A.batchId)||qr()).add(j);l=l.insert(A.batchId,Ge)})}).next(()=>{const E=[],A=l.getReverseIterator();for(;A.hasNext();){const j=A.getNext(),Q=j.key,me=j.value,Ge=Ad();me.forEach(St=>{if(!f.has(St)){const Ft=Fn(n.get(St),o.get(St));null!==Ft&&Ge.set(St,Ft),f=f.add(St)}}),E.push(this.documentOverlayCache.saveOverlays(e,Q,Ge))}return bt.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return pn.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):_l(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var l}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(f=>{const E=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-f.size):bt.resolve(Ni());let A=-1,j=f;return E.next(Q=>bt.forEach(Q,(me,Ge)=>(A<Ge.largestBatchId&&(A=Ge.largestBatchId),f.get(me)?bt.resolve():this.getBaseDocument(e,me,Ge).next(St=>{j=j.insert(me,St)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,j,Q,qr())).next(me=>({batchId:A,changes:Uc(me)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pn(n)).next(o=>{let l=Ou();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const l=n.collectionGroup;let f=Ou();return this.indexManager.getCollectionParents(e,l).next(E=>bt.forEach(E,A=>{const j=(Q=n,me=A.child(l),new yl(me,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,me;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Q=>{Q.forEach((me,Ge)=>{f=f.insert(me,Ge)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(f=>(l=f,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(f=>{f.forEach((A,j)=>{const Q=j.getKey();null===l.get(Q)&&(l=l.insert(Q,yr.newInvalidDocument(Q)))});let E=Ou();return l.forEach((A,j)=>{const Q=f.get(A);void 0!==Q&&Oi(Q.mutation,j,ie.empty(),hi.now()),Su(n,j)&&(E=E.insert(A,j))}),E})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):bt.resolve(yr.newInvalidDocument(n))}}class rp{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return bt.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var o;return this.Jn.set(n.id,{id:(o=n).id,version:o.version,createTime:to(o.createTime)}),bt.resolve()}getNamedQuery(e,n){return bt.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(o=n).name,query:xh(o.bundledQuery),readTime:to(o.readTime)}),bt.resolve();var o}}class Bh{constructor(){this.overlays=new ji(pn.comparator),this.Xn=new Map}getOverlay(e,n){return bt.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Ni();return bt.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,f)=>{this.ie(e,n,f)}),bt.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.Xn.get(o);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Xn.delete(o)),bt.resolve()}getOverlaysForCollection(e,n,o){const l=Ni(),f=n.length+1,E=new pn(n.child("")),A=this.overlays.getIteratorFrom(E);for(;A.hasNext();){const j=A.getNext().value,Q=j.getKey();if(!n.isPrefixOf(Q.path))break;Q.path.length===f&&j.largestBatchId>o&&l.set(j.getKey(),j)}return bt.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let f=new ji((Q,me)=>Q-me);const E=this.overlays.getIterator();for(;E.hasNext();){const Q=E.getNext().value;if(Q.getKey().getCollectionGroup()===n&&Q.largestBatchId>o){let me=f.get(Q.largestBatchId);null===me&&(me=Ni(),f=f.insert(Q.largestBatchId,me)),me.set(Q.getKey(),Q)}}const A=Ni(),j=f.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Q,me)=>A.set(Q,me)),!(A.size()>=l)););return bt.resolve(A)}ie(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const E=this.Xn.get(l.largestBatchId).delete(o.key);this.Xn.set(l.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new Yc(n,o));let f=this.Xn.get(n);void 0===f&&(f=qr(),this.Xn.set(n,f)),this.Xn.set(n,f.add(o.key))}}class Hh{constructor(){this.Zn=new w(Co.ts),this.es=new w(Co.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const o=new Co(e,n);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.rs(new Co(e,n))}os(e,n){e.forEach(o=>this.removeReference(o,n))}us(e){const n=new pn(new Dr([])),o=new Co(n,e),l=new Co(n,e+1),f=[];return this.es.forEachInRange([o,l],E=>{this.rs(E),f.push(E.key)}),f}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new pn(new Dr([])),o=new Co(n,e),l=new Co(n,e+1);let f=qr();return this.es.forEachInRange([o,l],E=>{f=f.add(E.key)}),f}containsKey(e){const n=new Co(e,0),o=this.Zn.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Co{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return pn.comparator(e.key,n.key)||Cr(e.ls,n.ls)}static ns(e,n){return Cr(e.ls,n.ls)||pn.comparator(e.key,n.key)}}class $h{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new w(Co.ts)}checkEmpty(e){return bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const f=this.fs;this.fs++;const E=new qc(f,n,o,l);this.mutationQueue.push(E);for(const A of l)this.ds=this.ds.add(new Co(A.key,f)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return bt.resolve(E)}lookupMutationBatch(e,n){return bt.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.ws(n+1),f=l<0?0:l;return bt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Co(n,0),l=new Co(n,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([o,l],E=>{const A=this._s(E.ls);f.push(A)}),bt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(Cr);return n.forEach(l=>{const f=new Co(l,0),E=new Co(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,E],A=>{o=o.add(A.ls)})}),bt.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let f=o;pn.isDocumentKey(f)||(f=f.child(""));const E=new Co(new pn(f),0);let A=new w(Cr);return this.ds.forEachWhile(j=>{const Q=j.key.path;return!!o.isPrefixOf(Q)&&(Q.length===l&&(A=A.add(j.ls)),!0)},E),bt.resolve(this.gs(A))}gs(e){const n=[];return e.forEach(o=>{const l=this._s(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Wn(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return bt.forEach(n.mutations,l=>{const f=new Co(l.key,n.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,n){const o=new Co(n,0),l=this.ds.firstAfterOrEqual(o);return bt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return bt.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jh{constructor(e){this.ps=e,this.docs=new ji(pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),f=l?l.size:0,E=this.ps(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:E}),this.size+=E-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return bt.resolve(o?o.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let o=eo();return n.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():yr.newInvalidDocument(l))}),bt.resolve(o)}getAllFromCollection(e,n,o){let l=eo();const f=new pn(n.child("")),E=this.docs.getIteratorFrom(f);for(;E.hasNext();){const{key:A,value:{document:j}}=E.getNext();if(!n.isPrefixOf(A.path))break;A.path.length>n.length+1||Vo(ma(j),o)<=0||(l=l.insert(j.key,j.mutableCopy()))}return bt.resolve(l)}getAllFromCollectionGroup(e,n,o,l){Mn()}Is(e,n){return bt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new hu(this)}getSize(e){return bt.resolve(this.size)}}class hu extends Uh{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.zn.addEntry(e,l)):this.zn.removeEntry(o)}),bt.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class Wh{constructor(e){this.persistence=e,this.Ts=new Nl(n=>Ds(n),Ya),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.Es=0,this.As=new Hh,this.targetCount=0,this.Rs=Yl.An()}forEachTarget(e,n){return this.Ts.forEach((o,l)=>n(l)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Es&&(this.Es=n),bt.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,bt.resolve()}updateTargetData(e,n){return this.vn(n),bt.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,n,o){let l=0;const f=[];return this.Ts.forEach((E,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Ts.delete(E),f.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),bt.waitFor(f).next(()=>l)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Ts.get(n)||null;return bt.resolve(o)}addMatchingKeys(e,n,o){return this.As.ss(n,o),bt.resolve()}removeMatchingKeys(e,n,o){this.As.os(n,o);const l=this.persistence.referenceDelegate,f=[];return l&&n.forEach(E=>{f.push(l.markPotentiallyOrphaned(e,E))}),bt.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),bt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.As.hs(n);return bt.resolve(o)}containsKey(e,n){return bt.resolve(this.As.containsKey(n))}}class zd{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Ws(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Wh(this),this.indexManager=new qg,this.remoteDocumentCache=new jh(o=>this.referenceDelegate.Ss(o)),this.wt=new Wf(n),this.Ds=new rp(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.bs[e.toKey()];return o||(o=new $h(n,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,o){qt("MemoryPersistence","Starting transaction:",e);const l=new ip(this.Ps.next());return this.referenceDelegate.Cs(),o(l).next(f=>this.referenceDelegate.xs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ns(e,n){return bt.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,n)))}}class ip extends wr{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.ks=new Hh,this.Os=null}static Ms(e){return new Kd(e)}get Fs(){if(this.Os)return this.Os;throw Mn()}addReference(e,n,o){return this.ks.addReference(o,n),this.Fs.delete(o.toString()),bt.resolve()}removeReference(e,n,o){return this.ks.removeReference(o,n),this.Fs.add(o.toString()),bt.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),bt.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(l=>this.Fs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(f=>this.Fs.add(f.toString()))}).next(()=>o.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Fs,o=>{const l=pn.fromPath(o);return this.$s(e,l).next(f=>{f||n.removeEntry(l,ir.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(o=>{o?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return bt.or([()=>bt.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class nd{constructor(e){this.wt=e}O(e,n,o,l){const f=new Ka("createOrUpgrade",n);var A;o<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lg,{unique:!0}),A.createObjectStore("documentMutations"),v(e),function(A){A.createObjectStore("remoteDocuments")}(e));let E=bt.resolve();return o<3&&l>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),v(e)),E=E.next(()=>function(A){const j=A.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ir.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Q)}(f))),o<4&&l>=4&&(0!==o&&(E=E.next(()=>function(A,j){return j.store("mutations").K().next(Q=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lg,{unique:!0});const me=j.store("mutations"),Ge=Q.map(St=>me.put(St));return bt.waitFor(Ge)})}(e,f))),E=E.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(E=E.next(()=>this.Bs(f))),o<6&&l>=6&&(E=E.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(f)))),o<7&&l>=7&&(E=E.next(()=>this.Us(f))),o<8&&l>=8&&(E=E.next(()=>this.qs(e,f))),o<9&&l>=9&&(E=E.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(E=E.next(()=>this.Ks(f))),o<11&&l>=11&&(E=E.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(E=E.next(()=>{!function(A){const j=A.createObjectStore("documentOverlays",{keyPath:$g});j.createIndex("collectionPathOverlayIndex",my,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",yy,{unique:!1})}(e)})),o<13&&l>=13&&(E=E.next(()=>function(A){const j=A.createObjectStore("remoteDocumentsV14",{keyPath:$f});j.createIndex("documentKeyIndex",Zc),j.createIndex("collectionGroupIndex",Nd)}(e)).next(()=>this.Gs(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(E=E.next(()=>this.Qs(e,f))),o<15&&l>=15&&(E=E.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Ug}).createIndex("sequenceNumberIndex",Bg,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Vd}).createIndex("documentKeyIndex",Hg,{unique:!1})}(e))),E}Ls(e){let n=0;return e.store("remoteDocuments").J((o,l)=>{n+=ed(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.K().next(l=>bt.forEach(l,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",E).next(A=>bt.forEach(A,j=>{Wn(j.userId===f.userId);const Q=Lu(this.wt,j);return Qg(e,f.userId,Q).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return o.J((E,A)=>{const j=new Dr(E),Q=[0,sa(j)];f.push(n.get(Q).next(me=>me?bt.resolve():n.put({targetId:0,path:sa(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>bt.waitFor(f))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:Fd});const o=n.store("collectionParents"),l=new kh,f=E=>{if(l.add(E)){const A=E.lastSegment(),j=E.popLast();return o.put({collectionId:A,parent:sa(j)})}};return n.store("remoteDocuments").J({H:!0},(E,A)=>{const j=new Dr(E);return f(j.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([E,A,j],Q)=>{const me=Ll(A);return f(me.popLast())}))}Ks(e){const n=e.store("targets");return n.J((o,l)=>{const f=Jc(l),E=Bd(this.wt,f);return n.put(E)})}Gs(e,n){const o=n.store("remoteDocuments"),l=[];return o.J((f,E)=>{const A=n.store("remoteDocumentsV14"),j=(Q=E,Q.document?new pn(Dr.fromString(Q.document.name).popFirst(5)):Q.noDocument?pn.fromSegments(Q.noDocument.path):Q.unknownDocument?pn.fromSegments(Q.unknownDocument.path):Mn()).path.toArray();var Q;const me={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};l.push(A.put(me))}).next(()=>bt.waitFor(l))}Qs(e,n){const o=n.store("mutations"),l=Wd(this.wt),f=new zd(Kd.Ms,this.wt.ne);return o.K().next(E=>{const A=new Map;return E.forEach(j=>{var Q;let me=null!==(Q=A.get(j.userId))&&void 0!==Q?Q:qr();Lu(this.wt,j).keys().forEach(Ge=>me=me.add(Ge)),A.set(j.userId,me)}),bt.forEach(A,(j,Q)=>{const me=new Ri(Q),Ge=pc.se(this.wt,me),St=f.getIndexManager(me),Ft=Lh.se(me,this.wt,St,f.referenceDelegate);return new Gd(l,Ft,Ge,St).recalculateAndSaveOverlaysForDocumentKeys(new Mh(n,Ws.ot),j).next()})})}}function v(i){i.createObjectStore("targetDocuments",{keyPath:Vg}).createIndex("documentTargetsIndex",Ld,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kd,{unique:!0}),i.createObjectStore("targetGlobal")}const m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h{constructor(e,n,o,l,f,E,A,j,Q,me,Ge=14){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.js=f,this.window=E,this.document=A,this.Ws=Q,this.zs=me,this.Hs=Ge,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=St=>Promise.resolve(),!h.V())throw new Rt(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _c(this,l),this.ei=n+"main",this.wt=new Wf(j),this.ni=new xo(this.ei,this.Hs,new nd(this.wt)),this.Vs=new Jg(this.referenceDelegate,this.wt),this.remoteDocumentCache=Wd(this.wt),this.Ds=new zg,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===me&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(wt.FAILED_PRECONDITION,m);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ws(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var n=this;return this.ti=function(){var o=(0,c.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>N(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(Uo(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return _(e).get("owner").next(n=>bt.resolve(this.di(n)))}_i(e){return N(e).delete(this.clientId)}wi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=co(o,"clientMetadata");return l.K().next(f=>{const E=e.gi(f,18e5),A=f.filter(j=>-1===E.indexOf(j));return bt.forEach(A,j=>l.delete(j.clientId)).next(()=>A)})}).catch(()=>[]);if(e.si)for(const o of n)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?bt.resolve(!0):_(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new Rt(wt.FAILED_PRECONDITION,m);return!1}}return!(!this.networkEnabled||!this.inForeground)||N(e).K().next(o=>void 0===this.gi(o,5e3).find(l=>{if(this.clientId!==l.clientId){const E=!this.inForeground&&l.inForeground,A=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||E&&A)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&qt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Mh(n,Ws.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,n){return e.filter(o=>this.mi(o.updateTimeMs,n)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>N(e).K().next(n=>this.gi(n,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return Lh.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yg(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return pc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,o){qt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",f=15===(E=this.Hs)?jf:14===E?Ud:13===E?Ah:12===E?Wg:11===E?jg:void Mn();var E;let A;return this.ni.runTransaction(e,l,f,j=>(A=new Mh(j,this.Ps?this.Ps.next():Ws.ot),"readwrite-primary"===n?this.ai(A).next(Q=>!!Q||this.hi(A)).next(Q=>{if(!Q)throw Ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Rt(wt.FAILED_PRECONDITION,za);return o(A)}).next(Q=>this.fi(A).next(()=>Q)):this.bi(A).next(()=>o(A)))).then(j=>(A.raiseOnCommittedEvent(),j))}bi(e){return _(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Rt(wt.FAILED_PRECONDITION,m)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _(e).put("owner",n)}static V(){return xo.V()}li(e){const n=_(e);return n.get("owner").next(o=>this.di(o)?(qt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):bt.resolve())}mi(e,n){const o=Date.now();return!(e<o-n||e>o&&(Ii(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,W.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const o=null!==(null===(n=this.si)||void 0===n?void 0:n.getItem(this.yi(e)));return qt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ii("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _(i){return co(i,"owner")}function N(i){return co(i,"clientMetadata")}function Z(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class ye{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Pi=o,this.vi=l}static Vi(e,n){let o=qr(),l=qr();for(const f of n.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new ye(e,n.fromCache,o,l)}}class Oe{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,o,l){return this.Ci(e,n).next(f=>f||this.xi(e,n,l,o)).next(f=>f||this.Ni(e,n))}Ci(e,n){return bt.resolve(null)}xi(e,n,o,l){return function kc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||l.isEqual(ir.min())?this.Ni(e,n):this.Di.getDocuments(e,o).next(f=>{const E=this.ki(n,f);return this.Oi(n,E,o,l)?this.Ni(e,n):(Ra()<=fe.in.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Du(n)),this.Mi(e,E,n,bo(l,-1)))})}ki(e,n){let o=new w(ka(e));return n.forEach((l,f)=>{Su(e,f)&&(o=o.add(f))}),o}Oi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Ni(e,n){return Ra()<=fe.in.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Du(n)),this.Di.getDocumentsMatchingQuery(e,n,Ji.min())}Mi(e,n,o,l){return this.Di.getDocumentsMatchingQuery(e,o,l).next(f=>(n.forEach(E=>{f=f.insert(E.key,E)}),f))}}class ft{constructor(e,n,o,l){this.persistence=e,this.Fi=n,this.wt=l,this.$i=new ji(Cr),this.Bi=new Nl(f=>Ds(f),Ya),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gd(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function Nt(i,e,n,o){return new ft(i,e,n,o)}function En(i,e){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,c.Z)(function*(i,e){const n=mn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(f=>(l=f,n.qi(e),n.mutationQueue.getAllMutationBatches(o))).next(f=>{const E=[],A=[];let j=qr();for(const Q of l){E.push(Q.batchId);for(const me of Q.mutations)j=j.add(me.key)}for(const Q of f){A.push(Q.batchId);for(const me of Q.mutations)j=j.add(me.key)}return n.localDocuments.getDocuments(o,j).next(Q=>({Ki:Q,removedBatchIds:E,addedBatchIds:A}))})})}),Vn.apply(this,arguments)}function Yr(i,e){const n=mn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=n.Ui.newChangeBuffer({trackRemovals:!0});return function(E,A,j,Q){const me=j.batch,Ge=me.keys();let St=bt.resolve();return Ge.forEach(Ft=>{St=St.next(()=>Q.getEntry(A,Ft)).next(Yt=>{const Hn=j.docVersions.get(Ft);Wn(null!==Hn),Yt.version.compareTo(Hn)<0&&(me.applyToRemoteDocument(Yt,j),Yt.isValidDocument()&&(Yt.setReadTime(j.commitVersion),Q.addEntry(Yt)))})}),St.next(()=>E.mutationQueue.removeMutationBatch(A,me))}(n,o,e,f).next(()=>f.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(E){let A=qr();for(let j=0;j<E.mutationResults.length;++j)E.mutationResults[j].transformResults.length>0&&(A=A.add(E.batch.mutations[j].key));return A}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}function Qr(i){const e=mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function _r(i,e){const n=mn(i),o=e.snapshotVersion;let l=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=n.Ui.newChangeBuffer({trackRemovals:!0});l=n.$i;const A=[];e.targetChanges.forEach((me,Ge)=>{const St=l.get(Ge);if(!St)return;A.push(n.Vs.removeMatchingKeys(f,me.removedDocuments,Ge).next(()=>n.Vs.addMatchingKeys(f,me.addedDocuments,Ge)));let Ft=St.withSequenceNumber(f.currentSequenceNumber);var Yt,Hn,lr;e.targetMismatches.has(Ge)?Ft=Ft.withResumeToken(xe.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):me.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(me.resumeToken,o)),l=l.insert(Ge,Ft),Hn=Ft,lr=me,(0===(Yt=St).resumeToken.approximateByteSize()||Hn.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||lr.addedDocuments.size+lr.modifiedDocuments.size+lr.removedDocuments.size>0)&&A.push(n.Vs.updateTargetData(f,Ft))});let j=eo(),Q=qr();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(f,me))}),A.push(Ur(f,E,e.documentUpdates).next(me=>{j=me.Gi,Q=me.Qi})),!o.isEqual(ir.min())){const me=n.Vs.getLastRemoteSnapshotVersion(f).next(Ge=>n.Vs.setTargetsMetadata(f,f.currentSequenceNumber,o));A.push(me)}return bt.waitFor(A).next(()=>E.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,j,Q)).next(()=>j)}).then(f=>(n.$i=l,f))}function Ur(i,e,n){let o=qr(),l=qr();return n.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let E=eo();return n.forEach((A,j)=>{const Q=f.get(A);j.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(A)),j.isNoDocument()&&j.version.isEqual(ir.min())?(e.removeEntry(A,j.readTime),E=E.insert(A,j)):!Q.isValidDocument()||j.version.compareTo(Q.version)>0||0===j.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(j),E=E.insert(A,j)):qt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Q.version," Watch version:",j.version)}),{Gi:E,Qi:l}})}function Ui(i,e){const n=mn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ci(i,e){const n=mn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Vs.getTargetData(o,e).next(f=>f?(l=f,bt.resolve(l)):n.Vs.allocateTargetId(o).next(E=>(l=new el(e,E,0,o.currentSequenceNumber),n.Vs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.$i.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.$i=n.$i.insert(o.targetId,o),n.Bi.set(e,o.targetId)),o})}function ls(i,e,n){return ho.apply(this,arguments)}function ho(){return ho=(0,c.Z)(function*(i,e,n){const o=mn(i),l=o.$i.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",f,E=>o.persistence.referenceDelegate.removeTarget(E,l)))}catch(E){if(!Uo(E))throw E;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}o.$i=o.$i.remove(e),o.Bi.delete(l.target)}),ho.apply(this,arguments)}function no(i,e,n){const o=mn(i);let l=ir.min(),f=qr();return o.persistence.runTransaction("Execute query","readonly",E=>function(A,j,Q){const me=mn(A),Ge=me.Bi.get(Q);return void 0!==Ge?bt.resolve(me.$i.get(Ge)):me.Vs.getTargetData(j,Q)}(o,E,ra(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(E,A.targetId).next(j=>{f=j})}).next(()=>o.Fi.getDocumentsMatchingQuery(E,e,n?l:ir.min(),n?f:qr())).next(A=>(To(o,tc(e),A),{documents:A,ji:f})))}function Ql(i,e){const n=mn(i),o=mn(n.Vs),l=n.$i.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",f=>o.te(f,e).next(E=>E?E.target:null))}function tl(i,e){const n=mn(i),o=n.Li.get(e)||ir.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Ui.getAllFromCollectionGroup(l,e,bo(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(To(n,e,l),l))}function To(i,e,n){let o=ir.min();n.forEach((l,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Li.set(e,o)}function nl(){return nl=(0,c.Z)(function*(i,e,n,o){const l=mn(i);let f=qr(),E=eo();for(const Q of n){const me=e.Wi(Q.metadata.name);Q.document&&(f=f.add(me));const Ge=e.zi(Q);Ge.setReadTime(e.Hi(Q.metadata.readTime)),E=E.insert(me,Ge)}const A=l.Ui.newChangeBuffer({trackRemovals:!0}),j=yield Ci(l,(Q=o,ra(Gl(Dr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Ur(Q,A,E).next(me=>(A.apply(Q),me)).next(me=>l.Vs.removeMatchingKeysForTargetId(Q,j.targetId).next(()=>l.Vs.addMatchingKeys(Q,f,j.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,me.Gi,me.Qi)).next(()=>me.Gi)))}),nl.apply(this,arguments)}function ro(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,c.Z)(function*(i,e,n=qr()){const o=yield Ci(i,ra(xh(e.bundledQuery))),l=mn(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const E=to(e.readTime);if(o.snapshotVersion.compareTo(E)>=0)return l.Ds.saveNamedQuery(f,e);const A=o.withResumeToken(xe.EMPTY_BYTE_STRING,E);return l.$i=l.$i.insert(A.targetId,A),l.Vs.updateTargetData(f,A).next(()=>l.Vs.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>l.Vs.addMatchingKeys(f,n,o.targetId)).next(()=>l.Ds.saveNamedQuery(f,e))})}),rd.apply(this,arguments)}function fu(i,e){return`firestore_clients_${i}_${e}`}function Jl(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function id(i,e){return`firestore_targets_${i}_${e}`}class bc{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Ji(e,n,o){const l=JSON.parse(o);let f,E="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return E&&l.error&&(E="string"==typeof l.error.message&&"string"==typeof l.error.code,E&&(f=new Rt(l.error.code,l.error.message))),E?new bc(e,n,l.state,f):(Ii("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $n{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let l,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(l=new Rt(o.error.code,o.error.message))),f?new $n(e,o.state,l):(Ii("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tr{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,f=Od();for(let E=0;l&&E<o.activeTargetIds.length;++E)l=va(o.activeTargetIds[E]),f=f.add(o.activeTargetIds[E]);return l?new tr(e,f):(Ii("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vr{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new vr(n.clientId,n.onlineState):(Ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fi{constructor(){this.activeTargetIds=Od()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zs{constructor(e,n,o,l,f){this.window=e,this.js=n,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ji(Cr),this.started=!1,this.ir=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.rr=fu(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new fi),this.cr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.Ri();for(const l of n){if(l===e.tr)continue;const f=e.getItem(fu(e.persistenceKey,l));if(f){const E=tr.Ji(l,f);E&&(e.sr=e.sr.insert(E.clientId,E))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(id(this.persistenceKey,e));if(o){const l=$n.Ji(e,o);l&&(n=l.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(id(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return qt("SharedClientState","READ",e,n),n}setItem(e,n){qt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(qt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const l=n.Rr(o.key);return n.br(l,null)}{const l=n.Pr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.ar.test(o.key)){if(null!==o.newValue){const l=n.vr(o.key,o.newValue);if(l)return n.Vr(l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.Sr(o.key,o.newValue);if(l)return n.Dr(l)}}else if(o.key===n.lr){if(null!==o.newValue){const l=n.wr(o.newValue);if(l)return n.mr(l)}}else if(o.key===n.ur){const l=function(f){let E=Ws.ot;if(null!=f)try{const A=JSON.parse(f);Wn("number"==typeof A),E=A}catch(A){Ii("SharedClientState","Failed to read sequence number from WebStorage",A)}return E}(o.newValue);l!==Ws.ot&&n.sequenceNumberHandler(l)}else if(o.key===n.dr){const l=n.Cr(o.newValue);yield Promise.all(l.map(f=>n.syncEngine.Nr(f)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const l=new bc(this.currentUser,e,n,o),f=Jl(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Yi())}pr(e){const n=Jl(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const l=id(this.persistenceKey,e),f=new $n(e,n,o);this.setItem(l,f.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return tr.Ji(o,n)}vr(e,n){const o=this.ar.exec(e),l=Number(o[1]);return bc.Ji(new Ri(void 0!==o[2]?o[2]:null),l,n)}Sr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return $n.Ji(l,n)}wr(e){return vr.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),l=this.gr(this.sr),f=this.gr(o),E=[],A=[];return f.forEach(j=>{l.has(j)||E.push(j)}),l.forEach(j=>{f.has(j)||A.push(j)}),this.syncEngine.Mr(E,A).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Od();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class ur{constructor(){this.Fr=new fi,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new fi,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oa{Br(e){}shutdown(){}}class Cl{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gh{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class sp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,l,f){const E=this.oo(e,n);qt("RestConnection","Sending: ",E,o);const A={};return this.uo(A,l,f),this.co(e,E,A,o).then(j=>(qt("RestConnection","Received: ",j),j),j=>{throw rs("RestConnection",`${e} failed with error: `,j,"url: ",E,"request:",o),j})}ao(e,n,o,l,f,E){return this.ro(e,n,o,l,f)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+$s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}oo(e,n){return`${this.so}/v1/${n}:${gs[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,l){return new Promise((f,E)=>{const A=new Al;A.listenOnce(Pa.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Oo.NO_ERROR:const Q=A.getResponseJson();qt("Connection","XHR received:",JSON.stringify(Q)),f(Q);break;case Oo.TIMEOUT:qt("Connection",'RPC "'+e+'" timed out'),E(new Rt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const me=A.getStatus();if(qt("Connection",'RPC "'+e+'" failed with status:',me,"response text:",A.getResponseText()),me>0){const Ge=A.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const St=function(Ft){const Yt=Ft.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(Yt)>=0?Yt:wt.UNKNOWN}(Ge.status);E(new Rt(St,Ge.message))}else E(new Rt(wt.UNKNOWN,"Server responded with status "+A.getStatus()))}else E(new Rt(wt.UNAVAILABLE,"Connection failed."));break;default:Mn()}}finally{qt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(l);A.send(n,"POST",j,o,15)})}ho(e,n,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Zo(),E=ha(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new _o({})),this.uo(A.initMessageHeaders,n,o),(0,W.uI)()||(0,W.b$)()||(0,W.d)()||(0,W.w1)()||(0,W.Mn)()||(0,W.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const j=l.join("");qt("Connection","Creating WebChannel: "+j,A);const Q=f.createWebChannel(j,A);let me=!1,Ge=!1;const St=new Gh({jr:Yt=>{Ge?qt("Connection","Not sending because WebChannel is closed:",Yt):(me||(qt("Connection","Opening WebChannel transport."),Q.open(),me=!0),qt("Connection","WebChannel sending:",Yt),Q.send(Yt))},Wr:()=>Q.close()}),Ft=(Yt,Hn,lr)=>{Yt.listen(Hn,Wi=>{try{lr(Wi)}catch(Cs){setTimeout(()=>{throw Cs},0)}})};return Ft(Q,cl.EventType.OPEN,()=>{Ge||qt("Connection","WebChannel transport opened.")}),Ft(Q,cl.EventType.CLOSE,()=>{Ge||(Ge=!0,qt("Connection","WebChannel transport closed"),St.eo())}),Ft(Q,cl.EventType.ERROR,Yt=>{Ge||(Ge=!0,rs("Connection","WebChannel transport errored:",Yt),St.eo(new Rt(wt.UNAVAILABLE,"The operation could not be completed")))}),Ft(Q,cl.EventType.MESSAGE,Yt=>{var Hn;if(!Ge){const lr=Yt.data[0];Wn(!!lr);const Wi=lr,Cs=Wi.error||(null===(Hn=Wi[0])||void 0===Hn?void 0:Hn.error);if(Cs){qt("Connection","WebChannel received error:",Cs);const ms=Cs.status;let la=function(Zs){const ua=as[Zs];if(void 0!==ua)return oc(ua)}(ms),po=Cs.message;void 0===la&&(la=wt.INTERNAL,po="Unknown error status: "+ms+" with message "+Cs.message),Ge=!0,St.eo(new Rt(la,po)),Q.close()}else qt("Connection","WebChannel received:",lr),St.no(lr)}}),Ft(E,fa.STAT_EVENT,Yt=>{Yt.stat===Qi.PROXY?qt("Connection","Detected buffering proxy"):Yt.stat===Qi.NOPROXY&&qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{St.Zr()},0),St}}function fo(){return typeof window<"u"?window:null}function Tl(){return typeof document<"u"?document:null}function Do(i){return new Nf(i,!0)}class Uu{constructor(e,n,o=1e3,l=1.5,f=6e4){this.js=e,this.timerId=n,this.lo=o,this.fo=l,this._o=f,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,n-o);l>0&&qt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class sd{constructor(e,n,o,l,f,E,A,j){this.js=e,this.Ao=o,this.Ro=l,this.bo=f,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=A,this.listener=j,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Uu(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,c.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,c.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===wt.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===wt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===n&&this.Uo(o,l)},o=>{e(()=>{const l=new Rt(wt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,c.Z)(function*(){e.state=0,e.start()}))}qo(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B_ extends sd{constructor(e,n,o,l,f,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,E),this.wt=f}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Th(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Mn(),l=e.targetChange.targetIds||[],f=function(j,Q){return j.dt?(Wn(void 0===Q||"string"==typeof Q),xe.fromBase64String(Q||"")):(Wn(void 0===Q||Q instanceof Uint8Array),xe.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,A=E&&function(j){const Q=void 0===j.code?wt.UNKNOWN:oc(j.code);return new Rt(Q,j.message||"")}(E);n=new uc(o,l,f,A||null)}else if("documentChange"in e){const o=e.documentChange,l=kl(i,o.document.name),f=to(o.document.updateTime),E=new Zn({mapValue:{fields:o.document.fields}}),A=yr.newFoundDocument(l,f,E);n=new Eh(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,l=kl(i,o.document),f=o.readTime?to(o.readTime):ir.min(),E=yr.newNoDocument(l,f);n=new Eh([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const o=e.documentRemove,l=kl(i,o.document);n=new Eh([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Mn();{const o=e.filter,f=new sc(o.count||0);n=new Mg(o.targetId,f)}}var j;return n}(this.wt,e),o=function(l){if(!("targetChange"in l))return ir.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?ir.min():f.readTime?to(f.readTime):ir.min()}(e);return this.listener.Go(n,o)}Qo(e){const n={};n.database=Wc(this.wt),n.addTarget=function(l,f){let E;const A=f.target;return E=Qa(A)?{documents:Pu(l,A)}:{query:Ff(l,A)},E.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?E.resumeToken=xg(l,f.resumeToken):f.snapshotVersion.compareTo(ir.min())>0&&(E.readTime=xu(l,f.snapshotVersion.toTimestamp())),E}(this.wt,e);const o=function Rg(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Mo(n)}jo(e){const n={};n.database=Wc(this.wt),n.removeTarget=e,this.Mo(n)}}class nm extends sd{constructor(e,n,o,l,f,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,E),this.wt=f,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function Lf(i,e){return i&&i.length>0?(Wn(void 0!==e),i.map(n=>function(o,l){let f=to(o.updateTime?o.updateTime:l);return f.isEqual(ir.min())&&(f=to(l)),new ge(f,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=to(e.commitTime);return this.listener.Jo(o,n)}return Wn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Wc(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>zc(this.wt,o))};this.Mo(n)}}class rm extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new Rt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.bo.ro(e,n,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Rt(wt.UNKNOWN,l.toString())})}ao(e,n,o,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,E])=>this.bo.ao(e,n,o,f,E,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(wt.UNKNOWN,f.toString())})}terminate(){this.Zo=!0}}class wc{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ii(n),this.su=!1):qt("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class _y{constructor(e,n,o,l,f){var E=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=f,this.du.Br(A=>{o.enqueueAndForget((0,c.Z)(function*(){var j;rl(E)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,c.Z)(function*(Q){const me=mn(Q);me.lu.add(4),yield od(me),me._u.set("Unknown"),me.lu.delete(4),yield Ic(me)}),function(Q){return j.apply(this,arguments)})(E))}))}),this._u=new wc(o,l)}}function Ic(i){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,c.Z)(function*(i){if(rl(i))for(const e of i.fu)yield e(!0)}),Zd.apply(this,arguments)}function od(i){return im.apply(this,arguments)}function im(){return im=(0,c.Z)(function*(i){for(const e of i.fu)yield e(!1)}),im.apply(this,arguments)}function op(i,e){const n=mn(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),up(n)?sm(n):Hu(n).Co()&&ap(n,e))}function zh(i,e){const n=mn(i),o=Hu(n);n.hu.delete(e),o.Co()&&lp(n,e),0===n.hu.size&&(o.Co()?o.ko():rl(n)&&n._u.set("Unknown"))}function ap(i,e){i.wu.Nt(e.targetId),Hu(i).Qo(e)}function lp(i,e){i.wu.Nt(e),Hu(i).jo(e)}function sm(i){i.wu=new Rf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Hu(i).start(),i._u.iu()}function up(i){return rl(i)&&!Hu(i).Do()&&i.hu.size>0}function rl(i){return 0===mn(i).lu.size}function om(i){i.wu=void 0}function am(i){return ad.apply(this,arguments)}function ad(){return ad=(0,c.Z)(function*(i){i.hu.forEach((e,n)=>{ap(i,e)})}),ad.apply(this,arguments)}function vy(i,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,c.Z)(function*(i,e){om(i),up(i)?(i._u.uu(e),sm(i)):i._u.set("Unknown")}),Kh.apply(this,arguments)}function Ey(i,e,n){return cp.apply(this,arguments)}function cp(){return cp=(0,c.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof uc&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(l,f){const E=f.cause;for(const A of f.targetIds)l.hu.has(A)&&(yield l.remoteSyncer.rejectListen(A,E),l.hu.delete(A),l.wu.removeTarget(A))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Zh(i,o)}else if(e instanceof Eh?i.wu.Ut(e):e instanceof Mg?i.wu.zt(e):i.wu.Gt(e),!n.isEqual(ir.min()))try{const o=yield Qr(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const E=l.wu.Yt(f);return E.targetChanges.forEach((A,j)=>{if(A.resumeToken.approximateByteSize()>0){const Q=l.hu.get(j);Q&&l.hu.set(j,Q.withResumeToken(A.resumeToken,f))}}),E.targetMismatches.forEach(A=>{const j=l.hu.get(A);if(!j)return;l.hu.set(A,j.withResumeToken(xe.EMPTY_BYTE_STRING,j.snapshotVersion)),lp(l,A);const Q=new el(j.target,A,1,j.sequenceNumber);ap(l,Q)}),l.remoteSyncer.applyRemoteEvent(E)}(i,n))}catch(o){qt("RemoteStore","Failed to raise snapshot:",o),yield Zh(i,o)}var o}),cp.apply(this,arguments)}function Zh(i,e,n){return dp.apply(this,arguments)}function dp(){return dp=(0,c.Z)(function*(i,e,n){if(!Uo(e))throw e;i.lu.add(1),yield od(i),i._u.set("Offline"),n||(n=()=>Qr(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield Ic(i)}))}),dp.apply(this,arguments)}function lm(i,e){return e().catch(n=>Zh(i,n,e))}function Cc(i){return hp.apply(this,arguments)}function hp(){return hp=(0,c.Z)(function*(i){const e=mn(i),n=pu(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;um(e);)try{const l=yield Ui(e.localStore,o);if(null===l){0===e.au.length&&n.ko();break}o=l.batchId,cm(e,l)}catch(l){yield Zh(e,l)}qh(e)&&by(e)}),hp.apply(this,arguments)}function um(i){return rl(i)&&i.au.length<10}function cm(i,e){i.au.push(e);const n=pu(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function qh(i){return rl(i)&&!pu(i).Do()&&i.au.length>0}function by(i){pu(i).start()}function fp(i){return pp.apply(this,arguments)}function pp(){return pp=(0,c.Z)(function*(i){pu(i).Xo()}),pp.apply(this,arguments)}function H_(i){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,c.Z)(function*(i){const e=pu(i);for(const n of i.au)e.Ho(n.mutations)}),Bu.apply(this,arguments)}function dm(i,e,n){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,c.Z)(function*(i,e,n){const o=i.au.shift(),l=Oh.from(o,e,n);yield lm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Cc(i)}),Yh.apply(this,arguments)}function Qh(i,e){return il.apply(this,arguments)}function il(){return il=(0,c.Z)(function*(i,e){var n;e&&pu(i).zo&&(yield(n=(0,c.Z)(function*(o,l){if(Dd(f=l.code)&&f!==wt.ABORTED){const E=o.au.shift();pu(o).No(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(E.batchId,l)),yield Cc(o)}var f}),function(o,l){return n.apply(this,arguments)})(i,e)),qh(i)&&by(i)}),il.apply(this,arguments)}function gp(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,c.Z)(function*(i,e){const n=mn(i);n.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const o=rl(n);n.lu.add(3),yield od(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield Ic(n)}),mp.apply(this,arguments)}function qd(i,e){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,c.Z)(function*(i,e){const n=mn(i);e?(n.lu.delete(2),yield Ic(n)):e||(n.lu.add(2),yield od(n),n._u.set("Unknown"))}),Ul.apply(this,arguments)}function Hu(i){return i.mu||(i.mu=function(e,n,o){const l=mn(e);return l.tu(),new B_(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:am.bind(null,i),Jr:vy.bind(null,i),Go:Ey.bind(null,i)}),i.fu.push(function(){var e=(0,c.Z)(function*(n){n?(i.mu.No(),up(i)?sm(i):i._u.set("Unknown")):(yield i.mu.stop(),om(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function pu(i){return i.gu||(i.gu=function(e,n,o){const l=mn(e);return l.tu(),new nm(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:fp.bind(null,i),Jr:Qh.bind(null,i),Yo:H_.bind(null,i),Jo:dm.bind(null,i)}),i.fu.push(function(){var e=(0,c.Z)(function*(n){n?(i.gu.No(),yield Cc(i)):(yield i.gu.stop(),i.au.length>0&&(qt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class Yd{constructor(e,n,o,l,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,n,o,l,f){const E=Date.now()+o,A=new Yd(e,n,E,l,f);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(i,e){if(Ii("AsyncQueue",`${e}: ${i}`),Uo(i))return new Rt(wt.UNAVAILABLE,`${e}: ${i}`);throw i}class Tc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||pn.comparator(n.key,o.key):(n,o)=>pn.comparator(n.key,o.key),this.keyedMap=Ou(),this.sortedSet=new ji(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Tc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class wy{constructor(){this.yu=new ji(pn.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):Mn():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class gu{constructor(e,n,o,l,f,E,A,j){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=A,this.excludesMetadataChanges=j}static fromInitialDocuments(e,n,o,l){const f=[];return n.forEach(E=>{f.push({type:0,doc:E})}),new gu(e,n,Tc.emptySet(n),f,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class Jh{constructor(){this.Iu=void 0,this.listeners=[]}}class yp{constructor(){this.queries=new Nl(e=>Tu(e),Ja),this.onlineState="Unknown",this.Tu=new Set}}function Jd(i,e){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,c.Z)(function*(i,e){const n=mn(i),o=e.query;let l=!1,f=n.queries.get(o);if(f||(l=!0,f=new Jh),l)try{f.Iu=yield n.onListen(o)}catch(E){const A=Qd(E,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,f),f.listeners.push(e),e.Eu(n.onlineState),f.Iu&&e.Au(f.Iu)&&vp(n)}),Xd.apply(this,arguments)}function hm(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,c.Z)(function*(i,e){const n=mn(i),o=e.query;let l=!1;const f=n.queries.get(o);if(f){const E=f.listeners.indexOf(e);E>=0&&(f.listeners.splice(E,1),l=0===f.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),_p.apply(this,arguments)}function Iy(i,e){const n=mn(i);let o=!1;for(const l of e){const E=n.queries.get(l.query);if(E){for(const A of E.listeners)A.Au(l)&&(o=!0);E.Iu=l}}o&&vp(n)}function Cy(i,e,n){const o=mn(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(n);o.queries.delete(e)}function vp(i){i.Tu.forEach(e=>{e.next()})}class Xh{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new gu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class $_{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class fm{constructor(e){this.wt=e}Wi(e){return kl(this.wt,e)}zi(e){return e.metadata.exists?cu(this.wt,e.document,!1):yr.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return to(e)}}class j_{constructor(e,n,o){this.xu=e,this.localStore=n,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ep(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Dr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new fm(this.wt);for(const l of e)if(l.metadata.queries){const f=o.Wi(l.metadata.name);for(const E of l.metadata.queries){const A=(n.get(E)||qr()).add(f);n.set(E,A)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Vl(i,e,n,o){return nl.apply(this,arguments)}(e.localStore,new fm(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield ro(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:n}})()}}function Ep(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class bp{constructor(e){this.key=e}}class pm{constructor(e){this.key=e}}class ef{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=qr(),this.mutatedKeys=qr(),this.Lu=ka(e),this.Uu=new Tc(this.Lu)}get qu(){return this.Fu}Ku(e,n){const o=n?n.Gu:new wy,l=n?n.Uu:this.Uu;let f=n?n.mutatedKeys:this.mutatedKeys,E=l,A=!1;const j="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((me,Ge)=>{const St=l.get(me),Ft=Su(this.query,Ge)?Ge:null,Yt=!!St&&this.mutatedKeys.has(St.key),Hn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let lr=!1;St&&Ft?St.data.isEqual(Ft.data)?Yt!==Hn&&(o.track({type:3,doc:Ft}),lr=!0):this.Qu(St,Ft)||(o.track({type:2,doc:Ft}),lr=!0,(j&&this.Lu(Ft,j)>0||Q&&this.Lu(Ft,Q)<0)&&(A=!0)):!St&&Ft?(o.track({type:0,doc:Ft}),lr=!0):St&&!Ft&&(o.track({type:1,doc:St}),lr=!0,(j||Q)&&(A=!0)),lr&&(Ft?(E=E.add(Ft),f=Hn?f.add(me):f.delete(me)):(E=E.delete(me),f=f.delete(me)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const me="F"===this.query.limitType?E.last():E.first();E=E.delete(me.key),f=f.delete(me.key),o.track({type:1,doc:me})}return{Uu:E,Gu:o,Oi:A,mutatedKeys:f}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const f=e.Gu.pu();f.sort((Q,me)=>function(Ge,St){const Ft=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mn()}};return Ft(Ge)-Ft(St)}(Q.type,me.type)||this.Lu(Q.doc,me.doc)),this.ju(o);const E=n?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,j=A!==this.$u;return this.$u=A,0!==f.length||j?{snapshot:new gu(this.query,e.Uu,l,f,e.mutatedKeys,0===A,j,!1),zu:E}:{zu:E}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new wy,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=qr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new pm(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new bp(o))}),n}Ju(e){this.Fu=e.ji,this.Bu=qr();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return gu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class W_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class G_{constructor(e){this.key=e,this.Xu=!1}}class z_{constructor(e,n,o,l,f,E){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.Zu={},this.tc=new Nl(A=>Tu(A),Ja),this.ec=new Map,this.nc=new Set,this.sc=new ji(pn.comparator),this.ic=new Map,this.rc=new Hh,this.oc={},this.uc=new Map,this.cc=Yl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function K_(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,c.Z)(function*(i,e){const n=Cm(i);let o,l;const f=n.tc.get(e);if(f)o=f.targetId,n.sharedClientState.addLocalQueryTarget(o),l=f.view.Yu();else{const E=yield Ci(n.localStore,ra(e));n.isPrimaryClient&&op(n.remoteStore,E);const A=n.sharedClientState.addLocalQueryTarget(E.targetId);o=E.targetId,l=yield mm(n,e,o,"current"===A)}return l}),gm.apply(this,arguments)}function mm(i,e,n,o){return ym.apply(this,arguments)}function ym(){return ym=(0,c.Z)(function*(i,e,n,o){i.hc=(me,Ge,St)=>{return(Ft=(0,c.Z)(function*(Yt,Hn,lr,Wi){let Cs=Hn.view.Ku(lr);Cs.Oi&&(Cs=yield no(Yt.localStore,Hn.query,!1).then(({documents:po})=>Hn.view.Ku(po,Cs)));const ms=Wi&&Wi.targetChanges.get(Hn.targetId),la=Hn.view.applyChanges(Cs,Yt.isPrimaryClient,ms);return ud(Yt,Hn.targetId,la.zu),la.snapshot}),function(Yt,Hn,lr,Wi){return Ft.apply(this,arguments)})(i,me,Ge,St);var Ft};const l=yield no(i.localStore,e,!0),f=new ef(e,l.ji),E=f.Ku(l.documents),A=Hc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),j=f.applyChanges(E,i.isPrimaryClient,A);ud(i,n,j.zu);const Q=new W_(e,n,f);return i.tc.set(e,Q),i.ec.has(n)?i.ec.get(n).push(e):i.ec.set(n,[e]),j.snapshot}),ym.apply(this,arguments)}function Z_(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,c.Z)(function*(i,e){const n=mn(i),o=n.tc.get(e),l=n.ec.get(o.targetId);if(l.length>1)return n.ec.set(o.targetId,l.filter(f=>!Ja(f,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ls(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),zh(n.remoteStore,o.targetId),ld(n,o.targetId)}).catch(Or))):(ld(n,o.targetId),yield ls(n.localStore,o.targetId,!0))}),_m.apply(this,arguments)}function Xl(){return Xl=(0,c.Z)(function*(i,e,n){const o=Fp(i);try{const l=yield function(f,E){const A=mn(f),j=hi.now(),Q=E.reduce((St,Ft)=>St.add(Ft.key),qr());let me,Ge;return A.persistence.runTransaction("Locally write mutations","readwrite",St=>{let Ft=eo(),Yt=qr();return A.Ui.getEntries(St,Q).next(Hn=>{Ft=Hn,Ft.forEach((lr,Wi)=>{Wi.isValidDocument()||(Yt=Yt.add(lr))})}).next(()=>A.localDocuments.getOverlayedDocuments(St,Ft)).next(Hn=>{me=Hn;const lr=[];for(const Wi of E){const Cs=Ca(Wi,me.get(Wi.key).overlayedDocument);null!=Cs&&lr.push(new Xa(Wi.key,Cs,er(Cs.value.mapValue),lt.exists(!0)))}return A.mutationQueue.addMutationBatch(St,j,lr,E)}).next(Hn=>{Ge=Hn;const lr=Hn.applyToLocalDocumentSet(me,Yt);return A.documentOverlayCache.saveOverlays(St,Hn.batchId,lr)})}).then(()=>({batchId:Ge.batchId,changes:Uc(me)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,E,A){let j=f.oc[f.currentUser.toKey()];j||(j=new ji(Cr)),j=j.insert(E,A),f.oc[f.currentUser.toKey()]=j}(o,l.batchId,n),yield Ua(o,l.changes),yield Cc(o.remoteStore)}catch(l){const f=Qd(l,"Failed to persist write");n.reject(f)}}),Xl.apply(this,arguments)}function tf(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,c.Z)(function*(i,e){const n=mn(i);try{const o=yield _r(n.localStore,e);e.targetChanges.forEach((l,f)=>{const E=n.ic.get(f);E&&(Wn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?E.Xu=!0:l.modifiedDocuments.size>0?Wn(E.Xu):l.removedDocuments.size>0&&(Wn(E.Xu),E.Xu=!1))}),yield Ua(n,o,e)}catch(o){yield Or(o)}}),wp.apply(this,arguments)}function Ip(i,e,n){const o=mn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.tc.forEach((f,E)=>{const A=E.view.Eu(e);A.snapshot&&l.push(A.snapshot)}),function(f,E){const A=mn(f);A.onlineState=E;let j=!1;A.queries.forEach((Q,me)=>{for(const Ge of me.listeners)Ge.Eu(E)&&(j=!0)}),j&&vp(A)}(o.eventManager,e),l.length&&o.Zu.Go(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Cp(i,e,n){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i,e,n){const o=mn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ic.get(e),f=l&&l.key;if(f){let E=new ji(pn.comparator);E=E.insert(f,yr.newNoDocument(f,ir.min()));const A=qr().add(f),j=new Bc(ir.min(),new Map,new w(Cr),E,A);yield tf(o,j),o.sc=o.sc.remove(f),o.ic.delete(e),th(o)}else yield ls(o.localStore,e,!1).then(()=>ld(o,e,n)).catch(Or)}),nf.apply(this,arguments)}function Tp(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,c.Z)(function*(i,e){const n=mn(i),o=e.batch.batchId;try{const l=yield Yr(n.localStore,e);sf(n,o,null),Sp(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ua(n,l)}catch(l){yield Or(l)}}),Dp.apply(this,arguments)}function $u(i,e,n){return rf.apply(this,arguments)}function rf(){return rf=(0,c.Z)(function*(i,e,n){const o=mn(i);try{const l=yield function(f,E){const A=mn(f);return A.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Q;return A.mutationQueue.lookupMutationBatch(j,E).next(me=>(Wn(null!==me),Q=me.keys(),A.mutationQueue.removeMutationBatch(j,me))).next(()=>A.mutationQueue.performConsistencyCheck(j)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(j,Q,E)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Q)).next(()=>A.localDocuments.getDocuments(j,Q))})}(o.localStore,e);sf(o,e,n),Sp(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ua(o,l)}catch(l){yield Or(l)}}),rf.apply(this,arguments)}function eh(){return eh=(0,c.Z)(function*(i,e){const n=mn(i);rl(n.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const E=mn(f);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>E.mutationQueue.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(-1===o)return void e.resolve();const l=n.uc.get(o)||[];l.push(e),n.uc.set(o,l)}catch(o){const l=Qd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),eh.apply(this,arguments)}function Sp(i,e){(i.uc.get(e)||[]).forEach(n=>{n.resolve()}),i.uc.delete(e)}function sf(i,e,n){const o=mn(i);let l=o.oc[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(n?f.reject(n):f.resolve(),l=l.remove(e)),o.oc[o.currentUser.toKey()]=l}}function ld(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),n&&i.Zu.lc(o,n);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||vm(i,o)})}function vm(i,e){i.nc.delete(e.path.canonicalString());const n=i.sc.get(e);null!==n&&(zh(i.remoteStore,n),i.sc=i.sc.remove(e),i.ic.delete(n),th(i))}function ud(i,e,n){for(const o of n)o instanceof bp?(i.rc.addReference(o.key,e),cd(i,o)):o instanceof pm?(qt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||vm(i,o.key)):Mn()}function cd(i,e){const n=e.key,o=n.path.canonicalString();i.sc.get(n)||i.nc.has(o)||(qt("SyncEngine","New document in limbo: "+n),i.nc.add(o),th(i))}function th(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const n=new pn(Dr.fromString(e)),o=i.cc.next();i.ic.set(o,new G_(n)),i.sc=i.sc.insert(n,o),op(i.remoteStore,new el(ra(Gl(n.path)),o,2,Ws.ot))}}function Ua(i,e,n){return dd.apply(this,arguments)}function dd(){return dd=(0,c.Z)(function*(i,e,n){const o=mn(i),l=[],f=[],E=[];var A;o.tc.isEmpty()||(o.tc.forEach((A,j)=>{E.push(o.hc(j,e,n).then(Q=>{if(Q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,Q.fromCache?"not-current":"current"),l.push(Q);const me=ye.Vi(j.targetId,Q);f.push(me)}}))}),yield Promise.all(E),o.Zu.Go(l),yield(A=(0,c.Z)(function*(j,Q){const me=mn(j);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>bt.forEach(Q,St=>bt.forEach(St.Pi,Ft=>me.persistence.referenceDelegate.addReference(Ge,St.targetId,Ft)).next(()=>bt.forEach(St.vi,Ft=>me.persistence.referenceDelegate.removeReference(Ge,St.targetId,Ft)))))}catch(Ge){if(!Uo(Ge))throw Ge;qt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of Q){const St=Ge.targetId;if(!Ge.fromCache){const Ft=me.$i.get(St),Hn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);me.$i=me.$i.insert(St,Hn)}}}),function(j,Q){return A.apply(this,arguments)})(o.localStore,f))}),dd.apply(this,arguments)}function nh(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,c.Z)(function*(i,e){const n=mn(i);if(!n.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const o=yield En(n.localStore,e);n.currentUser=e,(l=n).uc.forEach(E=>{E.forEach(A=>{A.reject(new Rt(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ua(n,o.Ki)}var l}),Ap.apply(this,arguments)}function Em(i,e){const n=mn(i),o=n.ic.get(e);if(o&&o.Xu)return qr().add(o.key);{let l=qr();const f=n.ec.get(e);if(!f)return l;for(const E of f){const A=n.tc.get(E);l=l.unionWith(A.view.qu)}return l}}function bm(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,c.Z)(function*(i,e){const n=mn(i),o=yield no(n.localStore,e.query,!0),l=e.view.Ju(o);return n.isPrimaryClient&&ud(n,e.targetId,l.zu),l}),rh.apply(this,arguments)}function Mp(i,e){return af.apply(this,arguments)}function af(){return af=(0,c.Z)(function*(i,e){const n=mn(i);return tl(n.localStore,e).then(o=>Ua(n,o))}),af.apply(this,arguments)}function Op(i,e,n,o){return xp.apply(this,arguments)}function xp(){return xp=(0,c.Z)(function*(i,e,n,o){const l=mn(i),f=yield function(E,A){const j=mn(E),Q=mn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",me=>Q.yn(me,A).next(Ge=>Ge?j.localDocuments.getDocuments(me,Ge):bt.resolve(null)))}(l.localStore,e);var A;null!==f?("pending"===n?yield Cc(l.remoteStore):"acknowledged"===n||"rejected"===n?(sf(l,e,o||null),Sp(l,e),A=e,mn(mn(l.localStore).mutationQueue).In(A)):Mn(),yield Ua(l,f)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),xp.apply(this,arguments)}function Pp(){return Pp=(0,c.Z)(function*(i,e){const n=mn(i);if(Cm(n),Fp(n),!0===e&&!0!==n.ac){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Rp(n,o.toArray());n.ac=!0,yield qd(n.remoteStore,!0);for(const f of l)op(n.remoteStore,f)}else if(!1===e&&!1!==n.ac){const o=[];let l=Promise.resolve();n.ec.forEach((f,E)=>{n.sharedClientState.isLocalQueryTarget(E)?o.push(E):l=l.then(()=>(ld(n,E),ls(n.localStore,E,!0))),zh(n.remoteStore,E)}),yield l,yield Rp(n,o),function(f){const E=mn(f);E.ic.forEach((A,j)=>{zh(E.remoteStore,j)}),E.rc.cs(),E.ic=new Map,E.sc=new ji(pn.comparator)}(n),n.ac=!1,yield qd(n.remoteStore,!1)}}),Pp.apply(this,arguments)}function Rp(i,e,n){return Np.apply(this,arguments)}function Np(){return Np=(0,c.Z)(function*(i,e,n){const o=mn(i),l=[],f=[];for(const E of e){let A;const j=o.ec.get(E);if(j&&0!==j.length){A=yield Ci(o.localStore,ra(j[0]));for(const Q of j){const me=o.tc.get(Q),Ge=yield bm(o,me);Ge.snapshot&&f.push(Ge.snapshot)}}else{const Q=yield Ql(o.localStore,E);A=yield Ci(o.localStore,Q),yield mm(o,kp(Q),E,!1)}l.push(A)}return o.Zu.Go(f),l}),Np.apply(this,arguments)}function kp(i){return Cu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function wm(i){const e=mn(i);return mn(mn(e.localStore).persistence).Ri()}function Dy(i,e,n,o){return Da.apply(this,arguments)}function Da(){return Da=(0,c.Z)(function*(i,e,n,o){const l=mn(i);if(l.ac)return void qt("SyncEngine","Ignoring unexpected query state notification.");const f=l.ec.get(e);if(f&&f.length>0)switch(n){case"current":case"not-current":{const E=yield tl(l.localStore,tc(f[0])),A=Bc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Ua(l,E,A);break}case"rejected":yield ls(l.localStore,e,!0),ld(l,e,o);break;default:Mn()}}),Da.apply(this,arguments)}function Im(i,e,n){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,c.Z)(function*(i,e,n){const o=Cm(i);if(o.ac){for(const l of e){if(o.ec.has(l)){qt("SyncEngine","Adding an already active target "+l);continue}const f=yield Ql(o.localStore,l),E=yield Ci(o.localStore,f);yield mm(o,kp(f),E.targetId,!1),op(o.remoteStore,E)}for(const l of n)o.ec.has(l)&&(yield ls(o.localStore,l,!1).then(()=>{zh(o.remoteStore,l),ld(o,l)}).catch(Or))}}),Lp.apply(this,arguments)}function Cm(i){const e=mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=tf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Em.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cp.bind(null,e),e.Zu.Go=Iy.bind(null,e.eventManager),e.Zu.lc=Cy.bind(null,e.eventManager),e}function Fp(i){const e=mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$u.bind(null,e),e}class Up{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.wt=Do(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return Nt(this.persistence,new Oe,e.initialUser,this.wt)}_c(e){return new zd(Kd.Ms,this.wt)}dc(e){return new ur}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tm extends Up{constructor(e,n,o){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.yc.initialize(o,e),yield Fp(o.yc.syncEngine),yield Cc(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Nt(this.persistence,new Oe,e.initialUser,this.wt)}mc(e,n){return new Vh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}gc(e,n){const o=new _a(n,this.persistence);return new Ol(e.asyncQueue,o)}_c(e){const n=Z(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Fa.withCacheSize(this.cacheSizeBytes):Fa.DEFAULT;return new h(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,fo(),Tl(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new ur}}class Sy extends Tm{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const l=o.yc.syncEngine;o.sharedClientState instanceof zs&&(o.sharedClientState.syncEngine={kr:Op.bind(null,l),Or:Dy.bind(null,l),Mr:Im.bind(null,l),Ri:wm.bind(null,l),Nr:Mp.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var f=(0,c.Z)(function*(E){yield function Y_(i,e){return Pp.apply(this,arguments)}(o.yc.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start():E||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(E&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():E||o.indexBackfillerScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}dc(e){const n=fo();if(!zs.V(n))throw new Rt(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Z(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zs(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Bp{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Ip(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=nh.bind(null,o.syncEngine),yield qd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yp}createDatastore(e){const n=Do(e.databaseInfo.databaseId),o=new sp(e.databaseInfo);return new rm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,f=A=>Ip(this.syncEngine,A,0),E=Cl.V()?new Cl:new oa,new _y(n,o,l,f,E);var n,o,l,f,E}createSyncEngine(e,n){return function(o,l,f,E,A,j,Q){const me=new z_(o,l,f,E,A,j);return Q&&(me.ac=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=mn(n);qt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield od(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dm{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new oi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,c.Z)(function*(){const n=yield e.bc();if(null===n)return null;const o=e.Ac.decode(n),l=Number(o);isNaN(l)&&e.Pc(`length string (${o}) is not valid number`);const f=yield e.vc(l);return new $_(JSON.parse(f),n.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,c.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const n=e.Vc();n<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}vc(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.Sc())&&n.Pc("Reached the end of bundle when more is expected.");const o=n.Ac.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,c.Z)(function*(){const n=yield e.Ec.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Ay{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Rt(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,c.Z)(function*(f,E){const A=mn(f),j=Wc(A.wt)+"/documents",Q={documents:E.map(Ft=>El(A.wt,Ft))},me=yield A.ao("BatchGetDocuments",j,Q,E.length),Ge=new Map;me.forEach(Ft=>{const Yt=function kf(i,e){return"found"in e?function(n,o){Wn(!!o.found);const l=kl(n,o.found.name),f=to(o.found.updateTime),E=new Zn({mapValue:{fields:o.found.fields}});return yr.newFoundDocument(l,f,E)}(i,e):"missing"in e?function(n,o){Wn(!!o.missing),Wn(!!o.readTime);const l=kl(n,o.missing),f=to(o.readTime);return yr.newNoDocument(l,f)}(i,e):Mn()}(A.wt,Ft);Ge.set(Yt.key.toString(),Yt)});const St=[];return E.forEach(Ft=>{const Yt=Ge.get(Ft.toString());Wn(!!Yt),St.push(Yt)}),St}),function(f,E){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new es(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const f=pn.fromPath(l);e.mutations.push(new uu(f,e.precondition(f)))}),yield(o=(0,c.Z)(function*(l,f){const E=mn(l),A=Wc(E.wt)+"/documents",j={writes:f.map(Q=>zc(E.wt,Q))};yield E.ro("Commit",A,j)}),function(l,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Mn();n=ir.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Rt(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?lt.updateTime(n):lt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ir.min()))throw new Rt(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lt.updateTime(n)}return lt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class My{constructor(e,n,o,l,f){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=f,this.Dc=o.maxAttempts,this.So=new Uu(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,c.Z)(function*(){const n=new Ay(e.datastore),o=e.xc(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.Nc(f)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const n=this.updateFunction(e);return!ea(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Dd(n)}return!1}}class Sm{constructor(e,n,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=Ri.UNAUTHENTICATED,this.clientId=Qo.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var E=(0,c.Z)(function*(A){qt("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(o,E=>(qt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Qd(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function $p(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,c.Z)(function*(f){o.isEqual(f)||(yield En(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),jp.apply(this,arguments)}function Bl(i,e){return ih.apply(this,arguments)}function ih(){return ih=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Wp(i);qt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>gp(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>gp(e.remoteStore,f)),i.onlineComponents=e}),ih.apply(this,arguments)}function Wp(i){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,c.Z)(function*(i){return i.offlineComponents||(qt("FirestoreClient","Using default OfflineComponentProvider"),yield $p(i,new Up)),i.offlineComponents}),Gp.apply(this,arguments)}function zp(i){return uf.apply(this,arguments)}function uf(){return uf=(0,c.Z)(function*(i){return i.onlineComponents||(qt("FirestoreClient","Using default OnlineComponentProvider"),yield Bl(i,new Bp)),i.onlineComponents}),uf.apply(this,arguments)}function Am(i){return Wp(i).then(e=>e.persistence)}function Kp(i){return Wp(i).then(e=>e.localStore)}function Mm(i){return zp(i).then(e=>e.remoteStore)}function sh(i){return zp(i).then(e=>e.syncEngine)}function hd(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,c.Z)(function*(i){const e=yield zp(i),n=e.eventManager;return n.onListen=K_.bind(null,e.syncEngine),n.onUnlisten=Z_.bind(null,e.syncEngine),n}),Zp.apply(this,arguments)}function Yp(i,e,n={}){const o=new oi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(l,f,E,A,j){const Q=new lf({next:Ge=>{f.enqueueAndForget(()=>hm(l,me));const St=Ge.docs.has(E);!St&&Ge.fromCache?j.reject(new Rt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&Ge.fromCache&&A&&"server"===A.source?j.reject(new Rt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ge)},error:Ge=>j.reject(Ge)}),me=new Xh(Gl(E.path),Q,{includeMetadataChanges:!0,Du:!0});return Jd(l,me)}(yield hd(i),i.asyncQueue,e,n,o)})),o.promise}function Jp(i,e,n={}){const o=new oi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(l,f,E,A,j){const Q=new lf({next:Ge=>{f.enqueueAndForget(()=>hm(l,me)),Ge.fromCache&&"server"===A.source?j.reject(new Rt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ge)},error:Ge=>j.reject(Ge)}),me=new Xh(E,Q,{includeMetadataChanges:!0,Du:!0});return Jd(l,me)}(yield hd(i),i.asyncQueue,e,n,o)})),o.promise}const Om=new Map;function df(i,e,n){if(!n)throw new Rt(wt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eg(i,e,n,o){if(!0===e&&!0===o)throw new Rt(wt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tg(i){if(!pn.isDocumentKey(i))throw new Rt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ng(i){if(pn.isDocumentKey(i))throw new Rt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Mn()}function Jr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Rt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(i);throw new Rt(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function oh(i,e){if(e<=0)throw new Rt(wt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ah{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mu{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ah({}),this._settingsFrozen=!1,e instanceof ss?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Rt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ss(l.options.projectId)}(e))}get app(){if(!this._app)throw new Rt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ah(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Fo;switch(n.type){case"gapi":const o=n.client;return Wn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Wa(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Rt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Om.get(e);n&&(qt("ComponentProvider","Removing Datastore"),Om.delete(e),n.terminate())}(this),Promise.resolve()}}function xy(i,e,n,o={}){var l;const f=(i=Jr(i,mu))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&rs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let E,A;if("string"==typeof o.mockUserToken)E=o.mockUserToken,A=Ri.MOCK_USER;else{E=(0,W.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Rt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ri(j)}i._authCredentials=new pa(new qo(E,A))}}class Ss{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class Ho{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class eu extends Ho{constructor(e,n,o){super(e,n,Gl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new pn(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Py(i,e,...n){if(i=(0,W.m9)(i),df("collection","path",e),i instanceof mu){const o=Dr.fromString(e,...n);return ng(o),new eu(i,null,o)}{if(!(i instanceof Ss||i instanceof eu))throw new Rt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Dr.fromString(e,...n));return ng(o),new eu(i.firestore,null,o)}}function lh(i,e){if(i=Jr(i,mu),df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ho(i,null,(n=e,new yl(Dr.emptyPath(),n)));var n}function xm(i,e,...n){if(i=(0,W.m9)(i),1===arguments.length&&(e=Qo.I()),df("doc","path",e),i instanceof mu){const o=Dr.fromString(e,...n);return tg(o),new Ss(i,null,new pn(o))}{if(!(i instanceof Ss||i instanceof eu))throw new Rt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Dr.fromString(e,...n));return tg(o),new Ss(i.firestore,i instanceof eu?i.converter:null,new pn(o))}}function ev(i,e){return i=(0,W.m9)(i),e=(0,W.m9)(e),(i instanceof Ss||i instanceof eu)&&(e instanceof Ss||e instanceof eu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Pm(i,e){return i=(0,W.m9)(i),e=(0,W.m9)(e),i instanceof Ho&&e instanceof Ho&&i.firestore===e.firestore&&Ja(i._query,e._query)&&i.converter===e.converter}class tv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Uu(this,"async_queue_retry"),this.Kc=()=>{const n=Tl();n&&qt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Tl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Tl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new oi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,c.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(n){if(!Uo(n))throw n;qt("AsyncQueue","Operation failed with retryable error: "+n)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Ii("INTERNAL UNHANDLED ERROR: ",function(f){let E=f.message||"";return f.stack&&(E=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),E}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=n,n}enqueueAfterDelay(e,n,o){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const l=Yd.createAndSchedule(this,e,n,o,f=>this.Wc(f));return this.$c.push(l),l}Gc(){this.Bc&&Mn()}verifyOperationInProgress(){}zc(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.Oc,yield n}while(n!==e.Oc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function rg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Ry{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ny=-1;class As extends mu{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new tv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Nm(this),this._firestoreClient.terminate()}}function Rm(i=(0,u.getApp)()){return(0,u._getProvider)(i,"firestore").getImmediate()}function Ks(i){return i._firestoreClient||Nm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Nm(i){var e;const n=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xo(i._databaseId,f,i._persistenceKey,(A=n).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var f,A;i._firestoreClient=new Sm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ig(i,e){pd(i=Jr(i,As));const n=Ks(i),o=i._freezeSettings(),l=new Bp;return km(n,l,new Tm(l,o.cacheSizeBytes,e?.forceOwnership))}function ky(i){pd(i=Jr(i,As));const e=Ks(i),n=i._freezeSettings(),o=new Bp;return km(e,o,new Sy(o,n.cacheSizeBytes))}function km(i,e,n){const o=new oi;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield $p(i,n),yield Bl(i,e),o.resolve()}catch(l){const f=l;if(!("FirebaseError"===(E=f).name?E.code===wt.FAILED_PRECONDITION||E.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var E})).then(()=>o.promise)}function Ly(i){if(i._initialized&&!i._terminated)throw new Rt(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!xo.V())return Promise.resolve();const l=o+"main";yield xo.delete(l)}),function(o){return n.apply(this,arguments)})(Z(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Fy(i){return function(e){const n=new oi;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Ty(i,e){return eh.apply(this,arguments)}(yield sh(e),n)})),n.promise}(Ks(i=Jr(i,As)))}function Vy(i){return function cf(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Am(i),n=yield Mm(i);return e.setNetworkEnabled(!0),function(o){const l=mn(o);return l.lu.delete(0),Ic(l)}(n)}))}(Ks(i=Jr(i,As)))}function Uy(i){return function qp(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Am(i),n=yield Mm(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(l){const f=mn(l);f.lu.add(0),yield od(f),f._u.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(Ks(i=Jr(i,As)))}function Dc(i,e){const n=Ks(i=Jr(i,As)),o=new Ry;return function Xp(i,e,n,o){const l=function(f,E){let A;return A="string"==typeof f?(new TextEncoder).encode(f):f,j=function(j,Q){if(j instanceof Uint8Array)return Hp(j,Q);if(j instanceof ArrayBuffer)return Hp(new Uint8Array(j),Q);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Dm(j,E);var j}(n,Do(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function Vp(i,e,n){const o=mn(i);var l;(l=(0,c.Z)(function*(f,E,A){try{const j=yield E.getMetadata();if(yield function(St,Ft){const Yt=mn(St),Hn=to(Ft.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",lr=>Yt.Ds.getBundleMetadata(lr,Ft.id)).then(lr=>!!lr&&lr.createTime.compareTo(Hn)>=0)}(f.localStore,j))return yield E.close(),A._completeWith({taskState:"Success",documentsLoaded:(St=j).totalDocuments,bytesLoaded:St.totalBytes,totalDocuments:St.totalDocuments,totalBytes:St.totalBytes}),Promise.resolve(new Set);A._updateProgress(Ep(j));const Q=new j_(j,f.localStore,E.wt);let me=yield E.fc();for(;me;){const St=yield Q.Nu(me);St&&A._updateProgress(St),me=yield E.fc()}const Ge=yield Q.complete();return yield Ua(f,Ge.Mu,void 0),yield function(St,Ft){const Yt=mn(St);return Yt.persistence.runTransaction("Save bundle","readwrite",Hn=>Yt.Ds.saveBundleMetadata(Hn,Ft))}(f.localStore,j),A._completeWith(Ge.progress),Promise.resolve(Ge.Ou)}catch(j){return rs("SyncEngine",`Loading bundle failed with ${j}`),A._failWith(j),Promise.resolve(new Set)}var St}),function(f,E,A){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield sh(i),l,o)}))}(n,i._databaseId,e,o),o}function nv(i,e){return function X_(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const l=mn(n);return l.persistence.runTransaction("Get named query","readonly",f=>l.Ds.getNamedQuery(f,o))}(yield Kp(i),e)}))}(Ks(i=Jr(i,As)),e).then(n=>n?new Ho(i,null,n.query):null)}function pd(i){if(i._initialized||i._terminated)throw new Rt(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ju{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Rt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(xe.fromBase64String(e))}catch(n){throw new Rt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tu(xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sc{constructor(e){this._methodName=e}}class sl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cr(this._lat,e._lat)||Cr(this._long,e._long)}}const uh=/^__.*__$/;class aa{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new vl(e,this.data,n,this.fieldTransforms)}}class Wu{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ch(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mn()}}class Sa{constructor(e,n,o,l,f,E){this.settings=e,this.databaseId=n,this.wt=o,this.ignoreUndefinedProperties=l,void 0===f&&this.Xc(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Sa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.sa(e),l}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return gf(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(ch(this.Zc)&&uh.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class og{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=o||Do(e)}aa(e,n,o,l=!1){return new Sa({Zc:e,methodName:n,ca:o,path:$i.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Dl(i){const e=i._freezeSettings(),n=Do(i._databaseId);return new og(i._databaseId,!!e.ignoreUndefinedProperties,n)}function yu(i,e,n,o,l,f={}){const E=i.aa(f.merge||f.mergeFields?2:0,e,n,l);ff("Data must be an object, but it was:",E,o);const A=lg(o,E);let j,Q;if(f.merge)j=new ie(E.fieldMask),Q=E.fieldTransforms;else if(f.mergeFields){const me=[];for(const Ge of f.mergeFields){const St=pf(e,Ge,n);if(!E.contains(St))throw new Rt(wt.INVALID_ARGUMENT,`Field '${St}' is specified in your field mask but missing from your input data.`);Fm(me,St)||me.push(St)}j=new ie(me),Q=E.fieldTransforms.filter(Ge=>j.covers(Ge.field))}else j=null,Q=E.fieldTransforms;return new aa(new Zn(A),j,Q)}class nu extends Sc{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nu}}function Ac(i,e,n){return new Sa({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Gu extends Sc{_toFieldTransform(e){return new S(e.path,new xl)}isEqual(e){return e instanceof Gu}}class gd extends Sc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=Ac(this,e,!0),o=this.ha.map(f=>Ku(f,n)),l=new Pl(o);return new S(e.path,l)}isEqual(e){return this===e}}class md extends Sc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=Ac(this,e,!0),o=this.ha.map(f=>Ku(f,n)),l=new Rl(o);return new S(e.path,l)}isEqual(e){return this===e}}class yd extends Sc{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new I(e.wt,nc(e.wt,this.la));return new S(e.path,n)}isEqual(e){return this===e}}function zu(i,e,n,o){const l=i.aa(1,e,n);ff("Data must be an object, but it was:",l,o);const f=[],E=Zn.empty();Xi(o,(j,Q)=>{const me=dh(e,j,n);Q=(0,W.m9)(Q);const Ge=l.ia(me);if(Q instanceof nu)f.push(me);else{const St=Ku(Q,Ge);null!=St&&(f.push(me),E.set(me,St))}});const A=new ie(f);return new Wu(E,A,l.fieldTransforms)}function hf(i,e,n,o,l,f){const E=i.aa(1,e,n),A=[pf(e,o,n)],j=[l];if(f.length%2!=0)throw new Rt(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let St=0;St<f.length;St+=2)A.push(pf(e,f[St])),j.push(f[St+1]);const Q=[],me=Zn.empty();for(let St=A.length-1;St>=0;--St)if(!Fm(Q,A[St])){const Ft=A[St];let Yt=j[St];Yt=(0,W.m9)(Yt);const Hn=E.ia(Ft);if(Yt instanceof nu)Q.push(Ft);else{const lr=Ku(Yt,Hn);null!=lr&&(Q.push(Ft),me.set(Ft,lr))}}const Ge=new ie(Q);return new Wu(me,Ge,E.fieldTransforms)}function ag(i,e,n,o=!1){return Ku(n,i.aa(o?4:3,e))}function Ku(i,e){if(ug(i=(0,W.m9)(i)))return ff("Unsupported field value:",e,i),lg(i,e);if(i instanceof Sc)return function(n,o){if(!ch(o.Zc))throw o.oa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,o){const l=[];let f=0;for(const E of n){let A=Ku(E,o.ra(f));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),f++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,W.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return nc(o.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=hi.fromDate(n);return{timestampValue:xu(o.wt,l)}}if(n instanceof hi){const l=new hi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xu(o.wt,l)}}if(n instanceof sl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tu)return{bytesValue:xg(o.wt,n._byteString)};if(n instanceof Ss){const l=o.databaseId,f=n.firestore._databaseId;if(!f.isEqual(l))throw o.oa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.oa(`Unsupported field value: ${fd(n)}`)}(i,e)}function lg(i,e){const n={};return oo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(o,l)=>{const f=Ku(l,e.ea(o));null!=f&&(n[o]=f)}),{mapValue:{fields:n}}}function ug(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hi||i instanceof sl||i instanceof tu||i instanceof Ss||i instanceof Sc)}function ff(i,e,n){if(!ug(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=fd(n);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function pf(i,e,n){if((e=(0,W.m9)(e))instanceof ju)return e._internalPath;if("string"==typeof e)return dh(i,e);throw gf("Field path arguments must be of type string or ",i,!1,void 0,n)}const Lm=new RegExp("[~\\*/\\[\\]]");function dh(i,e,n){if(e.search(Lm)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gf(i,e,n,o,l){const f=o&&!o.isEmpty(),E=void 0!==l;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let j="";return(f||E)&&(j+=" (found",f&&(j+=` in field ${o}`),E&&(j+=` in document ${l}`),j+=")"),new Rt(wt.INVALID_ARGUMENT,A+i+j)}function Fm(i,e){return i.some(n=>n.isEqual(e))}class hh{constructor(e,n,o,l,f){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Vm extends hh{data(){return super.data()}}function mf(i,e){return"string"==typeof e?dh(i,e):e instanceof ju?e._internalPath:e._delegate._internalPath}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends hh{constructor(e,n,o,l,f,E){super(e,n,o,l,E),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Mc extends _u{data(e={}){return super.data(e)}}class Oc{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Mc(this._firestore,this._userDataWriter,o.key,o,new Zu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(E=>({type:"added",doc:new Mc(o._firestore,o._userDataWriter,E.doc.key,E.doc,new Zu(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(E=>l||3!==E.type).map(E=>{const A=new Mc(o._firestore,o._userDataWriter,E.doc.key,E.doc,new Zu(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Q=-1;return 0!==E.type&&(j=f.indexOf(E.doc.key),f=f.delete(E.doc.key)),1!==E.type&&(f=f.add(E.doc),Q=f.indexOf(E.doc.key)),{type:yf(E.type),doc:A,oldIndex:j,newIndex:Q}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yf(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mn()}}function _f(i,e){return i instanceof _u&&e instanceof _u?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Oc&&e instanceof Oc&&i._firestore===e._firestore&&Pm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function vf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Rt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fh{}function Ef(i,...e){for(const n of e)i=n._apply(i);return i}class bf extends fh{constructor(e,n,o){super(),this.fa=e,this.da=n,this._a=o,this.type="where"}_apply(e){const n=Dl(e.firestore),o=function(l,f,E,A,j,Q,me){let Ge;if(j.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Rt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){yg(me,Q);const Ft=[];for(const Yt of me)Ft.push(mg(A,l,Yt));Ge={arrayValue:{values:Ft}}}else Ge=mg(A,l,me)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||yg(me,Q),Ge=ag(E,"where",me,"in"===Q||"not-in"===Q);const St=ps.create(j,Q,Ge);return function(Ft,Yt){if(Yt.ht()){const lr=au(Ft);if(null!==lr&&!lr.isEqual(Yt.field))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${lr.toString()}' and '${Yt.field.toString()}'`);const Wi=Na(Ft);null!==Wi&&wf(0,Yt.field,Wi)}const Hn=function(lr,Wi){for(const Cs of lr.filters)if(Wi.indexOf(Cs.op)>=0)return Cs.op;return null}(Ft,function(lr){switch(lr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==Hn)throw new Rt(wt.INVALID_ARGUMENT,Hn===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${Hn.toString()}' filters.`)}(l,St),St}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new Ho(e.firestore,e.converter,function(l,f){const E=l.filters.concat([f]);return new yl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),E,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function cg(i,e,n){const o=e,l=mf("where",i);return new bf(l,o,n)}class Um extends fh{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(o,l,f){if(null!==o.startAt)throw new Rt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Rt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Wl(l,f);return function(A,j){if(null===Na(A)){const Q=au(A);null!==Q&&wf(0,Q,j.field)}}(o,E),E}(e._query,this.fa,this.wa);return new Ho(e.firestore,e.converter,function(o,l){const f=o.explicitOrderBy.concat([l]);return new yl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function dg(i,e="asc"){const n=e,o=mf("orderBy",i);return new Um(o,n)}class hg extends fh{constructor(e,n,o){super(),this.type=e,this.ma=n,this.ga=o}_apply(e){return new Ho(e.firestore,e.converter,Cd(e._query,this.ma,this.ga))}}function Bm(i){return oh("limit",i),new hg("limit",i,"F")}function fg(i){return oh("limitToLast",i),new hg("limitToLast",i,"L")}class pg extends fh{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=Wm(e,this.type,this.ya,this.pa);return new Ho(e.firestore,e.converter,(l=n,new yl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function By(...i){return new pg("startAt",i,!0)}function Hm(...i){return new pg("startAfter",i,!1)}class gg extends fh{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=Wm(e,this.type,this.ya,this.pa);return new Ho(e.firestore,e.converter,(l=n,new yl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function $m(...i){return new gg("endBefore",i,!1)}function jm(...i){return new gg("endAt",i,!0)}function Wm(i,e,n,o){if(n[0]=(0,W.m9)(n[0]),n[0]instanceof hh)return function(l,f,E,A,j){if(!A)throw new Rt(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const Q=[];for(const me of zl(l))if(me.field.isKeyField())Q.push(Ro(f,A.key));else{const Ge=A.data.field(me.field);if(Zr(Ge))throw new Rt(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const St=me.field.canonicalString();throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}Q.push(Ge)}return new na(Q,j)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=Dl(i.firestore);return function(f,E,A,j,Q,me){const Ge=f.explicitOrderBy;if(Q.length>Ge.length)throw new Rt(wt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let Ft=0;Ft<Q.length;Ft++){const Yt=Q[Ft];if(Ge[Ft].field.isKeyField()){if("string"!=typeof Yt)throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Yt}`);if(!_l(f)&&-1!==Yt.indexOf("/"))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Yt}' contains a slash.`);const Hn=f.path.child(Dr.fromString(Yt));if(!pn.isDocumentKey(Hn))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Hn}' is not because it contains an odd number of segments.`);const lr=new pn(Hn);St.push(Ro(E,lr))}else{const Hn=ag(A,j,Yt);St.push(Hn)}}return new na(St,me)}(i._query,i.firestore._databaseId,l,e,n,o)}}function mg(i,e,n){if("string"==typeof(n=(0,W.m9)(n))){if(""===n)throw new Rt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(e)&&-1!==n.indexOf("/"))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Dr.fromString(n));if(!pn.isDocumentKey(o))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ro(i,new pn(o))}if(n instanceof Ss)return Ro(i,n._key);throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function yg(i,e){if(!Array.isArray(i)||0===i.length)throw new Rt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Rt(wt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wf(i,e,n){if(!n.isEqual(e))throw new Rt(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const _g={maxAttempts:5};class If{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Mn()}}convertObject(e,n){const o={};return Xi(e.fields,(l,f)=>{o[l]=this.convertValue(f,n)}),o}convertGeoPoint(e){return new sl(On(e.latitude),On(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Gs(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const n=an(e);return new hi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Dr.fromString(e);Wn(dc(o));const l=new ss(o.get(1),o.get(3)),f=new pn(o.popFirst(5));return l.isEqual(n)||Ii(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function ph(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Gm extends If{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,n)}}class vg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dl(e)}set(e,n,o){this._verifyNotCommitted();const l=vu(e,this._firestore),f=ph(l.converter,n,o),E=yu(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,o);return this._mutations.push(E.toMutation(l._key,lt.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const f=vu(e,this._firestore);let E;return E="string"==typeof(n=(0,W.m9)(n))||n instanceof ju?hf(this._dataReader,"WriteBatch.update",f._key,n,o,l):zu(this._dataReader,"WriteBatch.update",f._key,n),this._mutations.push(E.toMutation(f._key,lt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vu(e,this._firestore);return this._mutations=this._mutations.concat(new es(n._key,lt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vu(i,e){if((i=(0,W.m9)(i)).firestore!==e)throw new Rt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function zm(i){i=Jr(i,Ss);const e=Jr(i.firestore,As);return Yp(Ks(e),i._key).then(n=>Cf(e,i,n))}class qu extends If{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,n)}}function Km(i){i=Jr(i,Ss);const e=Jr(i.firestore,As),n=Ks(e),o=new qu(e);return function Oy(i,e){const n=new oi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(l,f,E){try{const A=yield function(j,Q){const me=mn(j);return me.persistence.runTransaction("read document","readonly",Ge=>me.localDocuments.getDocument(Ge,Q))}(l,f);A.isFoundDocument()?E.resolve(A):A.isNoDocument()?E.resolve(null):E.reject(new Rt(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const j=Qd(A,`Failed to get document '${f} from cache`);E.reject(j)}}),function(l,f,E){return o.apply(this,arguments)})(yield Kp(i),e,n);var o})),n.promise}(n,i._key).then(l=>new _u(e,o,i._key,l,new Zu(null!==l&&l.hasLocalMutations,!0),i.converter))}function iv(i){i=Jr(i,Ss);const e=Jr(i.firestore,As);return Yp(Ks(e),i._key,{source:"server"}).then(n=>Cf(e,i,n))}function Hy(i){i=Jr(i,Ho);const e=Jr(i.firestore,As),n=Ks(e),o=new qu(e);return vf(i._query),Jp(n,i._query).then(l=>new Oc(e,o,i,l))}function $y(i){i=Jr(i,Ho);const e=Jr(i.firestore,As),n=Ks(e),o=new qu(e);return function Qp(i,e){const n=new oi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(l,f,E){try{const A=yield no(l,f,!0),j=new ef(f,A.ji),Q=j.Ku(A.documents),me=j.applyChanges(Q,!1);E.resolve(me.snapshot)}catch(A){const j=Qd(A,`Failed to execute query '${f} against cache`);E.reject(j)}}),function(l,f,E){return o.apply(this,arguments)})(yield Kp(i),e,n);var o})),n.promise}(n,i._query).then(l=>new Oc(e,o,i,l))}function Zm(i){i=Jr(i,Ho);const e=Jr(i.firestore,As),n=Ks(e),o=new qu(e);return Jp(n,i._query,{source:"server"}).then(l=>new Oc(e,o,i,l))}function jy(i,e,n){i=Jr(i,Ss);const o=Jr(i.firestore,As),l=ph(i.converter,e,n);return _d(o,[yu(Dl(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,lt.none())])}function So(i,e,n,...o){i=Jr(i,Ss);const l=Jr(i.firestore,As),f=Dl(l);let E;return E="string"==typeof(e=(0,W.m9)(e))||e instanceof ju?hf(f,"updateDoc",i._key,e,n,o):zu(f,"updateDoc",i._key,e),_d(l,[E.toMutation(i._key,lt.exists(!0))])}function qm(i){return _d(Jr(i.firestore,As),[new es(i._key,lt.none())])}function Wy(i,e){const n=Jr(i.firestore,As),o=xm(i),l=ph(i.converter,e);return _d(n,[yu(Dl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,lt.exists(!1))]).then(()=>o)}function Gy(i,...e){var n,o,l;i=(0,W.m9)(i);let f={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||rg(e[E])||(f=e[E],E++);const A={includeMetadataChanges:f.includeMetadataChanges};if(rg(e[E])){const Ge=e[E];e[E]=null===(n=Ge.next)||void 0===n?void 0:n.bind(Ge),e[E+1]=null===(o=Ge.error)||void 0===o?void 0:o.bind(Ge),e[E+2]=null===(l=Ge.complete)||void 0===l?void 0:l.bind(Ge)}let j,Q,me;if(i instanceof Ss)Q=Jr(i.firestore,As),me=Gl(i._key.path),j={next:Ge=>{e[E]&&e[E](Cf(Q,i,Ge))},error:e[E+1],complete:e[E+2]};else{const Ge=Jr(i,Ho);Q=Jr(Ge.firestore,As),me=Ge._query;const St=new qu(Q);j={next:Ft=>{e[E]&&e[E](new Oc(Q,St,Ge,Ft))},error:e[E+1],complete:e[E+2]},vf(i._query)}return function(Ge,St,Ft,Yt){const Hn=new lf(Yt),lr=new Xh(St,Hn,Ft);return Ge.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return Jd(yield hd(Ge),lr)})),()=>{Hn.Tc(),Ge.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return hm(yield hd(Ge),lr)}))}}(Ks(Q),me,A,j)}function Ym(i,e){return function Q_(i,e){const n=new lf(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield hd(i),l=n,mn(o).Tu.add(l),void l.next();var o,l})),()=>{n.Tc(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield hd(i),l=n,void mn(o).Tu.delete(l);var o,l}))}}(Ks(i=Jr(i,As)),rg(e)?e:{next:e})}function _d(i,e){return function(n,o){const l=new oi;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function q_(i,e,n){return Xl.apply(this,arguments)}(yield sh(n),o,l)})),l.promise}(Ks(i),e)}function Cf(i,e,n){const o=n.docs.get(e._key),l=new qu(i);return new _u(i,l,e._key,o,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}class Qm extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Dl(e)}get(e){const n=vu(e,this._firestore),o=new Gm(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Mn();const f=l[0];if(f.isFoundDocument())return new hh(this._firestore,o,f.key,f,n.converter);if(f.isNoDocument())return new hh(this._firestore,o,n._key,null,n.converter);throw Mn()})}set(e,n,o){const l=vu(e,this._firestore),f=ph(l.converter,n,o),E=yu(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,o);return this._transaction.set(l._key,E),this}update(e,n,o,...l){const f=vu(e,this._firestore);let E;return E="string"==typeof(n=(0,W.m9)(n))||n instanceof ju?hf(this._dataReader,"Transaction.update",f._key,n,o,l):zu(this._dataReader,"Transaction.update",f._key,n),this._transaction.update(f._key,E),this}delete(e){const n=vu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vu(e,this._firestore),o=new qu(this._firestore);return super.get(e).then(l=>new _u(this._firestore,o,n._key,l._document,new Zu(!1,!1),n.converter))}}function vd(i,e,n){i=Jr(i,As);const o=Object.assign(Object.assign({},_g),n);return function(l){if(l.maxAttempts<1)throw new Rt(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function J_(i,e,n){const o=new oi;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const l=yield(f=i,zp(f).then(E=>E.datastore));var f;new My(i.asyncQueue,l,n,e,o).run()})),o.promise}(Ks(i),l=>e(new Qm(i,l)),o)}function zy(){return new nu("deleteField")}function Ky(){return new Gu("serverTimestamp")}function Jm(...i){return new gd("arrayUnion",i)}function Zy(...i){return new md("arrayRemove",i)}function Xm(i){return new yd("increment",i)}!function(i,e=!0){$s=u.SDK_VERSION,(0,u._registerComponent)(new k.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),f=new As(l,new Ml(n.getProvider("auth-internal")),new Qs(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,u.registerVersion)(dl,"3.4.13",i),(0,u.registerVersion)(dl,"3.4.13","esm2017")}()},6961:(Gt,Ze,M)=>{M.d(Ze,{$Y:()=>jr,B0:()=>jo,FN:()=>ni,IX:()=>Ye,Jt:()=>Bi,UJ:()=>tn,Ym:()=>_s,a1:()=>ws,aF:()=>zi,bm:()=>Ln,cF:()=>bs,g6:()=>Es,gE:()=>Be,gH:()=>he,iH:()=>vs,oq:()=>Bs,pb:()=>qi,qm:()=>Nn,sd:()=>cs,y4:()=>dt});var c=M(5861),u=M(9681),k=M(2090),fe=M(4859);const W="firebasestorage.googleapis.com",J="storageBucket";class se extends k.ZR{constructor(q,we){super(G(q),`Firebase Storage: ${we} (${G(q)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,se.prototype)}_codeEquals(q){return G(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function G(te){return"storage/"+te}function ee(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function ke(){return new se("canceled","User canceled the upload/download.")}function de(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function he(te){return new se("invalid-argument",te)}function ze(){return new se("app-deleted","The Firebase app was deleted.")}function dt(te){return new se("invalid-root-operation","The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $e(te,q){return new se("invalid-format","String does not match format '"+te+"': "+q)}function et(te){throw new se("internal-error","Internal error: "+te)}class Be{constructor(q,we){this.bucket=q,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,we){let Ue;try{Ue=Be.makeFromUrl(q,we)}catch{return new Be(q,"")}if(""===Ue.path)return Ue;throw function Ht(te){return new se("invalid-default-bucket","Invalid default bucket '"+te+"'.")}(q)}static makeFromUrl(q,we){let Ue=null;const ut="([A-Za-z0-9.\\-_]+)",_n=new RegExp("^gs://"+ut+"(/(.*))?$","i");function Bn(st){st.path_=decodeURIComponent(st.path)}const gr=we.replace(/[.]/g,"\\."),vt=[{regex:_n,indices:{bucket:1,path:3},postModify:function _t(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gr}/v[A-Za-z0-9_]+/b/${ut}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Bn},{regex:new RegExp(`^https?://${we===W?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${ut}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Bn}];for(let st=0;st<vt.length;st++){const dn=vt[st],Yn=dn.regex.exec(q);if(Yn){let Lr=Yn[dn.indices.path];Lr||(Lr=""),Ue=new Be(Yn[dn.indices.bucket],Lr),dn.postModify(Ue);break}}if(null==Ue)throw function Pe(te){return new se("invalid-url","Invalid URL '"+te+"'.")}(q);return Ue}}class pt{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function Ce(te){return"string"==typeof te||te instanceof String}function rt(te){return xt()&&te instanceof Blob}function xt(){return typeof Blob<"u"}function Wt(te,q,we,Ue){if(Ue<q)throw he(`Invalid value for '${te}'. Expected ${q} or greater.`);if(Ue>we)throw he(`Invalid value for '${te}'. Expected ${we} or less.`)}function cn(te,q,we){let Ue=q;return null==we&&(Ue=`https://${q}`),`${we}://${Ue}/v0${te}`}function hn(te){const q=encodeURIComponent;let we="?";for(const Ue in te)te.hasOwnProperty(Ue)&&(we=we+(q(Ue)+"=")+q(te[Ue])+"&");return we=we.slice(0,-1),we}var wn=(()=>{return(te=wn||(wn={}))[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",wn;var te})();class Kn{constructor(q,we,Ue,ut,_t,ln,_n,vn,Bn,or,gr){this.url_=q,this.method_=we,this.headers_=Ue,this.body_=ut,this.successCodes_=_t,this.additionalRetryCodes_=ln,this.callback_=_n,this.errorCallback_=vn,this.timeout_=Bn,this.progressCallback_=or,this.connectionFactory_=gr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ei,kr)=>{this.resolve_=ei,this.reject_=kr,this.start_()})}start_(){const we=(Ue,ut)=>{const _t=this.resolve_,ln=this.reject_,_n=ut.connection;if(ut.wasSuccessCode)try{const vn=this.callback_(_n,_n.getResponse());!function kt(te){return void 0!==te}(vn)?_t():_t(vn)}catch(vn){ln(vn)}else if(null!==_n){const vn=ee();vn.serverResponse=_n.getErrorText(),ln(this.errorCallback_?this.errorCallback_(_n,vn):vn)}else ln(ut.canceled?this.appDelete_?ze():ke():function nt(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new Pr(!1,null,!0)):this.backoffId_=function it(te,q,we){let Ue=1,ut=null,_t=null,ln=!1,_n=0;function vn(){return 2===_n}let Bn=!1;function or(...U){Bn||(Bn=!0,q.apply(null,U))}function gr(U){ut=setTimeout(()=>{ut=null,te(kr,vn())},U)}function ei(){_t&&clearTimeout(_t)}function kr(U,...ce){if(Bn)return void ei();if(U)return ei(),void or.call(null,U,...ce);if(vn()||ln)return ei(),void or.call(null,U,...ce);let vt;Ue<64&&(Ue*=2),1===_n?(_n=2,vt=0):vt=1e3*(Ue+Math.random()),gr(vt)}let F=!1;function re(U){F||(F=!0,ei(),!Bn&&(null!==ut?(U||(_n=2),clearTimeout(ut),gr(0)):U||(_n=1)))}return gr(0),_t=setTimeout(()=>{ln=!0,re(!0)},we),re}((Ue,ut)=>{if(ut)return void Ue(!1,new Pr(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const ln=_n=>{null!==this.progressCallback_&&this.progressCallback_(_n.loaded,_n.lengthComputable?_n.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener(ln),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener(ln),this.pendingConnection_=null;const _n=_t.getErrorCode()===wn.NO_ERROR,vn=_t.getStatus();if(!_n||this.isRetryStatusCode_(vn)){const or=_t.getErrorCode()===wn.ABORT;return void Ue(!1,new Pr(!1,null,or))}const Bn=-1!==this.successCodes_.indexOf(vn);Ue(!0,new Pr(Bn,_t))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function Bt(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(q){const we=q>=500&&q<600,ut=-1!==[408,429].indexOf(q),_t=-1!==this.additionalRetryCodes_.indexOf(q);return we||ut||_t}}class Pr{constructor(q,we,Ue){this.wasSuccessCode=q,this.connection=we,this.canceled=!!Ue}}function cr(...te){const q=function nr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==q){const we=new q;for(let Ue=0;Ue<te.length;Ue++)we.append(te[Ue]);return we.getBlob()}if(xt())return new Blob(te);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bn{constructor(q,we){this.data=q,this.contentType=we||null}}function Nn(te,q){switch(te){case Ln.RAW:return new bn(Tr(q));case Ln.BASE64:case Ln.BASE64URL:return new bn(Qn(te,q));case Ln.DATA_URL:return new bn(function ui(te){const q=new Mr(te);return q.base64?Qn(Ln.BASE64,q.rest):function Kr(te){let q;try{q=decodeURIComponent(te)}catch{throw $e(Ln.DATA_URL,"Malformed data URL.")}return Tr(q)}(q.rest)}(q),function kn(te){return new Mr(te).contentType}(q))}throw ee()}function Tr(te){const q=[];for(let we=0;we<te.length;we++){let Ue=te.charCodeAt(we);Ue<=127?q.push(Ue):Ue<=2047?q.push(192|Ue>>6,128|63&Ue):55296==(64512&Ue)?we<te.length-1&&56320==(64512&te.charCodeAt(we+1))?(Ue=65536|(1023&Ue)<<10|1023&te.charCodeAt(++we),q.push(240|Ue>>18,128|Ue>>12&63,128|Ue>>6&63,128|63&Ue)):q.push(239,191,189):56320==(64512&Ue)?q.push(239,191,189):q.push(224|Ue>>12,128|Ue>>6&63,128|63&Ue)}return new Uint8Array(q)}function Qn(te,q){switch(te){case Ln.BASE64:{const ut=-1!==q.indexOf("-"),_t=-1!==q.indexOf("_");if(ut||_t)throw $e(te,"Invalid character '"+(ut?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const ut=-1!==q.indexOf("+"),_t=-1!==q.indexOf("/");if(ut||_t)throw $e(te,"Invalid character '"+(ut?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function Jn(te){return atob(te)}(q)}catch{throw $e(te,"Invalid character found")}const Ue=new Uint8Array(we.length);for(let ut=0;ut<we.length;ut++)Ue[ut]=we.charCodeAt(ut);return Ue}class Mr{constructor(q){this.base64=!1,this.contentType=null;const we=q.match(/^data:([^,]+)?,/);if(null===we)throw $e(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ue=we[1]||null;null!=Ue&&(this.base64=function Jt(te,q){return te.length>=q.length&&te.substring(te.length-q.length)===q}(Ue,";base64"),this.contentType=this.base64?Ue.substring(0,Ue.length-7):Ue),this.rest=q.substring(q.indexOf(",")+1)}}class tn{constructor(q,we){let Ue=0,ut="";rt(q)?(this.data_=q,Ue=q.size,ut=q.type):q instanceof ArrayBuffer?(we?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ue=this.data_.length):q instanceof Uint8Array&&(we?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ue=q.length),this.size_=Ue,this.type_=ut}size(){return this.size_}type(){return this.type_}slice(q,we){if(rt(this.data_)){const ut=function sn(te,q,we){return te.webkitSlice?te.webkitSlice(q,we):te.mozSlice?te.mozSlice(q,we):te.slice?te.slice(q,we):null}(this.data_,q,we);return null===ut?null:new tn(ut)}{const Ue=new Uint8Array(this.data_.buffer,q,we-q);return new tn(Ue,!0)}}static getBlob(...q){if(xt()){const we=q.map(Ue=>Ue instanceof tn?Ue.data_:Ue);return new tn(cr.apply(null,we))}{const we=q.map(ln=>Ce(ln)?Nn(Ln.RAW,ln).data:ln.data_);let Ue=0;we.forEach(ln=>{Ue+=ln.byteLength});const ut=new Uint8Array(Ue);let _t=0;return we.forEach(ln=>{for(let _n=0;_n<ln.length;_n++)ut[_t++]=ln[_n]}),new tn(ut,!0)}}uploadData(){return this.data_}}function zr(te){let q;try{q=JSON.parse(te)}catch{return null}return function Pt(te){return"object"==typeof te&&!Array.isArray(te)}(q)?q:null}function Rr(te){const q=te.lastIndexOf("/",te.length-2);return-1===q?te:te.slice(q+1)}function dr(te,q){return q}class Xt{constructor(q,we,Ue,ut){this.server=q,this.local=we||q,this.writable=!!Ue,this.xform=ut||dr}}let Gn=null;function Re(){if(Gn)return Gn;const te=[];te.push(new Xt("bucket")),te.push(new Xt("generation")),te.push(new Xt("metageneration")),te.push(new Xt("name","fullPath",!0));const we=new Xt("name");we.xform=function q(_t,ln){return function Wr(te){return!Ce(te)||te.length<2?te:Rr(te)}(ln)},te.push(we);const ut=new Xt("size");return ut.xform=function Ue(_t,ln){return void 0!==ln?Number(ln):ln},te.push(ut),te.push(new Xt("timeCreated")),te.push(new Xt("updated")),te.push(new Xt("md5Hash",null,!0)),te.push(new Xt("cacheControl",null,!0)),te.push(new Xt("contentDisposition",null,!0)),te.push(new Xt("contentEncoding",null,!0)),te.push(new Xt("contentLanguage",null,!0)),te.push(new Xt("contentType",null,!0)),te.push(new Xt("metadata","customMetadata",!0)),Gn=te,Gn}function V(te,q,we){const Ue=zr(q);return null===Ue?null:function le(te,q,we){const Ue={type:"file"},ut=we.length;for(let _t=0;_t<ut;_t++){const ln=we[_t];Ue[ln.local]=ln.xform(Ue,q[ln.server])}return function Le(te,q){Object.defineProperty(te,"ref",{get:function we(){const _t=new Be(te.bucket,te.fullPath);return q._makeStorageReference(_t)}})}(Ue,te),Ue}(te,Ue,we)}function Me(te,q){const we={},Ue=q.length;for(let ut=0;ut<Ue;ut++){const _t=q[ut];_t.writable&&(we[_t.server]=te[_t.local])}return JSON.stringify(we)}const at="prefixes";class Tn{constructor(q,we,Ue,ut){this.url=q,this.method=we,this.handler=Ue,this.timeout=ut,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qe(te){if(!te)throw ee()}function Te(te,q){return function we(Ue,ut){const _t=V(te,ut,q);return qe(null!==_t),_t}}function Vt(te){return function q(we,Ue){let ut;return ut=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function tt(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ae(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function Ke(te){return new se("quota-exceeded","Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===we.getStatus()?function Dt(te){return new se("unauthorized","User does not have permission to access '"+te+"'.")}(te.path):Ue,ut.serverResponse=Ue.serverResponse,ut}}function In(te){const q=Vt(te);return function we(Ue,ut){let _t=q(Ue,ut);return 404===Ue.getStatus()&&(_t=function pe(te){return new se("object-not-found","Object '"+te+"' does not exist.")}(te.path)),_t.serverResponse=ut.serverResponse,_t}}function Mt(te,q,we){const ut=cn(q.fullServerUrl(),te.host,te._protocol),ln=te.maxOperationRetryTime,_n=new Tn(ut,"GET",Te(te,we),ln);return _n.errorHandler=In(q),_n}function on(te,q,we,Ue,ut){const _t={};_t.prefix=q.isRoot?"":q.path+"/",we&&we.length>0&&(_t.delimiter=we),Ue&&(_t.pageToken=Ue),ut&&(_t.maxResults=ut);const _n=cn(q.bucketOnlyServerUrl(),te.host,te._protocol),Bn=te.maxOperationRetryTime,or=new Tn(_n,"GET",function Se(te,q){return function we(Ue,ut){const _t=function yn(te,q,we){const Ue=zr(we);return null===Ue?null:function xn(te,q,we){const Ue={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[at])for(const ut of we[at]){const _t=ut.replace(/\/$/,""),ln=te._makeStorageReference(new Be(q,_t));Ue.prefixes.push(ln)}if(we.items)for(const ut of we.items){const _t=te._makeStorageReference(new Be(q,ut.name));Ue.items.push(_t)}return Ue}(te,q,Ue)}(te,q,ut);return qe(null!==_t),_t}}(te,q.bucket),Bn);return or.urlParams=_t,or.errorHandler=Vt(q),or}function en(te,q,we){const Ue=Object.assign({},we);return Ue.fullPath=te.path,Ue.size=q.size(),Ue.contentType||(Ue.contentType=function Ot(te,q){return te&&te.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ue}class Un{constructor(q,we,Ue,ut){this.current=q,this.total=we,this.finalized=!!Ue,this.metadata=ut||null}}function Dn(te,q){let we=null;try{we=te.getResponseHeader("X-Goog-Upload-Status")}catch{qe(!1)}return qe(!!we&&-1!==(q||["active"]).indexOf(we)),we}const ni={STATE_CHANGED:"state_changed"},jr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Di(te){switch(te){case"running":case"pausing":case"canceling":return jr.RUNNING;case"paused":return jr.PAUSED;case"success":return jr.SUCCESS;case"canceled":return jr.CANCELED;default:return jr.ERROR}}class Xr{constructor(q,we,Ue){if(function gt(te){return"function"==typeof te}(q)||null!=we||null!=Ue)this.next=q,this.error=we??void 0,this.complete=Ue??void 0;else{const _t=q;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function ci(te){return(...q)=>{Promise.resolve().then(()=>te(...q))}}class ki extends class Nr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wn.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wn.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wn.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,we,Ue,ut){if(this.sent_)throw et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,q,!0),void 0!==ut)for(const _t in ut)ut.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,ut[_t].toString());return void 0!==Ue?this.xhr_.send(Ue):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}{initXhr(){this.xhr_.responseType="text"}}function Si(){return new ki}class Ye{constructor(q,we,Ue=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=q,this._blob=we,this._metadata=Ue,this._mappings=Re(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ut=>{this._request=void 0,this._chunkMultiplier=1,ut._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ut,this._transition("error"))},this._metadataErrorHandler=ut=>{this._request=void 0,ut._codeEquals("canceled")?this.completeTransitions_():(this._error=ut,this._transition("error"))},this._promise=new Promise((ut,_t)=>{this._resolve=ut,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const q=this._transferred;return we=>this._updateProgress(q+we)}_shouldDoResumable(q){return q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Ue])=>{switch(this._state){case"running":q(we,Ue);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((q,we)=>{const Ue=function $r(te,q,we,Ue,ut){const _t=q.bucketOnlyServerUrl(),ln=en(q,Ue,ut),_n={name:ln.fullPath},vn=cn(_t,te.host,te._protocol),or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ue.size()}`,"X-Goog-Upload-Header-Content-Type":ln.contentType,"Content-Type":"application/json; charset=utf-8"},gr=Me(ln,we),F=new Tn(vn,"POST",function kr(re){let U;Dn(re);try{U=re.getResponseHeader("X-Goog-Upload-URL")}catch{qe(!1)}return qe(Ce(U)),U},te.maxUploadRetryTime);return F.urlParams=_n,F.headers=or,F.body=gr,F.errorHandler=Vt(q),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ue,Si,q,we);this._request=ut,ut.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const q=this._uploadUrl;this._resolveToken((we,Ue)=>{const ut=function pi(te,q,we,Ue){const vn=new Tn(we,"POST",function _t(Bn){const or=Dn(Bn,["active","final"]);let gr=null;try{gr=Bn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qe(!1)}gr||qe(!1);const ei=Number(gr);return qe(!isNaN(ei)),new Un(ei,Ue.size(),"final"===or)},te.maxUploadRetryTime);return vn.headers={"X-Goog-Upload-Command":"query"},vn.errorHandler=Vt(q),vn}(this._ref.storage,this._ref._location,q,this._blob),_t=this._ref.storage._makeRequest(ut,Si,we,Ue);this._request=_t,_t.getPromise().then(ln=>{this._request=void 0,this._updateProgress(ln.current),this._needToFetchStatus=!1,ln.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const q=262144*this._chunkMultiplier,we=new Un(this._transferred,this._blob.size()),Ue=this._uploadUrl;this._resolveToken((ut,_t)=>{let ln;try{ln=function Gi(te,q,we,Ue,ut,_t,ln,_n){const vn=new Un(0,0);if(ln?(vn.current=ln.current,vn.total=ln.total):(vn.current=0,vn.total=Ue.size()),Ue.size()!==vn.total)throw function Qe(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Bn=vn.total-vn.current;let or=Bn;ut>0&&(or=Math.min(or,ut));const gr=vn.current,F={"X-Goog-Upload-Command":or===Bn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${vn.current}`},re=Ue.slice(gr,gr+or);if(null===re)throw de();const vt=new Tn(we,"POST",function U(st,dn){const Yn=Dn(st,["active","final"]),Gr=vn.current+or,Lr=Ue.size();let br;return br="final"===Yn?Te(q,_t)(st,dn):null,new Un(Gr,Lr,"final"===Yn,br)},q.maxUploadRetryTime);return vt.headers=F,vt.body=re.uploadData(),vt.progressCallback=_n||null,vt.errorHandler=Vt(te),vt}(this._ref._location,this._ref.storage,Ue,this._blob,q,this._mappings,we,this._makeProgressCallback())}catch(vn){return this._error=vn,void this._transition("error")}const _n=this._ref.storage._makeRequest(ln,Si,ut,_t);this._request=_n,_n.getPromise().then(vn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(vn.current),vn.finalized?(this._metadata=vn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((q,we)=>{const Ue=Mt(this._ref.storage,this._ref._location,this._mappings),ut=this._ref.storage._makeRequest(Ue,Si,q,we);this._request=ut,ut.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((q,we)=>{const Ue=function zn(te,q,we,Ue,ut){const _t=q.bucketOnlyServerUrl(),ln={"X-Goog-Upload-Protocol":"multipart"},vn=function _n(){let vt="";for(let st=0;st<2;st++)vt+=Math.random().toString().slice(2);return vt}();ln["Content-Type"]="multipart/related; boundary="+vn;const Bn=en(q,Ue,ut),or=Me(Bn,we),kr=tn.getBlob("--"+vn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+or+"\r\n--"+vn+"\r\nContent-Type: "+Bn.contentType+"\r\n\r\n",Ue,"\r\n--"+vn+"--");if(null===kr)throw de();const F={name:Bn.fullPath},re=cn(_t,te.host,te._protocol),ce=te.maxUploadRetryTime,He=new Tn(re,"POST",Te(te,we),ce);return He.urlParams=F,He.headers=ln,He.body=kr.uploadData(),He.errorHandler=Vt(q),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ue,Si,q,we);this._request=ut,ut.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(q){const we=this._transferred;this._transferred=q,this._transferred!==we&&this._notifyObservers()}_transition(q){if(this._state!==q)switch(q){case"canceling":case"pausing":this._state=q,void 0!==this._request&&this._request.cancel();break;case"running":const we="paused"===this._state;this._state=q,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=q,this._notifyObservers();break;case"canceled":this._error=ke(),this._state=q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const q=Di(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:q,metadata:this._metadata,task:this,ref:this._ref}}on(q,we,Ue,ut){const _t=new Xr(we||void 0,Ue||void 0,ut||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(q,we){return this._promise.then(q,we)}catch(q){return this.then(null,q)}_addObserver(q){this._observers.push(q),this._notifyObserver(q)}_removeObserver(q){const we=this._observers.indexOf(q);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let q=!0;switch(Di(this._state)){case jr.SUCCESS:ci(this._resolve.bind(null,this.snapshot))();break;case jr.CANCELED:case jr.ERROR:ci(this._reject.bind(null,this._error))();break;default:q=!1}q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(q){switch(Di(this._state)){case jr.RUNNING:case jr.PAUSED:q.next&&ci(q.next.bind(q,this.snapshot))();break;case jr.SUCCESS:q.complete&&ci(q.complete.bind(q))();break;default:q.error&&ci(q.error.bind(q,this._error))()}}resume(){const q="paused"===this._state||"pausing"===this._state;return q&&this._transition("running"),q}pause(){const q="running"===this._state;return q&&this._transition("pausing"),q}cancel(){const q="running"===this._state||"pausing"===this._state;return q&&this._transition("canceling"),q}}class je{constructor(q,we){this._service=q,this._location=we instanceof Be?we:Be.makeFromUrl(we,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,we){return new je(q,we)}get root(){const q=new Be(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rr(this._location.path)}get storage(){return this._service}get parent(){const q=function Hr(te){if(0===te.length)return null;const q=te.lastIndexOf("/");return-1===q?"":te.slice(0,q)}(this._location.path);if(null===q)return null;const we=new Be(this._location.bucket,q);return new je(this._service,we)}_throwIfRoot(q){if(""===this._location.path)throw dt(q)}}function We(te,q,we){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(te,q,we){const ut=yield zt(te,{pageToken:we});q.prefixes.push(...ut.prefixes),q.items.push(...ut.items),null!=ut.nextPageToken&&(yield We(te,q,ut.nextPageToken))})).apply(this,arguments)}function zt(te,q){null!=q&&"number"==typeof q.maxResults&&Wt("options.maxResults",1,1e3,q.maxResults);const we=q||{},Ue=on(te.storage,te._location,"/",we.pageToken,we.maxResults);return te.storage.makeRequestWithTokens(Ue,Si)}function Ir(te){te._throwIfRoot("getDownloadURL");const q=function Ne(te,q,we){const ut=cn(q.fullServerUrl(),te.host,te._protocol),ln=te.maxOperationRetryTime,_n=new Tn(ut,"GET",function Ct(te,q){return function we(Ue,ut){const _t=V(te,ut,q);return qe(null!==_t),function K(te,q,we,Ue){const ut=zr(q);if(null===ut||!Ce(ut.downloadTokens))return null;const _t=ut.downloadTokens;if(0===_t.length)return null;const ln=encodeURIComponent;return _t.split(",").map(Bn=>{const gr=te.fullPath;return cn("/b/"+ln(te.bucket)+"/o/"+ln(gr),we,Ue)+hn({alt:"media",token:Bn})})[0]}(_t,ut,te.host,te._protocol)}}(te,we),ln);return _n.errorHandler=In(q),_n}(te.storage,te._location,Re());return te.storage.makeRequestWithTokens(q,Si).then(we=>{if(null===we)throw function Ie(){return new se("no-download-url","The given file does not have any download URLs.")}();return we})}function bi(te,q){const we=function An(te,q){const we=q.split("/").filter(Ue=>Ue.length>0).join("/");return 0===te.length?we:te+"/"+we}(te._location.path,q),Ue=new Be(te._location.bucket,we);return new je(te.storage,Ue)}function Os(te,q){if(te instanceof ys){const we=te;if(null==we._bucket)throw function Xe(){return new se("no-default-bucket","No default bucket found. Did you set the '"+J+"' property when initializing the app?")}();const Ue=new je(we,we._bucket);return null!=q?Os(Ue,q):Ue}return void 0!==q?bi(te,q):te}function Ts(te,q){if(q&&function hr(te){return/^[A-Za-z]+:\/\//.test(te)}(q)){if(te instanceof ys)return function ai(te,q){return new je(te,q)}(te,q);throw he("To use ref(service, url), the first argument must be a Storage instance.")}return Os(te,q)}function xs(te,q){const we=q?.[J];return null==we?null:Be.makeFromBucketSpec(we,te)}class ys{constructor(q,we,Ue,ut,_t){this.app=q,this._authProvider=we,this._appCheckProvider=Ue,this._url=ut,this._firebaseVersion=_t,this._bucket=null,this._host=W,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ut?Be.makeFromBucketSpec(ut,this._host):xs(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?Be.makeFromBucketSpec(this._url,q):xs(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){Wt("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){Wt("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,c.Z)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const we=q._authProvider.getImmediate({optional:!0});if(we){const Ue=yield we.getToken();if(null!==Ue)return Ue.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,c.Z)(function*(){const we=q._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new je(this,q)}_makeRequest(q,we,Ue,ut){if(this._deleted)return new pt(ze());{const _t=function Ar(te,q,we,Ue,ut,_t){const ln=hn(te.urlParams),_n=te.url+ln,vn=Object.assign({},te.headers);return function ti(te,q){q&&(te["X-Firebase-GMPID"]=q)}(vn,q),function fr(te,q){null!==q&&q.length>0&&(te.Authorization="Firebase "+q)}(vn,we),function rn(te,q){te["X-Firebase-Storage-Version"]="webjs/"+(q??"AppManager")}(vn,_t),function jn(te,q){null!==q&&(te["X-Firebase-AppCheck"]=q)}(vn,Ue),new Kn(_n,te.method,vn,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,ut)}(q,this._appId,Ue,ut,we,this._firebaseVersion);return this._requests.add(_t),_t.getPromise().then(()=>this._requests.delete(_t),()=>this._requests.delete(_t)),_t}}makeRequestWithTokens(q,we){var Ue=this;return(0,c.Z)(function*(){const[ut,_t]=yield Promise.all([Ue._getAuthToken(),Ue._getAppCheckToken()]);return Ue._makeRequest(q,we,ut,_t).getPromise()})()}}const Us="@firebase/storage",Ps="storage";function jo(te,q,we){return function fn(te,q,we){return te._throwIfRoot("uploadBytesResumable"),new Ye(te,new tn(q),we)}(te=(0,k.m9)(te),q,we)}function cs(te){return function nn(te){te._throwIfRoot("getMetadata");const q=Mt(te.storage,te._location,Re());return te.storage.makeRequestWithTokens(q,Si)}(te=(0,k.m9)(te))}function _s(te,q){return function rr(te,q){te._throwIfRoot("updateMetadata");const we=function ve(te,q,we,Ue){const _t=cn(q.fullServerUrl(),te.host,te._protocol),_n=Me(we,Ue),Bn=te.maxOperationRetryTime,or=new Tn(_t,"PATCH",Te(te,Ue),Bn);return or.headers={"Content-Type":"application/json; charset=utf-8"},or.body=_n,or.errorHandler=In(q),or}(te.storage,te._location,q,Re());return te.storage.makeRequestWithTokens(we,Si)}(te=(0,k.m9)(te),q)}function qi(te,q){return zt(te=(0,k.m9)(te),q)}function zi(te){return function ct(te){const q={prefixes:[],items:[]};return We(te,q).then(()=>q)}(te=(0,k.m9)(te))}function Bi(te){return Ir(te=(0,k.m9)(te))}function Bs(te){return function pr(te){te._throwIfRoot("deleteObject");const q=function Ve(te,q){const Ue=cn(q.fullServerUrl(),te.host,te._protocol),_n=new Tn(Ue,"DELETE",function ln(vn,Bn){},te.maxOperationRetryTime);return _n.successCodes=[200,204],_n.errorHandler=In(q),_n}(te.storage,te._location);return te.storage.makeRequestWithTokens(q,Si)}(te=(0,k.m9)(te))}function vs(te,q){return Ts(te=(0,k.m9)(te),q)}function Es(te,q){return bi(te,q)}function bs(te=(0,u.getApp)(),q){return te=(0,k.m9)(te),(0,u._getProvider)(te,Ps).getImmediate({identifier:q})}function ws(te,q,we,Ue={}){!function Vs(te,q,we,Ue={}){te.host=`${q}:${we}`,te._protocol="http";const{mockUserToken:ut}=Ue;ut&&(te._overrideAuthToken="string"==typeof ut?ut:(0,k.Sg)(ut,te.app.options.projectId))}(te,q,we,Ue)}function Br(te,{instanceIdentifier:q}){const we=te.getProvider("app").getImmediate(),Ue=te.getProvider("auth-internal"),ut=te.getProvider("app-check-internal");return new ys(we,Ue,ut,q,u.SDK_VERSION)}!function si(){(0,u._registerComponent)(new fe.wA(Ps,Br,"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(Us,"0.9.9",""),(0,u.registerVersion)(Us,"0.9.9","esm2017")}()},2090:(Gt,Ze,M)=>{M.d(Ze,{$s:()=>dr,BH:()=>Ke,G6:()=>he,L:()=>Y,LL:()=>it,Mn:()=>Qe,Sg:()=>Ae,UG:()=>nt,US:()=>J,ZB:()=>ee,ZR:()=>pt,b$:()=>Ht,d:()=>Xe,eu:()=>dt,hl:()=>ze,jU:()=>ke,m9:()=>Wr,ne:()=>sn,pd:()=>nr,r3:()=>hn,ru:()=>Pe,tV:()=>se,uI:()=>Dt,vZ:()=>fr,w1:()=>de,xO:()=>jn,xb:()=>Kn,z$:()=>tt,zI:()=>$e,zd:()=>Ar});const fe=function(Re){const Le=[];let le=0;for(let V=0;V<Re.length;V++){let K=Re.charCodeAt(V);K<128?Le[le++]=K:K<2048?(Le[le++]=K>>6|192,Le[le++]=63&K|128):55296==(64512&K)&&V+1<Re.length&&56320==(64512&Re.charCodeAt(V+1))?(K=65536+((1023&K)<<10)+(1023&Re.charCodeAt(++V)),Le[le++]=K>>18|240,Le[le++]=K>>12&63|128,Le[le++]=K>>6&63|128,Le[le++]=63&K|128):(Le[le++]=K>>12|224,Le[le++]=K>>6&63|128,Le[le++]=63&K|128)}return Le},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,Le){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=Le?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let K=0;K<Re.length;K+=3){const Me=Re[K],at=K+1<Re.length,Zt=at?Re[K+1]:0,xn=K+2<Re.length,yn=xn?Re[K+2]:0;let Te=(15&Zt)<<2|yn>>6,Se=63&yn;xn||(Se=64,at||(Te=64)),V.push(le[Me>>2],le[(3&Me)<<4|Zt>>4],le[Te],le[Se])}return V.join("")},encodeString(Re,Le){return this.HAS_NATIVE_SUPPORT&&!Le?btoa(Re):this.encodeByteArray(fe(Re),Le)},decodeString(Re,Le){return this.HAS_NATIVE_SUPPORT&&!Le?atob(Re):function(Re){const Le=[];let le=0,V=0;for(;le<Re.length;){const K=Re[le++];if(K<128)Le[V++]=String.fromCharCode(K);else if(K>191&&K<224){const Me=Re[le++];Le[V++]=String.fromCharCode((31&K)<<6|63&Me)}else if(K>239&&K<365){const xn=((7&K)<<18|(63&Re[le++])<<12|(63&Re[le++])<<6|63&Re[le++])-65536;Le[V++]=String.fromCharCode(55296+(xn>>10)),Le[V++]=String.fromCharCode(56320+(1023&xn))}else{const Me=Re[le++],at=Re[le++];Le[V++]=String.fromCharCode((15&K)<<12|(63&Me)<<6|63&at)}}return Le.join("")}(this.decodeStringToByteArray(Re,Le))},decodeStringToByteArray(Re,Le){this.init_();const le=Le?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let K=0;K<Re.length;){const Me=le[Re.charAt(K++)],Zt=K<Re.length?le[Re.charAt(K)]:0;++K;const yn=K<Re.length?le[Re.charAt(K)]:64;++K;const qe=K<Re.length?le[Re.charAt(K)]:64;if(++K,null==Me||null==Zt||null==yn||null==qe)throw Error();V.push(Me<<2|Zt>>4),64!==yn&&(V.push(Zt<<4&240|yn>>2),64!==qe&&V.push(yn<<6&192|qe))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}},Y=function(Re){return function(Re){const Le=fe(Re);return J.encodeByteArray(Le,!0)}(Re).replace(/\./g,"")},se=function(Re){try{return J.decodeString(Re,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};function ee(Re,Le){if(!(Le instanceof Object))return Le;switch(Le.constructor){case Date:return new Date(Le.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return Le}for(const le in Le)!Le.hasOwnProperty(le)||!pe(le)||(Re[le]=ee(Re[le],Le[le]));return Re}function pe(Re){return"__proto__"!==Re}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Le,le)=>{this.resolve=Le,this.reject=le})}wrapCallback(Le){return(le,V)=>{le?this.reject(le):this.resolve(V),"function"==typeof Le&&(this.promise.catch(()=>{}),1===Le.length?Le(le):Le(le,V))}}}function Ae(Re,Le){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=Le||"demo-project",K=Re.iat||0,Me=Re.sub||Re.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:K,exp:K+3600,auth_time:K,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(at)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function nt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ke(){return"object"==typeof self&&self.self===self}function Pe(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return tt().indexOf("Electron/")>=0}function de(){const Re=tt();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Qe(){return tt().indexOf("MSAppHost/")>=0}function he(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function dt(){return new Promise((Re,Le)=>{try{let le=!0;const V="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(V);K.onsuccess=()=>{K.result.close(),le||self.indexedDB.deleteDatabase(V),Re(!0)},K.onupgradeneeded=()=>{le=!1},K.onerror=()=>{var Me;Le((null===(Me=K.error)||void 0===Me?void 0:Me.message)||"")}}catch(le){Le(le)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(Le,le,V){super(le),this.code=Le,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(Le,le,V){this.service=Le,this.serviceName=le,this.errors=V}create(Le,...le){const V=le[0]||{},K=`${this.service}/${Le}`,Me=this.errors[Le],at=Me?function Bt(Re,Le){return Re.replace(kt,(le,V)=>{const K=Le[V];return null!=K?String(K):`<${V}?>`})}(Me,V):"Error";return new pt(K,`${this.serviceName}: ${at} (${K}).`,V)}}const kt=/\{\$([^}]+)}/g;function hn(Re,Le){return Object.prototype.hasOwnProperty.call(Re,Le)}function Kn(Re){for(const Le in Re)if(Object.prototype.hasOwnProperty.call(Re,Le))return!1;return!0}function fr(Re,Le){if(Re===Le)return!0;const le=Object.keys(Re),V=Object.keys(Le);for(const K of le){if(!V.includes(K))return!1;const Me=Re[K],at=Le[K];if(rn(Me)&&rn(at)){if(!fr(Me,at))return!1}else if(Me!==at)return!1}for(const K of V)if(!le.includes(K))return!1;return!0}function rn(Re){return null!==Re&&"object"==typeof Re}function jn(Re){const Le=[];for(const[le,V]of Object.entries(Re))Array.isArray(V)?V.forEach(K=>{Le.push(encodeURIComponent(le)+"="+encodeURIComponent(K))}):Le.push(encodeURIComponent(le)+"="+encodeURIComponent(V));return Le.length?"&"+Le.join("&"):""}function Ar(Re){const Le={};return Re.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[K,Me]=V.split("=");Le[decodeURIComponent(K)]=decodeURIComponent(Me)}}),Le}function nr(Re){const Le=Re.indexOf("?");if(!Le)return"";const le=Re.indexOf("#",Le);return Re.substring(Le,le>0?le:void 0)}function sn(Re,Le){const le=new Jn(Re,Le);return le.subscribe.bind(le)}class Jn{constructor(Le,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{Le(this)}).catch(V=>{this.error(V)})}next(Le){this.forEachObserver(le=>{le.next(Le)})}error(Le){this.forEachObserver(le=>{le.error(Le)}),this.close(Le)}complete(){this.forEachObserver(Le=>{Le.complete()}),this.close()}subscribe(Le,le,V){let K;if(void 0===Le&&void 0===le&&void 0===V)throw new Error("Missing Observer.");K=function bn(Re,Le){if("object"!=typeof Re||null===Re)return!1;for(const le of Le)if(le in Re&&"function"==typeof Re[le])return!0;return!1}(Le,["next","error","complete"])?Le:{next:Le,error:le,complete:V},void 0===K.next&&(K.next=Nn),void 0===K.error&&(K.error=Nn),void 0===K.complete&&(K.complete=Nn);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Me}unsubscribeOne(Le){void 0===this.observers||void 0===this.observers[Le]||(delete this.observers[Le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Le){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,Le)}sendOne(Le,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Le])try{le(this.observers[Le])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(Le){this.finalized||(this.finalized=!0,void 0!==Le&&(this.finalError=Le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}function dr(Re,Le=1e3,le=2){const V=Le*Math.pow(le,Re),K=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+K)}function Wr(Re){return Re&&Re._delegate?Re._delegate:Re}},5225:(Gt,Ze,M)=>{M.d(Ze,{D:()=>c});var c=(()=>{return(u=c||(c={})).Cat="Cat",u.Dog="Dog",u.Bird="Bird",u.Fish="Fish",c;var u})()},6981:(Gt,Ze,M)=>{M.d(Ze,{H:()=>u,P:()=>c});var c=(()=>{return(k=c||(c={})).Supplies="Supplies",k.Accessories="Accessories",k.Toys="Toys",k.Litter="Litter",k.Grooming="Grooming",c;var k})(),u=(()=>{return(k=u||(u={})).Josera="Josera",k.RoyalCanin="Royal Canin",k.Belcando="Belcando",k.OmniGuard="Omni Guard",k.Bewi="Bewi",k.PetMatter="Pet Matters",k.Nunbell="Nunbell",k.Alpha="Alpha",k.Perfecto="Perfecto",k.Quiko="Quiko",k.Georplast="Georplast",k.GiGwi="GiGwi",k.Ariika="Ariika",k.PetsRepublic="Pets Republic",k.WonderCat="Wonder Cat",k.RoseFishFood="Rose Fish Food",u;var k})()},7556:(Gt,Ze,M)=>{M.d(Ze,{e:()=>W});var c=M(4004),u=M(4650),k=M(1205),fe=M(6185);let W=(()=>{class X{constructor(se,G){this._fireAuth=se,this._fireStore=G}register(se,G){return this._fireAuth.createUserWithEmailAndPassword(se,G)}saveUserToFireStore(se){return this._fireStore.collection(J.Users).doc(se.id).set(se)}removeUserFromFireStore(se){return this._fireStore.collection(J.Users).doc(se).delete()}removeUser(){return this._fireAuth.currentUser.then(se=>se?.delete())}changePassword(se){return this._fireAuth.sendPasswordResetEmail(se)}fetchUserProfile(se){return this._fireStore.collection(J.Users).doc(se).snapshotChanges().pipe((0,c.U)(G=>G.payload.data()))}login(se,G){return this._fireAuth.signInWithEmailAndPassword(se,G)}logout(){return new Promise((se,G)=>{this._fireAuth.signOut().then(ee=>se(ee),ee=>G(ee))})}createUserWishlist(se){let ee={[-999]:{id:"-999"}};return this._fireStore.collection(J.Wishlist).doc(se).set(ee)}createUserCart(se){let ee={[-999]:{id:"-999"}};return this._fireStore.collection(J.Cart).doc(se).set(ee)}}return X.\u0275fac=function(se){return new(se||X)(u.LFG(k.zQ),u.LFG(fe.ST))},X.\u0275prov=u.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();var J=(()=>{return(X=J||(J={})).Users="/Users",X.Store="/Store",X.Blog="/Blog",X.Wishlist="/Wishlist",X.Cart="/Cart",J;var X})()},4382:(Gt,Ze,M)=>{M.d(Ze,{k:()=>W});var c=M(4650),u=M(1205),k=M(6185),fe=M(6897);let W=(()=>{class X{constructor(se,G,ee){this.fireAuth=se,this.afs=G,this.store=ee}fetchAllStoreItems(){return this.afs.collection(J.Store).snapshotChanges()}fetchAllBlog(){return this.afs.collection(J.Blog).snapshotChanges()}addReviewToProductItem(se){return this.afs.collection(J.Store).doc(se.id).update({reviews:se.reviews})}fetchBlogPosts(){return this.afs.collection(J.Blog).snapshotChanges()}addAnimal(se){return this.afs.collection(J.Pets).doc(se.id).set(se)}generateID(){return this.afs.createId()}fetchAllAnimals(){return this.afs.collection(J.Pets).snapshotChanges()}fetchAllWishlistItems(se){return this.afs.collection(J.Wishlist).doc(se).snapshotChanges()}addToWishlist(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Wishlist).doc(se).update(ee)}removeFromWishlist(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Wishlist).doc(se).set(ee)}fetchUserCart(se){return this.afs.collection(J.Cart).doc(se).snapshotChanges()}addToCart(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Cart).doc(se).update(ee)}removeFromCart(se,G){const ee={};for(const pe of G)ee[pe.id]=pe;return this.afs.collection(J.Cart).doc(se).set(ee)}}return X.\u0275fac=function(se){return new(se||X)(c.LFG(u.zQ),c.LFG(k.ST),c.LFG(fe.yh))},X.\u0275prov=c.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();var J=(()=>{return(X=J||(J={})).Users="/Users",X.Store="/Store",X.Blog="/Blog",X.Wishlist="/Wishlist",X.Cart="/Cart",X.Pets="/Pets",J;var X})()},4458:(Gt,Ze,M)=>{M.d(Ze,{AW:()=>J,GC:()=>fe,Mw:()=>Y,N_:()=>k,Ut:()=>X,Wl:()=>pe,Xq:()=>G,_M:()=>se,h2:()=>ee,qG:()=>Ke,s3:()=>W,s9:()=>Ae,sL:()=>u});var c=M(6897);const u=(0,c.PH)("FILL_PRODUCTS",(0,c.Ky)()),k=(0,c.PH)("ADD_REVIEW",(0,c.Ky)()),fe=(0,c.PH)("RESET_PRODUCTS"),W=(0,c.PH)("ADD_TO_WISHLIST",(0,c.Ky)()),J=(0,c.PH)("REMOVE_FROM_WISHLIST",(0,c.Ky)()),X=(0,c.PH)("FILL_WISHLIST",(0,c.Ky)()),Y=(0,c.PH)("RESET_WISH_LIST"),se=(0,c.PH)("FILL_CART",(0,c.Ky)()),G=(0,c.PH)("ADD_TO_CART",(0,c.Ky)()),ee=(0,c.PH)("REMOVE_FROM_CART",(0,c.Ky)()),pe=(0,c.PH)("INCREMENT_CART_ITEM",(0,c.Ky)()),Ke=(0,c.PH)("DECREMENT_CART_ITEM",(0,c.Ky)()),Ae=(0,c.PH)("RESET_CART")},4932:(Gt,Ze,M)=>{var c=M(1481),u=M(4650),k=M(7340);function W(v){return new u.vHH(3e3,!1)}function hn(){return typeof window<"u"&&typeof window.document<"u"}function wn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kn(v){switch(v.length){case 0:return new k.ZN;case 1:return v[0];default:return new k.ZE(v)}}function Pr(v,m,h,_,N=new Map,Z=new Map){const ye=[],Oe=[];let ft=-1,Nt=null;if(_.forEach(En=>{const Vn=En.get("offset"),Yr=Vn==ft,Qr=Yr&&Nt||new Map;En.forEach((_r,Ur)=>{let Ui=Ur,Ci=_r;if("offset"!==Ur)switch(Ui=m.normalizePropertyName(Ui,ye),Ci){case k.k1:Ci=N.get(Ur);break;case k.l3:Ci=Z.get(Ur);break;default:Ci=m.normalizeStyleValue(Ur,Ui,Ci,ye)}Qr.set(Ui,Ci)}),Yr||Oe.push(Qr),Nt=Qr,ft=Vn}),ye.length)throw function et(v){return new u.vHH(3502,!1)}();return Oe}function fr(v,m,h,_){switch(m){case"start":v.onStart(()=>_(h&&rn(h,"start",v)));break;case"done":v.onDone(()=>_(h&&rn(h,"done",v)));break;case"destroy":v.onDestroy(()=>_(h&&rn(h,"destroy",v)))}}function rn(v,m,h){const Z=ti(v.element,v.triggerName,v.fromState,v.toState,m||v.phaseName,h.totalTime??v.totalTime,!!h.disabled),ye=v._data;return null!=ye&&(Z._data=ye),Z}function ti(v,m,h,_,N="",Z=0,ye){return{element:v,triggerName:m,fromState:h,toState:_,phaseName:N,totalTime:Z,disabled:!!ye}}function jn(v,m,h){let _=v.get(m);return _||v.set(m,_=h),_}function Ar(v){const m=v.indexOf(":");return[v.substring(1,m),v.slice(m+1)]}let nr=(v,m)=>!1,cr=(v,m,h)=>[],sn=null;function Jn(v){const m=v.parentNode||v.host;return m===sn?null:m}(wn()||typeof Element<"u")&&(hn()?(sn=(()=>document.documentElement)(),nr=(v,m)=>{for(;m;){if(m===v)return!0;m=Jn(m)}return!1}):nr=(v,m)=>v.contains(m),cr=(v,m,h)=>{if(h)return Array.from(v.querySelectorAll(m));const _=v.querySelector(m);return _?[_]:[]});let Nn=null,Tr=!1;const ui=nr,kn=cr;let tn=(()=>{class v{validateStyleProperty(h){return function Kr(v){Nn||(Nn=function Mr(){return typeof document<"u"?document.body:null}()||{},Tr=!!Nn.style&&"WebkitAppearance"in Nn.style);let m=!0;return Nn.style&&!function bn(v){return"ebkit"==v.substring(1,6)}(v)&&(m=v in Nn.style,!m&&Tr&&(m="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in Nn.style)),m}(h)}matchesElement(h,_){return!1}containsElement(h,_){return ui(h,_)}getParentElement(h){return Jn(h)}query(h,_,N){return kn(h,_,N)}computeStyle(h,_,N){return N||""}animate(h,_,N,Z,ye,Oe=[],ft){return new k.ZN(N,Z)}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})(),zr=(()=>{class v{}return v.NOOP=new tn,v})();const dr="ng-enter",Xt="ng-leave",Gn="ng-trigger",Wr=".ng-trigger",Re="ng-animating",Le=".ng-animating";function le(v){if("number"==typeof v)return v;const m=v.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:V(parseFloat(m[1]),m[2])}function V(v,m){return"s"===m?1e3*v:v}function K(v,m,h){return v.hasOwnProperty("duration")?v:function Me(v,m,h){let N,Z=0,ye="";if("string"==typeof v){const Oe=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return m.push(W()),{duration:0,delay:0,easing:""};N=V(parseFloat(Oe[1]),Oe[2]);const ft=Oe[3];null!=ft&&(Z=V(parseFloat(ft),Oe[4]));const Nt=Oe[5];Nt&&(ye=Nt)}else N=v;if(!h){let Oe=!1,ft=m.length;N<0&&(m.push(function J(){return new u.vHH(3100,!1)}()),Oe=!0),Z<0&&(m.push(function X(){return new u.vHH(3101,!1)}()),Oe=!0),Oe&&m.splice(ft,0,W())}return{duration:N,delay:Z,easing:ye}}(v,m,h)}function at(v,m={}){return Object.keys(v).forEach(h=>{m[h]=v[h]}),m}function Zt(v){const m=new Map;return Object.keys(v).forEach(h=>{m.set(h,v[h])}),m}function Tn(v,m=new Map,h){if(h)for(let[_,N]of h)m.set(_,N);for(let[_,N]of v)m.set(_,N);return m}function qe(v,m,h){return h?m+":"+h+";":""}function Te(v){let m="";for(let h=0;h<v.style.length;h++){const _=v.style.item(h);m+=qe(0,_,v.style.getPropertyValue(_))}for(const h in v.style)v.style.hasOwnProperty(h)&&!h.startsWith("_")&&(m+=qe(0,Ot(h),v.style[h]));v.setAttribute("style",m)}function Se(v,m,h){v.style&&(m.forEach((_,N)=>{const Z=Ve(N);h&&!h.has(N)&&h.set(N,v.style[Z]),v.style[Z]=_}),wn()&&Te(v))}function Ct(v,m){v.style&&(m.forEach((h,_)=>{const N=Ve(_);v.style[N]=""}),wn()&&Te(v))}function Vt(v){return Array.isArray(v)?1==v.length?v[0]:(0,k.vP)(v):v}const Mt=new RegExp("{{\\s*(.+?)\\s*}}","g");function on(v){let m=[];if("string"==typeof v){let h;for(;h=Mt.exec(v);)m.push(h[1]);Mt.lastIndex=0}return m}function Fe(v,m,h){const _=v.toString(),N=_.replace(Mt,(Z,ye)=>{let Oe=m[ye];return null==Oe&&(h.push(function se(v){return new u.vHH(3003,!1)}()),Oe=""),Oe.toString()});return N==_?v:N}function Ne(v){const m=[];let h=v.next();for(;!h.done;)m.push(h.value),h=v.next();return m}const ve=/-+([a-z0-9])/g;function Ve(v){return v.replace(ve,(...m)=>m[1].toUpperCase())}function Ot(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Un(v,m,h){switch(m.type){case 7:return v.visitTrigger(m,h);case 0:return v.visitState(m,h);case 1:return v.visitTransition(m,h);case 2:return v.visitSequence(m,h);case 3:return v.visitGroup(m,h);case 4:return v.visitAnimate(m,h);case 5:return v.visitKeyframes(m,h);case 6:return v.visitStyle(m,h);case 8:return v.visitReference(m,h);case 9:return v.visitAnimateChild(m,h);case 10:return v.visitAnimateRef(m,h);case 11:return v.visitQuery(m,h);case 12:return v.visitStagger(m,h);default:throw function G(v){return new u.vHH(3004,!1)}()}}function Dn(v,m){return window.getComputedStyle(v)[m]}function ci(v,m){const h=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(_=>function gi(v,m,h){if(":"==v[0]){const ft=function Nr(v,m){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,_)=>parseFloat(_)>parseFloat(h);case":decrement":return(h,_)=>parseFloat(_)<parseFloat(h);default:return m.push(function he(v){return new u.vHH(3016,!1)}()),"* => *"}}(v,h);if("function"==typeof ft)return void m.push(ft);v=ft}const _=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return h.push(function Ie(v){return new u.vHH(3015,!1)}()),m;const N=_[1],Z=_[2],ye=_[3];m.push(Li(N,ye));"<"==Z[0]&&!("*"==N&&"*"==ye)&&m.push(Li(ye,N))}(_,h,m)):h.push(v),h}const ki=new Set(["true","1"]),Si=new Set(["false","0"]);function Li(v,m){const h=ki.has(v)||Si.has(v),_=ki.has(m)||Si.has(m);return(N,Z)=>{let ye="*"==v||v==N,Oe="*"==m||m==Z;return!ye&&h&&"boolean"==typeof N&&(ye=N?ki.has(v):Si.has(v)),!Oe&&_&&"boolean"==typeof Z&&(Oe=Z?ki.has(m):Si.has(m)),ye&&Oe}}const Ei=new RegExp("s*:selfs*,?","g");function xi(v,m,h,_){return new je(v).build(m,h,_)}class je{constructor(m){this._driver=m}build(m,h,_){const N=new jt(h);return this._resetContextStyleTimingState(N),Un(this,Vt(m),N)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,h){let _=h.queryCount=0,N=h.depCount=0;const Z=[],ye=[];return"@"==m.name.charAt(0)&&h.errors.push(function pe(){return new u.vHH(3006,!1)}()),m.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(h),0==Oe.type){const ft=Oe,Nt=ft.name;Nt.toString().split(/\s*,\s*/).forEach(En=>{ft.name=En,Z.push(this.visitState(ft,h))}),ft.name=Nt}else if(1==Oe.type){const ft=this.visitTransition(Oe,h);_+=ft.queryCount,N+=ft.depCount,ye.push(ft)}else h.errors.push(function Ke(){return new u.vHH(3007,!1)}())}),{type:7,name:m.name,states:Z,transitions:ye,queryCount:_,depCount:N,options:null}}visitState(m,h){const _=this.visitStyle(m.styles,h),N=m.options&&m.options.params||null;if(_.containsDynamicStyles){const Z=new Set,ye=N||{};_.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(ft=>{on(ft).forEach(Nt=>{ye.hasOwnProperty(Nt)||Z.add(Nt)})})}),Z.size&&(Ne(Z.values()),h.errors.push(function Ae(v,m){return new u.vHH(3008,!1)}()))}return{type:0,name:m.name,style:_,options:N?{params:N}:null}}visitTransition(m,h){h.queryCount=0,h.depCount=0;const _=Un(this,Vt(m.animation),h);return{type:1,matchers:ci(m.expr,h.errors),animation:_,queryCount:h.queryCount,depCount:h.depCount,options:ct(m.options)}}visitSequence(m,h){return{type:2,steps:m.steps.map(_=>Un(this,_,h)),options:ct(m.options)}}visitGroup(m,h){const _=h.currentTime;let N=0;const Z=m.steps.map(ye=>{h.currentTime=_;const Oe=Un(this,ye,h);return N=Math.max(N,h.currentTime),Oe});return h.currentTime=N,{type:3,steps:Z,options:ct(m.options)}}visitAnimate(m,h){const _=function _e(v,m){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return We(K(v,m).duration,0,"");const h=v;if(h.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=We(0,0,"");return Z.dynamic=!0,Z.strValue=h,Z}const N=K(h,m);return We(N.duration,N.delay,N.easing)}(m.timings,h.errors);h.currentAnimateTimings=_;let N,Z=m.styles?m.styles:(0,k.oB)({});if(5==Z.type)N=this.visitKeyframes(Z,h);else{let ye=m.styles,Oe=!1;if(!ye){Oe=!0;const Nt={};_.easing&&(Nt.easing=_.easing),ye=(0,k.oB)(Nt)}h.currentTime+=_.duration+_.delay;const ft=this.visitStyle(ye,h);ft.isEmptyStep=Oe,N=ft}return h.currentAnimateTimings=null,{type:4,timings:_,style:N,options:null}}visitStyle(m,h){const _=this._makeStyleAst(m,h);return this._validateStyleAst(_,h),_}_makeStyleAst(m,h){const _=[],N=Array.isArray(m.styles)?m.styles:[m.styles];for(let Oe of N)"string"==typeof Oe?Oe===k.l3?_.push(Oe):h.errors.push(new u.vHH(3002,!1)):_.push(Zt(Oe));let Z=!1,ye=null;return _.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(ye=Oe.get("easing"),Oe.delete("easing")),!Z))for(let ft of Oe.values())if(ft.toString().indexOf("{{")>=0){Z=!0;break}}),{type:6,styles:_,easing:ye,offset:m.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(m,h){const _=h.currentAnimateTimings;let N=h.currentTime,Z=h.currentTime;_&&Z>0&&(Z-=_.duration+_.delay),m.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((Oe,ft)=>{const Nt=h.collectedStyles.get(h.currentQuerySelector),En=Nt.get(ft);let Vn=!0;En&&(Z!=N&&Z>=En.startTime&&N<=En.endTime&&(h.errors.push(function nt(v,m,h,_,N){return new u.vHH(3010,!1)}()),Vn=!1),Z=En.startTime),Vn&&Nt.set(ft,{startTime:Z,endTime:N}),h.options&&function In(v,m,h){const _=m.params||{},N=on(v);N.length&&N.forEach(Z=>{_.hasOwnProperty(Z)||h.push(function Y(v){return new u.vHH(3001,!1)}())})}(Oe,h.options,h.errors)})})}visitKeyframes(m,h){const _={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function ke(){return new u.vHH(3011,!1)}()),_;let Z=0;const ye=[];let Oe=!1,ft=!1,Nt=0;const En=m.steps.map(Ci=>{const ls=this._makeStyleAst(Ci,h);let ho=null!=ls.offset?ls.offset:function fn(v){if("string"==typeof v)return null;let m=null;if(Array.isArray(v))v.forEach(h=>{if(h instanceof Map&&h.has("offset")){const _=h;m=parseFloat(_.get("offset")),_.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const h=v;m=parseFloat(h.get("offset")),h.delete("offset")}return m}(ls.styles),no=0;return null!=ho&&(Z++,no=ls.offset=ho),ft=ft||no<0||no>1,Oe=Oe||no<Nt,Nt=no,ye.push(no),ls});ft&&h.errors.push(function Pe(){return new u.vHH(3012,!1)}()),Oe&&h.errors.push(function Ht(){return new u.vHH(3200,!1)}());const Vn=m.steps.length;let Yr=0;Z>0&&Z<Vn?h.errors.push(function Xe(){return new u.vHH(3202,!1)}()):0==Z&&(Yr=1/(Vn-1));const Qr=Vn-1,_r=h.currentTime,Ur=h.currentAnimateTimings,Ui=Ur.duration;return En.forEach((Ci,ls)=>{const ho=Yr>0?ls==Qr?1:Yr*ls:ye[ls],no=ho*Ui;h.currentTime=_r+Ur.delay+no,Ur.duration=no,this._validateStyleAst(Ci,h),Ci.offset=ho,_.styles.push(Ci)}),_}visitReference(m,h){return{type:8,animation:Un(this,Vt(m.animation),h),options:ct(m.options)}}visitAnimateChild(m,h){return h.depCount++,{type:9,options:ct(m.options)}}visitAnimateRef(m,h){return{type:10,animation:this.visitReference(m.animation,h),options:ct(m.options)}}visitQuery(m,h){const _=h.currentQuerySelector,N=m.options||{};h.queryCount++,h.currentQuery=m;const[Z,ye]=function mt(v){const m=!!v.split(/\s*,\s*/).find(h=>":self"==h);return m&&(v=v.replace(Ei,"")),v=v.replace(/@\*/g,Wr).replace(/@\w+/g,h=>Wr+"-"+h.slice(1)).replace(/:animating/g,Le),[v,m]}(m.selector);h.currentQuerySelector=_.length?_+" "+Z:Z,jn(h.collectedStyles,h.currentQuerySelector,new Map);const Oe=Un(this,Vt(m.animation),h);return h.currentQuery=null,h.currentQuerySelector=_,{type:11,selector:Z,limit:N.limit||0,optional:!!N.optional,includeSelf:ye,animation:Oe,originalSelector:m.selector,options:ct(m.options)}}visitStagger(m,h){h.currentQuery||h.errors.push(function de(){return new u.vHH(3013,!1)}());const _="full"===m.timings?{duration:0,delay:0,easing:"full"}:K(m.timings,h.errors,!0);return{type:12,animation:Un(this,Vt(m.animation),h),timings:_,options:null}}}class jt{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ct(v){return v?(v=at(v)).params&&(v.params=function At(v){return v?at(v):null}(v.params)):v={},v}function We(v,m,h){return{duration:v,delay:m,easing:h}}function ht(v,m,h,_,N,Z,ye=null,Oe=!1){return{type:1,element:v,keyframes:m,preStyleProps:h,postStyleProps:_,duration:N,delay:Z,totalTime:N+Z,easing:ye,subTimeline:Oe}}class zt{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,h){let _=this._map.get(m);_||this._map.set(m,_=[]),_.push(...h)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Ir=new RegExp(":enter","g"),bi=new RegExp(":leave","g");function hr(v,m,h,_,N,Z=new Map,ye=new Map,Oe,ft,Nt=[]){return(new ai).buildKeyframes(v,m,h,_,N,Z,ye,Oe,ft,Nt)}class ai{buildKeyframes(m,h,_,N,Z,ye,Oe,ft,Nt,En=[]){Nt=Nt||new zt;const Vn=new Ts(m,h,Nt,N,Z,En,[]);Vn.options=ft;const Yr=ft.delay?le(ft.delay):0;Vn.currentTimeline.delayNextStep(Yr),Vn.currentTimeline.setStyles([ye],null,Vn.errors,ft),Un(this,_,Vn);const Qr=Vn.timelines.filter(_r=>_r.containsAnimation());if(Qr.length&&Oe.size){let _r;for(let Ur=Qr.length-1;Ur>=0;Ur--){const Ui=Qr[Ur];if(Ui.element===h){_r=Ui;break}}_r&&!_r.allowOnlyTimelineStyles()&&_r.setStyles([Oe],null,Vn.errors,ft)}return Qr.length?Qr.map(_r=>_r.buildKeyframes()):[ht(h,[],[],[],0,Yr,"",!1)]}visitTrigger(m,h){}visitState(m,h){}visitTransition(m,h){}visitAnimateChild(m,h){const _=h.subInstructions.get(h.element);if(_){const N=h.createSubContext(m.options),Z=h.currentTimeline.currentTime,ye=this._visitSubInstructions(_,N,N.options);Z!=ye&&h.transformIntoNewTimeline(ye)}h.previousNode=m}visitAnimateRef(m,h){const _=h.createSubContext(m.options);_.transformIntoNewTimeline(),this.visitReference(m.animation,_),h.transformIntoNewTimeline(_.currentTimeline.currentTime),h.previousNode=m}_visitSubInstructions(m,h,_){let Z=h.currentTimeline.currentTime;const ye=null!=_.duration?le(_.duration):null,Oe=null!=_.delay?le(_.delay):null;return 0!==ye&&m.forEach(ft=>{const Nt=h.appendInstructionToTimeline(ft,ye,Oe);Z=Math.max(Z,Nt.duration+Nt.delay)}),Z}visitReference(m,h){h.updateOptions(m.options,!0),Un(this,m.animation,h),h.previousNode=m}visitSequence(m,h){const _=h.subContextCount;let N=h;const Z=m.options;if(Z&&(Z.params||Z.delay)&&(N=h.createSubContext(Z),N.transformIntoNewTimeline(),null!=Z.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Os);const ye=le(Z.delay);N.delayNextStep(ye)}m.steps.length&&(m.steps.forEach(ye=>Un(this,ye,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>_&&N.transformIntoNewTimeline()),h.previousNode=m}visitGroup(m,h){const _=[];let N=h.currentTimeline.currentTime;const Z=m.options&&m.options.delay?le(m.options.delay):0;m.steps.forEach(ye=>{const Oe=h.createSubContext(m.options);Z&&Oe.delayNextStep(Z),Un(this,ye,Oe),N=Math.max(N,Oe.currentTimeline.currentTime),_.push(Oe.currentTimeline)}),_.forEach(ye=>h.currentTimeline.mergeTimelineCollectedStyles(ye)),h.transformIntoNewTimeline(N),h.previousNode=m}_visitTiming(m,h){if(m.dynamic){const _=m.strValue;return K(h.params?Fe(_,h.params,h.errors):_,h.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,h){const _=h.currentAnimateTimings=this._visitTiming(m.timings,h),N=h.currentTimeline;_.delay&&(h.incrementTime(_.delay),N.snapshotCurrentStyles());const Z=m.style;5==Z.type?this.visitKeyframes(Z,h):(h.incrementTime(_.duration),this.visitStyle(Z,h),N.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=m}visitStyle(m,h){const _=h.currentTimeline,N=h.currentAnimateTimings;!N&&_.hasCurrentStyleProperties()&&_.forwardFrame();const Z=N&&N.easing||m.easing;m.isEmptyStep?_.applyEmptyStep(Z):_.setStyles(m.styles,Z,h.errors,h.options),h.previousNode=m}visitKeyframes(m,h){const _=h.currentAnimateTimings,N=h.currentTimeline.duration,Z=_.duration,Oe=h.createSubContext().currentTimeline;Oe.easing=_.easing,m.styles.forEach(ft=>{Oe.forwardTime((ft.offset||0)*Z),Oe.setStyles(ft.styles,ft.easing,h.errors,h.options),Oe.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Oe),h.transformIntoNewTimeline(N+Z),h.previousNode=m}visitQuery(m,h){const _=h.currentTimeline.currentTime,N=m.options||{},Z=N.delay?le(N.delay):0;Z&&(6===h.previousNode.type||0==_&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Os);let ye=_;const Oe=h.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!N.optional,h.errors);h.currentQueryTotal=Oe.length;let ft=null;Oe.forEach((Nt,En)=>{h.currentQueryIndex=En;const Vn=h.createSubContext(m.options,Nt);Z&&Vn.delayNextStep(Z),Nt===h.element&&(ft=Vn.currentTimeline),Un(this,m.animation,Vn),Vn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,Vn.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(ye),ft&&(h.currentTimeline.mergeTimelineCollectedStyles(ft),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=m}visitStagger(m,h){const _=h.parentContext,N=h.currentTimeline,Z=m.timings,ye=Math.abs(Z.duration),Oe=ye*(h.currentQueryTotal-1);let ft=ye*h.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":ft=Oe-ft;break;case"full":ft=_.currentStaggerTime}const En=h.currentTimeline;ft&&En.delayNextStep(ft);const Vn=En.currentTime;Un(this,m.animation,h),h.previousNode=m,_.currentStaggerTime=N.currentTime-Vn+(N.startTime-_.currentTimeline.startTime)}}const Os={};class Ts{constructor(m,h,_,N,Z,ye,Oe,ft){this._driver=m,this.element=h,this.subInstructions=_,this._enterClassName=N,this._leaveClassName=Z,this.errors=ye,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ft||new xs(this._driver,h,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,h){if(!m)return;const _=m;let N=this.options;null!=_.duration&&(N.duration=le(_.duration)),null!=_.delay&&(N.delay=le(_.delay));const Z=_.params;if(Z){let ye=N.params;ye||(ye=this.options.params={}),Object.keys(Z).forEach(Oe=>{(!h||!ye.hasOwnProperty(Oe))&&(ye[Oe]=Fe(Z[Oe],ye,this.errors))})}}_copyOptions(){const m={};if(this.options){const h=this.options.params;if(h){const _=m.params={};Object.keys(h).forEach(N=>{_[N]=h[N]})}}return m}createSubContext(m=null,h,_){const N=h||this.element,Z=new Ts(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,_||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(m),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(m){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,h,_){const N={duration:h??m.duration,delay:this.currentTimeline.currentTime+(_??0)+m.delay,easing:""},Z=new Vs(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,N,m.stretchStartingKeyframe);return this.timelines.push(Z),N}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,h,_,N,Z,ye){let Oe=[];if(N&&Oe.push(this.element),m.length>0){m=(m=m.replace(Ir,"."+this._enterClassName)).replace(bi,"."+this._leaveClassName);let Nt=this._driver.query(this.element,m,1!=_);0!==_&&(Nt=_<0?Nt.slice(Nt.length+_,Nt.length):Nt.slice(0,_)),Oe.push(...Nt)}return!Z&&0==Oe.length&&ye.push(function Qe(v){return new u.vHH(3014,!1)}()),Oe}}class xs{constructor(m,h,_,N){this._driver=m,this.element=h,this.startTime=_,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+m),h&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,h){return this.applyStylesToKeyframe(),new xs(this._driver,m,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,h){this._localTimelineStyles.set(m,h),this._globalTimelineStyles.set(m,h),this._styleSummary.set(m,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[h,_]of this._globalTimelineStyles)this._backFill.set(h,_||k.l3),this._currentKeyframe.set(h,k.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,h,_,N){h&&this._previousKeyframe.set("easing",h);const Z=N&&N.params||{},ye=function Us(v,m){const h=new Map;let _;return v.forEach(N=>{if("*"===N){_=_||m.keys();for(let Z of _)h.set(Z,k.l3)}else Tn(N,h)}),h}(m,this._globalTimelineStyles);for(let[Oe,ft]of ye){const Nt=Fe(ft,Z,_);this._pendingStyles.set(Oe,Nt),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??k.l3),this._updateStyle(Oe,Nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,h)=>{this._currentKeyframe.set(h,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,m)}))}snapshotCurrentStyles(){for(let[m,h]of this._localTimelineStyles)this._pendingStyles.set(m,h),this._updateStyle(m,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let h in this._currentKeyframe)m.push(h);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((h,_)=>{const N=this._styleSummary.get(_);(!N||h.time>N.time)&&this._updateStyle(_,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,h=new Set,_=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((Oe,ft)=>{const Nt=Tn(Oe,new Map,this._backFill);Nt.forEach((En,Vn)=>{En===k.k1?m.add(Vn):En===k.l3&&h.add(Vn)}),_||Nt.set("offset",ft/this.duration),N.push(Nt)});const Z=m.size?Ne(m.values()):[],ye=h.size?Ne(h.values()):[];if(_){const Oe=N[0],ft=new Map(Oe);Oe.set("offset",0),ft.set("offset",1),N=[Oe,ft]}return ht(this.element,N,Z,ye,this.duration,this.startTime,this.easing,!1)}}class Vs extends xs{constructor(m,h,_,N,Z,ye,Oe=!1){super(m,h,ye.delay),this.keyframes=_,this.preStyleProps=N,this.postStyleProps=Z,this._stretchStartingKeyframe=Oe,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:h,duration:_,easing:N}=this.timings;if(this._stretchStartingKeyframe&&h){const Z=[],ye=_+h,Oe=h/ye,ft=Tn(m[0]);ft.set("offset",0),Z.push(ft);const Nt=Tn(m[0]);Nt.set("offset",ys(Oe)),Z.push(Nt);const En=m.length-1;for(let Vn=1;Vn<=En;Vn++){let Yr=Tn(m[Vn]);const Qr=Yr.get("offset");Yr.set("offset",ys((h+Qr*_)/ye)),Z.push(Yr)}_=ye,h=0,N="",m=Z}return ht(this.element,m,this.preStyleProps,this.postStyleProps,_,h,N,!0)}}function ys(v,m=3){const h=Math.pow(10,m-1);return Math.round(v*h)/h}class Ps{}const Ai=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mo extends Ps{normalizePropertyName(m,h){return Ve(m)}normalizeStyleValue(m,h,_,N){let Z="";const ye=_.toString().trim();if(Ai.has(h)&&0!==_&&"0"!==_)if("number"==typeof _)Z="px";else{const Oe=_.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&N.push(function ee(v,m){return new u.vHH(3005,!1)}())}return ye+Z}}function jo(v,m,h,_,N,Z,ye,Oe,ft,Nt,En,Vn,Yr){return{type:0,element:v,triggerName:m,isRemovalTransition:N,fromState:h,fromStyles:Z,toState:_,toStyles:ye,timelines:Oe,queriedElements:ft,preStyleProps:Nt,postStyleProps:En,totalTime:Vn,errors:Yr}}const cs={};class _s{constructor(m,h,_){this._triggerName=m,this.ast=h,this._stateStyles=_}match(m,h,_,N){return function zi(v,m,h,_,N){return v.some(Z=>Z(m,h,_,N))}(this.ast.matchers,m,h,_,N)}buildStyles(m,h,_){let N=this._stateStyles.get("*");return void 0!==m&&(N=this._stateStyles.get(m?.toString())||N),N?N.buildStyles(h,_):new Map}build(m,h,_,N,Z,ye,Oe,ft,Nt,En){const Vn=[],Yr=this.ast.options&&this.ast.options.params||cs,_r=this.buildStyles(_,Oe&&Oe.params||cs,Vn),Ur=ft&&ft.params||cs,Ui=this.buildStyles(N,Ur,Vn),Ci=new Set,ls=new Map,ho=new Map,no="void"===N,Ql={params:Bi(Ur,Yr),delay:this.ast.options?.delay},tl=En?[]:hr(m,h,this.ast.animation,Z,ye,_r,Ui,Ql,Nt,Vn);let To=0;if(tl.forEach(nl=>{To=Math.max(nl.duration+nl.delay,To)}),Vn.length)return jo(h,this._triggerName,_,N,no,_r,Ui,[],[],ls,ho,To,Vn);tl.forEach(nl=>{const ro=nl.element,rd=jn(ls,ro,new Set);nl.preStyleProps.forEach(Jl=>rd.add(Jl));const fu=jn(ho,ro,new Set);nl.postStyleProps.forEach(Jl=>fu.add(Jl)),ro!==h&&Ci.add(ro)});const Vl=Ne(Ci.values());return jo(h,this._triggerName,_,N,no,_r,Ui,tl,Vl,ls,ho,To)}}function Bi(v,m){const h=at(m);for(const _ in v)v.hasOwnProperty(_)&&null!=v[_]&&(h[_]=v[_]);return h}class Bs{constructor(m,h,_){this.styles=m,this.defaultParams=h,this.normalizer=_}buildStyles(m,h){const _=new Map,N=at(this.defaultParams);return Object.keys(m).forEach(Z=>{const ye=m[Z];null!==ye&&(N[Z]=ye)}),this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((ye,Oe)=>{ye&&(ye=Fe(ye,N,h));const ft=this.normalizer.normalizePropertyName(Oe,h);ye=this.normalizer.normalizeStyleValue(Oe,ft,ye,h),_.set(ft,ye)})}),_}}class Es{constructor(m,h,_){this.name=m,this.ast=h,this._normalizer=_,this.transitionFactories=[],this.states=new Map,h.states.forEach(N=>{this.states.set(N.name,new Bs(N.style,N.options&&N.options.params||{},_))}),ws(this.states,"true","1"),ws(this.states,"false","0"),h.transitions.forEach(N=>{this.transitionFactories.push(new _s(m,N,this.states))}),this.fallbackTransition=function bs(v,m,h){return new _s(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,Oe)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,h,_,N){return this.transitionFactories.find(ye=>ye.match(m,h,_,N))||null}matchStyles(m,h,_){return this.fallbackTransition.buildStyles(m,h,_)}}function ws(v,m,h){v.has(m)?v.has(h)||v.set(h,v.get(m)):v.has(h)&&v.set(m,v.get(h))}const Hs=new zt;class qs{constructor(m,h,_){this.bodyNode=m,this._driver=h,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,h){const _=[],Z=xi(this._driver,h,_,[]);if(_.length)throw function Be(v){return new u.vHH(3503,!1)}();this._animations.set(m,Z)}_buildPlayer(m,h,_){const N=m.element,Z=Pr(0,this._normalizer,0,m.keyframes,h,_);return this._driver.animate(N,Z,m.duration,m.delay,m.easing,[],!0)}create(m,h,_={}){const N=[],Z=this._animations.get(m);let ye;const Oe=new Map;if(Z?(ye=hr(this._driver,h,Z,dr,Xt,new Map,new Map,_,Hs,N),ye.forEach(En=>{const Vn=jn(Oe,En.element,new Map);En.postStyleProps.forEach(Yr=>Vn.set(Yr,null))})):(N.push(function pt(){return new u.vHH(3300,!1)}()),ye=[]),N.length)throw function it(v){return new u.vHH(3504,!1)}();Oe.forEach((En,Vn)=>{En.forEach((Yr,Qr)=>{En.set(Qr,this._driver.computeStyle(Vn,Qr,k.l3))})});const Nt=Kn(ye.map(En=>{const Vn=Oe.get(En.element);return this._buildPlayer(En,new Map,Vn)}));return this._playersById.set(m,Nt),Nt.onDestroy(()=>this.destroy(m)),this.players.push(Nt),Nt}destroy(m){const h=this._getPlayer(m);h.destroy(),this._playersById.delete(m);const _=this.players.indexOf(h);_>=0&&this.players.splice(_,1)}_getPlayer(m){const h=this._playersById.get(m);if(!h)throw function Bt(v){return new u.vHH(3301,!1)}();return h}listen(m,h,_,N){const Z=ti(h,"","","");return fr(this._getPlayer(m),_,Z,N),()=>{}}command(m,h,_,N){if("register"==_)return void this.register(m,N[0]);if("create"==_)return void this.create(m,h,N[0]||{});const Z=this._getPlayer(m);switch(_){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(m)}}}const Br="ng-animate-queued",te="ng-animate-disabled",ut=[],_t={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ln={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_n="__ng_removed";class vn{constructor(m,h=""){this.namespaceId=h;const _=m&&m.hasOwnProperty("value");if(this.value=function re(v){return v??null}(_?m.value:m),_){const Z=at(m);delete Z.value,this.options=Z}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const h=m.params;if(h){const _=this.options.params;Object.keys(h).forEach(N=>{null==_[N]&&(_[N]=h[N])})}}}const Bn="void",or=new vn(Bn);class gr{constructor(m,h,_){this.id=m,this.hostElement=h,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,dn(h,this._hostClassName)}listen(m,h,_,N){if(!this._triggers.has(h))throw function kt(v,m){return new u.vHH(3302,!1)}();if(null==_||0==_.length)throw function gt(v){return new u.vHH(3303,!1)}();if(!function ce(v){return"start"==v||"done"==v}(_))throw function Pt(v,m){return new u.vHH(3400,!1)}();const Z=jn(this._elementListeners,m,[]),ye={name:h,phase:_,callback:N};Z.push(ye);const Oe=jn(this._engine.statesByElement,m,new Map);return Oe.has(h)||(dn(m,Gn),dn(m,Gn+"-"+h),Oe.set(h,or)),()=>{this._engine.afterFlush(()=>{const ft=Z.indexOf(ye);ft>=0&&Z.splice(ft,1),this._triggers.has(h)||Oe.delete(h)})}}register(m,h){return!this._triggers.has(m)&&(this._triggers.set(m,h),!0)}_getTrigger(m){const h=this._triggers.get(m);if(!h)throw function Ce(v){return new u.vHH(3401,!1)}();return h}trigger(m,h,_,N=!0){const Z=this._getTrigger(h),ye=new kr(this.id,h,m);let Oe=this._engine.statesByElement.get(m);Oe||(dn(m,Gn),dn(m,Gn+"-"+h),this._engine.statesByElement.set(m,Oe=new Map));let ft=Oe.get(h);const Nt=new vn(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&ft&&Nt.absorbOptions(ft.options),Oe.set(h,Nt),ft||(ft=or),Nt.value!==Bn&&ft.value===Nt.value){if(!function yi(v,m){const h=Object.keys(v),_=Object.keys(m);if(h.length!=_.length)return!1;for(let N=0;N<h.length;N++){const Z=h[N];if(!m.hasOwnProperty(Z)||v[Z]!==m[Z])return!1}return!0}(ft.params,Nt.params)){const Ur=[],Ui=Z.matchStyles(ft.value,ft.params,Ur),Ci=Z.matchStyles(Nt.value,Nt.params,Ur);Ur.length?this._engine.reportError(Ur):this._engine.afterFlush(()=>{Ct(m,Ui),Se(m,Ci)})}return}const Yr=jn(this._engine.playersByElement,m,[]);Yr.forEach(Ur=>{Ur.namespaceId==this.id&&Ur.triggerName==h&&Ur.queued&&Ur.destroy()});let Qr=Z.matchTransition(ft.value,Nt.value,m,Nt.params),_r=!1;if(!Qr){if(!N)return;Qr=Z.fallbackTransition,_r=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:h,transition:Qr,fromState:ft,toState:Nt,player:ye,isFallbackTransition:_r}),_r||(dn(m,Br),ye.onStart(()=>{Yn(m,Br)})),ye.onDone(()=>{let Ur=this.players.indexOf(ye);Ur>=0&&this.players.splice(Ur,1);const Ui=this._engine.playersByElement.get(m);if(Ui){let Ci=Ui.indexOf(ye);Ci>=0&&Ui.splice(Ci,1)}}),this.players.push(ye),Yr.push(ye),ye}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(h=>h.delete(m)),this._elementListeners.forEach((h,_)=>{this._elementListeners.set(_,h.filter(N=>N.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const h=this._engine.playersByElement.get(m);h&&(h.forEach(_=>_.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,h){const _=this._engine.driver.query(m,Wr,!0);_.forEach(N=>{if(N[_n])return;const Z=this._engine.fetchNamespacesByElement(N);Z.size?Z.forEach(ye=>ye.triggerLeaveAnimation(N,h,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(m,h,_,N){const Z=this._engine.statesByElement.get(m),ye=new Map;if(Z){const Oe=[];if(Z.forEach((ft,Nt)=>{if(ye.set(Nt,ft.value),this._triggers.has(Nt)){const En=this.trigger(m,Nt,Bn,N);En&&Oe.push(En)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,m,!0,h,ye),_&&Kn(Oe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const h=this._elementListeners.get(m),_=this._engine.statesByElement.get(m);if(h&&_){const N=new Set;h.forEach(Z=>{const ye=Z.name;if(N.has(ye))return;N.add(ye);const ft=this._triggers.get(ye).fallbackTransition,Nt=_.get(ye)||or,En=new vn(Bn),Vn=new kr(this.id,ye,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:ye,transition:ft,fromState:Nt,toState:En,player:Vn,isFallbackTransition:!0})})}}removeNode(m,h){const _=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,h),this.triggerLeaveAnimation(m,h,!0))return;let N=!1;if(_.totalAnimations){const Z=_.players.length?_.playersByQueriedElement.get(m):[];if(Z&&Z.length)N=!0;else{let ye=m;for(;ye=ye.parentNode;)if(_.statesByElement.get(ye)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(m),N)_.markElementAsRemoved(this.id,m,!1,h);else{const Z=m[_n];(!Z||Z===_t)&&(_.afterFlush(()=>this.clearElementCache(m)),_.destroyInnerAnimations(m),_._onRemovalComplete(m,h))}}insertNode(m,h){dn(m,this._hostClassName)}drainQueuedTransitions(m){const h=[];return this._queue.forEach(_=>{const N=_.player;if(N.destroyed)return;const Z=_.element,ye=this._elementListeners.get(Z);ye&&ye.forEach(Oe=>{if(Oe.name==_.triggerName){const ft=ti(Z,_.triggerName,_.fromState.value,_.toState.value);ft._data=m,fr(_.player,Oe.phase,ft,Oe.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):h.push(_)}),this._queue=[],h.sort((_,N)=>{const Z=_.transition.ast.depCount,ye=N.transition.ast.depCount;return 0==Z||0==ye?Z-ye:this._engine.driver.containsElement(_.element,N.element)?1:-1})}destroy(m){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let h=!1;return this._elementListeners.has(m)&&(h=!0),h=!!this._queue.find(_=>_.element===m)||h,h}}class ei{constructor(m,h,_){this.bodyNode=m,this.driver=h,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,Z)=>{}}_onRemovalComplete(m,h){this.onRemovalComplete(m,h)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(h=>{h.players.forEach(_=>{_.queued&&m.push(_)})}),m}createNamespace(m,h){const _=new gr(m,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(_,h):(this.newHostElements.set(h,_),this.collectEnterElement(h)),this._namespaceLookup[m]=_}_balanceNamespaceList(m,h){const _=this._namespaceList,N=this.namespacesByHostElement;if(_.length-1>=0){let ye=!1,Oe=this.driver.getParentElement(h);for(;Oe;){const ft=N.get(Oe);if(ft){const Nt=_.indexOf(ft);_.splice(Nt+1,0,m),ye=!0;break}Oe=this.driver.getParentElement(Oe)}ye||_.unshift(m)}else _.push(m);return N.set(h,m),m}register(m,h){let _=this._namespaceLookup[m];return _||(_=this.createNamespace(m,h)),_}registerTrigger(m,h,_){let N=this._namespaceLookup[m];N&&N.register(h,_)&&this.totalAnimations++}destroy(m,h){if(!m)return;const _=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[m];const N=this._namespaceList.indexOf(_);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>_.destroy(h))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const h=new Set,_=this.statesByElement.get(m);if(_)for(let N of _.values())if(N.namespaceId){const Z=this._fetchNamespace(N.namespaceId);Z&&h.add(Z)}return h}trigger(m,h,_,N){if(U(h)){const Z=this._fetchNamespace(m);if(Z)return Z.trigger(h,_,N),!0}return!1}insertNode(m,h,_,N){if(!U(h))return;const Z=h[_n];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(h);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(m){const ye=this._fetchNamespace(m);ye&&ye.insertNode(h,_)}N&&this.collectEnterElement(h)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,h){h?this.disabledNodes.has(m)||(this.disabledNodes.add(m),dn(m,te)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Yn(m,te))}removeNode(m,h,_,N){if(U(h)){const Z=m?this._fetchNamespace(m):null;if(Z?Z.removeNode(h,N):this.markElementAsRemoved(m,h,!1,N),_){const ye=this.namespacesByHostElement.get(h);ye&&ye.id!==m&&ye.removeNode(h,N)}}else this._onRemovalComplete(h,N)}markElementAsRemoved(m,h,_,N,Z){this.collectedLeaveElements.push(h),h[_n]={namespaceId:m,setForRemoval:N,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(m,h,_,N,Z){return U(h)?this._fetchNamespace(m).listen(h,_,N,Z):()=>{}}_buildInstruction(m,h,_,N,Z){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,_,N,m.fromState.options,m.toState.options,h,Z)}destroyInnerAnimations(m){let h=this.driver.query(m,Wr,!0);h.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(m,Le,!0),h.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(m){const h=this.playersByElement.get(m);h&&h.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(m){const h=this.playersByQueriedElement.get(m);h&&h.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Kn(this.players).onDone(()=>m());m()})}processLeaveNode(m){const h=m[_n];if(h&&h.setForRemoval){if(m[_n]=_t,h.namespaceId){this.destroyInnerAnimations(m);const _=this._fetchNamespace(h.namespaceId);_&&_.clearElementCache(m)}this._onRemovalComplete(m,h.setForRemoval)}m.classList?.contains(te)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(m=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,N)=>this._balanceNamespaceList(_,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)dn(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{h=this._flushAnimations(_,m)}finally{for(let N=0;N<_.length;N++)_[N]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],h.length?Kn(h).onDone(()=>{_.forEach(N=>N())}):_.forEach(N=>N())}}reportError(m){throw function rt(v){return new u.vHH(3402,!1)}()}_flushAnimations(m,h){const _=new zt,N=[],Z=new Map,ye=[],Oe=new Map,ft=new Map,Nt=new Map,En=new Set;this.disabledNodes.forEach($n=>{En.add($n);const tr=this.driver.query($n,".ng-animate-queued",!0);for(let vr=0;vr<tr.length;vr++)En.add(tr[vr])});const Vn=this.bodyNode,Yr=Array.from(this.statesByElement.keys()),Qr=st(Yr,this.collectedEnterElements),_r=new Map;let Ur=0;Qr.forEach(($n,tr)=>{const vr=dr+Ur++;_r.set(tr,vr),$n.forEach(fi=>dn(fi,vr))});const Ui=[],Ci=new Set,ls=new Set;for(let $n=0;$n<this.collectedLeaveElements.length;$n++){const tr=this.collectedLeaveElements[$n],vr=tr[_n];vr&&vr.setForRemoval&&(Ui.push(tr),Ci.add(tr),vr.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(fi=>Ci.add(fi)):ls.add(tr))}const ho=new Map,no=st(Yr,Array.from(Ci));no.forEach(($n,tr)=>{const vr=Xt+Ur++;ho.set(tr,vr),$n.forEach(fi=>dn(fi,vr))}),m.push(()=>{Qr.forEach(($n,tr)=>{const vr=_r.get(tr);$n.forEach(fi=>Yn(fi,vr))}),no.forEach(($n,tr)=>{const vr=ho.get(tr);$n.forEach(fi=>Yn(fi,vr))}),Ui.forEach($n=>{this.processLeaveNode($n)})});const Ql=[],tl=[];for(let $n=this._namespaceList.length-1;$n>=0;$n--)this._namespaceList[$n].drainQueuedTransitions(h).forEach(vr=>{const fi=vr.player,zs=vr.element;if(Ql.push(fi),this.collectedEnterElements.length){const fo=zs[_n];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(vr.triggerName)){const Tl=fo.previousTriggersValues.get(vr.triggerName),Do=this.statesByElement.get(vr.element);if(Do&&Do.has(vr.triggerName)){const Uu=Do.get(vr.triggerName);Uu.value=Tl,Do.set(vr.triggerName,Uu)}}return void fi.destroy()}}const ur=!Vn||!this.driver.containsElement(Vn,zs),oa=ho.get(zs),Cl=_r.get(zs),gs=this._buildInstruction(vr,_,Cl,oa,ur);if(gs.errors&&gs.errors.length)return void tl.push(gs);if(ur)return fi.onStart(()=>Ct(zs,gs.fromStyles)),fi.onDestroy(()=>Se(zs,gs.toStyles)),void N.push(fi);if(vr.isFallbackTransition)return fi.onStart(()=>Ct(zs,gs.fromStyles)),fi.onDestroy(()=>Se(zs,gs.toStyles)),void N.push(fi);const Gh=[];gs.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||Gh.push(fo)}),gs.timelines=Gh,_.append(zs,gs.timelines),ye.push({instruction:gs,player:fi,element:zs}),gs.queriedElements.forEach(fo=>jn(Oe,fo,[]).push(fi)),gs.preStyleProps.forEach((fo,Tl)=>{if(fo.size){let Do=ft.get(Tl);Do||ft.set(Tl,Do=new Set),fo.forEach((Uu,sd)=>Do.add(sd))}}),gs.postStyleProps.forEach((fo,Tl)=>{let Do=Nt.get(Tl);Do||Nt.set(Tl,Do=new Set),fo.forEach((Uu,sd)=>Do.add(sd))})});if(tl.length){const $n=[];tl.forEach(tr=>{$n.push(function Wt(v,m){return new u.vHH(3505,!1)}())}),Ql.forEach(tr=>tr.destroy()),this.reportError($n)}const To=new Map,Vl=new Map;ye.forEach($n=>{const tr=$n.element;_.has(tr)&&(Vl.set(tr,tr),this._beforeAnimationBuild($n.player.namespaceId,$n.instruction,To))}),N.forEach($n=>{const tr=$n.element;this._getPreviousPlayers(tr,!1,$n.namespaceId,$n.triggerName,null).forEach(fi=>{jn(To,tr,[]).push(fi),fi.destroy()})});const nl=Ui.filter($n=>ri($n,ft,Nt)),ro=new Map;vt(ro,this.driver,ls,Nt,k.l3).forEach($n=>{ri($n,ft,Nt)&&nl.push($n)});const fu=new Map;Qr.forEach(($n,tr)=>{vt(fu,this.driver,new Set($n),ft,k.k1)}),nl.forEach($n=>{const tr=ro.get($n),vr=fu.get($n);ro.set($n,new Map([...Array.from(tr?.entries()??[]),...Array.from(vr?.entries()??[])]))});const Jl=[],id=[],bc={};ye.forEach($n=>{const{element:tr,player:vr,instruction:fi}=$n;if(_.has(tr)){if(En.has(tr))return vr.onDestroy(()=>Se(tr,fi.toStyles)),vr.disabled=!0,vr.overrideTotalTime(fi.totalTime),void N.push(vr);let zs=bc;if(Vl.size>1){let oa=tr;const Cl=[];for(;oa=oa.parentNode;){const gs=Vl.get(oa);if(gs){zs=gs;break}Cl.push(oa)}Cl.forEach(gs=>Vl.set(gs,zs))}const ur=this._buildAnimation(vr.namespaceId,fi,To,Z,fu,ro);if(vr.setRealPlayer(ur),zs===bc)Jl.push(vr);else{const oa=this.playersByElement.get(zs);oa&&oa.length&&(vr.parentPlayer=Kn(oa)),N.push(vr)}}else Ct(tr,fi.fromStyles),vr.onDestroy(()=>Se(tr,fi.toStyles)),id.push(vr),En.has(tr)&&N.push(vr)}),id.forEach($n=>{const tr=Z.get($n.element);if(tr&&tr.length){const vr=Kn(tr);$n.setRealPlayer(vr)}}),N.forEach($n=>{$n.parentPlayer?$n.syncPlayerEvents($n.parentPlayer):$n.destroy()});for(let $n=0;$n<Ui.length;$n++){const tr=Ui[$n],vr=tr[_n];if(Yn(tr,Xt),vr&&vr.hasAnimation)continue;let fi=[];if(Oe.size){let ur=Oe.get(tr);ur&&ur.length&&fi.push(...ur);let oa=this.driver.query(tr,Le,!0);for(let Cl=0;Cl<oa.length;Cl++){let gs=Oe.get(oa[Cl]);gs&&gs.length&&fi.push(...gs)}}const zs=fi.filter(ur=>!ur.destroyed);zs.length?Gr(this,tr,zs):this.processLeaveNode(tr)}return Ui.length=0,Jl.forEach($n=>{this.players.push($n),$n.onDone(()=>{$n.destroy();const tr=this.players.indexOf($n);this.players.splice(tr,1)}),$n.play()}),Jl}elementContainsData(m,h){let _=!1;const N=h[_n];return N&&N.setForRemoval&&(_=!0),this.playersByElement.has(h)&&(_=!0),this.playersByQueriedElement.has(h)&&(_=!0),this.statesByElement.has(h)&&(_=!0),this._fetchNamespace(m).elementContainsData(h)||_}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,h,_,N,Z){let ye=[];if(h){const Oe=this.playersByQueriedElement.get(m);Oe&&(ye=Oe)}else{const Oe=this.playersByElement.get(m);if(Oe){const ft=!Z||Z==Bn;Oe.forEach(Nt=>{Nt.queued||!ft&&Nt.triggerName!=N||ye.push(Nt)})}}return(_||N)&&(ye=ye.filter(Oe=>!(_&&_!=Oe.namespaceId||N&&N!=Oe.triggerName))),ye}_beforeAnimationBuild(m,h,_){const Z=h.element,ye=h.isRemovalTransition?void 0:m,Oe=h.isRemovalTransition?void 0:h.triggerName;for(const ft of h.timelines){const Nt=ft.element,En=Nt!==Z,Vn=jn(_,Nt,[]);this._getPreviousPlayers(Nt,En,ye,Oe,h.toState).forEach(Qr=>{const _r=Qr.getRealPlayer();_r.beforeDestroy&&_r.beforeDestroy(),Qr.destroy(),Vn.push(Qr)})}Ct(Z,h.fromStyles)}_buildAnimation(m,h,_,N,Z,ye){const Oe=h.triggerName,ft=h.element,Nt=[],En=new Set,Vn=new Set,Yr=h.timelines.map(_r=>{const Ur=_r.element;En.add(Ur);const Ui=Ur[_n];if(Ui&&Ui.removedBeforeQueried)return new k.ZN(_r.duration,_r.delay);const Ci=Ur!==ft,ls=function Lr(v){const m=[];return br(v,m),m}((_.get(Ur)||ut).map(To=>To.getRealPlayer())).filter(To=>!!To.element&&To.element===Ur),ho=Z.get(Ur),no=ye.get(Ur),Ql=Pr(0,this._normalizer,0,_r.keyframes,ho,no),tl=this._buildPlayer(_r,Ql,ls);if(_r.subTimeline&&N&&Vn.add(Ur),Ci){const To=new kr(m,Oe,Ur);To.setRealPlayer(tl),Nt.push(To)}return tl});Nt.forEach(_r=>{jn(this.playersByQueriedElement,_r.element,[]).push(_r),_r.onDone(()=>function F(v,m,h){let _=v.get(m);if(_){if(_.length){const N=_.indexOf(h);_.splice(N,1)}0==_.length&&v.delete(m)}return _}(this.playersByQueriedElement,_r.element,_r))}),En.forEach(_r=>dn(_r,Re));const Qr=Kn(Yr);return Qr.onDestroy(()=>{En.forEach(_r=>Yn(_r,Re)),Se(ft,h.toStyles)}),Vn.forEach(_r=>{jn(N,_r,[]).push(Qr)}),Qr}_buildPlayer(m,h,_){return h.length>0?this.driver.animate(m.element,h,m.duration,m.delay,m.easing,_):new k.ZN(m.duration,m.delay)}}class kr{constructor(m,h,_){this.namespaceId=m,this.triggerName=h,this.element=_,this._player=new k.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((h,_)=>{h.forEach(N=>fr(m,_,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const h=this._player;h.triggerCallback&&m.onStart(()=>h.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,h){jn(this._queuedCallbacks,m,[]).push(h)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const h=this._player;h.triggerCallback&&h.triggerCallback(m)}}function U(v){return v&&1===v.nodeType}function He(v,m){const h=v.style.display;return v.style.display=m??"none",h}function vt(v,m,h,_,N){const Z=[];h.forEach(ft=>Z.push(He(ft)));const ye=[];_.forEach((ft,Nt)=>{const En=new Map;ft.forEach(Vn=>{const Yr=m.computeStyle(Nt,Vn,N);En.set(Vn,Yr),(!Yr||0==Yr.length)&&(Nt[_n]=ln,ye.push(Nt))}),v.set(Nt,En)});let Oe=0;return h.forEach(ft=>He(ft,Z[Oe++])),ye}function st(v,m){const h=new Map;if(v.forEach(Oe=>h.set(Oe,[])),0==m.length)return h;const N=new Set(m),Z=new Map;function ye(Oe){if(!Oe)return 1;let ft=Z.get(Oe);if(ft)return ft;const Nt=Oe.parentNode;return ft=h.has(Nt)?Nt:N.has(Nt)?1:ye(Nt),Z.set(Oe,ft),ft}return m.forEach(Oe=>{const ft=ye(Oe);1!==ft&&h.get(ft).push(Oe)}),h}function dn(v,m){v.classList?.add(m)}function Yn(v,m){v.classList?.remove(m)}function Gr(v,m,h){Kn(h).onDone(()=>v.processLeaveNode(m))}function br(v,m){for(let h=0;h<v.length;h++){const _=v[h];_ instanceof k.ZE?br(_.players,m):m.push(_)}}function ri(v,m,h){const _=h.get(v);if(!_)return!1;let N=m.get(v);return N?_.forEach(Z=>N.add(Z)):m.set(v,_),h.delete(v),!0}class mi{constructor(m,h,_){this.bodyNode=m,this._driver=h,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(N,Z)=>{},this._transitionEngine=new ei(m,h,_),this._timelineEngine=new qs(m,h,_),this._transitionEngine.onRemovalComplete=(N,Z)=>this.onRemovalComplete(N,Z)}registerTrigger(m,h,_,N,Z){const ye=m+"-"+N;let Oe=this._triggerCache[ye];if(!Oe){const ft=[],En=xi(this._driver,Z,ft,[]);if(ft.length)throw function $e(v,m){return new u.vHH(3404,!1)}();Oe=function vs(v,m,h){return new Es(v,m,h)}(N,En,this._normalizer),this._triggerCache[ye]=Oe}this._transitionEngine.registerTrigger(h,N,Oe)}register(m,h){this._transitionEngine.register(m,h)}destroy(m,h){this._transitionEngine.destroy(m,h)}onInsert(m,h,_,N){this._transitionEngine.insertNode(m,h,_,N)}onRemove(m,h,_,N){this._transitionEngine.removeNode(m,h,N||!1,_)}disableAnimations(m,h){this._transitionEngine.markElementAsDisabled(m,h)}process(m,h,_,N){if("@"==_.charAt(0)){const[Z,ye]=Ar(_);this._timelineEngine.command(Z,h,ye,N)}else this._transitionEngine.trigger(m,h,_,N)}listen(m,h,_,N,Z){if("@"==_.charAt(0)){const[ye,Oe]=Ar(_);return this._timelineEngine.listen(ye,h,Oe,Z)}return this._transitionEngine.listen(m,h,_,N,Z)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ar=(()=>{class v{constructor(h,_,N){this._element=h,this._startStyles=_,this._endStyles=N,this._state=0;let Z=v.initialStylesByElement.get(h);Z||v.initialStylesByElement.set(h,Z=new Map),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Se(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Se(this._element,this._initialStyles),this._endStyles&&(Se(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(Ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ct(this._element,this._endStyles),this._endStyles=null),Se(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function Hi(v){let m=null;return v.forEach((h,_)=>{(function ds(v){return"display"===v||"position"===v})(_)&&(m=m||new Map,m.set(_,h))}),m}class ii{constructor(m,h,_,N){this.element=m,this.keyframes=h,this.options=_,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const h=[];return m.forEach(_=>{h.push(Object.fromEntries(_))}),h}_triggerWebAnimation(m,h,_){return m.animate(this._convertKeyframesToObject(h),_)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,N)=>{"offset"!==N&&m.set(N,this._finished?_:Dn(this.element,N))}),this.currentSnapshot=m}triggerCallback(m){const h="start"===m?this._onStartFns:this._onDoneFns;h.forEach(_=>_()),h.length=0}}class yo{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,h){return!1}containsElement(m,h){return ui(m,h)}getParentElement(m){return Jn(m)}query(m,h,_){return kn(m,h,_)}computeStyle(m,h,_){return window.getComputedStyle(m)[h]}animate(m,h,_,N,Z,ye=[]){const ft={duration:_,delay:N,fill:0==N?"both":"forwards"};Z&&(ft.easing=Z);const Nt=new Map,En=ye.filter(Qr=>Qr instanceof ii);(function en(v,m){return 0===v||0===m})(_,N)&&En.forEach(Qr=>{Qr.currentSnapshot.forEach((_r,Ur)=>Nt.set(Ur,_r))});let Vn=function xn(v){return v.length?v[0]instanceof Map?v:v.map(m=>Zt(m)):[]}(h).map(Qr=>Tn(Qr));Vn=function zn(v,m,h){if(h.size&&m.length){let _=m[0],N=[];if(h.forEach((Z,ye)=>{_.has(ye)||N.push(ye),_.set(ye,Z)}),N.length)for(let Z=1;Z<m.length;Z++){let ye=m[Z];N.forEach(Oe=>ye.set(Oe,Dn(v,Oe)))}}return m}(m,Vn,Nt);const Yr=function Lt(v,m){let h=null,_=null;return Array.isArray(m)&&m.length?(h=Hi(m[0]),m.length>1&&(_=Hi(m[m.length-1]))):m instanceof Map&&(h=Hi(m)),h||_?new ar(v,h,_):null}(m,Vn);return new ii(m,Vn,ft,Yr)}}var Xn=M(6895);let ns=(()=>{class v extends k._j{constructor(h,_){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(_.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(h){const _=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(h)?(0,k.vP)(h):h;return ca(this._renderer,null,_,"register",[N]),new Ao(_,this._renderer)}}return v.\u0275fac=function(h){return new(h||v)(u.LFG(u.FYo),u.LFG(Xn.K0))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();class Ao extends k.LC{constructor(m,h){super(),this._id=m,this._renderer=h}create(m,h){return new wi(this._id,m,h||{},this._renderer)}}class wi{constructor(m,h,_,N){this.id=m,this.element=h,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(m,h){return this._renderer.listen(this.element,`@@${this.id}:${m}`,h)}_command(m,...h){return ca(this._renderer,this.element,this.id,m,h)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ca(v,m,h,_,N){return v.setProperty(m,`@@${h}:${_}`,N)}const Aa="@.disabled";let $=(()=>{class v{constructor(h,_,N){this.delegate=h,this.engine=_,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=(Z,ye)=>{const Oe=ye?.parentNode(Z);Oe&&ye.removeChild(Oe,Z)}}createRenderer(h,_){const Z=this.delegate.createRenderer(h,_);if(!(h&&_&&_.data&&_.data.animation)){let En=this._rendererCache.get(Z);return En||(En=new L("",Z,this.engine),this._rendererCache.set(Z,En)),En}const ye=_.id,Oe=_.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,h);const ft=En=>{Array.isArray(En)?En.forEach(ft):this.engine.registerTrigger(ye,Oe,h,En.name,En)};return _.data.animation.forEach(ft),new x(this,Oe,Z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(h,_,N){h>=0&&h<this._microtaskId?this._zone.run(()=>_(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Z=>{const[ye,Oe]=Z;ye(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(h){return new(h||v)(u.LFG(u.FYo),u.LFG(mi),u.LFG(u.R0b))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();class L{constructor(m,h,_){this.namespaceId=m,this.delegate=h,this.engine=_,this.destroyNode=this.delegate.destroyNode?N=>h.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,h){return this.delegate.createElement(m,h)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,h){this.delegate.appendChild(m,h),this.engine.onInsert(this.namespaceId,h,m,!1)}insertBefore(m,h,_,N=!0){this.delegate.insertBefore(m,h,_),this.engine.onInsert(this.namespaceId,h,m,N)}removeChild(m,h,_){this.engine.onRemove(this.namespaceId,h,this.delegate,_)}selectRootElement(m,h){return this.delegate.selectRootElement(m,h)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,h,_,N){this.delegate.setAttribute(m,h,_,N)}removeAttribute(m,h,_){this.delegate.removeAttribute(m,h,_)}addClass(m,h){this.delegate.addClass(m,h)}removeClass(m,h){this.delegate.removeClass(m,h)}setStyle(m,h,_,N){this.delegate.setStyle(m,h,_,N)}removeStyle(m,h,_){this.delegate.removeStyle(m,h,_)}setProperty(m,h,_){"@"==h.charAt(0)&&h==Aa?this.disableAnimations(m,!!_):this.delegate.setProperty(m,h,_)}setValue(m,h){this.delegate.setValue(m,h)}listen(m,h,_){return this.delegate.listen(m,h,_)}disableAnimations(m,h){this.engine.disableAnimations(m,h)}}class x extends L{constructor(m,h,_,N){super(h,_,N),this.factory=m,this.namespaceId=h}setProperty(m,h,_){"@"==h.charAt(0)?"."==h.charAt(1)&&h==Aa?this.disableAnimations(m,_=void 0===_||!!_):this.engine.process(this.namespaceId,m,h.slice(1),_):this.delegate.setProperty(m,h,_)}listen(m,h,_){if("@"==h.charAt(0)){const N=function ue(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(m);let Z=h.slice(1),ye="";return"@"!=Z.charAt(0)&&([Z,ye]=function Et(v){const m=v.indexOf(".");return[v.substring(0,m),v.slice(m+1)]}(Z)),this.engine.listen(this.namespaceId,N,Z,ye,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,_,Oe)})}return this.delegate.listen(m,h,_)}}const Ys=[{provide:k._j,useClass:ns},{provide:Ps,useFactory:function _i(){return new mo}},{provide:mi,useClass:(()=>{class v extends mi{constructor(h,_,N,Z){super(h.body,_,N)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(h){return new(h||v)(u.LFG(Xn.K0),u.LFG(zr),u.LFG(Ps),u.LFG(u.z2F))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})()},{provide:u.FYo,useFactory:function Pi(v,m,h){return new $(v,m,h)},deps:[c.se,mi,u.R0b]}],io=[{provide:zr,useFactory:()=>new yo},{provide:u.QbO,useValue:"BrowserAnimations"},...Ys],so=[{provide:zr,useClass:tn},{provide:u.QbO,useValue:"NoopAnimations"},...Ys];let Rs=(()=>{class v{static withConfig(h){return{ngModule:v,providers:h.disableAnimations?so:io}}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:io,imports:[c.b2]}),v})();var Fi=M(1441);let Go=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-not-found"]],decls:2,vars:0,template:function(h,_){1&h&&(u.TgZ(0,"p"),u._uU(1,"not-found works!"),u.qZA())}}),v})();var di=M(5225),Mi=M(6981),Fr=M(6897),zo=M(5593),Ha=M(5700),Yi=M(805),da=M(1167);function Ki(v,m){1&v&&u._UZ(0,"div")}function Ns(v,m){1&v&&(u.TgZ(0,"p",54),u._uU(1,"In Stock"),u.qZA())}function vi(v,m){1&v&&(u.TgZ(0,"p",55),u._uU(1,"Out Of Stock"),u.qZA())}function Ma(v,m){if(1&v&&(u.TgZ(0,"div",43)(1,"div",44)(2,"div",45),u._UZ(3,"img",46),u.qZA(),u.TgZ(4,"div",47)(5,"h5",48),u._uU(6),u.qZA(),u.TgZ(7,"h6",45),u._uU(8),u.qZA(),u.YNc(9,Ki,1,0,"div",49),u.YNc(10,Ns,2,0,"ng-template",null,50,u.W1O),u.YNc(12,vi,2,0,"ng-template",null,51,u.W1O),u.TgZ(14,"div",52),u._UZ(15,"p-toggleButton",53),u.qZA()()()()),2&v){const h=m.$implicit,_=u.MAs(11),N=u.MAs(13),Z=u.oxw();u.xp6(3),u.Q6J("alt",h.title),u.xp6(3),u.Oqu(h.title),u.xp6(2),u.Oqu(h.price),u.xp6(1),u.Q6J("ngIf",Z.quantity>0)("ngIfThen",_)("ngIfElse",N),u.xp6(6),u.Q6J("onIcon","pi pi-heart-fill")}}function Oa(v,m){1&v&&u._UZ(0,"div")}function Mo(v,m){1&v&&(u.TgZ(0,"p",54),u._uU(1,"In Stock"),u.qZA())}function xa(v,m){1&v&&(u.TgZ(0,"p",55),u._uU(1,"Out Of Stock"),u.qZA())}function $a(v,m){if(1&v&&(u.TgZ(0,"div",43)(1,"div",44)(2,"div",45),u._UZ(3,"img",56),u.qZA(),u.TgZ(4,"div",47)(5,"h5",48),u._uU(6),u.qZA(),u.TgZ(7,"h6",45),u._uU(8),u.qZA(),u.YNc(9,Oa,1,0,"div",49),u.YNc(10,Mo,2,0,"ng-template",null,50,u.W1O),u.YNc(12,xa,2,0,"ng-template",null,51,u.W1O),u.qZA()()()),2&v){const h=m.$implicit,_=u.MAs(11),N=u.MAs(13),Z=u.oxw();u.xp6(3),u.Q6J("alt",h.title),u.xp6(3),u.Oqu(h.title),u.xp6(2),u.Oqu(h.price),u.xp6(1),u.Q6J("ngIf",Z.quantity>0)("ngIfThen",_)("ngIfElse",N)}}function ru(v,m){1&v&&u._UZ(0,"div")}function Sl(v,m){1&v&&(u.TgZ(0,"p",54),u._uU(1,"In Stock"),u.qZA())}function ja(v,m){1&v&&(u.TgZ(0,"p",55),u._uU(1,"Out Of Stock"),u.qZA())}function Is(v,m){if(1&v&&(u.TgZ(0,"div",43)(1,"div",44)(2,"div",45),u._UZ(3,"img",56),u.qZA(),u.TgZ(4,"div",47)(5,"h5",48),u._uU(6),u.qZA(),u.TgZ(7,"h6",45),u._uU(8),u.qZA(),u.YNc(9,ru,1,0,"div",49),u.YNc(10,Sl,2,0,"ng-template",null,50,u.W1O),u.YNc(12,ja,2,0,"ng-template",null,51,u.W1O),u.qZA()()()),2&v){const h=m.$implicit,_=u.MAs(11),N=u.MAs(13),Z=u.oxw();u.xp6(3),u.Q6J("alt",h.title),u.xp6(3),u.Oqu(h.title),u.xp6(2),u.Oqu(h.price),u.xp6(1),u.Q6J("ngIf",Z.quantity>0)("ngIfThen",_)("ngIfElse",N)}}const ul=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class v{constructor(h,_,N,Z){this._router=h,this._productStore=_,this._blogStore=N,this._animalStore=Z,this.quantity=1,this.articles=[],this.animals=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],this.products=[{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:di.D.Cat,brand:Mi.H.Alpha,category:Mi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]}]}ngOnInit(){}onShopNowClick(){this._router.navigate(["/store/products"])}onTypeClick(h){switch(h){case"cats":this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Cat}});break;case"dogs":this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Dog}})}}onWhatWeCanDoCardsClick(h){switch(h){case"store":this._router.navigate(["/store/products"]);break;case"adoption":this._router.navigate(["/adoption"]);break;case"blog":this._router.navigate(["/blog"])}}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(Fi.F0),u.Y36(Fr.yh),u.Y36(Fr.yh),u.Y36(Fr.yh))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-home"]],decls:89,vars:18,consts:[[1,"home"],[1,"heroo","container","d-lg-flex","d-block","mb-5"],[1,"d-flex","justify-content-center"],["src","assets/images/pets.png","alt","image"],[1,"d-flex","justify-content-center","align-items-center","flex-column","pe-lg-5"],[1,"hero-content"],[1,"hero__content__para","fs-3","mt-lg-2","text-center"],[1,"text-center"],["styleClass","card__addToCart mt-1 rounded-5 ","label","Shop Now","icon","pi pi-shopping-bag",3,"onClick"],[1,"imageSectionContainer","d-flex","justify-content-center","align-items-center"],[1,"imageSectionContainer__title","flex-grow-1"],[1,"hero__content__text","text-center","p-4"],[1,"hero__content__text","text-center"],[1,"type","container","py-5"],[1,"text-center","mb-5","fw-bold","fs-1"],[1,"typesButtons","d-lg-flex","justify-content-center","my-5","d-block"],[1,"CategoryRouter","text-center","my-5","mx-3","col-lg-5"],[3,"click"],[1,"CategoryRouter__content","d-lg-flex","border","rounded-5","p-2"],["src","assets/images/catcard.png","alt","Cat Image"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center",2,"color","var(--dark-grey-color)"],[1,"m-0","fs-2"],["src","assets/images/bg-dog.png","alt","Dog Image"],[1,"services","container","my-5"],[1,"services__text","my-5"],[1,"text-center","fs-1","mb-4","fw-bold"],[1,"text-center","pb-4","m-auto","fs-4"],[1,"services__container","container","d-lg-flex","my-5","justify-content-center","align-items-center;"],[1,"services__card","m-4","col-lg-4","col-md-12","p-5","shadow",3,"click"],[1,"icon-container","m-auto","shadow","d-flex"],[1,"fa-solid","fa-store","m-auto","fs-2"],[1,"text-center","fs-3","m-4","fw-bold"],[1,"text-center","fs-6","px-4"],[1,"services__card","col-lg-4","col-md-12","m-4","p-5","shadow",3,"click"],[1,"fa-solid","fa-paw","m-auto","fs-1"],[1,"fa-solid","fa-blog","m-auto","fs-1"],[1,"Carousels","container","mb-5"],[1,"carousel","productCarousel"],[1,"text-center","mt-5","p-3","fw-bold","fs-1"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["pTemplate","item"],[1,"carousel","blogCarousel"],[1,"carousel","adoptionCarousel"],[1,"product-item"],[1,"product-item-content","rounded-5"],[1,"mb-3"],["src","assets/images/cat.jpg",1,"product-image","rounded","shadow",3,"alt"],[1,"container"],[1,"mb-1","fw-bold"],[4,"ngIf","ngIfThen","ngIfElse"],["instock",""],["outofstock",""],[1,"card__actions","d-flex","justify-content-center","mt-4"],["offIcon","pi pi-heart",1,"card__actions__addToWishlist","mx-3",3,"onIcon"],[1,"card__actions__instock","m-auto"],[1,"card__actions__outofstock","m-auto"],["src","../../../assets/images/cat.jpg",1,"product-image","rounded","shadow",3,"alt"]],template:function(h,_){1&h&&(u.TgZ(0,"Section",0)(1,"div",1)(2,"figure",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5)(6,"p",6),u._uU(7," Let us treat your pet like our own family with best services and packages. "),u.qZA(),u.TgZ(8,"div",7)(9,"p-button",8),u.NdJ("onClick",function(){return _.onShopNowClick()}),u.qZA()()()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"p",11)(13,"b"),u._uU(14,"Your Pet is Part"),u.qZA()(),u.TgZ(15,"p",12)(16,"b"),u._uU(17,"of Your Family"),u.qZA()()(),u._uU(18," > "),u.qZA(),u.TgZ(19,"div",13)(20,"h3",14),u._uU(21,"Shop By Pet"),u.qZA(),u.TgZ(22,"div",15)(23,"div",16)(24,"a",17),u.NdJ("click",function(){return _.onTypeClick("cats")}),u.TgZ(25,"div",18),u._UZ(26,"img",19),u.TgZ(27,"div",20)(28,"p",21)(29,"b"),u._uU(30,"Cats"),u.qZA()(),u.TgZ(31,"p",21)(32,"b"),u._uU(33,"Shop"),u.qZA()()()()()(),u.TgZ(34,"div",16)(35,"a",17),u.NdJ("click",function(){return _.onTypeClick("dogs")}),u.TgZ(36,"div",18),u._UZ(37,"img",22),u.TgZ(38,"div",20)(39,"p",21)(40,"b"),u._uU(41,"Dogs"),u.qZA()(),u.TgZ(42,"p",21)(43,"b"),u._uU(44,"Shop"),u.qZA()()()()()()()(),u.TgZ(45,"div",23)(46,"div",24)(47,"h2",25),u._uU(48,"What We Can Do"),u.qZA(),u.TgZ(49,"p",26),u._uU(50," We look after your pet, we ensure that we will give the best treatment for your pet. "),u.qZA()(),u.TgZ(51,"div",27)(52,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("store")}),u.TgZ(53,"div",29),u._UZ(54,"i",30),u.qZA(),u.TgZ(55,"p",31),u._uU(56,"Store"),u.qZA(),u.TgZ(57,"p",32),u._uU(58," You can find Supplies, Accessories, Toys all stuff for your pet. "),u.qZA()(),u.TgZ(59,"div",33),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("adoption")}),u.TgZ(60,"div",29),u._UZ(61,"i",34),u.qZA(),u.TgZ(62,"p",31),u._uU(63,"Adoption"),u.qZA(),u.TgZ(64,"p",32),u._uU(65," You can add a new member of your family or find someone to adopt your pet. "),u.qZA()(),u.TgZ(66,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("blog")}),u.TgZ(67,"div",29),u._UZ(68,"i",35),u.qZA(),u.TgZ(69,"p",31),u._uU(70,"Blog"),u.qZA(),u.TgZ(71,"p",32),u._uU(72," You can find very useful articals about pets and know more about its health and food. "),u.qZA()()()(),u.TgZ(73,"div",36)(74,"div",37)(75,"h2",38),u._uU(76,"Products"),u.qZA(),u.TgZ(77,"p-carousel",39),u.YNc(78,Ma,16,7,"ng-template",40),u.qZA()(),u.TgZ(79,"div",41)(80,"h2",38),u._uU(81,"Blog"),u.qZA(),u.TgZ(82,"p-carousel",39),u.YNc(83,$a,14,6,"ng-template",40),u.qZA()(),u.TgZ(84,"div",42)(85,"h2",38),u._uU(86,"Adoption"),u.qZA(),u.TgZ(87,"p-carousel",39),u.YNc(88,Is,14,6,"ng-template",40),u.qZA()()()()),2&h&&(u.xp6(77),u.Q6J("value",_.products)("numVisible",4)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",_.responsiveOptions),u.xp6(5),u.Q6J("value",_.products)("numVisible",4)("numScroll",1)("circular",!0)("autoplayInterval",2e3)("responsiveOptions",_.responsiveOptions),u.xp6(5),u.Q6J("value",_.products)("numVisible",4)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",_.responsiveOptions))},dependencies:[zo.zx,Xn.O5,Ha.l,Yi.jx,da.CO],styles:["section[_ngcontent-%COMP%]{background-color:#fbf8f8;color:var(--dark-grey-color)}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{margin-top:200px;margin-bottom:200px;background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:800px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;opacity:.7;font-size:6rem}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-bottom:150px!important;background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem;height:15rem;border-radius:10px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]{cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]{background-color:#ffcdd2}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]:hover{box-shadow:5px 10px 18px #888!important;cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:10% 100%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;border-radius:40px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{border-radius:50%;background-color:#ecada6;width:100px;height:100px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover{background-color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]{margin-top:10rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left;margin-top:8rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:1rem;text-align:center;padding:2rem 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__instock[_ngcontent-%COMP%]{background-color:#c8e6c9;opacity:.8;color:#256029;width:5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__outofstock[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737;opacity:.8;width:6.5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}[_nghost-%COMP%]     .p-button{background:#999999;border:1px solid #999999}[_nghost-%COMP%]     .p-button:enabled:hover{background:#ecada6;color:#fff;border-color:#ffcdd2}[_nghost-%COMP%]     .p-button:focus{background-color:none;box-shadow:0 0 0 .1rem transparent!important}[_nghost-%COMP%]     .p-button:enabled:focus{box-shadow:0 0 0 .2rem!important;border-color:none!important}[_nghost-%COMP%]     .p-button{border:none!important}[_nghost-%COMP%]     .p-button.p-button-icon-only .p-button-icon-left, .p-button.p-button-icon-only[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight .p-button-icon-left, .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:#ecada6}[_nghost-%COMP%]     .p-button.p-button-icon-only{padding:.4rem!important;background-color:transparent;color:transparent}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight{background:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight:hover{background-color:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button:not(.p-disabled):not(.p-highlight):hover{background:transparent!important;border-color:transparent!important;color:#495057}[_nghost-%COMP%]     .p-carousel .p-carousel-indicators .p-carousel-indicator.p-highlight button{background-color:var(--pink-color)}@media only screen and (max-width: 1200px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{display:block!important}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}}@media only screen and (max-width: 992px){section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}}@media only screen and (max-width: 768px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 15%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:400px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:500px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:5rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 70%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}@media only screen and (max-width: 600px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:400px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:3rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 90%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}"]}),v})()},{path:"auth",loadChildren:()=>Promise.all([M.e(722),M.e(493),M.e(549)]).then(M.bind(M,7549)).then(v=>v.AuthModuleModule)},{path:"store",loadChildren:()=>Promise.all([M.e(722),M.e(592),M.e(927)]).then(M.bind(M,5927)).then(v=>v.StoreModuleModule)},{path:"blog",loadChildren:()=>M.e(10).then(M.bind(M,1010)).then(v=>v.BlogModuleModule)},{path:"adoption",loadChildren:()=>Promise.all([M.e(493),M.e(592),M.e(252)]).then(M.bind(M,252)).then(v=>v.AdoptionModuleModule)},{path:"**",component:Go}];let Ko=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Fi.Bz.forRoot(ul),Fi.Bz]}),v})();var Zo=M(9770),ha=M(2843),Oo=M(8421),Pa=M(9751),fa=M(5577),Qi=M(1144),_o=M(576),cl=M(3268);const Al=["addListener","removeListener"],dl=["addEventListener","removeEventListener"],Ri=["on","off"];function $s(v,m,h,_){if((0,_o.m)(h)&&(_=h,h=void 0),_)return $s(v,m,h).pipe((0,cl.Z)(_));const[N,Z]=function qt(v){return(0,_o.m)(v.addEventListener)&&(0,_o.m)(v.removeEventListener)}(v)?dl.map(ye=>Oe=>v[ye](m,Oe,h)):function Ra(v){return(0,_o.m)(v.addListener)&&(0,_o.m)(v.removeListener)}(v)?Al.map(js(v,m)):function hl(v){return(0,_o.m)(v.on)&&(0,_o.m)(v.off)}(v)?Ri.map(js(v,m)):[];if(!N&&(0,Qi.z)(v))return(0,fa.z)(ye=>$s(ye,m,h))((0,Oo.Xf)(v));if(!N)throw new TypeError("Invalid event target");return new Pa.y(ye=>{const Oe=(...ft)=>ye.next(1<ft.length?ft:ft[0]);return N(Oe),()=>Z(Oe)})}function js(v,m){return h=>_=>v[h](m,_)}var Ii=M(9646),rs=M(7272),Lo=M(7579),Mn=M(5032);const Wn=new Pa.y(Mn.Z);var mn=M(6451),wt=M(4004),Rt=M(9300),oi=M(3900),qo=M(4033),Fo=M(4482);const Ml={connector:()=>new Lo.x};function Yo(v,m=Ml){const{connector:h}=m;return(0,Fo.e)((_,N)=>{const Z=h();(0,Oo.Xf)(v(function pa(v){return new Pa.y(m=>v.subscribe(m))}(Z))).subscribe(N),N.add(_.subscribe(Z))})}var Qs=M(5698),pl=M(8505),Vi=M(4986),Qo=M(5403),ks=M(9718);function vo(v,m){return m?h=>(0,rs.z)(m.pipe((0,Qs.q)(1),function Cr(){return(0,Fo.e)((v,m)=>{v.subscribe((0,Qo.x)(m,Mn.Z))})}()),h.pipe(vo(v))):(0,fa.z)((h,_)=>v(h,_).pipe((0,Qs.q)(1),(0,ks.h)(h)))}var hi=M(3532);const ga="Service workers are disabled or not supported by this browser";class pn{constructor(m){if(this.serviceWorker=m,m){const _=$s(m,"controllerchange").pipe((0,wt.U)(()=>m.controller)),N=(0,Zo.P)(()=>(0,Ii.of)(m.controller)),Z=(0,rs.z)(N,_);this.worker=Z.pipe((0,Rt.h)(En=>!!En)),this.registration=this.worker.pipe((0,oi.w)(()=>m.getRegistration()));const Nt=$s(m,"message").pipe((0,wt.U)(En=>En.data)).pipe((0,Rt.h)(En=>En&&En.type)).pipe(function fl(v){return v?m=>Yo(v)(m):m=>function Wa(v,m){const h=(0,_o.m)(v)?v:()=>v;return(0,_o.m)(m)?Yo(m,{connector:h}):_=>new qo.c(_,h)}(new Lo.x)(m)}());Nt.connect(),this.events=Nt}else this.worker=this.events=this.registration=function $i(v){return(0,Zo.P)(()=>(0,ha._)(new Error(v)))}(ga)}postMessage(m,h){return this.worker.pipe((0,Qs.q)(1),(0,pl.b)(_=>{_.postMessage({action:m,...h})})).toPromise().then(()=>{})}postMessageWithOperation(m,h,_){const N=this.waitForOperationCompleted(_),Z=this.postMessage(m,h);return Promise.all([Z,N]).then(([,ye])=>ye)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(m){let h;return h="string"==typeof m?_=>_.type===m:_=>m.includes(_.type),this.events.pipe((0,Rt.h)(h))}nextEventOfType(m){return this.eventsOfType(m).pipe((0,Qs.q)(1))}waitForOperationCompleted(m){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Rt.h)(h=>h.nonce===m),(0,Qs.q)(1),(0,wt.U)(h=>{if(void 0!==h.result)return h.result;throw new Error(h.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Jo=(()=>{class v{constructor(h){if(this.sw=h,this.subscriptionChanges=new Lo.x,!h.isEnabled)return this.messages=Wn,this.notificationClicks=Wn,void(this.subscription=Wn);this.messages=this.sw.eventsOfType("PUSH").pipe((0,wt.U)(N=>N.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,wt.U)(N=>N.data)),this.pushManager=this.sw.registration.pipe((0,wt.U)(N=>N.pushManager));const _=this.pushManager.pipe((0,oi.w)(N=>N.getSubscription()));this.subscription=(0,mn.T)(_,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(h){if(!this.sw.isEnabled)return Promise.reject(new Error(ga));const _={userVisibleOnly:!0};let N=this.decodeBase64(h.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Z=new Uint8Array(new ArrayBuffer(N.length));for(let ye=0;ye<N.length;ye++)Z[ye]=N.charCodeAt(ye);return _.applicationServerKey=Z,this.pushManager.pipe((0,oi.w)(ye=>ye.subscribe(_)),(0,Qs.q)(1)).toPromise().then(ye=>(this.subscriptionChanges.next(ye),ye))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Qs.q)(1),(0,oi.w)(_=>{if(null===_)throw new Error("Not subscribed to push notifications.");return _.unsubscribe().then(N=>{if(!N)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ga))}decodeBase64(h){return atob(h)}}return v.\u0275fac=function(h){return new(h||v)(u.LFG(pn))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})(),Ga=(()=>{class v{constructor(h){if(this.sw=h,!h.isEnabled)return this.versionUpdates=Wn,this.available=Wn,this.activated=Wn,void(this.unrecoverable=Wn);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Rt.h)(_=>"VERSION_READY"===_.type),(0,wt.U)(_=>({type:"UPDATE_AVAILABLE",current:_.currentVersion,available:_.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ga));const h=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:h},h)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ga));const h=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:h},h)}}return v.\u0275fac=function(h){return new(h||v)(u.LFG(pn))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();class Js{}const hs=new u.OlP("NGSW_REGISTER_SCRIPT");function is(v,m,h,_){return()=>{if(!(0,Xn.NF)(_)||!("serviceWorker"in navigator)||!1===h.enabled)return;let Z;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof h.registrationStrategy)Z=h.registrationStrategy();else{const[Oe,...ft]=(h.registrationStrategy||"registerWhenStable:30000").split(":");switch(Oe){case"registerImmediately":Z=(0,Ii.of)(null);break;case"registerWithDelay":Z=bo(+ft[0]||0);break;case"registerWhenStable":Z=ft[0]?(0,mn.T)(ma(v),bo(+ft[0])):ma(v);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${h.registrationStrategy}`)}}v.get(u.R0b).runOutsideAngular(()=>Z.pipe((0,Qs.q)(1)).subscribe(()=>navigator.serviceWorker.register(m,{scope:h.scope}).catch(Oe=>console.error("Service worker registration failed with:",Oe))))}}function bo(v){return(0,Ii.of)(null).pipe(function Dr(v,m=Vi.z){const h=function Eo(v=0,m,h=Vi.P){let _=-1;return null!=m&&((0,hi.K)(m)?h=m:_=m),new Pa.y(N=>{let Z=function ir(v){return v instanceof Date&&!isNaN(v)}(v)?+v-h.now():v;Z<0&&(Z=0);let ye=0;return h.schedule(function(){N.closed||(N.next(ye++),0<=_?this.schedule(void 0,_):N.complete())},Z)})}(v,m);return vo(()=>h)}(v))}function ma(v){return v.get(u.z2F).isStable.pipe((0,Rt.h)(h=>h))}function Ji(v,m){return new pn((0,Xn.NF)(m)&&!1!==v.enabled?navigator.serviceWorker:void 0)}let Vo=(()=>{class v{static register(h,_={}){return{ngModule:v,providers:[{provide:hs,useValue:h},{provide:Js,useValue:_},{provide:pn,useFactory:Ji,deps:[Js,u.Lbi]},{provide:u.ip1,useFactory:is,deps:[u.zs3,hs,Js,u.Lbi],multi:!0}]}}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:[Jo,Ga]}),v})();const za={firebase:{projectId:"happypaws-621b1",appId:"1:957404999094:web:38ded4e2bb534d0ace2517",storageBucket:"happypaws-621b1.appspot.com",locationId:"europe-west",apiKey:"AIzaSyChst9Uo1po9_nMuuK4rN21r5MRbfZlRus",authDomain:"happypaws-621b1.firebaseapp.com",messagingSenderId:"957404999094"},production:!0};var wr=M(9592),Or=M(1795),fs=M(982),bt=M(3608);const Ka=["sublist"],xo=function(v){return{"p-hidden":v}};function bu(v,m){if(1&v&&u._UZ(0,"li",5),2&v){const h=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,xo,!1===h.visible))}}function gl(v,m){if(1&v&&u._UZ(0,"span",17),2&v){const h=u.oxw(3).$implicit;u.Q6J("ngClass",h.icon)("ngStyle",h.iconStyle)}}function Uo(v,m){if(1&v&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&v){const h=u.oxw(3).$implicit;u.xp6(1),u.Oqu(h.label)}}function ml(v,m){if(1&v&&u._UZ(0,"span",19),2&v){const h=u.oxw(3).$implicit;u.Q6J("innerHTML",h.label,u.oJD)}}function ya(v,m){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const h=u.oxw(3).$implicit;u.Q6J("ngClass",h.badgeStyleClass),u.xp6(1),u.Oqu(h.badge)}}function wu(v,m){1&v&&u._UZ(0,"span",21)}const Zi=function(v){return{"p-menuitem-link":!0,"p-disabled":v}};function Ol(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemKeyDown(N,Z))})("click",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemClick(N,Z))})("mouseenter",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemMouseEnter(N,Z))}),u.YNc(1,gl,1,2,"span",12),u.YNc(2,Uo,2,1,"span",13),u.YNc(3,ml,1,1,"ng-template",null,14,u.W1O),u.YNc(5,ya,2,2,"span",15),u.YNc(6,wu,1,0,"span",16),u.qZA()}if(2&v){const h=u.MAs(4),_=u.oxw(2).$implicit,N=u.oxw();u.Q6J("target",_.target)("ngClass",u.VKq(14,Zi,_.disabled)),u.uIk("href",_.url,u.LSH)("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0")("aria-haspopup",null!=N.item.items)("aria-expanded",N.item===N.activeItem),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",h),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function _a(v,m){if(1&v&&u._UZ(0,"span",17),2&v){const h=u.oxw(3).$implicit;u.Q6J("ngClass",h.icon)("ngStyle",h.iconStyle)}}function Ws(v,m){if(1&v&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&v){const h=u.oxw(3).$implicit;u.xp6(1),u.Oqu(h.label)}}function Za(v,m){if(1&v&&u._UZ(0,"span",19),2&v){const h=u.oxw(3).$implicit;u.Q6J("innerHTML",h.label,u.oJD)}}function Xi(v,m){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const h=u.oxw(3).$implicit;u.Q6J("ngClass",h.badgeStyleClass),u.xp6(1),u.Oqu(h.badge)}}function oo(v,m){1&v&&u._UZ(0,"span",21)}const ji=function(){return{exact:!1}};function T(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"a",22),u.NdJ("keydown",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemKeyDown(N,Z))})("click",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemClick(N,Z))})("mouseenter",function(N){u.CHM(h);const Z=u.oxw(2).$implicit,ye=u.oxw();return u.KtG(ye.onItemMouseEnter(N,Z))}),u.YNc(1,_a,1,2,"span",12),u.YNc(2,Ws,2,1,"span",13),u.YNc(3,Za,1,1,"ng-template",null,23,u.W1O),u.YNc(5,Xi,2,2,"span",15),u.YNc(6,oo,1,0,"span",16),u.qZA()}if(2&v){const h=u.MAs(4),_=u.oxw(2).$implicit;u.Q6J("routerLink",_.routerLink)("queryParams",_.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.routerLinkActiveOptions||u.DdM(21,ji))("target",_.target)("ngClass",u.VKq(22,Zi,_.disabled))("fragment",_.fragment)("queryParamsHandling",_.queryParamsHandling)("preserveFragment",_.preserveFragment)("skipLocationChange",_.skipLocationChange)("replaceUrl",_.replaceUrl)("state",_.state),u.uIk("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0"),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",h),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function C(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"p-tieredMenuSub",24),u.NdJ("keydownItem",function(N){u.CHM(h);const Z=u.oxw(3);return u.KtG(Z.onChildItemKeyDown(N))})("leafClick",function(){u.CHM(h);const N=u.oxw(3);return u.KtG(N.onLeafClick())}),u.qZA()}if(2&v){const h=u.oxw(2).$implicit,_=u.oxw();u.Q6J("parentActive",h===_.activeItem)("item",h)("mobileActive",_.mobileActive)("autoDisplay",_.autoDisplay)("popup",_.popup)}}const w=function(v,m){return{"p-menuitem":!0,"p-menuitem-active":v,"p-hidden":m}};function P(v,m){if(1&v&&(u.TgZ(0,"li",6,7),u.YNc(2,Ol,7,16,"a",8),u.YNc(3,T,7,24,"a",9),u.YNc(4,C,1,5,"p-tieredMenuSub",10),u.qZA()),2&v){const h=u.oxw().$implicit,_=u.oxw();u.Tol(h.styleClass),u.Q6J("ngClass",u.WLB(8,w,h===_.activeItem,!1===h.visible))("ngStyle",h.style)("tooltipOptions",h.tooltipOptions),u.xp6(2),u.Q6J("ngIf",!h.routerLink),u.xp6(1),u.Q6J("ngIf",h.routerLink),u.xp6(1),u.Q6J("ngIf",h.items)}}function B(v,m){if(1&v&&(u.YNc(0,bu,1,3,"li",3),u.YNc(1,P,5,11,"li",4)),2&v){const h=m.$implicit;u.Q6J("ngIf",h.separator),u.xp6(1),u.Q6J("ngIf",!h.separator)}}const ie=function(v){return{"p-submenu-list":v}},Ee=function(v){return{"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":v}},xe=function(v,m){return{showTransitionParams:v,hideTransitionParams:m}},It=function(v){return{value:"visible",params:v}};function an(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"div",1),u.NdJ("click",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayAnimationEnd(N))}),u.TgZ(1,"p-tieredMenuSub",2),u.NdJ("leafClick",function(){u.CHM(h);const N=u.oxw();return u.KtG(N.onLeafClick())}),u.qZA()()}if(2&v){const h=u.oxw();u.Tol(h.styleClass),u.Q6J("ngClass",u.VKq(12,Ee,h.popup))("ngStyle",h.style)("@overlayAnimation",u.VKq(17,It,u.WLB(14,xe,h.showTransitionOptions,h.hideTransitionOptions)))("@.disabled",!0!==h.popup),u.xp6(1),u.Q6J("item",h.model)("parentActive",h.parentActive)("baseZIndex",h.baseZIndex)("autoZIndex",h.autoZIndex)("autoDisplay",h.autoDisplay)("popup",h.popup)}}let On=(()=>{class v{constructor(h,_,N){this.el=h,this.renderer=_,this.cd=N,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new u.vpe,this.keydownItem=new u.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(h){this.root||(this._parentActive=h,h?this.positionSubmenu():this.activeItem=null)}onItemClick(h,_){_.disabled?h.preventDefault():(!_.url&&!_.routerLink&&h.preventDefault(),_.command&&_.command({originalEvent:h,item:_}),_.items&&(this.activeItem&&_===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=_,this.root&&this.bindDocumentClickListener())),_.items||this.onLeafClick())}onItemMouseEnter(h,_){_.disabled||this.mobileActive?h.preventDefault():this.root?(this.activeItem||this.autoDisplay||this.popup)&&(this.activeItem=_,this.bindDocumentClickListener()):(this.activeItem=_,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}onItemKeyDown(h,_){let N=h.currentTarget.parentElement;switch(h.key){case"ArrowDown":const Z=this.findNextItem(N);Z&&Z.children[0].focus(),h.preventDefault();break;case"ArrowUp":const ye=this.findPrevItem(N);ye&&ye.children[0].focus(),h.preventDefault();break;case"ArrowRight":_.items&&(this.activeItem=_,this.root&&this.bindDocumentClickListener(),setTimeout(()=>{N.children[1].children[0].children[0].children[0].focus()},50)),h.preventDefault();break;case"Enter":_.routerLink||this.onItemClick(h,_)}this.keydownItem.emit({originalEvent:h,element:N})}positionSubmenu(){let h=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(h){const _=h.parentElement.parentElement,N=wr.p.getOffset(_),Z=wr.p.getViewport(),ye=h.offsetParent?h.offsetWidth:wr.p.getHiddenElementOuterWidth(h),Oe=wr.p.getOuterWidth(_.children[0]);parseInt(N.left,10)+Oe+ye>Z.width-wr.p.calculateScrollbarWidth()&&wr.p.addClass(h,"p-submenu-list-flipped")}}findNextItem(h){let _=h.nextElementSibling;return _?wr.p.hasClass(_,"p-disabled")||!wr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(h){let _=h.previousElementSibling;return _?wr.p.hasClass(_,"p-disabled")||!wr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}onChildItemKeyDown(h){"ArrowLeft"===h.originalEvent.key&&(this.activeItem=null,this.root&&this.unbindDocumentClickListener(),h.element.parentElement.parentElement.parentElement.children[0].focus())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=h=>{this.el&&!this.el.nativeElement.contains(h.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO))},v.\u0275cmp=u.Xpm({type:v,selectors:[["p-tieredMenuSub"]],viewQuery:function(h,_){if(1&h&&u.Gf(Ka,5),2&h){let N;u.iGM(N=u.CRH())&&(_.sublistViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",popup:"popup",parentActive:"parentActive"},outputs:{leafClick:"leafClick",keydownItem:"keydownItem"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["pRipple","",3,"target","ngClass","keydown","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","keydown","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick"]],template:function(h,_){1&h&&(u.TgZ(0,"ul",0,1),u.YNc(2,B,2,2,"ng-template",2),u.qZA()),2&h&&(u.Q6J("ngClass",u.VKq(2,ie,!_.root)),u.xp6(2),u.Q6J("ngForOf",_.root?_.item:_.item.items))},dependencies:[Xn.mk,Xn.sg,Xn.O5,Xn.PC,Fi.yS,Fi.Od,Or.H,bt.u,v],encapsulation:2}),v})(),Pn=(()=>{class v{constructor(h,_,N,Z,ye){this.el=h,this.renderer=_,this.cd=N,this.config=Z,this.overlayService=ye,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}toggle(h){this.visible?this.hide():this.show(h),this.preventDocumentDefault=!0}show(h){this.target=h.currentTarget,this.relativeAlign=h.relativeAlign,this.visible=!0,this.parentActive=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(h){this.popup&&this.overlayService.add({originalEvent:h,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(h){switch(h.toState){case"visible":this.popup&&(this.container=h.element,this.moveOnTop(),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide()}}alignOverlay(){this.relativeAlign?wr.p.relativePosition(this.container,this.target):wr.p.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(h){"void"===h.toState&&fs.P9.clear(h.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):wr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&fs.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.parentActive=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!wr.p.isTouchDevice()&&this.hide()}onLeafClick(){this.popup&&this.hide(),this.unbindDocumentClickListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{!this.preventDocumentDefault&&this.popup&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new wr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&fs.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Yi.b4),u.Y36(Yi.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["p-tieredMenu"]],hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["root","root",3,"item","parentActive","baseZIndex","autoZIndex","autoDisplay","popup","leafClick"]],template:function(h,_){1&h&&u.YNc(0,an,2,19,"div",0),2&h&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[Xn.mk,Xn.O5,Xn.PC,On],styles:[".p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),v})(),Zr=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Xn.ez,Fi.Bz,Or.T,bt.z,Fi.Bz,bt.z]}),v})();const Gs=["pMenuItemContent",""];function ao(v,m){if(1&v&&u._UZ(0,"span",7),2&v){const h=u.oxw(2);u.Tol(h.item.iconClass),u.Q6J("ngClass",h.item.icon)("ngStyle",h.item.iconStyle)}}function Xo(v,m){if(1&v&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&v){const h=u.oxw(2);u.xp6(1),u.Oqu(h.item.label)}}function ss(v,m){if(1&v&&u._UZ(0,"span",9),2&v){const h=u.oxw(2);u.Q6J("innerHTML",h.item.label,u.oJD)}}function ea(v,m){if(1&v&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&v){const h=u.oxw(2);u.Q6J("ngClass",h.item.badgeStyleClass),u.xp6(1),u.Oqu(h.item.badge)}}const Ls=function(v){return{"p-disabled":v}};function va(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"a",2),u.NdJ("keydown",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onItemKeyDown(N))})("click",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.menu.itemClick(N,Z.item))}),u.YNc(1,ao,1,4,"span",3),u.YNc(2,Xo,2,1,"span",4),u.YNc(3,ss,1,1,"ng-template",null,5,u.W1O),u.YNc(5,ea,2,2,"span",6),u.qZA()}if(2&v){const h=u.MAs(4),_=u.oxw();u.Q6J("target",_.item.target)("ngClass",u.VKq(12,Ls,_.item.disabled))("target",_.item.target),u.uIk("href",_.item.url||null,u.LSH)("tabindex",_.item.disabled?null:"0")("data-automationid",_.item.automationId)("title",_.item.title)("id",_.item.id),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",h),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}function wo(v,m){if(1&v&&u._UZ(0,"span",14),2&v){const h=u.oxw(2);u.Q6J("ngClass",h.item.icon)}}function su(v,m){if(1&v&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&v){const h=u.oxw(2);u.xp6(1),u.Oqu(h.item.label)}}function os(v,m){if(1&v&&u._UZ(0,"span",9),2&v){const h=u.oxw(2);u.Q6J("innerHTML",h.item.label,u.oJD)}}function Po(v,m){if(1&v&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&v){const h=u.oxw(2);u.Q6J("ngClass",h.item.badgeStyleClass),u.xp6(1),u.Oqu(h.item.badge)}}const lo=function(){return{exact:!1}};function ta(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onItemKeyDown(N))})("click",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.menu.itemClick(N,Z.item))}),u.YNc(1,wo,1,1,"span",12),u.YNc(2,su,2,1,"span",4),u.YNc(3,os,1,1,"ng-template",null,13,u.W1O),u.YNc(5,Po,2,2,"span",6),u.qZA()}if(2&v){const h=u.MAs(4),_=u.oxw();u.Q6J("routerLink",_.item.routerLink)("queryParams",_.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.item.routerLinkActiveOptions||u.DdM(20,lo))("target",_.item.target)("ngClass",u.VKq(21,Ls,_.item.disabled))("fragment",_.item.fragment)("queryParamsHandling",_.item.queryParamsHandling)("preserveFragment",_.item.preserveFragment)("skipLocationChange",_.item.skipLocationChange)("replaceUrl",_.item.replaceUrl)("state",_.item.state),u.uIk("data-automationid",_.item.automationId)("id",_.item.id)("tabindex",_.item.disabled?null:"0")("title",_.item.title),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",h),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}const ou=["container"],uo=function(v){return{"p-hidden":v}};function jl(v,m){if(1&v&&u._UZ(0,"li",8),2&v){const h=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,uo,!1===h.visible))}}function Ro(v,m){if(1&v&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&v){const h=u.oxw(2).$implicit;u.xp6(1),u.Oqu(h.label)}}function Ea(v,m){if(1&v&&u._UZ(0,"span",12),2&v){const h=u.oxw(2).$implicit;u.Q6J("innerHTML",h.label,u.oJD)}}function R(v,m){if(1&v&&(u.TgZ(0,"li",9),u.YNc(1,Ro,2,1,"span",10),u.YNc(2,Ea,1,1,"ng-template",null,11,u.W1O),u.qZA()),2&v){const h=u.MAs(3),_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(5,uo,!1===_.visible))("tooltipOptions",_.tooltipOptions),u.uIk("data-automationid",_.automationId),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",h)}}function H(v,m){if(1&v&&u._UZ(0,"li",8),2&v){const h=u.oxw().$implicit,_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,uo,!1===h.visible||!1===_.visible))}}function oe(v,m){if(1&v&&u._UZ(0,"li",14),2&v){const h=u.oxw().$implicit,_=u.oxw().$implicit;u.Tol(h.styleClass),u.Q6J("pMenuItemContent",h)("ngClass",u.VKq(6,uo,!1===h.visible||!1===_.visible))("ngStyle",h.style)("tooltipOptions",h.tooltipOptions)}}function De(v,m){if(1&v&&(u.YNc(0,H,1,3,"li",6),u.YNc(1,oe,1,8,"li",13)),2&v){const h=m.$implicit;u.Q6J("ngIf",h.separator),u.xp6(1),u.Q6J("ngIf",!h.separator)}}function ot(v,m){if(1&v&&(u.YNc(0,jl,1,3,"li",6),u.YNc(1,R,4,7,"li",7),u.YNc(2,De,2,2,"ng-template",5)),2&v){const h=m.$implicit;u.Q6J("ngIf",h.separator),u.xp6(1),u.Q6J("ngIf",!h.separator),u.xp6(1),u.Q6J("ngForOf",h.items)}}function Tt(v,m){if(1&v&&u.YNc(0,ot,3,3,"ng-template",5),2&v){const h=u.oxw(2);u.Q6J("ngForOf",h.model)}}function Kt(v,m){if(1&v&&u._UZ(0,"li",8),2&v){const h=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,uo,!1===h.visible))}}function Cn(v,m){if(1&v&&u._UZ(0,"li",14),2&v){const h=u.oxw().$implicit;u.Tol(h.styleClass),u.Q6J("pMenuItemContent",h)("ngClass",u.VKq(6,uo,!1===h.visible))("ngStyle",h.style)("tooltipOptions",h.tooltipOptions)}}function sr(v,m){if(1&v&&(u.YNc(0,Kt,1,3,"li",6),u.YNc(1,Cn,1,8,"li",13)),2&v){const h=m.$implicit;u.Q6J("ngIf",h.separator),u.xp6(1),u.Q6J("ngIf",!h.separator)}}function mr(v,m){if(1&v&&u.YNc(0,sr,2,2,"ng-template",5),2&v){const h=u.oxw(2);u.Q6J("ngForOf",h.model)}}const Zn=function(v){return{"p-menu p-component":!0,"p-menu-overlay":v}},er=function(v,m){return{showTransitionParams:v,hideTransitionParams:m}},yr=function(v){return{value:"visible",params:v}};function Xs(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onOverlayAnimationEnd(N))}),u.TgZ(2,"ul",3),u.YNc(3,Tt,1,1,null,4),u.YNc(4,mr,1,1,null,4),u.qZA()()}if(2&v){const h=u.oxw();u.Tol(h.styleClass),u.Q6J("ngClass",u.VKq(8,Zn,h.popup))("ngStyle",h.style)("@overlayAnimation",u.VKq(13,yr,u.WLB(10,er,h.showTransitionOptions,h.hideTransitionOptions)))("@.disabled",!0!==h.popup),u.xp6(3),u.Q6J("ngIf",h.hasSubMenu()),u.xp6(1),u.Q6J("ngIf",!h.hasSubMenu())}}let qa=(()=>{class v{constructor(h){this.menu=h}onItemKeyDown(h){let _=h.currentTarget.parentElement;switch(h.code){case"ArrowDown":var N=this.findNextItem(_);N&&N.children[0].focus(),h.preventDefault();break;case"ArrowUp":var Z=this.findPrevItem(_);Z&&Z.children[0].focus(),h.preventDefault();break;case"Space":case"Enter":_&&!wr.p.hasClass(_,"p-disabled")&&_.children[0].click(),h.preventDefault()}}findNextItem(h){let _=h.nextElementSibling;return _?wr.p.hasClass(_,"p-disabled")||!wr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(h){let _=h.previousElementSibling;return _?wr.p.hasClass(_,"p-disabled")||!wr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}}return v.\u0275fac=function(h){return new(h||v)(u.Y36((0,u.Gpc)(()=>Ds)))},v.\u0275cmp=u.Xpm({type:v,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:Gs,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(h,_){1&h&&(u.YNc(0,va,6,14,"a",0),u.YNc(1,ta,6,23,"a",1)),2&h&&(u.Q6J("ngIf",!_.item.routerLink),u.xp6(1),u.Q6J("ngIf",_.item.routerLink))},dependencies:[Xn.mk,Xn.O5,Xn.PC,Fi.yS,Fi.Od,Or.H],encapsulation:2}),v})(),Ds=(()=>{class v{constructor(h,_,N,Z,ye){this.el=h,this.renderer=_,this.cd=N,this.config=Z,this.overlayService=ye,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new u.vpe,this.onHide=new u.vpe}toggle(h){this.visible?this.hide():this.show(h),this.preventDocumentDefault=!0}show(h){this.target=h.currentTarget,this.relativeAlign=h.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(h){switch(h.toState){case"visible":this.popup&&(this.container=h.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(h){"void"===h.toState&&this.autoZIndex&&fs.P9.clear(h.element)}alignOverlay(){this.relativeAlign?wr.p.relativePosition(this.container,this.target):wr.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):wr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&fs.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!wr.p.isTouchDevice()&&this.hide()}itemClick(h,_){_.disabled?h.preventDefault():(!_.url&&!_.routerLink&&h.preventDefault(),_.command&&_.command({originalEvent:h,item:_}),this.popup&&this.hide())}onOverlayClick(h){this.popup&&this.overlayService.add({originalEvent:h,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new wr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&fs.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var h of this.model)if(h.items)return!0;return!1}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Yi.b4),u.Y36(Yi.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["p-menu"]],viewQuery:function(h,_){if(1&h&&u.Gf(ou,5),2&h){let N;u.iGM(N=u.CRH())&&(_.containerViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(h,_){1&h&&u.YNc(0,Xs,5,15,"div",0),2&h&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[Xn.mk,Xn.sg,Xn.O5,Xn.PC,bt.u,qa],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{display:flex;align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),v})(),ba=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Xn.ez,Fi.Bz,Or.T,bt.z,Fi.Bz,bt.z]}),v})();const Ya=function(v,m){return{showTransitionParams:v,hideTransitionParams:m}},Qa=function(v){return{value:"open",params:v}};function wa(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"button",1),u.NdJ("@animation.start",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onEnter(N))})("@animation.done",function(N){u.CHM(h);const Z=u.oxw();return u.KtG(Z.onLeave(N))})("click",function(){u.CHM(h);const N=u.oxw();return u.KtG(N.onClick())}),u._UZ(1,"span",2),u.qZA()}if(2&v){const h=u.oxw();u.Tol(h.styleClass),u.Q6J("@animation",u.VKq(11,Qa,u.WLB(8,Ya,h.showTransitionOptions,h.hideTransitionOptions)))("ngClass",h.containerClass())("ngStyle",h.style),u.xp6(1),u.Tol(h.icon),u.Q6J("ngClass","p-scrolltop-icon")}}let Io=(()=>{class v{constructor(h,_,N){this.el=h,this.cd=_,this.config=N,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(h){switch(h.toState){case"open":this.overlay=h.element,fs.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(h){"void"===h.toState&&fs.P9.clear(h.element)}checkVisibility(h){this.visible=h>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(wr.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(fs.P9.clear(this.overlay),this.overlay=null)}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Yi.b4))},v.\u0275cmp=u.Xpm({type:v,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(h,_){1&h&&u.YNc(0,wa,2,13,"button",0),2&h&&u.Q6J("ngIf",_.visible)},dependencies:[Xn.mk,Xn.O5,Xn.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,k.X$)("animation",[(0,k.SB)("void",(0,k.oB)({opacity:0})),(0,k.SB)("open",(0,k.oB)({opacity:1})),(0,k.eR)("void => open",(0,k.jt)("{{showTransitionParams}}")),(0,k.eR)("open => void",(0,k.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),v})(),No=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Xn.ez]}),v})();var ps=M(433);const _h=["headerchkbox"],Pc=["filter"];function bd(v,m){1&v&&u.GkF(0)}function Ju(v,m){if(1&v&&(u.TgZ(0,"div",6),u.Hsn(1),u.YNc(2,bd,1,0,"ng-container",7),u.qZA()),2&v){const h=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",h.headerTemplate)}}const Rc=function(v){return{"p-checkbox-disabled":v}},wd=function(v,m,h){return{"p-highlight":v,"p-focus":m,"p-disabled":h}},Xu=function(v){return{"pi pi-check":v}};function Iu(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"div",11)(1,"div",12)(2,"input",13),u.NdJ("focus",function(){u.CHM(h);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxFocus())})("blur",function(){u.CHM(h);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxBlur())})("keydown.space",function(N){u.CHM(h);const Z=u.oxw(2);return u.KtG(Z.toggleAll(N))}),u.qZA()(),u.TgZ(3,"div",14,15),u.NdJ("click",function(N){u.CHM(h);const Z=u.oxw(2);return u.KtG(Z.toggleAll(N))}),u._UZ(5,"span",16),u.qZA()()}if(2&v){const h=u.oxw(2);u.Q6J("ngClass",u.VKq(5,Rc,h.disabled||h.toggleAllDisabled)),u.xp6(2),u.Q6J("checked",h.allChecked)("disabled",h.disabled||h.toggleAllDisabled),u.xp6(1),u.Q6J("ngClass",u.kEZ(7,wd,h.allChecked,h.headerCheckboxFocus,h.disabled||h.toggleAllDisabled)),u.xp6(2),u.Q6J("ngClass",u.VKq(11,Xu,h.allChecked))}}function na(v,m){1&v&&u.GkF(0)}const Wl=function(v){return{options:v}};function Nc(v,m){if(1&v&&(u.ynx(0),u.YNc(1,na,1,0,"ng-container",17),u.BQk()),2&v){const h=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",h.filterTemplate)("ngTemplateOutletContext",u.VKq(2,Wl,h.filterOptions))}}function Id(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"div",19)(1,"input",20,21),u.NdJ("input",function(N){u.CHM(h);const Z=u.oxw(3);return u.KtG(Z.onFilter(N))}),u.qZA(),u._UZ(3,"span",22),u.qZA()}if(2&v){const h=u.oxw(3);u.xp6(1),u.Q6J("value",h.filterValue||"")("disabled",h.disabled),u.uIk("placeholder",h.filterPlaceHolder)("aria-label",h.ariaFilterLabel)}}function ec(v,m){if(1&v&&u.YNc(0,Id,4,4,"div",18),2&v){const h=u.oxw(2);u.Q6J("ngIf",h.filter)}}function yl(v,m){if(1&v&&(u.TgZ(0,"div",6),u.YNc(1,Iu,6,13,"div",8),u.YNc(2,Nc,2,4,"ng-container",9),u.YNc(3,ec,1,1,"ng-template",null,10,u.W1O),u.qZA()),2&v){const h=u.MAs(4),_=u.oxw();u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll),u.xp6(1),u.Q6J("ngIf",_.filterTemplate)("ngIfElse",h)}}function Cu(v,m){if(1&v&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&v){const h=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionGroupLabel(h)||"empty")}}function Gl(v,m){1&v&&u.GkF(0)}function kc(v,m){1&v&&u.GkF(0)}const Na=function(v){return{$implicit:v}};function au(v,m){if(1&v&&(u.TgZ(0,"li",24),u.YNc(1,Cu,2,1,"span",3),u.YNc(2,Gl,1,0,"ng-container",17),u.qZA(),u.YNc(3,kc,1,0,"ng-container",17)),2&v){const h=m.$implicit,_=u.oxw(2),N=u.MAs(8);u.xp6(1),u.Q6J("ngIf",!_.groupTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",_.groupTemplate)("ngTemplateOutletContext",u.VKq(5,Na,h)),u.xp6(1),u.Q6J("ngTemplateOutlet",N)("ngTemplateOutletContext",u.VKq(7,Na,_.getOptionGroupChildren(h)))}}function _l(v,m){if(1&v&&(u.ynx(0),u.YNc(1,au,4,9,"ng-template",23),u.BQk()),2&v){const h=u.oxw();u.xp6(1),u.Q6J("ngForOf",h.optionsToRender)}}function zl(v,m){1&v&&u.GkF(0)}function ra(v,m){if(1&v&&(u.ynx(0),u.YNc(1,zl,1,0,"ng-container",17),u.BQk()),2&v){const h=u.oxw(),_=u.MAs(8);u.xp6(1),u.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",u.VKq(2,Na,h.optionsToRender))}}const Cd=function(v){return{"p-highlight":v}};function Ja(v,m){if(1&v&&(u.TgZ(0,"div",11)(1,"div",28),u._UZ(2,"span",16),u.qZA()()),2&v){const h=u.oxw().$implicit,_=u.oxw(2);u.Q6J("ngClass",u.VKq(3,Rc,_.disabled||_.isOptionDisabled(h))),u.xp6(1),u.Q6J("ngClass",u.VKq(5,Cd,_.isSelected(h))),u.xp6(1),u.Q6J("ngClass",u.VKq(7,Xu,_.isSelected(h)))}}function Tu(v,m){if(1&v&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&v){const h=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionLabel(h))}}function Du(v,m){1&v&&u.GkF(0)}const Su=function(v,m){return{"p-listbox-item":!0,"p-highlight":v,"p-disabled":m}},tc=function(v,m){return{$implicit:v,index:m}};function ka(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"li",27),u.NdJ("click",function(N){const ye=u.CHM(h).$implicit,Oe=u.oxw(2);return u.KtG(Oe.onOptionClick(N,ye))})("dblclick",function(N){const ye=u.CHM(h).$implicit,Oe=u.oxw(2);return u.KtG(Oe.onOptionDoubleClick(N,ye))})("touchend",function(){const Z=u.CHM(h).$implicit,ye=u.oxw(2);return u.KtG(ye.onOptionTouchEnd(Z))})("keydown",function(N){const ye=u.CHM(h).$implicit,Oe=u.oxw(2);return u.KtG(Oe.onOptionKeyDown(N,ye))}),u.YNc(1,Ja,3,9,"div",8),u.YNc(2,Tu,2,1,"span",3),u.YNc(3,Du,1,0,"ng-container",17),u.qZA()}if(2&v){const h=m.$implicit,_=m.index,N=u.oxw(2);u.Q6J("ngClass",u.WLB(8,Su,N.isSelected(h),N.isOptionDisabled(h))),u.uIk("tabindex",N.disabled||N.isOptionDisabled(h)?null:"0")("aria-label",N.getOptionLabel(h))("aria-selected",N.isSelected(h)),u.xp6(1),u.Q6J("ngIf",N.checkbox&&N.multiple),u.xp6(1),u.Q6J("ngIf",!N.itemTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",N.itemTemplate)("ngTemplateOutletContext",u.WLB(11,tc,h,_))}}function Td(v,m){if(1&v&&(u.ynx(0),u._uU(1),u.BQk()),2&v){const h=u.oxw(3);u.xp6(1),u.hij(" ",h.emptyFilterMessageLabel," ")}}function Au(v,m){1&v&&u.GkF(0,null,30)}function Lc(v,m){if(1&v&&(u.TgZ(0,"li",29),u.YNc(1,Td,2,1,"ng-container",9),u.YNc(2,Au,2,0,"ng-container",7),u.qZA()),2&v){const h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!h.emptyFilterTemplate&&!h.emptyTemplate)("ngIfElse",h.emptyFilter),u.xp6(1),u.Q6J("ngTemplateOutlet",h.emptyFilterTemplate||h.emptyTemplate)}}function nc(v,m){if(1&v&&(u.ynx(0),u._uU(1),u.BQk()),2&v){const h=u.oxw(3);u.xp6(1),u.hij(" ",h.emptyMessageLabel," ")}}function Mu(v,m){1&v&&u.GkF(0,null,31)}function Ia(v,m){if(1&v&&(u.TgZ(0,"li",29),u.YNc(1,nc,2,1,"ng-container",9),u.YNc(2,Mu,2,0,"ng-container",7),u.qZA()),2&v){const h=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!h.emptyTemplate)("ngIfElse",h.empty),u.xp6(1),u.Q6J("ngTemplateOutlet",h.emptyTemplate)}}function Kl(v,m){if(1&v&&(u.YNc(0,ka,4,14,"li",25),u.YNc(1,Lc,3,3,"li",26),u.YNc(2,Ia,3,3,"li",26)),2&v){const h=m.$implicit,_=u.oxw();u.Q6J("ngForOf",h),u.xp6(1),u.Q6J("ngIf",_.hasFilter()&&_.isEmpty(h)),u.xp6(1),u.Q6J("ngIf",!_.hasFilter()&&_.isEmpty(h))}}function rc(v,m){1&v&&u.GkF(0)}function xl(v,m){if(1&v&&(u.TgZ(0,"div",32),u.Hsn(1,1),u.YNc(2,rc,1,0,"ng-container",7),u.qZA()),2&v){const h=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",h.footerTemplate)}}const Pl=[[["p-header"]],[["p-footer"]]],Fc=function(v){return{"p-listbox p-component":!0,"p-disabled":v}},Rl=["p-header","p-footer"],Vc={provide:ps.JU,useExisting:(0,u.Gpc)(()=>I),multi:!0};let I=(()=>{class v{constructor(h,_,N,Z){this.el=h,this.cd=_,this.filterService=N,this.config=Z,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new u.vpe,this.onClick=new u.vpe,this.onDblClick=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(h){this._options=h,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(h){this._filterValue=h,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:h=>this.onFilter(h),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(h=>{switch(h.getType()){case"item":default:this.itemTemplate=h.template;break;case"group":this.groupTemplate=h.template;break;case"header":this.headerTemplate=h.template;break;case"filter":this.filterTemplate=h.template;break;case"footer":this.footerTemplate=h.template;break;case"empty":this.emptyTemplate=h.template;break;case"emptyfilter":this.emptyFilterTemplate=h.template}})}getOptionLabel(h){return this.optionLabel?fs.gb.resolveFieldData(h,this.optionLabel):null!=h.label?h.label:h}getOptionGroupChildren(h){return this.optionGroupChildren?fs.gb.resolveFieldData(h,this.optionGroupChildren):h.items}getOptionGroupLabel(h){return this.optionGroupLabel?fs.gb.resolveFieldData(h,this.optionGroupLabel):null!=h.label?h.label:h}getOptionValue(h){return this.optionValue?fs.gb.resolveFieldData(h,this.optionValue):this.optionLabel||void 0===h.value?h:h.value}isOptionDisabled(h){return this.optionDisabled?fs.gb.resolveFieldData(h,this.optionDisabled):void 0!==h.disabled&&h.disabled}writeValue(h){this.value=h,this.cd.markForCheck()}registerOnChange(h){this.onModelChange=h}registerOnTouched(h){this.onModelTouched=h}setDisabledState(h){this.disabled=h,this.cd.markForCheck()}onOptionClick(h,_){this.disabled||this.isOptionDisabled(_)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(h,_):this.onOptionClickMultiple(h,_):this.onOptionClickSingle(h,_),this.onClick.emit({originalEvent:h,option:_,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(h){this.disabled||this.isOptionDisabled(h)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(h,_){this.disabled||this.isOptionDisabled(_)||this.readonly||this.onDblClick.emit({originalEvent:h,option:_,value:this.value})}onOptionClickSingle(h,_){let N=this.isSelected(_),Z=!1;if(!this.optionTouched&&this.metaKeySelection){let Oe=h.metaKey||h.ctrlKey;N?Oe&&(this.value=null,Z=!0):(this.value=this.getOptionValue(_),Z=!0)}else this.value=N?null:this.getOptionValue(_),Z=!0;Z&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:h,value:this.value}))}onOptionClickMultiple(h,_){let N=this.isSelected(_),Z=!1;if(!this.optionTouched&&this.metaKeySelection){let Oe=h.metaKey||h.ctrlKey;N?(Oe?this.removeOption(_):this.value=[this.getOptionValue(_)],Z=!0):(this.value=Oe&&this.value||[],this.value=[...this.value,this.getOptionValue(_)],Z=!0)}else N?this.removeOption(_):this.value=[...this.value||[],this.getOptionValue(_)],Z=!0;Z&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:h,value:this.value}))}onOptionClickCheckbox(h,_){this.disabled||this.readonly||(this.isSelected(_)?this.removeOption(_):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(_)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:h,value:this.value}))}removeOption(h){this.value=this.value.filter(_=>!fs.gb.equals(_,this.getOptionValue(h),this.dataKey))}isSelected(h){let _=!1,N=this.getOptionValue(h);if(this.multiple){if(this.value)for(let Z of this.value)if(fs.gb.equals(Z,N,this.dataKey)){_=!0;break}}else _=fs.gb.equals(this.value,N,this.dataKey);return _}get allChecked(){let h=this.optionsToRender;if(!h||0===h.length)return!1;{let _=0,N=0,Z=0,ye=this.group?0:this.optionsToRender.length;for(let Oe of h)if(this.group)for(let ft of this.getOptionGroupChildren(Oe)){let Nt=this.isOptionDisabled(ft),En=this.isSelected(ft);if(Nt)En?_++:N++;else{if(!En)return!1;Z++}ye++}else{let ft=this.isOptionDisabled(Oe),Nt=this.isSelected(Oe);if(ft)Nt?_++:N++;else{if(!Nt)return!1;Z++}}return ye===_||ye===Z||Z&&ye===Z+N+_}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Yi.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Yi.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(h){return!h||h&&0===h.length}onFilter(h){this._filterValue=h.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let h=(this.filterBy||this.optionLabel||"label").split(","),_=[];for(let N of this.options){let Z=this.filterService.filter(this.getOptionGroupChildren(N),h,this.filterValue,this.filterMatchMode,this.filterLocale);Z&&Z.length&&_.push({...N,[this.optionGroupChildren]:Z})}this._filteredOptions=_}else this._filteredOptions=this._options.filter(h=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(h),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let h=this.optionsToRender;if(!h||0===h.length)return!0;for(let _ of h)if(!this.isOptionDisabled(_))return!1;return!0}toggleAll(h){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:h,value:this.value}),h.preventDefault())}checkAll(){let _=[];this.optionsToRender.forEach(N=>{if(this.group){let Z=this.getOptionGroupChildren(N);Z&&Z.forEach(ye=>{let Oe=this.isOptionDisabled(ye);(!Oe||Oe&&this.isSelected(ye))&&_.push(this.getOptionValue(ye))})}else{let Z=this.isOptionDisabled(N);(!Z||Z&&this.isSelected(N))&&_.push(this.getOptionValue(N))}}),this.value=_}uncheckAll(){let _=[];this.optionsToRender.forEach(N=>{this.group?N.items&&N.items.forEach(Z=>{this.isOptionDisabled(Z)&&this.isSelected(Z)&&_.push(this.getOptionValue(Z))}):this.isOptionDisabled(N)&&this.isSelected(N)&&_.push(this.getOptionValue(N))}),this.value=_}onOptionKeyDown(h,_){if(this.readonly)return;let N=h.currentTarget;switch(h.which){case 40:var Z=this.findNextItem(N);Z&&Z.focus(),h.preventDefault();break;case 38:var ye=this.findPrevItem(N);ye&&ye.focus(),h.preventDefault();break;case 13:this.onOptionClick(h,_),h.preventDefault()}}findNextItem(h){let _=h.nextElementSibling;return _?wr.p.hasClass(_,"p-disabled")||wr.p.isHidden(_)||wr.p.hasClass(_,"p-listbox-item-group")?this.findNextItem(_):_:null}findPrevItem(h){let _=h.previousElementSibling;return _?wr.p.hasClass(_,"p-disabled")||wr.p.isHidden(_)||wr.p.hasClass(_,"p-listbox-item-group")?this.findPrevItem(_):_:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Yi.iZ),u.Y36(Yi.b4))},v.\u0275cmp=u.Xpm({type:v,selectors:[["p-listbox"]],contentQueries:function(h,_,N){if(1&h&&(u.Suo(N,Yi.h4,5),u.Suo(N,Yi.$_,5),u.Suo(N,Yi.jx,4)),2&h){let Z;u.iGM(Z=u.CRH())&&(_.headerFacet=Z.first),u.iGM(Z=u.CRH())&&(_.footerFacet=Z.first),u.iGM(Z=u.CRH())&&(_.templates=Z)}},viewQuery:function(h,_){if(1&h&&(u.Gf(_h,5),u.Gf(Pc,5)),2&h){let N;u.iGM(N=u.CRH())&&(_.headerCheckboxViewChild=N.first),u.iGM(N=u.CRH())&&(_.filterViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[u._Bn([Vc])],ngContentSelectors:Rl,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(h,_){1&h&&(u.F$t(Pl),u.TgZ(0,"div",0),u.YNc(1,Ju,3,1,"div",1),u.YNc(2,yl,5,3,"div",1),u.TgZ(3,"div",0)(4,"ul",2),u.YNc(5,_l,2,1,"ng-container",3),u.YNc(6,ra,2,4,"ng-container",3),u.YNc(7,Kl,3,3,"ng-template",null,4,u.W1O),u.qZA()(),u.YNc(9,xl,3,1,"div",5),u.qZA()),2&h&&(u.Tol(_.styleClass),u.Q6J("ngClass",u.VKq(13,Fc,_.disabled))("ngStyle",_.style),u.xp6(1),u.Q6J("ngIf",_.headerFacet||_.headerTemplate),u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll||_.filter),u.xp6(1),u.Tol(_.listStyleClass),u.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",_.listStyle),u.xp6(2),u.Q6J("ngIf",_.group),u.xp6(1),u.Q6J("ngIf",!_.group),u.xp6(3),u.Q6J("ngIf",_.footerFacet||_.footerTemplate))},dependencies:[Xn.mk,Xn.sg,Xn.O5,Xn.tP,Xn.PC,Or.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),v})(),g=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Xn.ez,Yi.m8,Or.T,Yi.m8]}),v})();var y=M(4458);const S=(0,Fr.PH)("FILL_BLOG",(0,Fr.Ky)()),ne=(0,Fr.PH)("RESET_BLOG"),ge=(0,Fr.PH)("FILL_ADOPTION",(0,Fr.Ky)()),lt=(0,Fr.PH)("RESET_ADOPTION");var Ut=M(4382),Sn=M(7556);const Fn=function(){return{exact:!1}};let Vr=(()=>{class v{constructor(h,_){this._router=h,this._authService=_,this.storeMenuItems=[{label:"Cat",icon:"fa-solid fa-cat",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Cat},fragment:"anchor"})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Cat,category:Mi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Cat,category:Mi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Cat,category:Mi.P.Grooming}})}}]},{label:"Dog",icon:"fa-solid fa-dog",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Dog}})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Dog,category:Mi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Dog,category:Mi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:di.D.Dog,category:Mi.P.Grooming}})}}]}],this.userMenuItems=[]}ngOnInit(){this.userMenuItems=[{items:this.getUserItems()}]}getUserItems(){let h=[];return h=localStorage.getItem("token")?[{label:"Profile",icon:"pi pi-user",command:()=>{this._router.navigate(["/auth/profile"])}},{label:"Cart",icon:"pi pi-shopping-cart",command:()=>{this._router.navigate(["/store/cart"])}},{label:"Wishlist",icon:"pi pi-heart-fill",command:()=>{this._router.navigate(["/store/wishlist"])}},{label:"Logout",icon:"pi pi-sign-out",command:()=>{this.logout()}}]:[{label:"Sign In",icon:"pi pi-sign-in",command:()=>{this._router.navigate(["/auth/login"])}},{label:"Sign Up",icon:"pi pi-user-plus",command:()=>{this._router.navigate(["/auth/register"])}}],h}logout(){this._authService.logout().then(h=>{if(localStorage.clear(),window.location.href.includes("github")){let _=window.location.href,N=_.substring(0,_.indexOf("io/")+3),Z=_.replace(N,"");window.location.href=N+Z.substring(0,Z.indexOf("/")+1)}else window.location.href="/"})}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(Fi.F0),u.Y36(Sn.e))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-nav-bar"]],decls:46,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light","sticky-top","d-flex","flex-column"],[1,"container"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-2","navbar__logo-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mx-3","mx-lg-0","mt-3","mt-lg-0","justify-content-end"],[1,"nav-item","mx-2","d-lg-flex","justify-content-center","align-items-center","d-none"],["pButton","","pRipple","","type","button","icon","fa-solid fa-user",1,"p-button-rounded","p-button","navbar__user-btn",3,"click"],[3,"popup","model"],["userMenu",""],[1,"nav-item","mx-2","d-lg-none","my-lg-3","pt-2","pt-lg-0"],["type","button","pButton","",1,"navbar__store-btn","p-0",3,"click"],["btn",""],[1,"pi","pi-user","me-2"],[1,"pi","pi-angle-down","ms-3"],["styleClass","mt-2",3,"popup","model"],["smallUserMenu",""],[1,"container","my-lg-3"],["id","navbarSupportedContent",1,"navbar__links","collapse","navbar-collapse"],[1,"navbar-nav","mb-2","mb-lg-0","mx-3","d-lg-flex","justify-content-center","w-100"],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/home",1,"nav-link"],[1,"fa-solid","fa-house","me-1"],["routerLinkActive","active",1,"nav-item","d-lg-flex","justify-content-center","align-items-center","px-lg-3","px-2",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-bag-shopping","me-2"],[1,"pi","pi-angle-down","ms-2"],["styleClass","mt-2",3,"model","popup"],["storeMenu",""],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center"],["routerLink","/adoption",1,"nav-link"],[1,"fa-solid","fa-hand-holding-heart","me-1"],["routerLink","/blog",1,"nav-link"],[1,"fa-solid","fa-newspaper"]],template:function(h,_){if(1&h){const N=u.EpF();u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"figure",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"p",5)(6,"b"),u._uU(7,"Happy Paws"),u.qZA()()(),u.TgZ(8,"button",6),u._UZ(9,"span",7),u.qZA(),u.TgZ(10,"div",8)(11,"div",9)(12,"button",10),u.NdJ("click",function(ye){u.CHM(N);const Oe=u.MAs(14);return u.KtG(Oe.toggle(ye))}),u.qZA(),u._UZ(13,"p-menu",11,12),u.qZA(),u.TgZ(15,"div",13)(16,"button",14,15),u.NdJ("click",function(ye){u.CHM(N);const Oe=u.MAs(22);return u.KtG(Oe.toggle(ye))}),u._UZ(18,"i",16),u._uU(19," User "),u._UZ(20,"i",17),u.qZA(),u._UZ(21,"p-menu",18,19),u.qZA()()(),u.TgZ(23,"div",20)(24,"div",21)(25,"ul",22)(26,"li",23)(27,"a",24),u._UZ(28,"i",25),u._uU(29," Home"),u.qZA()(),u.TgZ(30,"li",26)(31,"button",14,15),u.NdJ("click",function(ye){u.CHM(N);const Oe=u.MAs(37);return u.KtG(Oe.toggle(ye))}),u._UZ(33,"i",27),u._uU(34," Store "),u._UZ(35,"i",28),u.qZA(),u._UZ(36,"p-tieredMenu",29,30),u.qZA(),u.TgZ(38,"li",31)(39,"a",32),u._UZ(40,"i",33),u._uU(41," Adoption"),u.qZA()(),u.TgZ(42,"li",31)(43,"a",34),u._UZ(44,"i",35),u._uU(45," Blog"),u.qZA()()()()()()}2&h&&(u.xp6(13),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(8),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(5),u.Q6J("routerLinkActiveOptions",u.DdM(8,Fn)),u.xp6(4),u.Q6J("routerLinkActiveOptions",u.DdM(9,Fn)),u.xp6(6),u.Q6J("model",_.storeMenuItems)("popup",!0))},dependencies:[Ds,Fi.yS,Fi.Od,zo.Hq,Pn],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--auth-background)}.navbar[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{font-size:0;width:20%}.navbar[_ngcontent-%COMP%]   .navbar__logo-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--dark-grey-color);font-family:Pattaya,sans-serif;font-size:1.6rem}.navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--pink-color)}[_nghost-%COMP%]     .p-button-label{display:none}[_nghost-%COMP%]     .p-menu .p-submenu-header{display:none}[_nghost-%COMP%]     .navbar__user-btn{background-color:#fff;color:var(--dark-grey-color);border:1px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover, [_nghost-%COMP%]     .navbar__user-btn:active{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover:active, [_nghost-%COMP%]     .navbar__user-btn:hover:focus{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:focus{outline:var(--pink-color);box-shadow:0 0 0 2px #fff,0 0 0 4px var(--pink-color),0 1px 2px #000;color:var(--grey-color)}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link{background:#e9ecef}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-text, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-icon, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-submenu-icon{color:#495057}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .p-menu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .navbar__store-btn{background-color:transparent;border:transparent;color:#0000008c;margin:.5rem 0}[_nghost-%COMP%]     .navbar__store-btn:hover{background-color:transparent;border:transparent}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#000}@media (min-width: 992px){.navbar__links[_ngcontent-%COMP%]{border-radius:20px;background-color:var(--grey-color)}.navbar__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus, .navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:var(--pink-color)}[_nghost-%COMP%]     .navbar__store-btn{color:#fff}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#fff}}"]}),v})();function Oi(v,m){1&v&&(u.TgZ(0,"div",13)(1,"li",14)(2,"a",30),u._uU(3,"LogIn"),u.qZA()(),u.TgZ(4,"li",31)(5,"a",32),u._uU(6,"Register"),u.qZA()()())}function Ca(v,m){if(1&v){const h=u.EpF();u.TgZ(0,"div",13)(1,"li",14)(2,"a",33),u.NdJ("click",function(){u.CHM(h);const N=u.oxw();return u.KtG(N.logout())}),u._uU(3,"Logout"),u.qZA()(),u.TgZ(4,"li",14)(5,"a",34),u._uU(6,"Profile"),u.qZA()(),u.TgZ(7,"li",14)(8,"a",35),u._uU(9,"Cart"),u.qZA()(),u.TgZ(10,"li",31)(11,"a",36),u._uU(12,"Wishlist"),u.qZA()()()}}const Ta=function(v){return{animalType:v}};let vl=(()=>{class v{constructor(h){this._authService=h,this.loggedIn="",this.cat=di.D.Cat,this.dog=di.D.Dog}ngOnInit(){this.loggedIn=localStorage.getItem("token")}logout(){this._authService.logout().then(()=>{if(localStorage.clear(),window.location.href.includes("github")){let h=window.location.href,_=h.substring(0,h.indexOf("io/")+3),N=h.replace(_,"");window.location.href=_+N.substring(0,N.indexOf("/")+1)}else window.location.href="/"})}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(Sn.e))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-footer"]],decls:52,vars:8,consts:[[1,"bg-footer","text-white"],[1,"container","py-2"],[1,"logo"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","mx-auto","mt-3"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-3","text-light","fs-3","login__logo-text"],[1,"infoContainer","d-md-flex","justify-content-between","mt-3"],[1,"important-links","ms-5","px-4"],[1,"fs-4","m-1"],[1,"p-0"],[3,"ngIf","ngIfElse"],["elseBlock",""],[1,"ms-3"],[1,"mb-2"],["routerLink","/store",3,"queryParams"],[1,"important-links","me-lg-5","ms-5","ms-lg-0","px-4"],["routerLink","/blog"],["routerLink","/adoption"],[1,"socialMedia","d-flex","justify-content-center"],["href","https://www.facebook.com/","target","_blank"],[1,"pi","pi-facebook"],["href","https://www.instagram.com/","target","_blank"],[1,"pi","pi-instagram"],["href","https://www.youtube.com/","target","_blank"],["target","_blank",1,"pi","pi-youtube"],["href","https://twitter.com/","target","_blank"],["target","_blank",1,"pi","pi-twitter"],[1,"copyrights","text-center","m-3"],[1,"__copyrights"],["routerLink","/auth/login"],[1,""],["routerLink","/auth/register"],["routerLink","",3,"click"],["routerLink","/auth/profile"],["routerLink","/store/cart"],["routerLink","/store/wishlist"]],template:function(h,_){if(1&h&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"figure",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"h1",6)(7,"b"),u._uU(8,"Happy Paws"),u.qZA()()()(),u.TgZ(9,"div",7)(10,"div",8)(11,"p",9),u._uU(12,"Account"),u.qZA(),u.TgZ(13,"ul",10),u.YNc(14,Oi,7,0,"ng-template",11),u.YNc(15,Ca,13,0,"ng-template",null,12,u.W1O),u.qZA()(),u.TgZ(17,"div",8)(18,"p",9),u._uU(19,"Store"),u.qZA(),u.TgZ(20,"ul",10)(21,"div",13)(22,"li",14)(23,"a",15),u._uU(24,"Cat"),u.qZA()(),u.TgZ(25,"li")(26,"a",15),u._uU(27,"Dog"),u.qZA()()()()(),u.TgZ(28,"div",16)(29,"p",9),u._uU(30,"Others"),u.qZA(),u.TgZ(31,"ul",10)(32,"div",13)(33,"li",14)(34,"a",17),u._uU(35,"Blog"),u.qZA()(),u.TgZ(36,"li")(37,"a",18),u._uU(38,"Adoption"),u.qZA()()()()()(),u._UZ(39,"hr"),u.TgZ(40,"div",19)(41,"a",20),u._UZ(42,"i",21),u.qZA(),u.TgZ(43,"a",22),u._UZ(44,"i",23),u.qZA(),u.TgZ(45,"a",24),u._UZ(46,"i",25),u.qZA(),u.TgZ(47,"a",26),u._UZ(48,"i",27),u.qZA()(),u.TgZ(49,"div",28)(50,"p",29),u._uU(51,"\xa9Copyright All rights reserved 2022"),u.qZA()()()()),2&h){const N=u.MAs(16);u.xp6(14),u.Q6J("ngIf",""===_.loggedIn)("ngIfElse",N),u.xp6(9),u.Q6J("queryParams",u.VKq(4,Ta,_.cat)),u.xp6(3),u.Q6J("queryParams",u.VKq(6,Ta,_.dog))}},dependencies:[Fi.yS,Xn.O5],styles:["footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a9a9a9}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:Pattaya,sans-serif}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:30px}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .footerText[_ngcontent-%COMP%]{color:#a9a9a9}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#fff}footer[_ngcontent-%COMP%]   .copyrights[_ngcontent-%COMP%]   .__copyrights[_ngcontent-%COMP%]{font-size:.75rem;color:#a9a9a9}.bg-footer[_ngcontent-%COMP%]{background-color:var(--dark-grey-color)}"]}),v})();function Xa(v,m){1&v&&u._UZ(0,"app-nav-bar")}function ic(v,m){1&v&&u._UZ(0,"app-footer")}let lu=(()=>{class v{constructor(h,_,N,Z){this._router=h,this.primengConfig=_,this._firestoreService=N,this._store=Z,this.title="Happy Paws",this.showNavbarFooter=!1}ngOnInit(){if(this.primengConfig.ripple=!0,this._router.events.subscribe(h=>{void 0!==h.url&&1===h.type&&(this.showNavbarFooter=!h.url.includes("login")&&!h.url.includes("register"))}),this._firestoreService.fetchAllAnimals().pipe((0,wt.U)(h=>h.map(_=>_.payload.doc.data()))).subscribe(h=>{this._store.dispatch(ge({payload:h}))}),null==sessionStorage.getItem("product"))this._firestoreService.fetchAllStoreItems().pipe((0,wt.U)(h=>h.map(_=>_.payload.doc.data()))).subscribe(h=>{let _=h;console.log("From Firebase",_),sessionStorage.setItem("product",JSON.stringify(_)),this._store.dispatch((0,y.sL)({payload:_}))});else{let h=JSON.parse(sessionStorage.getItem("product"));console.log("From Cache",h),this._store.dispatch((0,y.sL)({payload:h}))}this._firestoreService.fetchBlogPosts().pipe((0,wt.U)(h=>h.map(_=>_.payload.doc.data()))).subscribe(h=>{this._store.dispatch(S({payload:h}))}),localStorage.getItem("userID")&&(this._firestoreService.fetchAllWishlistItems(localStorage.getItem("userID")).pipe((0,wt.U)(h=>h.payload.data())).subscribe(h=>{this._store.dispatch((0,y.Mw)());let N=Object.values(h);this._store.dispatch((0,y.Ut)({payload:N}))}),this._store.select("store").pipe((0,Qs.q)(3)).subscribe(h=>{if(h.wishList.length>0){let _=JSON.parse(JSON.stringify(h.products)),N=JSON.parse(JSON.stringify(h.wishList));for(let Z=0;Z<_.length;Z++)for(let ye=0;ye<N.length;ye++)_[Z].id==N[ye].id&&(_[Z].wishList=!0);this._store.dispatch((0,y.GC)()),this._store.dispatch((0,y.sL)({payload:_}))}}),this._firestoreService.fetchUserCart(localStorage.getItem("userID")).pipe((0,wt.U)(h=>h.payload.data())).subscribe(h=>{this._store.dispatch((0,y.s9)());let N=Object.values(h);this._store.dispatch((0,y._M)({payload:N}))}))}}return v.\u0275fac=function(h){return new(h||v)(u.Y36(Fi.F0),u.Y36(Yi.b4),u.Y36(Ut.k),u.Y36(Fr.yh))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-root"]],decls:5,vars:3,consts:[[4,"ngIf"],[1,"main"],["icon","fa-solid fa-circle-arrow-up","styleClass","floating-btn",3,"threshold"]],template:function(h,_){1&h&&(u.YNc(0,Xa,1,0,"app-nav-bar",0),u.TgZ(1,"main",1),u._UZ(2,"router-outlet"),u.qZA(),u.YNc(3,ic,1,0,"app-footer",0),u._UZ(4,"p-scrollTop",2)),2&h&&(u.Q6J("ngIf",_.showNavbarFooter),u.xp6(3),u.Q6J("ngIf",_.showNavbarFooter),u.xp6(1),u.Q6J("threshold",100))},dependencies:[Io,Fi.lC,Xn.O5,Vr,vl],styles:[".main[_ngcontent-%COMP%]{background-color:#fbf8f8;display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]     .floating-btn{width:3.5rem;height:3.5rem;border-radius:50%;background-color:transparent}[_nghost-%COMP%]     .floating-btn:hover{background-color:#fff}[_nghost-%COMP%]     .floating-btn:hover .p-scrolltop-icon{color:#ecada6}[_nghost-%COMP%]     .floating-btn .p-scrolltop-icon{font-size:2.5rem;color:#999}"]}),v})();var ia=M(3692),es=M(6351),uu=M(5867),sc=M(7128),as=M(6457);M(2090),M(9681),M(1877),M(4859);class eo{constructor(m){return m}}class ac{constructor(){return(0,es.vb)("auth")}}const Uc=new u.OlP("angularfire2.auth-instances");function Ad(v){return(m,h)=>{const _=m.runOutsideAngular(()=>v(h));return new eo(_)}}const lc={provide:ac,deps:[[new u.FiY,Uc]]},Md={provide:eo,useFactory:function Ni(v,m){const h=(0,es.JM)("auth",v,m);return h&&new eo(h)},deps:[[new u.FiY,Uc],ia.Ot]};let vh=(()=>{class v{constructor(){(0,uu.KN)("angularfire",es.q4.full,"auth")}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:[Md,lc]}),v})();function qr(v,...m){return{ngModule:vh,providers:[{provide:Uc,useFactory:Ad(v),multi:!0,deps:[u.R0b,u.zs3,es.HU,ia.z6,[new u.FiY,sc.nm],...m]}]}}const Ih=(0,es.u3)(as.n,!0);var $f=M(5525);class Zc{constructor(m){return m}}const Nd="firestore",Ld=new u.OlP("angularfire2.firestore-instances");function Ug(v){return(m,h)=>{const _=m.runOutsideAngular(()=>v(h));return new Zc(_)}}const Bg={provide:class kd{constructor(){return(0,es.vb)(Nd)}},deps:[[new u.FiY,Ld]]},Vd={provide:Zc,useFactory:function Fd(v,m){const h=(0,es.JM)(Nd,v,m);return h&&new Zc(h)},deps:[[new u.FiY,Ld],ia.Ot]};let Hg=(()=>{class v{constructor(){(0,uu.KN)("angularfire",es.q4.full,"fst")}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:[Vd,Bg]}),v})();function $g(v,...m){return{ngModule:Hg,providers:[{provide:Ld,useFactory:Ug(v),multi:!0,deps:[u.R0b,u.zs3,es.HU,ia.z6,[new u.FiY,ac],[new u.FiY,sc.nm],...m]}]}}const ko=(0,es.u3)($f.ad,!0);var wl=M(6961);class Il{constructor(m){return m}}const $d="storage",Va=new u.OlP("angularfire2.storage-instances");function Fl(v){return(m,h)=>{const _=m.runOutsideAngular(()=>v(h));return new Il(_)}}const td={provide:class Yl{constructor(){return(0,es.vb)($d)}},deps:[[new u.FiY,Va]]},jd={provide:Il,useFactory:function Fh(v,m){const h=(0,es.JM)($d,v,m);return h&&new Il(h)},deps:[[new u.FiY,Va],ia.Ot]};let Vh=(()=>{class v{constructor(){(0,uu.KN)("angularfire",es.q4.full,"gcs")}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:[jd,td]}),v})();function Xg(v,...m){return{ngModule:Vh,providers:[{provide:Va,useFactory:Fl(v),multi:!0,deps:[u.R0b,u.zs3,es.HU,ia.z6,[new u.FiY,ac],[new u.FiY,sc.nm],...m]}]}}const Ec=(0,es.u3)(wl.cF,!0);var $h=M(2011);const hu=(0,Fr.Lq)({products:[],wishList:[],cart:[]},(0,Fr.on)(y.sL,(v,m)=>({...v,products:[...v.products,...m.payload]})),(0,Fr.on)(y.GC,(v,m)=>({...v,products:[]})),(0,Fr.on)(y.N_,(v,m)=>{let h=v.products.find(_=>_.id===m.payload.id);if(void 0===h)throw new Error("Item not found, check item id");return{...v,products:[...v.products.filter(_=>_.id!==m.payload.id),{...h,reviews:[...h.reviews,m.payload.review]}]}}),(0,Fr.on)(y.s3,(v,m)=>{let h=v.products.find(_=>_.id===m.payload.id);return{...v,wishList:[...v.wishList,m.payload],products:[...v.products.filter(_=>_.id!==m.payload.id),{...h,wishList:!0}]}}),(0,Fr.on)(y.AW,(v,m)=>{let h=v.products.find(_=>_.id===m.payload.id);return{...v,wishList:[...v.wishList.filter(_=>_.id!==m.payload.id)],products:[...v.products.filter(_=>_.id!==m.payload.id),{...h,wishList:!1}]}}),(0,Fr.on)(y.Ut,(v,m)=>({...v,wishList:[...v.wishList,...m.payload]})),(0,Fr.on)(y.Mw,(v,m)=>({...v,wishList:[]})),(0,Fr.on)(y._M,(v,m)=>({...v,cart:[...v.cart,...m.payload]})),(0,Fr.on)(y.Xq,(v,m)=>({...v,cart:[...v.cart,m.payload]})),(0,Fr.on)(y.h2,(v,m)=>({...v,cart:v.cart.filter(h=>h.id!==m.payload.id)})),(0,Fr.on)(y.Wl,(v,m)=>{let h=v.cart.find(_=>_.id===m.payload.id);if(void 0===h)throw new Error("Item not found, check item id");return{...v,cart:[...v.cart.filter(_=>_.id!==m.payload.id),{...h,count:h.count+1}]}}),(0,Fr.on)(y.qG,(v,m)=>{let h=v.cart.find(_=>_.id===m.payload.id);if(void 0===h)throw new Error("Item not found, check item id");return h.count>0?(h.count=h?.count-1,{...v,cart:[...v.cart.filter(_=>_.id!==m.payload.id),{...h,count:h.count-1}]}):{...v}}),(0,Fr.on)(y.s9,(v,m)=>({...v,cart:[]}))),zd=(0,Fr.Lq)({blog:[]},(0,Fr.on)(S,(v,m)=>({...v,blog:m.payload})),(0,Fr.on)(ne,(v,m)=>({...v,blog:[]}))),Kd=(0,Fr.Lq)({animals:[]},(0,Fr.on)(ge,(v,m)=>({...v,animals:m.payload})),(0,Fr.on)(lt,(v,m)=>({...v,animals:[]})));let nd=(()=>{class v{}return v.\u0275fac=function(h){return new(h||v)},v.\u0275mod=u.oAB({type:v,bootstrap:[lu]}),v.\u0275inj=u.cJS({providers:[{provide:$h.Dh,useValue:za.firebase}],imports:[No,ba,zo.hJ,Zr,c.b2,Ko,Ha.b,da.KZ,g,Rs,Fr.Aw.forRoot({store:hu,blog:zd,adoption:Kd}),Vo.register("ngsw-worker.js",{enabled:za.production,registrationStrategy:"registerWhenStable:2000"}),(0,ia.hX)(()=>(0,ia.ZF)(za.firebase)),qr(()=>Ih()),$g(()=>ko()),Xg(()=>Ec())]}),v})();za.production&&(0,u.G48)(),c.q6().bootstrapModule(nd).catch(v=>console.error(v))},5867:(Gt,Ze,M)=>{M.d(Ze,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=M(9681);(0,c.registerVersion)("firebase","9.9.1","app")},127:(Gt,Ze,M)=>{M.d(Ze,{Z:()=>c.Z});var c=M(3942);c.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(Gt,Ze,M)=>{M.r(Ze);var c=M(5861),u=M(3942),k=M(6457),fe=M(2090),X=(M(9681),M(1877),M(4859));function Y(){return window}function ee(){return(ee=(0,c.Z)(function*(qe,Te,Se){var Ct;const{BuildInfo:Vt}=Y();(0,k.aq)(Te.sessionId,"AuthEvent did not contain a session ID");const In=yield ke(Te.sessionId),Mt={};return(0,k.ar)()?Mt.ibi=Vt.packageName:(0,k.as)()?Mt.apn=Vt.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),Vt.displayName&&(Mt.appDisplayName=Vt.displayName),Mt.sessionId=In,(0,k.au)(qe,Se,Te.type,void 0,null!==(Ct=Te.eventId)&&void 0!==Ct?Ct:void 0,Mt)})).apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(qe){const{BuildInfo:Te}=Y(),Se={};(0,k.ar)()?Se.iosBundleId=Te.packageName:(0,k.as)()?Se.androidPackageName=Te.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),yield(0,k.av)(qe,Se)})).apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(qe,Te,Se){const{cordova:Ct}=Y();let Vt=()=>{};try{yield new Promise((In,Mt)=>{let on=null;function Fe(){var Ve;In();const Ot=null===(Ve=Ct.plugins.browsertab)||void 0===Ve?void 0:Ve.close;"function"==typeof Ot&&Ot(),"function"==typeof Se?.close&&Se.close()}function Ne(){on||(on=window.setTimeout(()=>{Mt((0,k.aw)(qe,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&Ne()}Te.addPassiveListener(Fe),document.addEventListener("resume",Ne,!1),(0,k.as)()&&document.addEventListener("visibilitychange",ve,!1),Vt=()=>{Te.removePassiveListener(Fe),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",ve,!1),on&&window.clearTimeout(on)}})}finally{Vt()}})).apply(this,arguments)}function ke(qe){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(qe){const Te=Ht(qe),Se=yield crypto.subtle.digest("SHA-256",Te);return Array.from(new Uint8Array(Se)).map(Vt=>Vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ht(qe){if((0,k.aq)(/[0-9a-zA-Z]+/.test(qe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(qe);const Te=new ArrayBuffer(qe.length),Se=new Uint8Array(Te);for(let Ct=0;Ct<qe.length;Ct++)Se[Ct]=qe.charCodeAt(Ct);return Se}class de extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Te=>{this.resolveInialized=Te})}addPassiveListener(Te){this.passiveListeners.add(Te)}removePassiveListener(Te){this.passiveListeners.delete(Te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Te){return this.resolveInialized(),this.passiveListeners.forEach(Se=>Se(Te)),super.onEvent(Te)}initialized(){var Te=this;return(0,c.Z)(function*(){yield Te.initPromise})()}}function he(qe){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(qe){const Te=yield et()._get(Be(qe));return Te&&(yield et()._remove(Be(qe))),Te})).apply(this,arguments)}function $e(){const qe=[],Te="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Se=0;Se<20;Se++){const Ct=Math.floor(Math.random()*Te.length);qe.push(Te.charAt(Ct))}return qe.join("")}function et(){return(0,k.ay)(k.b)}function Be(qe){return(0,k.az)("authEvent",qe.config.apiKey,qe.name)}function Bt(qe){if(!qe?.includes("?"))return{};const[Te,...Se]=qe.split("?");return(0,fe.zd)(Se.join("?"))}function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function hn(){var qe;return(null===(qe=self?.location)||void 0===qe?void 0:qe.protocol)||null}function Kn(qe=(0,fe.z$)()){return!("file:"!==hn()&&"ionic:"!==hn()&&"capacitor:"!==hn()||!qe.toLowerCase().match(/iphone|ipad|ipod|android/))}function jn(){try{const qe=self.localStorage,Te=k.aI();if(qe)return qe.setItem(Te,"1"),qe.removeItem(Te),!function ti(qe=(0,fe.z$)()){return function fr(){return(0,fe.w1)()&&11===document?.documentMode}()||function rn(qe=(0,fe.z$)()){return/Edge\/\d+/.test(qe)}(qe)}()||(0,fe.hl)()}catch{return Ar()&&(0,fe.hl)()}return!1}function Ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nr(){return(function wn(){return"http:"===hn()||"https:"===hn()}()||(0,fe.ru)()||Kn())&&!function Pr(){return(0,fe.b$)()||(0,fe.UG)()}()&&jn()&&!Ar()}function cr(){return Kn()&&typeof document<"u"}function Jn(){return(Jn=(0,c.Z)(function*(){return!!cr()&&new Promise(qe=>{const Te=setTimeout(()=>{qe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Te),qe(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},Nn=k.ax,Tr="persistence";function Qn(qe){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(qe){yield qe._initializationPromise;const Te=kn(),Se=k.az(Tr,qe.config.apiKey,qe.name);Te&&Te.setItem(Se,qe._getPersistence())})).apply(this,arguments)}function kn(){var qe;try{return(null===(qe=function Ln(){return typeof window<"u"?window:null}())||void 0===qe?void 0:qe.sessionStorage)||null}catch{return null}}const Jt=k.ax;class tn{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class gt{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Te){var Se=this;return(0,c.Z)(function*(){const Ct=Te._key();let Vt=Se.eventManagers.get(Ct);return Vt||(Vt=new de(Te),Se.eventManagers.set(Ct,Vt),Se.attachCallbackListeners(Te,Vt)),Vt})()}_openPopup(Te){(0,k.at)(Te,"operation-not-supported-in-this-environment")}_openRedirect(Te,Se,Ct,Vt){var In=this;return(0,c.Z)(function*(){!function nt(qe){var Te,Se,Ct,Vt,In,Mt,on,Fe,Ne,ve;const Ve=Y();(0,k.ax)("function"==typeof(null===(Te=Ve?.universalLinks)||void 0===Te?void 0:Te.subscribe),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(Se=Ve?.BuildInfo)||void 0===Se?void 0:Se.packageName)<"u",qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(In=null===(Vt=null===(Ct=Ve?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===In?void 0:In.openUrl),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Fe=null===(on=null===(Mt=Ve?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===on?void 0:on.browsertab)||void 0===Fe?void 0:Fe.isAvailable),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(ve=null===(Ne=Ve?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===ve?void 0:ve.open),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Te);const Mt=yield In._initialize(Te);yield Mt.initialized(),Mt.resetRedirect(),(0,k.aD)(),yield In._originValidation(Te);const on=function Qe(qe,Te,Se=null){return{type:Te,eventId:Se,urlResponse:null,sessionId:$e(),postBody:null,tenantId:qe.tenantId,error:(0,k.aw)(qe,"no-auth-event")}}(Te,Ct,Vt);yield function Ie(qe,Te){return et()._set(Be(qe),Te)}(Te,on);const Fe=yield function G(qe,Te,Se){return ee.apply(this,arguments)}(Te,on,Se),Ne=yield function Ae(qe){const{cordova:Te}=Y();return new Promise(Se=>{Te.plugins.browsertab.isAvailable(Ct=>{let Vt=null;Ct?Te.plugins.browsertab.openUrl(qe):Vt=Te.InAppBrowser.open(qe,(0,k.ap)()?"_blank":"_system","location=yes"),Se(Vt)})})}(Fe);return function tt(qe,Te,Se){return Dt.apply(this,arguments)}(Te,Mt,Ne)})()}_isIframeWebStorageSupported(Te,Se){throw new Error("Method not implemented.")}_originValidation(Te){const Se=Te._key();return this.originValidationPromises[Se]||(this.originValidationPromises[Se]=function pe(qe){return Ke.apply(this,arguments)}(Te)),this.originValidationPromises[Se]}attachCallbackListeners(Te,Se){const{universalLinks:Ct,handleOpenURL:Vt,BuildInfo:In}=Y(),Mt=setTimeout((0,c.Z)(function*(){yield he(Te),Se.onEvent(Ce())}),500),on=function(){var ve=(0,c.Z)(function*(Ve){clearTimeout(Mt);const Ot=yield he(Te);let en=null;Ot&&Ve?.url&&(en=function dt(qe,Te){var Se,Ct;const Vt=function it(qe){const Te=Bt(qe),Se=Te.link?decodeURIComponent(Te.link):void 0,Ct=Bt(Se).link,Vt=Te.deep_link_id?decodeURIComponent(Te.deep_link_id):void 0;return Bt(Vt).link||Vt||Ct||Se||qe}(Te);if(Vt.includes("/__/auth/callback")){const In=Bt(Vt),Mt=In.firebaseError?function pt(qe){try{return JSON.parse(qe)}catch{return null}}(decodeURIComponent(In.firebaseError)):null,on=null===(Ct=null===(Se=Mt?.code)||void 0===Se?void 0:Se.split("auth/"))||void 0===Ct?void 0:Ct[1],Fe=on?(0,k.aw)(on):null;return Fe?{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,sessionId:qe.sessionId,urlResponse:Vt,postBody:null}}return null}(Ot,Ve.url)),Se.onEvent(en||Ce())});return function(Ot){return ve.apply(this,arguments)}}();typeof Ct<"u"&&"function"==typeof Ct.subscribe&&Ct.subscribe(null,on);const Fe=Vt,Ne=`${In.packageName.toLowerCase()}://`;Y().handleOpenURL=function(){var ve=(0,c.Z)(function*(Ve){if(Ve.toLowerCase().startsWith(Ne)&&on({url:Ve}),"function"==typeof Fe)try{Fe(Ve)}catch(Ot){console.error(Ot)}});return function(Ve){return ve.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Te){var Se=this;return(0,c.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._initialize(Te)})()}_openPopup(Te,Se,Ct,Vt){var In=this;return(0,c.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openPopup(Te,Se,Ct,Vt)})()}_openRedirect(Te,Se,Ct,Vt){var In=this;return(0,c.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openRedirect(Te,Se,Ct,Vt)})()}_isIframeWebStorageSupported(Te,Se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Te,Se)}_originValidation(Te){return this.assertedUnderlyingResolver._originValidation(Te)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Te=this;return(0,c.Z)(function*(){if(Te.underlyingResolver)return;const Se=yield function sn(){return Jn.apply(this,arguments)}();Te.underlyingResolver=Se?Te.cordovaResolver:Te.browserResolver})()}}function zr(qe){return qe.unwrap()}function An(qe){return dr(qe)}function dr(qe){const{_tokenResponse:Te}=qe instanceof fe.ZR?qe.customData:qe;if(!Te)return null;if(!(qe instanceof fe.ZR)&&"temporaryProof"in Te&&"phoneNumber"in Te)return k.P.credentialFromResult(qe);const Se=Te.providerId;if(!Se||Se===k.o.PASSWORD)return null;let Ct;switch(Se){case k.o.GOOGLE:Ct=k.Q;break;case k.o.FACEBOOK:Ct=k.N;break;case k.o.GITHUB:Ct=k.T;break;case k.o.TWITTER:Ct=k.W;break;default:const{oauthIdToken:Vt,oauthAccessToken:In,oauthTokenSecret:Mt,pendingToken:on,nonce:Fe}=Te;return In||Mt||Vt||on?on?Se.startsWith("saml.")?k.aL._create(Se,on):k.J._fromParams({providerId:Se,signInMethod:Se,pendingToken:on,idToken:Vt,accessToken:In}):new k.U(Se).credential({idToken:Vt,accessToken:In,rawNonce:Fe}):null}return qe instanceof fe.ZR?Ct.credentialFromError(qe):Ct.credentialFromResult(qe)}function Xt(qe,Te){return Te.catch(Se=>{throw Se instanceof fe.ZR&&function Rr(qe,Te){var Se,Ct;const Vt=null===(Se=Te.customData)||void 0===Se?void 0:Se._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ct=Te)||void 0===Ct?void 0:Ct.code))Te.resolver=new Re(qe,k.an(qe,Te));else if(Vt){const In=dr(Te),Mt=Te;In&&(Mt.credential=In,Mt.tenantId=Vt.tenantId||void 0,Mt.email=Vt.email||void 0,Mt.phoneNumber=Vt.phoneNumber||void 0)}}(qe,Se),Se}).then(Se=>{const Vt=Se.user;return{operationType:Se.operationType,credential:An(Se),additionalUserInfo:k.al(Se),user:Le.getOrCreate(Vt)}})}function Gn(qe,Te){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(qe,Te){const Se=yield Te;return{verificationId:Se.verificationId,confirm:Ct=>Xt(qe,Se.confirm(Ct))}})).apply(this,arguments)}class Re{constructor(Te,Se){this.resolver=Se,this.auth=function Hr(qe){return qe.wrapped()}(Te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Te){return Xt(zr(this.auth),this.resolver.resolveSignIn(Te))}}class Le{constructor(Te){this._delegate=Te,this.multiFactor=k.ao(Te)}static getOrCreate(Te){return Le.USER_MAP.has(Te)||Le.USER_MAP.set(Te,new Le(Te)),Le.USER_MAP.get(Te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Te){return this._delegate.getIdTokenResult(Te)}getIdToken(Te){return this._delegate.getIdToken(Te)}linkAndRetrieveDataWithCredential(Te){return this.linkWithCredential(Te)}linkWithCredential(Te){var Se=this;return(0,c.Z)(function*(){return Xt(Se.auth,k.Z(Se._delegate,Te))})()}linkWithPhoneNumber(Te,Se){var Ct=this;return(0,c.Z)(function*(){return Gn(Ct.auth,k.l(Ct._delegate,Te,Se))})()}linkWithPopup(Te){var Se=this;return(0,c.Z)(function*(){return Xt(Se.auth,k.d(Se._delegate,Te,tn))})()}linkWithRedirect(Te){var Se=this;return(0,c.Z)(function*(){return yield Qn(k.aE(Se.auth)),k.g(Se._delegate,Te,tn)})()}reauthenticateAndRetrieveDataWithCredential(Te){return this.reauthenticateWithCredential(Te)}reauthenticateWithCredential(Te){var Se=this;return(0,c.Z)(function*(){return Xt(Se.auth,k._(Se._delegate,Te))})()}reauthenticateWithPhoneNumber(Te,Se){return Gn(this.auth,k.r(this._delegate,Te,Se))}reauthenticateWithPopup(Te){return Xt(this.auth,k.e(this._delegate,Te,tn))}reauthenticateWithRedirect(Te){var Se=this;return(0,c.Z)(function*(){return yield Qn(k.aE(Se.auth)),k.h(Se._delegate,Te,tn)})()}sendEmailVerification(Te){return k.ab(this._delegate,Te)}unlink(Te){var Se=this;return(0,c.Z)(function*(){return yield k.ak(Se._delegate,Te),Se})()}updateEmail(Te){return k.ag(this._delegate,Te)}updatePassword(Te){return k.ah(this._delegate,Te)}updatePhoneNumber(Te){return k.u(this._delegate,Te)}updateProfile(Te){return k.af(this._delegate,Te)}verifyBeforeUpdateEmail(Te,Se){return k.ac(this._delegate,Te,Se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Le.USER_MAP=new WeakMap;const le=k.ax;let V=(()=>{class qe{constructor(Se,Ct){if(this.app=Se,Ct.isInitialized())return this._delegate=Ct.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Vt}=Se.options;le(Vt,"invalid-api-key",{appName:Se.name}),le(Vt,"invalid-api-key",{appName:Se.name});const In=typeof window<"u"?tn:void 0;this._delegate=Ct.initialize({options:{persistence:Me(Vt,Se.name),popupRedirectResolver:In}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Le.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Se){this._delegate.languageCode=Se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Se){this._delegate.tenantId=Se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Se,Ct){k.G(this._delegate,Se,Ct)}applyActionCode(Se){return k.a2(this._delegate,Se)}checkActionCode(Se){return k.a3(this._delegate,Se)}confirmPasswordReset(Se,Ct){return k.a1(this._delegate,Se,Ct)}createUserWithEmailAndPassword(Se,Ct){var Vt=this;return(0,c.Z)(function*(){return Xt(Vt._delegate,k.a5(Vt._delegate,Se,Ct))})()}fetchProvidersForEmail(Se){return this.fetchSignInMethodsForEmail(Se)}fetchSignInMethodsForEmail(Se){return k.aa(this._delegate,Se)}isSignInWithEmailLink(Se){return k.a8(this._delegate,Se)}getRedirectResult(){var Se=this;return(0,c.Z)(function*(){le(nr(),Se._delegate,"operation-not-supported-in-this-environment");const Ct=yield k.j(Se._delegate,tn);return Ct?Xt(Se._delegate,Promise.resolve(Ct)):{credential:null,user:null}})()}addFrameworkForLogging(Se){!function rt(qe,Te){(0,k.aE)(qe)._logFramework(Te)}(this._delegate,Se)}onAuthStateChanged(Se,Ct,Vt){const{next:In,error:Mt,complete:on}=K(Se,Ct,Vt);return this._delegate.onAuthStateChanged(In,Mt,on)}onIdTokenChanged(Se,Ct,Vt){const{next:In,error:Mt,complete:on}=K(Se,Ct,Vt);return this._delegate.onIdTokenChanged(In,Mt,on)}sendSignInLinkToEmail(Se,Ct){return k.a7(this._delegate,Se,Ct)}sendPasswordResetEmail(Se,Ct){return k.a0(this._delegate,Se,Ct||void 0)}setPersistence(Se){var Ct=this;return(0,c.Z)(function*(){let Vt;switch(function Kr(qe,Te){Nn(Object.values(bn).includes(Te),qe,"invalid-persistence-type"),(0,fe.b$)()?Nn(Te!==bn.SESSION,qe,"unsupported-persistence-type"):(0,fe.UG)()?Nn(Te===bn.NONE,qe,"unsupported-persistence-type"):Ar()?Nn(Te===bn.NONE||Te===bn.LOCAL&&(0,fe.hl)(),qe,"unsupported-persistence-type"):Nn(Te===bn.NONE||jn(),qe,"unsupported-persistence-type")}(Ct._delegate,Se),Se){case bn.SESSION:Vt=k.a;break;case bn.LOCAL:Vt=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case bn.NONE:Vt=k.L;break;default:return k.at("argument-error",{appName:Ct._delegate.name})}return Ct._delegate.setPersistence(Vt)})()}signInAndRetrieveDataWithCredential(Se){return this.signInWithCredential(Se)}signInAnonymously(){return Xt(this._delegate,k.X(this._delegate))}signInWithCredential(Se){return Xt(this._delegate,k.Y(this._delegate,Se))}signInWithCustomToken(Se){return Xt(this._delegate,k.$(this._delegate,Se))}signInWithEmailAndPassword(Se,Ct){return Xt(this._delegate,k.a6(this._delegate,Se,Ct))}signInWithEmailLink(Se,Ct){return Xt(this._delegate,k.a9(this._delegate,Se,Ct))}signInWithPhoneNumber(Se,Ct){return Gn(this._delegate,k.s(this._delegate,Se,Ct))}signInWithPopup(Se){var Ct=this;return(0,c.Z)(function*(){return le(nr(),Ct._delegate,"operation-not-supported-in-this-environment"),Xt(Ct._delegate,k.c(Ct._delegate,Se,tn))})()}signInWithRedirect(Se){var Ct=this;return(0,c.Z)(function*(){return le(nr(),Ct._delegate,"operation-not-supported-in-this-environment"),yield Qn(Ct._delegate),k.f(Ct._delegate,Se,tn)})()}updateCurrentUser(Se){return this._delegate.updateCurrentUser(Se)}verifyPasswordResetCode(Se){return k.a4(this._delegate,Se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return qe.Persistence=bn,qe})();function K(qe,Te,Se){let Ct=qe;"function"!=typeof qe&&({next:Ct,error:Te,complete:Se}=qe);const Vt=Ct;return{next:Mt=>Vt(Mt&&Le.getOrCreate(Mt)),error:Te,complete:Se}}function Me(qe,Te){const Se=function ui(qe,Te){const Se=kn();if(!Se)return[];const Ct=k.az(Tr,qe,Te);switch(Se.getItem(Ct)){case bn.NONE:return[k.L];case bn.LOCAL:return[k.i,k.a];case bn.SESSION:return[k.a];default:return[]}}(qe,Te);if(typeof self<"u"&&!Se.includes(k.i)&&Se.push(k.i),typeof window<"u")for(const Ct of[k.b,k.a])Se.includes(Ct)||Se.push(Ct);return Se.includes(k.L)||Se.push(k.L),Se}class at{constructor(){this.providerId="phone",this._delegate=new k.P(zr(u.Z.auth()))}static credential(Te,Se){return k.P.credential(Te,Se)}verifyPhoneNumber(Te,Se){return this._delegate.verifyPhoneNumber(Te,Se)}unwrap(){return this._delegate}}at.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,at.PROVIDER_ID=k.P.PROVIDER_ID;const Zt=k.ax;class xn{constructor(Te,Se,Ct=u.Z.app()){var Vt;Zt(null===(Vt=Ct.options)||void 0===Vt?void 0:Vt.apiKey,"invalid-api-key",{appName:Ct.name}),this._delegate=new k.R(Te,Se,Ct.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tn(qe){qe.INTERNAL.registerComponent(new X.wA("auth-compat",Te=>{const Se=Te.getProvider("app-compat").getImmediate(),Ct=Te.getProvider("auth");return new V(Se,Ct)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:at,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:xn,TwitterAuthProvider:k.W,Auth:V,AuthCredential:k.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qe.registerVersion("@firebase/auth-compat","0.2.18")}(u.Z)},1135:(Gt,Ze,M)=>{M.d(Ze,{X:()=>u});var c=M(7579);class u extends c.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const W=super._subscribe(fe);return!W.closed&&fe.next(this._value),W}getValue(){const{hasError:fe,thrownError:W,_value:J}=this;if(fe)throw W;return this._throwIfClosed(),J}next(fe){super.next(this._value=fe)}}},9751:(Gt,Ze,M)=>{M.d(Ze,{y:()=>Y});var c=M(930),u=M(727),k=M(8822),fe=M(9635),W=M(2416),J=M(576),X=M(2806);let Y=(()=>{class pe{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const tt=new pe;return tt.source=this,tt.operator=Ae,tt}subscribe(Ae,tt,Dt){const nt=function ee(pe){return pe&&pe instanceof c.Lv||function G(pe){return pe&&(0,J.m)(pe.next)&&(0,J.m)(pe.error)&&(0,J.m)(pe.complete)}(pe)&&(0,u.Nn)(pe)}(Ae)?Ae:new c.Hp(Ae,tt,Dt);return(0,X.x)(()=>{const{operator:ke,source:Pe}=this;nt.add(ke?ke.call(nt,Pe):Pe?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(tt){Ae.error(tt)}}forEach(Ae,tt){return new(tt=se(tt))((Dt,nt)=>{const ke=new c.Hp({next:Pe=>{try{Ae(Pe)}catch(Ht){nt(Ht),ke.unsubscribe()}},error:nt,complete:Dt});this.subscribe(ke)})}_subscribe(Ae){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(Ae)}[k.L](){return this}pipe(...Ae){return(0,fe.U)(Ae)(this)}toPromise(Ae){return new(Ae=se(Ae))((tt,Dt)=>{let nt;this.subscribe(ke=>nt=ke,ke=>Dt(ke),()=>tt(nt))})}}return pe.create=Ke=>new pe(Ke),pe})();function se(pe){var Ke;return null!==(Ke=pe??W.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Gt,Ze,M)=>{M.d(Ze,{x:()=>X});var c=M(9751),u=M(727);const fe=(0,M(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=M(8737),J=M(2806);let X=(()=>{class se extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const pe=new Y(this,this);return pe.operator=ee,pe}_throwIfClosed(){if(this.closed)throw new fe}next(ee){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ee)}})}error(ee){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ee)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:pe,isStopped:Ke,observers:Ae}=this;return pe||Ke?u.Lc:(this.currentObservers=null,Ae.push(ee),new u.w0(()=>{this.currentObservers=null,(0,W.P)(Ae,ee)}))}_checkFinalizedStatuses(ee){const{hasError:pe,thrownError:Ke,isStopped:Ae}=this;pe?ee.error(Ke):Ae&&ee.complete()}asObservable(){const ee=new c.y;return ee.source=this,ee}}return se.create=(G,ee)=>new Y(G,ee),se})();class Y extends X{constructor(G,ee){super(),this.destination=G,this.source=ee}next(G){var ee,pe;null===(pe=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===pe||pe.call(ee,G)}error(G){var ee,pe;null===(pe=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===pe||pe.call(ee,G)}complete(){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===ee||ee.call(G)}_subscribe(G){var ee,pe;return null!==(pe=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(G))&&void 0!==pe?pe:u.Lc}}},930:(Gt,Ze,M)=>{M.d(Ze,{Hp:()=>Dt,Lv:()=>pe});var c=M(576),u=M(727),k=M(2416),fe=M(7849),W=M(5032);const J=se("C",void 0,void 0);function se(Xe,de,Qe){return{kind:Xe,value:de,error:Qe}}var G=M(3410),ee=M(2806);class pe extends u.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,u.Nn)(de)&&de.add(this)):this.destination=Ht}static create(de,Qe,Ie){return new Dt(de,Qe,Ie)}next(de){this.isStopped?Pe(function Y(Xe){return se("N",Xe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Pe(function X(Xe){return se("E",void 0,Xe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Pe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ae(Xe,de){return Ke.call(Xe,de)}class tt{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(de)}catch(Ie){nt(Ie)}}error(de){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(de)}catch(Ie){nt(Ie)}else nt(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Qe){nt(Qe)}}}class Dt extends pe{constructor(de,Qe,Ie){let he;if(super(),(0,c.m)(de)||!de)he={next:de??void 0,error:Qe??void 0,complete:Ie??void 0};else{let ze;this&&k.v.useDeprecatedNextContext?(ze=Object.create(de),ze.unsubscribe=()=>this.unsubscribe(),he={next:de.next&&Ae(de.next,ze),error:de.error&&Ae(de.error,ze),complete:de.complete&&Ae(de.complete,ze)}):he=de}this.destination=new tt(he)}}function nt(Xe){k.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Xe):(0,fe.h)(Xe)}function Pe(Xe,de){const{onStoppedNotification:Qe}=k.v;Qe&&G.z.setTimeout(()=>Qe(Xe,de))}const Ht={closed:!0,next:W.Z,error:function ke(Xe){throw Xe},complete:W.Z}},727:(Gt,Ze,M)=>{M.d(Ze,{Lc:()=>J,w0:()=>W,Nn:()=>X});var c=M(576);const k=(0,M(3888).d)(se=>function(ee){se(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((pe,Ke)=>`${Ke+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var fe=M(8737);class W{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ae of ee)Ae.remove(this);else ee.remove(this);const{initialTeardown:pe}=this;if((0,c.m)(pe))try{pe()}catch(Ae){G=Ae instanceof k?Ae.errors:[Ae]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ae of Ke)try{Y(Ae)}catch(tt){G=G??[],tt instanceof k?G=[...G,...tt.errors]:G.push(tt)}}if(G)throw new k(G)}}add(G){var ee;if(G&&G!==this)if(this.closed)Y(G);else{if(G instanceof W){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(G)}}_hasParent(G){const{_parentage:ee}=this;return ee===G||Array.isArray(ee)&&ee.includes(G)}_addParent(G){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(G),ee):ee?[ee,G]:G}_removeParent(G){const{_parentage:ee}=this;ee===G?this._parentage=null:Array.isArray(ee)&&(0,fe.P)(ee,G)}remove(G){const{_finalizers:ee}=this;ee&&(0,fe.P)(ee,G),G instanceof W&&G._removeParent(this)}}W.EMPTY=(()=>{const se=new W;return se.closed=!0,se})();const J=W.EMPTY;function X(se){return se instanceof W||se&&"closed"in se&&(0,c.m)(se.remove)&&(0,c.m)(se.add)&&(0,c.m)(se.unsubscribe)}function Y(se){(0,c.m)(se)?se():se.unsubscribe()}},2416:(Gt,Ze,M)=>{M.d(Ze,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Gt,Ze,M)=>{M.d(Ze,{c:()=>J});var c=M(9751),u=M(727),k=M(8343),fe=M(5403),W=M(4482);class J extends c.y{constructor(Y,se){super(),this.source=Y,this.subjectFactory=se,this._subject=null,this._refCount=0,this._connection=null,(0,W.A)(Y)&&(this.lift=Y.lift)}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Y}=this;this._subject=this._connection=null,Y?.unsubscribe()}connect(){let Y=this._connection;if(!Y){Y=this._connection=new u.w0;const se=this.getSubject();Y.add(this.source.subscribe((0,fe.x)(se,void 0,()=>{this._teardown(),se.complete()},G=>{this._teardown(),se.error(G)},()=>this._teardown()))),Y.closed&&(this._connection=null,Y=u.w0.EMPTY)}return Y}refCount(){return(0,k.x)()(this)}}},7272:(Gt,Ze,M)=>{M.d(Ze,{z:()=>W});var c=M(8189),k=M(3269),fe=M(8996);function W(...J){return function u(){return(0,c.J)(1)}()((0,fe.D)(J,(0,k.yG)(J)))}},9770:(Gt,Ze,M)=>{M.d(Ze,{P:()=>k});var c=M(9751),u=M(8421);function k(fe){return new c.y(W=>{(0,u.Xf)(fe()).subscribe(W)})}},515:(Gt,Ze,M)=>{M.d(Ze,{E:()=>u});const u=new(M(9751).y)(W=>W.complete())},8996:(Gt,Ze,M)=>{M.d(Ze,{D:()=>de});var c=M(8421),u=M(5363),k=M(9468),J=M(9751),Y=M(2202),se=M(576),G=M(9672);function pe(Qe,Ie){if(!Qe)throw new Error("Iterable cannot be null");return new J.y(he=>{(0,G.f)(he,Ie,()=>{const ze=Qe[Symbol.asyncIterator]();(0,G.f)(he,Ie,()=>{ze.next().then(dt=>{dt.done?he.complete():he.next(dt.value)})},0,!0)})})}var Ke=M(3670),Ae=M(8239),tt=M(1144),Dt=M(6495),nt=M(2206),ke=M(4532),Pe=M(3260);function de(Qe,Ie){return Ie?function Xe(Qe,Ie){if(null!=Qe){if((0,Ke.c)(Qe))return function fe(Qe,Ie){return(0,c.Xf)(Qe).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Qe,Ie);if((0,tt.z)(Qe))return function X(Qe,Ie){return new J.y(he=>{let ze=0;return Ie.schedule(function(){ze===Qe.length?he.complete():(he.next(Qe[ze++]),he.closed||this.schedule())})})}(Qe,Ie);if((0,Ae.t)(Qe))return function W(Qe,Ie){return(0,c.Xf)(Qe).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Qe,Ie);if((0,nt.D)(Qe))return pe(Qe,Ie);if((0,Dt.T)(Qe))return function ee(Qe,Ie){return new J.y(he=>{let ze;return(0,G.f)(he,Ie,()=>{ze=Qe[Y.h](),(0,G.f)(he,Ie,()=>{let dt,$e;try{({value:dt,done:$e}=ze.next())}catch(et){return void he.error(et)}$e?he.complete():he.next(dt)},0,!0)}),()=>(0,se.m)(ze?.return)&&ze.return()})}(Qe,Ie);if((0,Pe.L)(Qe))return function Ht(Qe,Ie){return pe((0,Pe.Q)(Qe),Ie)}(Qe,Ie)}throw(0,ke.z)(Qe)}(Qe,Ie):(0,c.Xf)(Qe)}},8421:(Gt,Ze,M)=>{M.d(Ze,{Xf:()=>Ke});var c=M(655),u=M(1144),k=M(8239),fe=M(9751),W=M(3670),J=M(2206),X=M(4532),Y=M(6495),se=M(3260),G=M(576),ee=M(7849),pe=M(8822);function Ke(Xe){if(Xe instanceof fe.y)return Xe;if(null!=Xe){if((0,W.c)(Xe))return function Ae(Xe){return new fe.y(de=>{const Qe=Xe[pe.L]();if((0,G.m)(Qe.subscribe))return Qe.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,u.z)(Xe))return function tt(Xe){return new fe.y(de=>{for(let Qe=0;Qe<Xe.length&&!de.closed;Qe++)de.next(Xe[Qe]);de.complete()})}(Xe);if((0,k.t)(Xe))return function Dt(Xe){return new fe.y(de=>{Xe.then(Qe=>{de.closed||(de.next(Qe),de.complete())},Qe=>de.error(Qe)).then(null,ee.h)})}(Xe);if((0,J.D)(Xe))return ke(Xe);if((0,Y.T)(Xe))return function nt(Xe){return new fe.y(de=>{for(const Qe of Xe)if(de.next(Qe),de.closed)return;de.complete()})}(Xe);if((0,se.L)(Xe))return function Pe(Xe){return ke((0,se.Q)(Xe))}(Xe)}throw(0,X.z)(Xe)}function ke(Xe){return new fe.y(de=>{(function Ht(Xe,de){var Qe,Ie,he,ze;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,c.KL)(Xe);!(Ie=yield Qe.next()).done;)if(de.next(Ie.value),de.closed)return}catch(dt){he={error:dt}}finally{try{Ie&&!Ie.done&&(ze=Qe.return)&&(yield ze.call(Qe))}finally{if(he)throw he.error}}de.complete()})})(Xe,de).catch(Qe=>de.error(Qe))})}},6451:(Gt,Ze,M)=>{M.d(Ze,{T:()=>J});var c=M(8189),u=M(8421),k=M(515),fe=M(3269),W=M(8996);function J(...X){const Y=(0,fe.yG)(X),se=(0,fe._6)(X,1/0),G=X;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,c.J)(se)((0,W.D)(G,Y)):k.E}},9646:(Gt,Ze,M)=>{M.d(Ze,{of:()=>k});var c=M(3269),u=M(8996);function k(...fe){const W=(0,c.yG)(fe);return(0,u.D)(fe,W)}},2843:(Gt,Ze,M)=>{M.d(Ze,{_:()=>k});var c=M(9751),u=M(576);function k(fe,W){const J=(0,u.m)(fe)?fe:()=>fe,X=Y=>Y.error(J());return new c.y(W?Y=>W.schedule(X,0,Y):X)}},5403:(Gt,Ze,M)=>{M.d(Ze,{x:()=>u});var c=M(930);function u(fe,W,J,X,Y){return new k(fe,W,J,X,Y)}class k extends c.Lv{constructor(W,J,X,Y,se,G){super(W),this.onFinalize=se,this.shouldUnsubscribe=G,this._next=J?function(ee){try{J(ee)}catch(pe){W.error(pe)}}:super._next,this._error=Y?function(ee){try{Y(ee)}catch(pe){W.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(ee){W.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},4351:(Gt,Ze,M)=>{M.d(Ze,{b:()=>k});var c=M(5577),u=M(576);function k(fe,W){return(0,u.m)(W)?(0,c.z)(fe,W,1):(0,c.z)(fe,1)}},6590:(Gt,Ze,M)=>{M.d(Ze,{d:()=>k});var c=M(4482),u=M(5403);function k(fe){return(0,c.e)((W,J)=>{let X=!1;W.subscribe((0,u.x)(J,Y=>{X=!0,J.next(Y)},()=>{X||J.next(fe),J.complete()}))})}},1884:(Gt,Ze,M)=>{M.d(Ze,{x:()=>fe});var c=M(4671),u=M(4482),k=M(5403);function fe(J,X=c.y){return J=J??W,(0,u.e)((Y,se)=>{let G,ee=!0;Y.subscribe((0,k.x)(se,pe=>{const Ke=X(pe);(ee||!J(G,Ke))&&(ee=!1,G=Ke,se.next(pe))}))})}function W(J,X){return J===X}},9300:(Gt,Ze,M)=>{M.d(Ze,{h:()=>k});var c=M(4482),u=M(5403);function k(fe,W){return(0,c.e)((J,X)=>{let Y=0;J.subscribe((0,u.x)(X,se=>fe.call(W,se,Y++)&&X.next(se)))})}},590:(Gt,Ze,M)=>{M.d(Ze,{P:()=>X});var c=M(6805),u=M(9300),k=M(5698),fe=M(6590),W=M(8068),J=M(4671);function X(Y,se){const G=arguments.length>=2;return ee=>ee.pipe(Y?(0,u.h)((pe,Ke)=>Y(pe,Ke,ee)):J.y,(0,k.q)(1),G?(0,fe.d)(se):(0,W.T)(()=>new c.K))}},3103:(Gt,Ze,M)=>{M.d(Ze,{Z:()=>X});var c=M(6805),u=M(9300),k=M(2035),fe=M(8068),W=M(6590),J=M(4671);function X(Y,se){const G=arguments.length>=2;return ee=>ee.pipe(Y?(0,u.h)((pe,Ke)=>Y(pe,Ke,ee)):J.y,(0,k.h)(1),G?(0,W.d)(se):(0,fe.T)(()=>new c.K))}},4004:(Gt,Ze,M)=>{M.d(Ze,{U:()=>k});var c=M(4482),u=M(5403);function k(fe,W){return(0,c.e)((J,X)=>{let Y=0;J.subscribe((0,u.x)(X,se=>{X.next(fe.call(W,se,Y++))}))})}},9718:(Gt,Ze,M)=>{M.d(Ze,{h:()=>u});var c=M(4004);function u(k){return(0,c.U)(()=>k)}},8189:(Gt,Ze,M)=>{M.d(Ze,{J:()=>k});var c=M(5577),u=M(4671);function k(fe=1/0){return(0,c.z)(u.y,fe)}},5577:(Gt,Ze,M)=>{M.d(Ze,{z:()=>Y});var c=M(4004),u=M(8421),k=M(4482),fe=M(9672),W=M(5403),X=M(576);function Y(se,G,ee=1/0){return(0,X.m)(G)?Y((pe,Ke)=>(0,c.U)((Ae,tt)=>G(pe,Ae,Ke,tt))((0,u.Xf)(se(pe,Ke))),ee):("number"==typeof G&&(ee=G),(0,k.e)((pe,Ke)=>function J(se,G,ee,pe,Ke,Ae,tt,Dt){const nt=[];let ke=0,Pe=0,Ht=!1;const Xe=()=>{Ht&&!nt.length&&!ke&&G.complete()},de=Ie=>ke<pe?Qe(Ie):nt.push(Ie),Qe=Ie=>{Ae&&G.next(Ie),ke++;let he=!1;(0,u.Xf)(ee(Ie,Pe++)).subscribe((0,W.x)(G,ze=>{Ke?.(ze),Ae?de(ze):G.next(ze)},()=>{he=!0},void 0,()=>{if(he)try{for(ke--;nt.length&&ke<pe;){const ze=nt.shift();tt?(0,fe.f)(G,tt,()=>Qe(ze)):Qe(ze)}Xe()}catch(ze){G.error(ze)}}))};return se.subscribe((0,W.x)(G,de,()=>{Ht=!0,Xe()})),()=>{Dt?.()}}(pe,Ke,se,ee)))}},5363:(Gt,Ze,M)=>{M.d(Ze,{Q:()=>fe});var c=M(9672),u=M(4482),k=M(5403);function fe(W,J=0){return(0,u.e)((X,Y)=>{X.subscribe((0,k.x)(Y,se=>(0,c.f)(Y,W,()=>Y.next(se),J),()=>(0,c.f)(Y,W,()=>Y.complete(),J),se=>(0,c.f)(Y,W,()=>Y.error(se),J)))})}},8343:(Gt,Ze,M)=>{M.d(Ze,{x:()=>k});var c=M(4482),u=M(5403);function k(){return(0,c.e)((fe,W)=>{let J=null;fe._refCount++;const X=(0,u.x)(W,void 0,void 0,void 0,()=>{if(!fe||fe._refCount<=0||0<--fe._refCount)return void(J=null);const Y=fe._connection,se=J;J=null,Y&&(!se||Y===se)&&Y.unsubscribe(),W.unsubscribe()});fe.subscribe(X),X.closed||(J=fe.connect())})}},5026:(Gt,Ze,M)=>{M.d(Ze,{R:()=>fe});var c=M(4482),u=M(5403);function k(W,J,X,Y,se){return(G,ee)=>{let pe=X,Ke=J,Ae=0;G.subscribe((0,u.x)(ee,tt=>{const Dt=Ae++;Ke=pe?W(Ke,tt,Dt):(pe=!0,tt),Y&&ee.next(Ke)},se&&(()=>{pe&&ee.next(Ke),ee.complete()})))}}function fe(W,J){return(0,c.e)(k(W,J,arguments.length>=2,!0))}},3099:(Gt,Ze,M)=>{M.d(Ze,{B:()=>W});var c=M(8421),u=M(7579),k=M(930),fe=M(4482);function W(X={}){const{connector:Y=(()=>new u.x),resetOnError:se=!0,resetOnComplete:G=!0,resetOnRefCountZero:ee=!0}=X;return pe=>{let Ke,Ae,tt,Dt=0,nt=!1,ke=!1;const Pe=()=>{Ae?.unsubscribe(),Ae=void 0},Ht=()=>{Pe(),Ke=tt=void 0,nt=ke=!1},Xe=()=>{const de=Ke;Ht(),de?.unsubscribe()};return(0,fe.e)((de,Qe)=>{Dt++,!ke&&!nt&&Pe();const Ie=tt=tt??Y();Qe.add(()=>{Dt--,0===Dt&&!ke&&!nt&&(Ae=J(Xe,ee))}),Ie.subscribe(Qe),!Ke&&Dt>0&&(Ke=new k.Hp({next:he=>Ie.next(he),error:he=>{ke=!0,Pe(),Ae=J(Ht,se,he),Ie.error(he)},complete:()=>{nt=!0,Pe(),Ae=J(Ht,G),Ie.complete()}}),(0,c.Xf)(de).subscribe(Ke))})(pe)}}function J(X,Y,...se){if(!0===Y)return void X();if(!1===Y)return;const G=new k.Hp({next:()=>{G.unsubscribe(),X()}});return Y(...se).subscribe(G)}},8675:(Gt,Ze,M)=>{M.d(Ze,{O:()=>fe});var c=M(7272),u=M(3269),k=M(4482);function fe(...W){const J=(0,u.yG)(W);return(0,k.e)((X,Y)=>{(J?(0,c.z)(W,X,J):(0,c.z)(W,X)).subscribe(Y)})}},9468:(Gt,Ze,M)=>{M.d(Ze,{R:()=>u});var c=M(4482);function u(k,fe=0){return(0,c.e)((W,J)=>{J.add(k.schedule(()=>W.subscribe(J),fe))})}},3900:(Gt,Ze,M)=>{M.d(Ze,{w:()=>fe});var c=M(8421),u=M(4482),k=M(5403);function fe(W,J){return(0,u.e)((X,Y)=>{let se=null,G=0,ee=!1;const pe=()=>ee&&!se&&Y.complete();X.subscribe((0,k.x)(Y,Ke=>{se?.unsubscribe();let Ae=0;const tt=G++;(0,c.Xf)(W(Ke,tt)).subscribe(se=(0,k.x)(Y,Dt=>Y.next(J?J(Ke,Dt,tt,Ae++):Dt),()=>{se=null,pe()}))},()=>{ee=!0,pe()}))})}},5698:(Gt,Ze,M)=>{M.d(Ze,{q:()=>fe});var c=M(515),u=M(4482),k=M(5403);function fe(W){return W<=0?()=>c.E:(0,u.e)((J,X)=>{let Y=0;J.subscribe((0,k.x)(X,se=>{++Y<=W&&(X.next(se),W<=Y&&X.complete())}))})}},2035:(Gt,Ze,M)=>{M.d(Ze,{h:()=>fe});var c=M(515),u=M(4482),k=M(5403);function fe(W){return W<=0?()=>c.E:(0,u.e)((J,X)=>{let Y=[];J.subscribe((0,k.x)(X,se=>{Y.push(se),W<Y.length&&Y.shift()},()=>{for(const se of Y)X.next(se);X.complete()},void 0,()=>{Y=null}))})}},8505:(Gt,Ze,M)=>{M.d(Ze,{b:()=>W});var c=M(576),u=M(4482),k=M(5403),fe=M(4671);function W(J,X,Y){const se=(0,c.m)(J)||X||Y?{next:J,error:X,complete:Y}:J;return se?(0,u.e)((G,ee)=>{var pe;null===(pe=se.subscribe)||void 0===pe||pe.call(se);let Ke=!0;G.subscribe((0,k.x)(ee,Ae=>{var tt;null===(tt=se.next)||void 0===tt||tt.call(se,Ae),ee.next(Ae)},()=>{var Ae;Ke=!1,null===(Ae=se.complete)||void 0===Ae||Ae.call(se),ee.complete()},Ae=>{var tt;Ke=!1,null===(tt=se.error)||void 0===tt||tt.call(se,Ae),ee.error(Ae)},()=>{var Ae,tt;Ke&&(null===(Ae=se.unsubscribe)||void 0===Ae||Ae.call(se)),null===(tt=se.finalize)||void 0===tt||tt.call(se)}))}):fe.y}},8068:(Gt,Ze,M)=>{M.d(Ze,{T:()=>fe});var c=M(6805),u=M(4482),k=M(5403);function fe(J=W){return(0,u.e)((X,Y)=>{let se=!1;X.subscribe((0,k.x)(Y,G=>{se=!0,Y.next(G)},()=>se?Y.complete():Y.error(J())))})}function W(){return new c.K}},4408:(Gt,Ze,M)=>{M.d(Ze,{o:()=>W});var c=M(727);class u extends c.w0{constructor(X,Y){super()}schedule(X,Y=0){return this}}const k={setInterval(J,X,...Y){const{delegate:se}=k;return se?.setInterval?se.setInterval(J,X,...Y):setInterval(J,X,...Y)},clearInterval(J){const{delegate:X}=k;return(X?.clearInterval||clearInterval)(J)},delegate:void 0};var fe=M(8737);class W extends u{constructor(X,Y){super(X,Y),this.scheduler=X,this.work=Y,this.pending=!1}schedule(X,Y=0){if(this.closed)return this;this.state=X;const se=this.id,G=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(G,se,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(G,this.id,Y),this}requestAsyncId(X,Y,se=0){return k.setInterval(X.flush.bind(X,this),se)}recycleAsyncId(X,Y,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return Y;k.clearInterval(Y)}execute(X,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(X,Y);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,Y){let G,se=!1;try{this.work(X)}catch(ee){se=!0,G=ee||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:X,scheduler:Y}=this,{actions:se}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(se,this),null!=X&&(this.id=this.recycleAsyncId(Y,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,Ze,M)=>{M.d(Ze,{v:()=>k});var c=M(6063);class u{constructor(W,J=u.now){this.schedulerActionCtor=W,this.now=J}schedule(W,J=0,X){return new this.schedulerActionCtor(this,W).schedule(X,J)}}u.now=c.l.now;class k extends u{constructor(W,J=u.now){super(W,J),this.actions=[],this._active=!1,this._scheduled=void 0}flush(W){const{actions:J}=this;if(this._active)return void J.push(W);let X;this._active=!0;do{if(X=W.execute(W.state,W.delay))break}while(W=J.shift());if(this._active=!1,X){for(;W=J.shift();)W.unsubscribe();throw X}}}},4986:(Gt,Ze,M)=>{M.d(Ze,{P:()=>fe,z:()=>k});var c=M(4408);const k=new(M(7565).v)(c.o),fe=k},6063:(Gt,Ze,M)=>{M.d(Ze,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(Gt,Ze,M)=>{M.d(Ze,{N:()=>W});var c=M(4408),k=M(7565);const W=new class fe extends k.v{}(class u extends c.o{constructor(Y,se){super(Y,se),this.scheduler=Y,this.work=se}schedule(Y,se=0){return se>0?super.schedule(Y,se):(this.delay=se,this.state=Y,this.scheduler.flush(this),this)}execute(Y,se){return se>0||this.closed?super.execute(Y,se):this._execute(Y,se)}requestAsyncId(Y,se,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(Y,se,G):Y.flush(this)}})},3410:(Gt,Ze,M)=>{M.d(Ze,{z:()=>c});const c={setTimeout(u,k,...fe){const{delegate:W}=c;return W?.setTimeout?W.setTimeout(u,k,...fe):setTimeout(u,k,...fe)},clearTimeout(u){const{delegate:k}=c;return(k?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(Gt,Ze,M)=>{M.d(Ze,{h:()=>u});const u=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,Ze,M)=>{M.d(Ze,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,Ze,M)=>{M.d(Ze,{K:()=>u});const u=(0,M(3888).d)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Gt,Ze,M)=>{M.d(Ze,{_6:()=>J,jO:()=>fe,yG:()=>W});var c=M(576),u=M(3532);function k(X){return X[X.length-1]}function fe(X){return(0,c.m)(k(X))?X.pop():void 0}function W(X){return(0,u.K)(k(X))?X.pop():void 0}function J(X,Y){return"number"==typeof k(X)?X.pop():Y}},4742:(Gt,Ze,M)=>{M.d(Ze,{D:()=>W});const{isArray:c}=Array,{getPrototypeOf:u,prototype:k,keys:fe}=Object;function W(X){if(1===X.length){const Y=X[0];if(c(Y))return{args:Y,keys:null};if(function J(X){return X&&"object"==typeof X&&u(X)===k}(Y)){const se=fe(Y);return{args:se.map(G=>Y[G]),keys:se}}}return{args:X,keys:null}}},8737:(Gt,Ze,M)=>{function c(u,k){if(u){const fe=u.indexOf(k);0<=fe&&u.splice(fe,1)}}M.d(Ze,{P:()=>c})},3888:(Gt,Ze,M)=>{function c(u){const fe=u(W=>{Error.call(W),W.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}M.d(Ze,{d:()=>c})},1810:(Gt,Ze,M)=>{function c(u,k){return u.reduce((fe,W,J)=>(fe[W]=k[J],fe),{})}M.d(Ze,{n:()=>c})},2806:(Gt,Ze,M)=>{M.d(Ze,{O:()=>fe,x:()=>k});var c=M(2416);let u=null;function k(W){if(c.v.useDeprecatedSynchronousErrorHandling){const J=!u;if(J&&(u={errorThrown:!1,error:null}),W(),J){const{errorThrown:X,error:Y}=u;if(u=null,X)throw Y}}else W()}function fe(W){c.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=W)}},9672:(Gt,Ze,M)=>{function c(u,k,fe,W=0,J=!1){const X=k.schedule(function(){fe(),J?u.add(this.schedule(null,W)):this.unsubscribe()},W);if(u.add(X),!J)return X}M.d(Ze,{f:()=>c})},4671:(Gt,Ze,M)=>{function c(u){return u}M.d(Ze,{y:()=>c})},1144:(Gt,Ze,M)=>{M.d(Ze,{z:()=>c});const c=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(Gt,Ze,M)=>{M.d(Ze,{D:()=>u});var c=M(576);function u(k){return Symbol.asyncIterator&&(0,c.m)(k?.[Symbol.asyncIterator])}},576:(Gt,Ze,M)=>{function c(u){return"function"==typeof u}M.d(Ze,{m:()=>c})},3670:(Gt,Ze,M)=>{M.d(Ze,{c:()=>k});var c=M(8822),u=M(576);function k(fe){return(0,u.m)(fe[c.L])}},6495:(Gt,Ze,M)=>{M.d(Ze,{T:()=>k});var c=M(2202),u=M(576);function k(fe){return(0,u.m)(fe?.[c.h])}},8239:(Gt,Ze,M)=>{M.d(Ze,{t:()=>u});var c=M(576);function u(k){return(0,c.m)(k?.then)}},3260:(Gt,Ze,M)=>{M.d(Ze,{L:()=>fe,Q:()=>k});var c=M(655),u=M(576);function k(W){return(0,c.FC)(this,arguments,function*(){const X=W.getReader();try{for(;;){const{value:Y,done:se}=yield(0,c.qq)(X.read());if(se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Y)}}finally{X.releaseLock()}})}function fe(W){return(0,u.m)(W?.getReader)}},3532:(Gt,Ze,M)=>{M.d(Ze,{K:()=>u});var c=M(576);function u(k){return k&&(0,c.m)(k.schedule)}},4482:(Gt,Ze,M)=>{M.d(Ze,{A:()=>u,e:()=>k});var c=M(576);function u(fe){return(0,c.m)(fe?.lift)}function k(fe){return W=>{if(u(W))return W.lift(function(J){try{return fe(J,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,Ze,M)=>{M.d(Ze,{Z:()=>fe});var c=M(4004);const{isArray:u}=Array;function fe(W){return(0,c.U)(J=>function k(W,J){return u(J)?W(...J):W(J)}(W,J))}},5032:(Gt,Ze,M)=>{function c(){}M.d(Ze,{Z:()=>c})},9635:(Gt,Ze,M)=>{M.d(Ze,{U:()=>k,z:()=>u});var c=M(4671);function u(...fe){return k(fe)}function k(fe){return 0===fe.length?c.y:1===fe.length?fe[0]:function(J){return fe.reduce((X,Y)=>Y(X),J)}}},7849:(Gt,Ze,M)=>{M.d(Ze,{h:()=>k});var c=M(2416),u=M(3410);function k(fe){u.z.setTimeout(()=>{const{onUnhandledError:W}=c.v;if(!W)throw fe;W(fe)})}},4532:(Gt,Ze,M)=>{function c(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Ze,{z:()=>c})},655:(Gt,Ze,M)=>{function fe($e,et){var Be={};for(var pt in $e)Object.prototype.hasOwnProperty.call($e,pt)&&et.indexOf(pt)<0&&(Be[pt]=$e[pt]);if(null!=$e&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(pt=Object.getOwnPropertySymbols($e);it<pt.length;it++)et.indexOf(pt[it])<0&&Object.prototype.propertyIsEnumerable.call($e,pt[it])&&(Be[pt[it]]=$e[pt[it]])}return Be}function Y($e,et,Be,pt){return new(Be||(Be=Promise))(function(Bt,kt){function gt(rt){try{Ce(pt.next(rt))}catch(xt){kt(xt)}}function Pt(rt){try{Ce(pt.throw(rt))}catch(xt){kt(xt)}}function Ce(rt){rt.done?Bt(rt.value):function it(Bt){return Bt instanceof Be?Bt:new Be(function(kt){kt(Bt)})}(rt.value).then(gt,Pt)}Ce((pt=pt.apply($e,et||[])).next())})}function nt($e){return this instanceof nt?(this.v=$e,this):new nt($e)}function ke($e,et,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,pt=Be.apply($e,et||[]),Bt=[];return it={},kt("next"),kt("throw"),kt("return"),it[Symbol.asyncIterator]=function(){return this},it;function kt(Wt){pt[Wt]&&(it[Wt]=function(cn){return new Promise(function(hn,wn){Bt.push([Wt,cn,hn,wn])>1||gt(Wt,cn)})})}function gt(Wt,cn){try{!function Pt(Wt){Wt.value instanceof nt?Promise.resolve(Wt.value.v).then(Ce,rt):xt(Bt[0][2],Wt)}(pt[Wt](cn))}catch(hn){xt(Bt[0][3],hn)}}function Ce(Wt){gt("next",Wt)}function rt(Wt){gt("throw",Wt)}function xt(Wt,cn){Wt(cn),Bt.shift(),Bt.length&&gt(Bt[0][0],Bt[0][1])}}function Ht($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,et=$e[Symbol.asyncIterator];return et?et.call($e):($e=function pe($e){var et="function"==typeof Symbol&&Symbol.iterator,Be=et&&$e[et],pt=0;if(Be)return Be.call($e);if($e&&"number"==typeof $e.length)return{next:function(){return $e&&pt>=$e.length&&($e=void 0),{value:$e&&$e[pt++],done:!$e}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}($e),Be={},pt("next"),pt("throw"),pt("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function pt(Bt){Be[Bt]=$e[Bt]&&function(kt){return new Promise(function(gt,Pt){!function it(Bt,kt,gt,Pt){Promise.resolve(Pt).then(function(Ce){Bt({value:Ce,done:gt})},kt)}(gt,Pt,(kt=$e[Bt](kt)).done,kt.value)})}}}M.d(Ze,{FC:()=>ke,KL:()=>Ht,_T:()=>fe,mG:()=>Y,qq:()=>nt})},7340:(Gt,Ze,M)=>{M.d(Ze,{IO:()=>tt,LC:()=>u,SB:()=>se,X$:()=>fe,ZE:()=>Pe,ZN:()=>ke,_7:()=>Ae,_j:()=>c,eR:()=>ee,jt:()=>W,k1:()=>Ht,l3:()=>k,oB:()=>Y,oQ:()=>pe,pV:()=>Ke,vP:()=>X});class c{}class u{}const k="*";function fe(Xe,de){return{type:7,name:Xe,definitions:de,options:{}}}function W(Xe,de=null){return{type:4,styles:de,timings:Xe}}function X(Xe,de=null){return{type:2,steps:Xe,options:de}}function Y(Xe){return{type:6,styles:Xe,offset:null}}function se(Xe,de,Qe){return{type:0,name:Xe,styles:de,options:Qe}}function ee(Xe,de,Qe=null){return{type:1,expr:Xe,animation:de,options:Qe}}function pe(Xe,de=null){return{type:8,animation:Xe,options:de}}function Ke(Xe=null){return{type:9,options:Xe}}function Ae(Xe,de=null){return{type:10,animation:Xe,options:de}}function tt(Xe,de,Qe=null){return{type:11,selector:Xe,animation:de,options:Qe}}function nt(Xe){Promise.resolve(null).then(Xe)}class ke{constructor(de=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Qe="start"==de?this._onStartFns:this._onDoneFns;Qe.forEach(Ie=>Ie()),Qe.length=0}}class Pe{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Qe=0,Ie=0,he=0;const ze=this.players.length;0==ze?nt(()=>this._onFinish()):this.players.forEach(dt=>{dt.onDone(()=>{++Qe==ze&&this._onFinish()}),dt.onDestroy(()=>{++Ie==ze&&this._onDestroy()}),dt.onStart(()=>{++he==ze&&this._onStart()})}),this.totalTime=this.players.reduce((dt,$e)=>Math.max(dt,$e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Qe=de*this.totalTime;this.players.forEach(Ie=>{const he=Ie.totalTime?Math.min(1,Qe/Ie.totalTime):1;Ie.setPosition(he)})}getPosition(){const de=this.players.reduce((Qe,Ie)=>null===Qe||Ie.totalTime>Qe.totalTime?Ie:Qe,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Qe="start"==de?this._onStartFns:this._onDoneFns;Qe.forEach(Ie=>Ie()),Qe.length=0}}const Ht="!"},6895:(Gt,Ze,M)=>{M.d(Ze,{Do:()=>Xe,EM:()=>vn,HT:()=>W,JF:()=>kr,K0:()=>X,Mx:()=>ki,NF:()=>Ue,O5:()=>At,Ov:()=>Vs,PC:()=>Ir,PM:()=>ut,S$:()=>nt,V_:()=>G,Ye:()=>de,b0:()=>Ht,bD:()=>si,ez:()=>Br,mk:()=>Si,q:()=>k,sg:()=>Ye,tP:()=>pr,w_:()=>J});var c=M(4650);let u=null;function k(){return u}function W(F){u||(u=F)}class J{}const X=new c.OlP("DocumentToken");let Y=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=c.Yz7({token:F,factory:function(){return function se(){return(0,c.LFG)(ee)}()},providedIn:"platform"}),F})();const G=new c.OlP("Location Initialized");let ee=(()=>{class F extends Y{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",U,!1),()=>ce.removeEventListener("popstate",U)}onHashChange(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",U,!1),()=>ce.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ce,He){pe()?this._history.pushState(U,ce,He):this.location.hash=He}replaceState(U,ce,He){pe()?this._history.replaceState(U,ce,He):this.location.hash=He}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return F.\u0275fac=function(U){return new(U||F)(c.LFG(X))},F.\u0275prov=c.Yz7({token:F,factory:function(){return function Ke(){return new ee((0,c.LFG)(X))}()},providedIn:"platform"}),F})();function pe(){return!!window.history.pushState}function Ae(F,re){if(0==F.length)return re;if(0==re.length)return F;let U=0;return F.endsWith("/")&&U++,re.startsWith("/")&&U++,2==U?F+re.substring(1):1==U?F+re:F+"/"+re}function tt(F){const re=F.match(/#|\?|$/),U=re&&re.index||F.length;return F.slice(0,U-("/"===F[U-1]?1:0))+F.slice(U)}function Dt(F){return F&&"?"!==F[0]?"?"+F:F}let nt=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=c.Yz7({token:F,factory:function(){return function ke(){const F=(0,c.LFG)(X).location;return new Ht((0,c.LFG)(Y),F&&F.origin||"")}()},providedIn:"root"}),F})();const Pe=new c.OlP("appBaseHref");let Ht=(()=>{class F extends nt{constructor(U,ce){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ae(this._baseHref,U)}path(U=!1){const ce=this._platformLocation.pathname+Dt(this._platformLocation.search),He=this._platformLocation.hash;return He&&U?`${ce}${He}`:ce}pushState(U,ce,He,vt){const st=this.prepareExternalUrl(He+Dt(vt));this._platformLocation.pushState(U,ce,st)}replaceState(U,ce,He,vt){const st=this.prepareExternalUrl(He+Dt(vt));this._platformLocation.replaceState(U,ce,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(c.LFG(Y),c.LFG(Pe,8))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac}),F})(),Xe=(()=>{class F extends nt{constructor(U,ce){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(U){const ce=Ae(this._baseHref,U);return ce.length>0?"#"+ce:ce}pushState(U,ce,He,vt){let st=this.prepareExternalUrl(He+Dt(vt));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(U,ce,st)}replaceState(U,ce,He,vt){let st=this.prepareExternalUrl(He+Dt(vt));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(U,ce,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(c.LFG(Y),c.LFG(Pe,8))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac}),F})(),de=(()=>{class F{constructor(U){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ce=this._locationStrategy.getBaseHref();this._baseHref=tt(he(ce)),this._locationStrategy.onPopState(He=>{this._subject.emit({url:this.path(!0),pop:!0,state:He.state,type:He.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ce=""){return this.path()==this.normalize(U+Dt(ce))}normalize(U){return F.stripTrailingSlash(function Ie(F,re){return F&&re.startsWith(F)?re.substring(F.length):re}(this._baseHref,he(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ce="",He=null){this._locationStrategy.pushState(He,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Dt(ce)),He)}replaceState(U,ce="",He=null){this._locationStrategy.replaceState(He,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Dt(ce)),He)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ce){this._urlChangeListeners.forEach(He=>He(U,ce))}subscribe(U,ce,He){return this._subject.subscribe({next:U,error:ce,complete:He})}}return F.normalizeQueryParams=Dt,F.joinWithSlash=Ae,F.stripTrailingSlash=tt,F.\u0275fac=function(U){return new(U||F)(c.LFG(nt))},F.\u0275prov=c.Yz7({token:F,factory:function(){return function Qe(){return new de((0,c.LFG)(nt))}()},providedIn:"root"}),F})();function he(F){return F.replace(/\/index.html$/,"")}function ki(F,re){re=encodeURIComponent(re);for(const U of F.split(";")){const ce=U.indexOf("="),[He,vt]=-1==ce?[U,""]:[U.slice(0,ce),U.slice(ce+1)];if(He.trim()===re)return decodeURIComponent(vt)}return null}let Si=(()=>{class F{constructor(U,ce,He,vt){this._iterableDiffers=U,this._keyValueDiffers=ce,this._ngEl=He,this._renderer=vt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),U.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!!U[ce])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(U,ce){(U=U.trim())&&U.split(/\s+/g).forEach(He=>{ce?this._renderer.addClass(this._ngEl.nativeElement,He):this._renderer.removeClass(this._ngEl.nativeElement,He)})}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},F.\u0275dir=c.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class xi{constructor(re,U,ce,He){this.$implicit=re,this.ngForOf=U,this.index=ce,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class F{constructor(U,ce,He){this._viewContainer=U,this._template=ce,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ce=this._viewContainer;U.forEachOperation((He,vt,st)=>{if(null==He.previousIndex)ce.createEmbeddedView(this._template,new xi(He.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)ce.remove(null===vt?void 0:vt);else if(null!==vt){const dn=ce.get(vt);ce.move(dn,st),je(dn,He)}});for(let He=0,vt=ce.length;He<vt;He++){const dn=ce.get(He).context;dn.index=He,dn.count=vt,dn.ngForOf=this._ngForOf}U.forEachIdentityChange(He=>{je(ce.get(He.currentIndex),He)})}static ngTemplateContextGuard(U,ce){return!0}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},F.\u0275dir=c.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function je(F,re){F.context.$implicit=re.item}let At=(()=>{class F{constructor(U,ce){this._viewContainer=U,this._context=new jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){fn("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){fn("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ce){return!0}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.s_b),c.Y36(c.Rgc))},F.\u0275dir=c.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class jt{constructor(){this.$implicit=null,this.ngIf=null}}function fn(F,re){if(re&&!re.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,c.AaK)(re)}'.`)}let Ir=(()=>{class F{constructor(U,ce,He){this._ngEl=U,this._differs=ce,this._renderer=He,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,ce){const[He,vt]=U.split("."),st=-1===He.indexOf("-")?void 0:c.JOm.DashCase;null!=ce?this._renderer.setStyle(this._ngEl.nativeElement,He,vt?`${ce}${vt}`:ce,st):this._renderer.removeStyle(this._ngEl.nativeElement,He,st)}_applyChanges(U){U.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),U.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},F.\u0275dir=c.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),F})(),pr=(()=>{class F{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:He,ngTemplateOutletContext:vt,ngTemplateOutletInjector:st}=this;this._viewRef=ce.createEmbeddedView(He,vt,st?{injector:st}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.s_b))},F.\u0275dir=c.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),F})();class ai{createSubscription(re,U){return re.subscribe({next:U,error:ce=>{throw ce}})}dispose(re){re.unsubscribe()}}class Os{createSubscription(re,U){return re.then(U,ce=>{throw ce})}dispose(re){}}const Ts=new Os,xs=new ai;let Vs=(()=>{class F{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ce=>this._updateLatestValue(U,ce))}_selectStrategy(U){if((0,c.QGY)(U))return Ts;if((0,c.F4k)(U))return xs;throw function hr(F,re){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ce){U===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return F.\u0275fac=function(U){return new(U||F)(c.Y36(c.sBO,16))},F.\u0275pipe=c.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),Br=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275mod=c.oAB({type:F}),F.\u0275inj=c.cJS({}),F})();const si="browser";function Ue(F){return F===si}function ut(F){return"server"===F}let vn=(()=>{class F{}return F.\u0275prov=(0,c.Yz7)({token:F,providedIn:"root",factory:()=>new Bn((0,c.LFG)(X),window)}),F})();class Bn{constructor(re,U){this.document=re,this.window=U,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const U=function gr(F,re){const U=F.getElementById(re)||F.getElementsByName(re)[0];if(U)return U;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ce=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let He=ce.currentNode;for(;He;){const vt=He.shadowRoot;if(vt){const st=vt.getElementById(re)||vt.querySelector(`[name="${re}"]`);if(st)return st}He=ce.nextNode()}}return null}(this.document,re);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=re)}}scrollToElement(re){const U=re.getBoundingClientRect(),ce=U.left+this.window.pageXOffset,He=U.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(ce-vt[0],He-vt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=or(this.window.history)||or(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function or(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class kr{}},4650:(Gt,Ze,M)=>{M.d(Ze,{$8M:()=>Js,$Z:()=>dm,AFp:()=>eE,ALo:()=>E0,AaK:()=>Y,Akn:()=>i,AsE:()=>qy,BQk:()=>bf,CHM:()=>Hi,CRH:()=>O0,CZH:()=>uy,CqO:()=>Bm,D6c:()=>BI,DdM:()=>a0,EJc:()=>eI,EiD:()=>ac,EpF:()=>Um,F$t:()=>mg,F4k:()=>hg,FYo:()=>Kc,FiY:()=>Zn,G48:()=>wI,Gf:()=>A0,GfV:()=>Zc,GkF:()=>cg,Gpc:()=>ee,HTZ:()=>f0,Hsn:()=>yg,JOm:()=>bl,JVY:()=>xl,KtG:()=>ds,L6k:()=>Pl,LAX:()=>Rl,LFG:()=>H,LSH:()=>Md,Lbi:()=>Yw,Lck:()=>Qb,MAs:()=>Zu,MMx:()=>i_,NdJ:()=>fg,O4$:()=>Ma,OlP:()=>Or,Oqu:()=>ua,PXZ:()=>gI,Q6J:()=>_u,QGY:()=>dg,QP$:()=>xf,QbO:()=>Qw,Qsj:()=>Hf,R0b:()=>Hl,RDi:()=>Gl,Rgc:()=>Dg,SBq:()=>fc,Sil:()=>nI,Suo:()=>M0,TTD:()=>Bi,TgZ:()=>yf,Tol:()=>n,Udp:()=>ey,VKq:()=>l0,W1O:()=>N0,WLB:()=>u0,X6Q:()=>bI,XFs:()=>sn,Xpm:()=>le,Xts:()=>xd,Y36:()=>Bu,YKP:()=>Jv,YNc:()=>Vm,Yjl:()=>qe,Yz7:()=>cn,ZZ4:()=>M_,_Bn:()=>Qv,_UZ:()=>vf,_Vd:()=>dc,_c5:()=>VI,_uU:()=>Zs,aQg:()=>O_,c2e:()=>Jw,cJS:()=>wn,cg1:()=>Yy,dDg:()=>dI,deG:()=>fs,dqk:()=>Jt,eBb:()=>Fc,eFA:()=>fE,ekj:()=>Tf,eoX:()=>cE,f3M:()=>De,g9A:()=>nE,h0i:()=>Mf,hGG:()=>UI,hij:()=>Yu,iGM:()=>S0,ifc:()=>kn,ip1:()=>X0,kEZ:()=>c0,kL8:()=>Iv,l5B:()=>d0,lG2:()=>Tn,lcZ:()=>b0,lqb:()=>cu,lri:()=>lE,mCW:()=>Ut,n5z:()=>$i,oAB:()=>Zt,oJD:()=>Ad,oxw:()=>jm,pB0:()=>Vc,q3G:()=>Ni,q4F:()=>Nd,qLn:()=>el,qOj:()=>Ks,qZA:()=>_f,qbA:()=>h0,qzn:()=>Kl,rFY:()=>p0,rWj:()=>uE,s9C:()=>wf,sBO:()=>II,sIi:()=>pd,s_b:()=>oy,soG:()=>cy,tBr:()=>mr,tb:()=>rE,tp0:()=>yr,uIk:()=>og,vHH:()=>tt,vpe:()=>Qu,wAp:()=>Sr,xp6:()=>oa,ynx:()=>Ef,z2F:()=>dy,z3N:()=>Ia,zSh:()=>$c,zs3:()=>wc});var c=M(7579),u=M(727),k=M(9751),fe=M(6451),W=M(3099);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function X(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function se(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const G=J({__forward_ref__:J});function ee(t){return t.__forward_ref__=ee,t.toString=function(){return Y(this())},t}function pe(t){return Ke(t)?t():t}function Ke(t){return"function"==typeof t&&t.hasOwnProperty(G)&&t.__forward_ref__===ee}class tt extends Error{constructor(r,s){super(function Dt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function nt(t){return"string"==typeof t?t:null==t?"":String(t)}function de(t,r){throw new tt(-201,!1)}function Pt(t,r){null==t&&function Ce(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kn(t){return Pr(t,jn)||Pr(t,nr)}function Pr(t,r){return t.hasOwnProperty(r)?t[r]:null}function ti(t){return t&&(t.hasOwnProperty(Ar)||t.hasOwnProperty(cr))?t[Ar]:null}const jn=J({\u0275prov:J}),Ar=J({\u0275inj:J}),nr=J({ngInjectableDef:J}),cr=J({ngInjectorDef:J});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let Jn;function bn(t){const r=Jn;return Jn=t,r}function Nn(t,r,s){const a=Kn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&sn.Optional?null:void 0!==r?r:void de(Y(t))}function Kr(t){return{toString:t}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),kn=(()=>{return(t=kn||(kn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kn;var t})();const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hr={},An=[],Rr=J({\u0275cmp:J}),dr=J({\u0275dir:J}),Xt=J({\u0275pipe:J}),Gn=J({\u0275mod:J}),Wr=J({\u0275fac:J}),Re=J({__NG_ELEMENT_ID__:J});let Le=0;function le(t){return Kr(()=>{const s=!0===t.standalone,a={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||An,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,id:"c"+Le++,styles:t.styles||An,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.dependencies,b=t.features;return d.inputs=yn(t.inputs,a),d.outputs=yn(t.outputs),b&&b.forEach(D=>D(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(K).filter(Me):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ct).filter(Me):null,d})}function K(t){return Te(t)||Se(t)}function Me(t){return null!==t}const at={};function Zt(t){return Kr(()=>{const r={type:t.type,bootstrap:t.bootstrap||An,declarations:t.declarations||An,imports:t.imports||An,exports:t.exports||An,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(at[t.id]=t.type),r})}function yn(t,r){if(null==t)return Hr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),s[d]=a,r&&(r[d]=p)}return s}const Tn=le;function qe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Te(t){return t[Rr]||null}function Se(t){return t[dr]||null}function Ct(t){return t[Xt]||null}function Vt(t,r){const s=t[Gn]||null;if(!s&&!0===r)throw new Error(`Type ${Y(t)} does not have '\u0275mod' property.`);return s}function At(t){return Array.isArray(t)&&"object"==typeof t[1]}function jt(t){return Array.isArray(t)&&!0===t[1]}function fn(t){return 0!=(8&t.flags)}function _e(t){return 2==(2&t.flags)}function ct(t){return 1==(1&t.flags)}function We(t){return null!==t.template}function ht(t){return 0!=(256&t[2])}function qi(t,r){return t.hasOwnProperty(Wr)?t[Wr]:null}class zi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Bi(){return Bs}function Bs(t){return t.type.prototype.ngOnChanges&&(t.setInput=Es),vs}function vs(){const t=ws(this),r=t?.current;if(r){const s=t.previous;if(s===Hr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Es(t,r,s,a){const d=ws(t)||function Hs(t,r){return t[bs]=r}(t,{previous:Hr,current:null}),p=d.current||(d.current={}),b=d.previous,D=this.declaredInputs[s],O=b[D];p[D]=new zi(O&&O.currentValue,r,b===Hr),t[a]=r}Bi.ngInherit=!0;const bs="__ngSimpleChanges__";function ws(t){return t[bs]||null}function _t(t){for(;Array.isArray(t);)t=t[0];return t}function vn(t,r){return _t(r[t])}function Bn(t,r){return _t(r[t.index])}function gr(t,r){return t.data[r]}function ei(t,r){return t[r]}function kr(t,r){const s=r[t];return At(s)?s:s[0]}function F(t){return 4==(4&t[2])}function re(t){return 64==(64&t[2])}function ce(t,r){return null==r?null:t[r]}function He(t){t[18]=0}function vt(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const st={lFrame:Mi(null),bindingsEnabled:!0};function yi(){return st.bindingsEnabled}function Lt(){return st.lFrame.lView}function ar(){return st.lFrame.tView}function Hi(t){return st.lFrame.contextLView=t,t[8]}function ds(t){return st.lFrame.contextLView=null,t}function ii(){let t=yo();for(;null!==t&&64===t.type;)t=t.parent;return t}function yo(){return st.lFrame.currentTNode}function ns(t,r){const s=st.lFrame;s.currentTNode=t,s.isParent=r}function Ao(){return st.lFrame.isParent}function wi(){st.lFrame.isParent=!1}function L(){const t=st.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Et(){return st.lFrame.bindingIndex++}function gn(t){const r=st.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Ys(t,r){const s=st.lFrame;s.bindingIndex=s.bindingRootIndex=t,so(r)}function so(t){st.lFrame.currentDirectiveIndex=t}function al(){return st.lFrame.currentQueryIndex}function Wo(t){st.lFrame.currentQueryIndex=t}function ll(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Fi(t,r,s){if(s&sn.SkipSelf){let d=r,p=t;for(;!(d=d.parent,null!==d||s&sn.Host||(d=ll(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;r=d,t=p}const a=st.lFrame=di();return a.currentTNode=r,a.lView=t,!0}function Go(t){const r=di(),s=t[1];st.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function di(){const t=st.lFrame,r=null===t?null:t.child;return null===r?Mi(t):r}function Mi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Fr(){const t=st.lFrame;return st.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zo=Fr;function Ha(){const t=Fr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ki(){return st.lFrame.selectedIndex}function Ns(t){st.lFrame.selectedIndex=t}function vi(){const t=st.lFrame;return gr(t.tView,t.selectedIndex)}function Ma(){st.lFrame.currentNamespace="svg"}function Sl(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:ae}=p;b&&(t.contentHooks||(t.contentHooks=[])).push(-s,b),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),O&&(t.viewHooks||(t.viewHooks=[])).push(-s,O),z&&((t.viewHooks||(t.viewHooks=[])).push(s,z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,z)),null!=ae&&(t.destroyHooks||(t.destroyHooks=[])).push(s,ae)}}function ja(t,r,s){ul(t,r,3,s)}function Is(t,r,s,a){(3&t[2])===s&&ul(t,r,s,a)}function iu(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function ul(t,r,s,a){const p=a??-1,b=r.length-1;let D=0;for(let O=void 0!==a?65535&t[18]:0;O<b;O++)if("number"==typeof r[O+1]){if(D=r[O],null!=a&&D>=a)break}else r[O]<0&&(t[18]+=65536),(D<p||-1==p)&&(Ko(t,s,r,O),t[18]=(4294901760&t[18])+O+2),O++}function Ko(t,r,s,a){const d=s[a]<0,p=s[a+1],D=t[d?-s[a]:s[a]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class ha{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ri(t,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const p=s[a++],b=s[a++],D=s[a++];t.setAttribute(r,b,D,p)}else{const p=d,b=s[++a];js(p)?t.setProperty(r,p,b):t.setAttribute(r,p,b),a++}}return a}function $s(t){return 3===t||4===t||6===t}function js(t){return 64===t.charCodeAt(0)}function Ra(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||hl(t,s,d,null,-1===s||2===s?r[++a]:null)}}return t}function hl(t,r,s,a,d){let p=0,b=t.length;if(-1===r)b=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===r){b=-1;break}if(D>r){b=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==d&&(t[p+1]=d));if(a===t[p+1])return void(t[p+2]=d)}p++,null!==a&&p++,null!==d&&p++}-1!==b&&(t.splice(b,0,r),p=b+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==d&&t.splice(p++,0,d)}function qt(t){return-1!==t}function Ii(t){return 32767&t}function Lo(t,r){let s=function rs(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Mn=!0;function Wn(t){const r=Mn;return Mn=t,r}let Rt=0;const oi={};function Fo(t,r){const s=Ml(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,pa(a.data,t),pa(r,null),pa(a.blueprint,null));const d=Yo(t,r),p=t.injectorIndex;if(qt(d)){const b=Ii(d),D=Lo(d,r),O=D[1].data;for(let z=0;z<8;z++)r[p+z]=D[b+z]|O[b+z]}return r[p+8]=d,p}function pa(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ml(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Yo(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=Ga(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Wa(t,r,s){!function qo(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Re)&&(a=s[Re]),null==a&&(a=s[Re]=Rt++);const d=255&a;r.data[t+(d>>5)]|=1<<d}(t,r,s)}function Qs(t,r,s){if(s&sn.Optional)return t;de()}function pl(t,r,s,a){if(s&sn.Optional&&void 0===a&&(a=null),0==(s&(sn.Self|sn.Host))){const d=t[9],p=bn(void 0);try{return d?d.get(r,a,s&sn.Optional):Nn(r,a,s&sn.Optional)}finally{bn(p)}}return Qs(a,0,s)}function Vi(t,r,s,a=sn.Default,d){if(null!==t){if(1024&r[2]){const b=function Jo(t,r,s,a,d){let p=t,b=r;for(;null!==p&&null!==b&&1024&b[2]&&!(256&b[2]);){const D=Qo(p,b,s,a|sn.Self,oi);if(D!==oi)return D;let O=p.parent;if(!O){const z=b[21];if(z){const ae=z.get(s,oi,a);if(ae!==oi)return ae}O=Ga(b),b=b[15]}p=O}return d}(t,r,s,a,oi);if(b!==oi)return b}const p=Qo(t,r,s,a,oi);if(p!==oi)return p}return pl(r,s,a,d)}function Qo(t,r,s,a,d){const p=function hi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Re)?t[Re]:void 0;return"number"==typeof r?r>=0?255&r:ga:r}(s);if("function"==typeof p){if(!Fi(r,t,a))return a&sn.Host?Qs(d,0,a):pl(r,s,a,d);try{const b=p(a);if(null!=b||a&sn.Optional)return b;de()}finally{zo()}}else if("number"==typeof p){let b=null,D=Ml(t,r),O=-1,z=a&sn.Host?r[16][6]:null;for((-1===D||a&sn.SkipSelf)&&(O=-1===D?Yo(t,r):r[D+8],-1!==O&&Eo(a,!1)?(b=r[1],D=Ii(O),r=Lo(O,r)):D=-1);-1!==D;){const ae=r[1];if(ir(p,D,ae.data)){const be=Cr(D,r,s,b,a,z);if(be!==oi)return be}O=r[D+8],-1!==O&&Eo(a,r[1].data[D+8]===z)&&ir(p,D,r)?(b=ae,D=Ii(O),r=Lo(O,r)):D=-1}}return d}function Cr(t,r,s,a,d,p){const b=r[1],D=b.data[t+8],ae=ks(D,b,s,null==a?_e(D)&&Mn:a!=b&&0!=(3&D.type),d&sn.Host&&p===D);return null!==ae?vo(r,b,ae,D):oi}function ks(t,r,s,a,d){const p=t.providerIndexes,b=r.data,D=1048575&p,O=t.directiveStart,ae=p>>20,Je=d?D+ae:t.directiveEnd;for(let yt=a?D:D+ae;yt<Je;yt++){const $t=b[yt];if(yt<O&&s===$t||yt>=O&&$t.type===s)return yt}if(d){const yt=b[O];if(yt&&We(yt)&&yt.type===s)return O}return null}function vo(t,r,s,a){let d=t[s];const p=r.data;if(function Oo(t){return t instanceof ha}(d)){const b=d;b.resolving&&function Pe(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new tt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nt(t)}(p[s]));const D=Wn(b.canSeeViewProviders);b.resolving=!0;const O=b.injectImpl?bn(b.injectImpl):null;Fi(t,a,sn.Default);try{d=t[s]=b.factory(void 0,p,t,a),r.firstCreatePass&&s>=a.directiveStart&&function ru(t,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:p}=r.type.prototype;if(a){const b=Bs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,b)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,d),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p))}(s,p[s],r)}finally{null!==O&&bn(O),Wn(D),b.resolving=!1,zo()}}return d}function ir(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Eo(t,r){return!(t&sn.Self||t&sn.Host&&r)}class Dr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Vi(this._tNode,this._lView,r,a,s)}}function ga(){return new Dr(ii(),Lt())}function $i(t){return Kr(()=>{const r=t.prototype.constructor,s=r[Wr]||pn(r),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const p=d[Wr]||pn(d);if(p&&p!==s)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function pn(t){return Ke(t)?()=>{const r=pn(pe(t));return r&&r()}:qi(t)}function Ga(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Js(t){return function fl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const p=s[d];if($s(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(p===r)return s[d+1];d+=2}}}return null}(ii(),t)}const is="__parameters__";function Vo(t,r,s){return Kr(()=>{const a=function Ji(t){return function(...s){if(t){const a=t(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...p){if(this instanceof d)return a.apply(this,p),this;const b=new d(...p);return D.annotation=b,D;function D(O,z,ae){const be=O.hasOwnProperty(is)?O[is]:Object.defineProperty(O,is,{value:[]})[is];for(;be.length<=ae;)be.push(null);return(be[ae]=be[ae]||[]).push(b),O}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class Or{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=cn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fs=new Or("AnalyzeForEntryComponents");function Xi(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Xi(a,r)):r!==t&&r.push(a)}return r}function oo(t,r){t.forEach(s=>Array.isArray(s)?oo(s,r):r(s))}function ji(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function T(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function C(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function It(t,r,s){let a=On(t,r);return a>=0?t[1|a]=s:(a=~a,function B(t,r,s,a){let d=t.length;if(d==r)t.push(s,a);else if(1===d)t.push(a,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>r;)t[d]=t[d-2],d--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function an(t,r){const s=On(t,r);if(s>=0)return t[1|s]}function On(t,r){return function Zr(t,r,s){let a=0,d=t.length>>s;for(;d!==a;){const p=a+(d-a>>1),b=t[p<<s];if(r===b)return p<<s;b>r?d=p:a=p+1}return~(d<<s)}(t,r,1)}const os={},Po="__NG_DI_FLAG__",lo="ngTempTokenPath",ou=/\n/gm,jl="__source";let Ro;function Ea(t){const r=Ro;return Ro=t,r}function R(t,r=sn.Default){if(void 0===Ro)throw new tt(-203,!1);return null===Ro?Nn(t,void 0,r):Ro.get(t,r&sn.Optional?null:void 0,r)}function H(t,r=sn.Default){return(function Ln(){return Jn}()||R)(pe(t),r)}function De(t,r=sn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),H(t,r)}function ot(t){const r=[];for(let s=0;s<t.length;s++){const a=pe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new tt(900,!1);let d,p=sn.Default;for(let b=0;b<a.length;b++){const D=a[b],O=Kt(D);"number"==typeof O?-1===O?d=D.token:p|=O:d=D}r.push(H(d,p))}else r.push(H(a))}return r}function Tt(t,r){return t[Po]=r,t.prototype[Po]=r,t}function Kt(t){return t[Po]}const mr=Tt(Vo("Inject",t=>({token:t})),-1),Zn=Tt(Vo("Optional"),8),yr=Tt(Vo("SkipSelf"),4);let Cu,Na,Ja;function Gl(t){Cu=t}function _l(t){return function au(){if(void 0===Na&&(Na=null,Jt.trustedTypes))try{Na=Jt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Na}()?.createHTML(t)||t}function Du(t){return function Tu(){if(void 0===Ja&&(Ja=null,Jt.trustedTypes))try{Ja=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ja}()?.createHTML(t)||t}class ka{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Td extends ka{getTypeName(){return"HTML"}}class Au extends ka{getTypeName(){return"Style"}}class Lc extends ka{getTypeName(){return"Script"}}class nc extends ka{getTypeName(){return"URL"}}class Mu extends ka{getTypeName(){return"ResourceURL"}}function Ia(t){return t instanceof ka?t.changingThisBreaksApplicationSecurity:t}function Kl(t,r){const s=function rc(t){return t instanceof ka&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function xl(t){return new Td(t)}function Pl(t){return new Au(t)}function Fc(t){return new Lc(t)}function Rl(t){return new nc(t)}function Vc(t){return new Mu(t)}class g{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(_l(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class y{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=_l(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=_l(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const b=s.item(d).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&r.removeAttribute(b)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ne=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ut(t){return(t=String(t)).match(ne)||t.match(lt)?t:"unsafe:"+t}function Fn(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Vr(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Oi=Fn("area,br,col,hr,img,wbr"),Ca=Fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ta=Fn("rp,rt"),lu=Vr(Oi,Vr(Ca,Fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vr(Ta,Fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vr(Ta,Ca)),ia=Fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),es=Fn("srcset"),as=Vr(ia,es,Fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),li=Fn("script,style,template");class Dd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!lu.hasOwnProperty(s))return this.sanitizedSomething=!0,!li.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const p=a.item(d),b=p.name,D=b.toLowerCase();if(!as.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=p.value;ia[D]&&(O=Ut(O)),es[D]&&(t=O,O=(t=String(t)).split(",").map(r=>Ut(r.trim())).join(", ")),this.buf.push(" ",b,'="',Sd(O),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();lu.hasOwnProperty(s)&&!Oi.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Sd(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const oc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nl=/([^\#-~ |!])/g;function Sd(t){return t.replace(/&/g,"&amp;").replace(oc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Nl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eo;function ac(t,r){let s=null;try{eo=eo||function I(t){const r=new y(t);return function S(){try{return!!(new window.DOMParser).parseFromString(_l(""),"text/html")}catch{return!1}}()?new g(r):r}(t);let a=r?String(r):"";s=eo.getInertBodyElement(a);let d=5,p=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=p,p=s.innerHTML,s=eo.getInertBodyElement(a)}while(a!==p);return _l((new Dd).sanitizeChildren(Ou(s)||s))}finally{if(s){const a=Ou(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ou(t){return"content"in t&&function Uc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ni=(()=>((Ni=Ni||{})[Ni.NONE=0]="NONE",Ni[Ni.HTML=1]="HTML",Ni[Ni.STYLE=2]="STYLE",Ni[Ni.SCRIPT=3]="SCRIPT",Ni[Ni.URL=4]="URL",Ni[Ni.RESOURCE_URL=5]="RESOURCE_URL",Ni))();function Ad(t){const r=uc();return r?Du(r.sanitize(Ni.HTML,t)||""):Kl(t,"HTML")?Du(Ia(t)):ac(function kc(){return void 0!==Cu?Cu:typeof document<"u"?document:void 0}(),nt(t))}function Md(t){const r=uc();return r?r.sanitize(Ni.URL,t)||"":Kl(t,"URL")?Ia(t):Ut(nt(t))}function uc(){const t=Lt();return t&&t[12]}const xd=new Or("ENVIRONMENT_INITIALIZER"),Rf=new Or("INJECTOR",-1),bh=new Or("INJECTOR_DEF_TYPES");class wh{get(r,s=os){if(s===os){const a=new Error(`NullInjectorError: No provider for ${Y(r)}!`);throw a.name="NullInjectorError",a}return s}}function Og(...t){return{\u0275providers:Ih(0,t)}}function Ih(t,...r){const s=[],a=new Set;let d;return oo(r,p=>{const b=p;xu(b,s,[],a)&&(d||(d=[]),d.push(b))}),void 0!==d&&Nf(d,s),s}function Nf(t,r){for(let s=0;s<t.length;s++){const{providers:d}=t[s];oo(d,p=>{r.push(p)})}}function xu(t,r,s,a){if(!(t=pe(t)))return!1;let d=null,p=ti(t);const b=!p&&Te(t);if(p||b){if(b&&!b.standalone)return!1;d=t}else{const O=t.ngModule;if(p=ti(O),!p)return!1;d=O}const D=a.has(d);if(b){if(D)return!1;if(a.add(d),b.dependencies){const O="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const z of O)xu(z,r,s,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let z;a.add(d);try{oo(p.imports,ae=>{xu(ae,r,s,a)&&(z||(z=[]),z.push(ae))})}finally{}void 0!==z&&Nf(z,r)}if(!D){const z=qi(d)||(()=>new d);r.push({provide:d,useFactory:z,deps:An},{provide:bh,useValue:d,multi:!0},{provide:xd,useValue:()=>H(d),multi:!0})}const O=p.providers;null==O||D||oo(O,ae=>{r.push(ae)})}}return d!==t&&void 0!==t.providers}const Pg=J({provide:String,useValue:J});function to(t){return null!==t&&"object"==typeof t&&Pg in t}function El(t){return"function"==typeof t}const $c=new Or("Set Injector scope."),jc={},Wc={};let Rd;function Gc(){return void 0===Rd&&(Rd=new wh),Rd}class cu{}class kf extends cu{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sh(r,b=>this.processProvider(b)),this.records.set(Rf,Pu(void 0,this)),d.has("environment")&&this.records.set(cu,Pu(void 0,this));const p=this.records.get($c);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(bh.multi,An,sn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ea(this),a=bn(void 0);try{return r()}finally{Ea(s),bn(a)}}get(r,s=os,a=sn.Default){this.assertNotDestroyed();const d=Ea(this),p=bn(void 0);try{if(!(a&sn.SkipSelf)){let D=this.records.get(r);if(void 0===D){const O=function Rg(t){return"function"==typeof t||"object"==typeof t&&t instanceof Or}(r)&&Kn(r);D=O&&this.injectableDefInScope(O)?Pu(Th(r),jc):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&sn.Self?Gc():this.parent).get(r,s=a&sn.Optional&&s===os?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[lo]=b[lo]||[]).unshift(Y(r)),d)throw b;return function Cn(t,r,s,a){const d=t[lo];throw r[jl]&&d.unshift(r[jl]),t.message=function sr(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=Y(r);if(Array.isArray(r))d=r.map(Y).join(" -> ");else if("object"==typeof r){let p=[];for(let b in r)if(r.hasOwnProperty(b)){let D=r[b];p.push(b+":"+("string"==typeof D?JSON.stringify(D):Y(D)))}d=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${t.replace(ou,"\n  ")}`}("\n"+t.message,d,s,a),t.ngTokenPath=d,t[lo]=null,t}(b,r,"R3InjectorError",this.source)}throw b}finally{bn(p),Ea(d)}}resolveInjectorInitializers(){const r=Ea(this),s=bn(void 0);try{const a=this.get(xd.multi,An,sn.Self);for(const d of a)d()}finally{Ea(r),bn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Y(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(r){let s=El(r=pe(r))?r:pe(r&&r.provide);const a=function Dh(t){return to(t)?Pu(void 0,t.useValue):Pu(Lf(t),jc)}(r);if(El(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Pu(void 0,jc,!0),d.factory=()=>ot(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===jc&&(s.value=Wc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=pe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Th(t){const r=Kn(t),s=null!==r?r.factory:qi(t);if(null!==s)return s;if(t instanceof Or)throw new tt(204,!1);if(t instanceof Function)return function zc(t){const r=t.length;if(r>0)throw C(r,"?"),new tt(204,!1);const s=function fr(t){const r=t&&(t[jn]||t[nr]);if(r){const s=function rn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new tt(204,!1)}function Lf(t,r,s){let a;if(El(t)){const d=pe(t);return qi(d)||Th(d)}if(to(t))a=()=>pe(t.useValue);else if(function Ch(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ot(t.deps||[]));else if(function Pd(t){return!(!t||!t.useExisting)}(t))a=()=>H(pe(t.useExisting));else{const d=pe(t&&(t.useClass||t.provide));if(!function Ff(t){return!!t.deps}(t))return qi(d)||Th(d);a=()=>new d(...ot(t.deps))}return a}function Pu(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Uf(t){return!!t.\u0275providers}function Sh(t,r){for(const s of t)Array.isArray(s)?Sh(s,r):Uf(s)?Sh(s.\u0275providers,r):r(s)}class Ru{}class kg{resolveComponentFactory(r){throw function cc(t){const r=Error(`No component factory found for ${Y(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let dc=(()=>{class t{}return t.NULL=new kg,t})();function sa(){return hc(ii(),Lt())}function hc(t,r){return new fc(Bn(t,r))}let fc=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=sa,t})();function Ll(t){return t instanceof fc?t.nativeElement:t}class Kc{}let Hf=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Fg(){const t=Lt(),s=kr(ii().index,t);return(At(s)?s:t)[11]}(),t})(),$f=(()=>{class t{}return t.\u0275prov=cn({token:t,providedIn:"root",factory:()=>null}),t})();class Zc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Nd=new Zc("14.1.0"),kd={};function Yc(t){return t.ngOriginalError}class el{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Yc(r);for(;s&&Yc(s);)s=Yc(s);return s||null}}const Bd=new Map;let xh=0;const Zl="__ngContext__";function ko(t,r){At(r)?(t[Zl]=r[20],function zf(t){Bd.set(t[20],t)}(r)):t[Zl]=r}function mc(t){const r=t[Zl];return"number"==typeof r?function Rh(t){return Bd.get(t)||null}(r):r||null}function Nh(t){const r=mc(t);return r?At(r)?r:r.lView:null}const Hd=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Jt))();function La(t){return t instanceof Function?t():t}var bl=(()=>((bl=bl||{})[bl.Important=1]="Important",bl[bl.DashCase=2]="DashCase",bl))();function Il(t,r){return undefined(t,r)}function Va(t){const r=t[3];return jt(r)?r[3]:r}function td(t){return Vh(t[13])}function jd(t){return Vh(t[4])}function Vh(t){for(;null!==t&&!jt(t);)t=t[4];return t}function _c(t,r,s,a,d){if(null!=a){let p,b=!1;jt(a)?p=a:At(a)&&(b=!0,a=a[0]);const D=_t(a);0===t&&null!==s?null==d?Wh(r,s,D):hu(r,s,D,d||null,!0):1===t&&null!==s?hu(r,s,D,d||null,!0):2===t?function En(t,r,s){const a=nd(t,r);a&&function ip(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,b):3===t&&r.destroyNode(D),null!=p&&function Ur(t,r,s,a,d){const p=s[7];p!==_t(s)&&_c(r,t,a,p,d);for(let D=10;D<s.length;D++){const O=s[D];Yr(O[1],O,t,r,a,p)}}(r,t,p,s,d)}}function Wd(t,r,s){return t.createElement(r,s)}function np(t,r){const s=t[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,vt(d,-1)),s.splice(a,1)}function Gd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const d=a[17];null!==d&&d!==t&&np(d,a),r>0&&(t[s-1][4]=a[4]);const p=T(t,10+r);!function tm(t,r){Yr(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const b=p[19];null!==b&&b.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function rp(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Yr(t,r,s,3,null,null),function Ec(t){let r=t[13];if(!r)return Bh(t[1],t);for(;r;){let s=null;if(At(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)At(r)&&Bh(r[1],r),r=r[3];null===r&&(r=t),At(r)&&Bh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Bh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Co(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof ha)){const p=s[a+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const D=d[p[b]],O=p[b+1];try{O.call(D)}finally{}}else try{p.call(d)}finally{}}}}(t,r),function Hh(t,r){const s=t.cleanup,a=r[7];let d=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const b=s[p+1],D="function"==typeof b?b(r):_t(r[b]),O=a[d=s[p+2]],z=s[p+3];"boolean"==typeof z?D.removeEventListener(s[p],O,z):z>=0?a[d=z]():a[d=-z].unsubscribe(),p+=2}else{const b=a[d=s[p+1]];s[p].call(b)}if(null!==a){for(let p=d+1;p<a.length;p++)(0,a[p])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&jt(r[3])){s!==r[3]&&np(s,r);const a=r[19];null!==a&&a.detachView(t)}!function zg(t){Bd.delete(t[20])}(r)}}function $h(t,r,s){return function jh(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=t.data[a.directiveStart].encapsulation;if(d===kn.None||d===kn.Emulated)return null}return Bn(a,s)}(t,r.parent,s)}function hu(t,r,s,a,d){t.insertBefore(r,s,a,d)}function Wh(t,r,s){t.appendChild(r,s)}function zd(t,r,s,a,d){null!==a?hu(t,r,s,a,d):Wh(t,r,s)}function nd(t,r){return t.parentNode(r)}function m(t,r,s){return _(t,r,s)}let _=function h(t,r,s){return 40&t.type?Bn(t,s):null};function ye(t,r,s,a){const d=$h(t,a,r),p=r[11],D=m(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let O=0;O<s.length;O++)zd(p,d,s[O],D,!1);else zd(p,d,s,D,!1)}function Oe(t,r){if(null!==r){const s=r.type;if(3&s)return Bn(r,t);if(4&s)return Nt(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Oe(t,a);{const d=t[r.index];return jt(d)?Nt(-1,d):_t(d)}}if(32&s)return Il(r,t)()||_t(t[r.index]);{const a=ft(t,r);return null!==a?Array.isArray(a)?a[0]:Oe(Va(t[16]),a):Oe(t,r.next)}}return null}function ft(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Nt(t,r){const s=10+t+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Oe(a,d)}return r[7]}function Vn(t,r,s,a,d,p,b){for(;null!=s;){const D=a[s.index],O=s.type;if(b&&0===r&&(D&&ko(_t(D),a),s.flags|=4),64!=(64&s.flags))if(8&O)Vn(t,r,s.child,a,d,p,!1),_c(r,t,d,D,p);else if(32&O){const z=Il(s,a);let ae;for(;ae=z();)_c(r,t,d,ae,p);_c(r,t,d,D,p)}else 16&O?_r(t,r,a,s,d,p):_c(r,t,d,D,p);s=b?s.projectionNext:s.next}}function Yr(t,r,s,a,d,p){Vn(s,a,t.firstChild,r,d,p,!1)}function _r(t,r,s,a,d,p){const b=s[16],O=b[6].projection[a.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)_c(r,t,d,O[z],p);else Vn(t,r,O,b[3],d,p,!0)}function Ci(t,r,s){t.setAttribute(r,"style",s)}function ls(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function ho(t,r,s){let a=t.length;for(;;){const d=t.indexOf(r,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=r.length;if(d+p===a||t.charCodeAt(d+p)<=32)return d}s=d+1}}const Ql="ng-template";function tl(t,r,s){let a=0;for(;a<t.length;){let d=t[a++];if(s&&"class"===d){if(d=t[a],-1!==ho(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function To(t){return 4===t.type&&t.value!==Ql}function Vl(t,r,s){return r===(4!==t.type||s?t.value:Ql)}function nl(t,r,s){let a=4;const d=t.attrs||[],p=function id(t){for(let r=0;r<t.length;r++)if($s(t[r]))return r;return t.length}(d);let b=!1;for(let D=0;D<r.length;D++){const O=r[D];if("number"!=typeof O){if(!b)if(4&a){if(a=2|1&a,""!==O&&!Vl(t,O,s)||""===O&&1===r.length){if(ro(a))return!1;b=!0}}else{const z=8&a?O:r[++D];if(8&a&&null!==t.attrs){if(!tl(t.attrs,z,s)){if(ro(a))return!1;b=!0}continue}const be=rd(8&a?"class":O,d,To(t),s);if(-1===be){if(ro(a))return!1;b=!0;continue}if(""!==z){let Je;Je=be>p?"":d[be+1].toLowerCase();const yt=8&a?Je:null;if(yt&&-1!==ho(yt,z,0)||2&a&&z!==Je){if(ro(a))return!1;b=!0}}}}else{if(!b&&!ro(a)&&!ro(O))return!1;if(b&&ro(O))continue;b=!1,a=O|1&a}}return ro(a)||b}function ro(t){return 0==(1&t)}function rd(t,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let p=!1;for(;d<r.length;){const b=r[d];if(b===t)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let D=r[++d];for(;"string"==typeof D;)D=r[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function bc(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function fu(t,r,s=!1){for(let a=0;a<r.length;a++)if(nl(t,r[a],s))return!0;return!1}function $n(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function tr(t,r){return t?":not("+r.trim()+")":r}function vr(t){let r=t[0],s=1,a=2,d="",p=!1;for(;s<t.length;){let b=t[s];if("string"==typeof b)if(2&a){const D=t[++s];d+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+b:4&a&&(d+=" "+b);else""!==d&&!ro(b)&&(r+=tr(p,d),d=""),a=b,p=p||!ro(a);s++}return""!==d&&(r+=tr(p,d)),r}const ur={};function oa(t){Cl(ar(),Lt(),Ki()+t,!1)}function Cl(t,r,s,a){if(!a)if(3==(3&r[2])){const p=t.preOrderCheckHooks;null!==p&&ja(r,p,s)}else{const p=t.preOrderHooks;null!==p&&Is(r,p,0,s)}Ns(s)}function nm(t,r=null,s=null,a){const d=rm(t,r,s,a);return d.resolveInjectorInitializers(),d}function rm(t,r=null,s=null,a,d=new Set){const p=[s||An,Og(t)];return a=a||("object"==typeof t?void 0:Y(t)),new kf(p,r||Gc(),a||null,d)}let wc=(()=>{class t{static create(s,a){if(Array.isArray(s))return nm({name:""},a,s,"");{const d=s.name??"";return nm({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=os,t.NULL=new wh,t.\u0275prov=cn({token:t,providedIn:"any",factory:()=>H(Rf)}),t.__NG_ELEMENT_ID__=-1,t})();function Bu(t,r=sn.Default){const s=Lt();return null===s?H(t,r):Vi(ii(),s,pe(t),r)}function dm(){throw new Error("invalid")}function Qh(t,r){return t<<17|r<<2}function il(t){return t>>17&32767}function qd(t){return 2|t}function Ul(t){return(131068&t)>>2}function Hu(t,r){return-131069&t|r<<2}function Yd(t){return 1|t}function sf(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],p=s[a+1];if(-1!==p){const b=t.data[p];Wo(d),b.contentQueries(2,r[p],p)}}}function ud(t,r,s,a,d,p,b,D,O,z,ae){const be=r.blueprint.slice();return be[0]=d,be[2]=76|a,(null!==ae||t&&1024&t[2])&&(be[2]|=1024),He(be),be[3]=be[15]=t,be[8]=s,be[10]=b||t&&t[10],be[11]=D||t&&t[11],be[12]=O||t&&t[12]||null,be[9]=z||t&&t[9]||null,be[6]=p,be[20]=function Ph(){return xh++}(),be[21]=ae,be[16]=2==r.type?t[16]:be,be}function cd(t,r,s,a,d){let p=t.data[r];if(null===p)p=function th(t,r,s,a,d){const p=yo(),b=Ao(),O=t.data[r]=function Np(t,r,s,a,d,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,s,r,a,d);return null===t.firstChild&&(t.firstChild=O),null!==p&&(b?null==p.child&&null!==O.parent&&(p.child=O):null===p.next&&(p.next=O)),O}(t,r,s,a,d),function _i(){return st.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=d;const b=function Xn(){const t=st.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return ns(p,!0),p}function Ua(t,r,s,a){if(0===s)return-1;const d=r.length;for(let p=0;p<s;p++)r.push(a),t.blueprint.push(a),t.data.push(null);return d}function dd(t,r,s){Go(r);try{const a=t.viewQuery;null!==a&&Xp(1,a,s);const d=t.template;null!==d&&Em(t,r,d,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sf(t,r),t.staticViewQueries&&Xp(2,t.viewQuery,s);const p=t.components;null!==p&&function vm(t,r){for(let s=0;s<r.length;s++)hd(t,r[s])}(r,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Ha()}}function nh(t,r,s,a){const d=r[2];if(128!=(128&d)){Go(r);try{He(r),function ue(t){return st.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Em(t,r,s,2,a);const b=3==(3&d);if(b){const z=t.preOrderCheckHooks;null!==z&&ja(r,z,null)}else{const z=t.preOrderHooks;null!==z&&Is(r,z,0,null),iu(r,0)}if(function Kp(t){for(let r=td(t);null!==r;r=jd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],p=d[3];0==(512&d[2])&&vt(p,1),d[2]|=512}}}(r),function Am(t){for(let r=td(t);null!==r;r=jd(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];re(a)&&nh(d,a,d.template,a[8])}}(r),null!==t.contentQueries&&sf(t,r),b){const z=t.contentCheckHooks;null!==z&&ja(r,z)}else{const z=t.contentHooks;null!==z&&Is(r,z,1),iu(r,1)}!function Sp(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)Ns(~d);else{const p=d,b=s[++a],D=s[++a];Ys(b,p),D(2,r[p])}}}finally{Ns(-1)}}(t,r);const D=t.components;null!==D&&function ld(t,r){for(let s=0;s<r.length;s++)Mm(t,r[s])}(r,D);const O=t.viewQuery;if(null!==O&&Xp(2,O,a),b){const z=t.viewCheckHooks;null!==z&&ja(r,z)}else{const z=t.viewHooks;null!==z&&Is(r,z,2),iu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,vt(r[3],-1))}finally{Ha()}}}function Ap(t,r,s,a){const d=r[10],b=F(r);try{!b&&d.begin&&d.begin(),b&&dd(t,r,a),nh(t,r,s,a)}finally{!b&&d.end&&d.end()}}function Em(t,r,s,a,d){const p=Ki(),b=2&a;try{Ns(-1),b&&r.length>22&&Cl(t,r,22,!1),s(a,d)}finally{Ns(p)}}function bm(t,r,s){if(fn(r)){const d=r.directiveEnd;for(let p=r.directiveStart;p<d;p++){const b=t.data[p];b.contentQueries&&b.contentQueries(1,s[p],p)}}}function rh(t,r,s){!yi()||(function Sy(t,r,s,a){const d=s.directiveStart,p=s.directiveEnd;t.firstCreatePass||Fo(s,r),ko(a,r);const b=s.initialInputs;for(let D=d;D<p;D++){const O=t.data[D],z=We(O);z&&jp(r,s,O);const ae=vo(r,t,D,s);ko(ae,r),null!==b&&Wp(0,D-d,ae,O,0,b),z&&(kr(s.index,r)[8]=ae)}}(t,r,s,Bn(s,r)),128==(128&s.flags)&&function Bp(t,r,s){const a=s.directiveStart,d=s.directiveEnd,p=s.index,b=function io(){return st.lFrame.currentDirectiveIndex}();try{Ns(p);for(let D=a;D<d;D++){const O=t.data[D],z=r[D];so(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Hp(O,z)}}finally{Ns(-1),so(b)}}(t,r,s))}function Mp(t,r,s=Bn){const a=r.localNames;if(null!==a){let d=r.index+1;for(let p=0;p<a.length;p+=2){const b=a[p+1],D=-1===b?s(r,t):t[b];t[d++]=D}}}function af(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Op(t,r,s,a,d,p,b,D,O,z){const ae=22+a,be=ae+d,Je=function xp(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:ur);return s}(ae,be),yt="function"==typeof z?z():z;return Je[1]={type:t,blueprint:Je,template:s,queries:null,viewQuery:D,declTNode:r,data:Je.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:O,consts:yt,incompleteFirstPass:!1}}function Rp(t,r,s,a){const d=df(r);null===s?d.push(a):(d.push(s),t.firstCreatePass&&eg(t).push(a,d.length-1))}function kp(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const d=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function wm(t,r){const a=r.directiveEnd,d=t.data,p=r.attrs,b=[];let D=null,O=null;for(let z=r.directiveStart;z<a;z++){const ae=d[z],be=ae.inputs,Je=null===p||To(r)?null:Gp(be,p);b.push(Je),D=kp(be,z,D),O=kp(ae.outputs,z,O)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=b,r.inputs=D,r.outputs=O}function Da(t,r,s,a,d,p,b,D){const O=Bn(r,s);let ae,z=r.inputs;!D&&null!=z&&(ae=z[a])?(fd(t,s,ae,a,d),_e(r)&&Im(s,r.index)):3&r.type&&(a=function Dy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=b?b(d,r.value||"",a):d,p.setProperty(O,a,d))}function Im(t,r){const s=kr(r,t);16&s[2]||(s[2]|=32)}function Vp(t,r,s,a){let d=!1;if(yi()){const p=function lf(t,r,s){const a=t.directiveRegistry;let d=null;if(a)for(let p=0;p<a.length;p++){const b=a[p];fu(s,b.selectors,!1)&&(d||(d=[]),Wa(Fo(s,r),t,b.type),We(b)?(Dm(t,s),d.unshift(b)):d.push(b))}return d}(t,r,s),b=null===a?null:{"":-1};if(null!==p){d=!0,Sm(s,t.data.length,p.length);for(let ae=0;ae<p.length;ae++){const be=p[ae];be.providersResolver&&be.providersResolver(be)}let D=!1,O=!1,z=Ua(t,r,p.length,null);for(let ae=0;ae<p.length;ae++){const be=p[ae];s.mergedAttrs=Ra(s.mergedAttrs,be.hostAttrs),$p(t,s,r,z,be),My(z,be,b),null!==be.contentQueries&&(s.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=128);const Je=be.type.prototype;!D&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!O&&(Je.ngOnChanges||Je.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),O=!0),z++}wm(t,s)}b&&function Ay(t,r,s){if(r){const a=t.localNames=[];for(let d=0;d<r.length;d+=2){const p=s[r[d+1]];if(null==p)throw new tt(-301,!1);a.push(r[d],p)}}}(s,a,b)}return s.mergedAttrs=Ra(s.mergedAttrs,s.attrs),d}function Up(t,r,s,a,d,p){const b=p.hostBindings;if(b){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const O=~r.index;(function Tm(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=O&&D.push(O),D.push(a,d,b)}}function Hp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Dm(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function My(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;We(r)&&(s[""]=t)}}function Sm(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function $p(t,r,s,a,d){t.data[a]=d;const p=d.factory||(d.factory=qi(d.type)),b=new ha(p,We(d),Bu);t.blueprint[a]=b,s[a]=b,Up(t,r,0,a,Ua(t,s,d.hostVars,ur),d)}function jp(t,r,s){const a=Bn(r,t),d=af(s),p=t[10],b=cf(t,ud(t,d,null,s.onPush?32:16,a,r,p,p.createRenderer(a,s),null,null,null));t[r.index]=b}function Bl(t,r,s,a,d,p){const b=Bn(t,r);!function ih(t,r,s,a,d,p,b){if(null==p)t.removeAttribute(r,d,s);else{const D=null==b?nt(p):b(p,a||"",d);t.setAttribute(r,d,D,s)}}(r[11],b,p,t.value,s,a,d)}function Wp(t,r,s,a,d,p){const b=p[r];if(null!==b){const D=a.setInput;for(let O=0;O<b.length;){const z=b[O++],ae=b[O++],be=b[O++];null!==D?a.setInput(s,be,z,ae):s[ae]=be}}}function Gp(t,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,t[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function uf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Mm(t,r){const s=kr(r,t);if(re(s)){const a=s[1];48&s[2]?nh(a,s,a.template,s[8]):s[5]>0&&sh(s)}}function sh(t){for(let a=td(t);null!==a;a=jd(a))for(let d=10;d<a.length;d++){const p=a[d];if(512&p[2]){const b=p[1];nh(b,p,b.template,p[8])}else p[5]>0&&sh(p)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=kr(s[a],t);re(d)&&d[5]>0&&sh(d)}}function hd(t,r){const s=kr(r,t),a=s[1];(function Zp(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),dd(a,s,s[8])}function cf(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function qp(t){for(;t;){t[2]|=32;const r=Va(t);if(ht(t)&&!r)return t;t=r}return null}function Jp(t){!function Yp(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=Nh(s);if(null!==a){const d=a[1];Ap(d,a,d.template,s)}}}(t[8])}function Xp(t,r,s){Wo(0),r(t,s)}const Om=(()=>Promise.resolve(null))();function df(t){return t[7]||(t[7]=[])}function eg(t){return t.cleanup||(t.cleanup=[])}function ng(t,r){const s=t[9],a=s?s.get(el,null):null;a&&a.handleError(r)}function fd(t,r,s,a,d){for(let p=0;p<s.length;){const b=s[p++],D=s[p++],O=r[b],z=t.data[b];null!==z.setInput?z.setInput(O,d,a,D):O[D]=d}}function Jr(t,r,s){const a=vn(r,t);!function Uh(t,r,s){t.setValue(r,s)}(t[11],a,s)}function oh(t,r,s){let a=s?t.styles:null,d=s?t.classes:null,p=0;if(null!==r)for(let b=0;b<r.length;b++){const D=r[b];"number"==typeof D?p=D:1==p?d=se(d,D):2==p&&(a=se(a,D+": "+r[++b]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=d:t.classesWithoutHost=d}function ah(t,r,s,a,d=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push(_t(p)),jt(p))for(let D=10;D<p.length;D++){const O=p[D],z=O[1].firstChild;null!==z&&ah(O[1],O,z,a)}const b=s.type;if(8&b)ah(t,r,s.child,a);else if(32&b){const D=Il(s,r);let O;for(;O=D();)a.push(O)}else if(16&b){const D=ft(r,s);if(Array.isArray(D))a.push(...D);else{const O=Va(r[16]);ah(O[1],O,D,a,!0)}}s=d?s.projectionNext:s.next}return a}class mu{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return ah(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(jt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Gd(r,a),T(s,a))}this._attachedToViewContainer=!1}rp(this._lView[1],this._lView)}onDestroy(r){Rp(this._lView[1],this._lView,null,r)}markForCheck(){qp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Qp(t,r,s){const a=r[10];a.begin&&a.begin();try{nh(t,r,t.template,s)}catch(d){throw ng(r,d),d}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vu(t,r){Yr(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=r}}class xy extends mu{constructor(r){super(r),this._view=r}detectChanges(){Jp(this._view)}checkNoChanges(){}get context(){return null}}class Ss extends dc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Te(r);return new lh(s,this.ngModule)}}function Ho(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Py{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,kd,a);return d!==kd||s===kd?d:this.parentInjector.get(r,s,a)}}class lh extends Ru{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function fi(t){return t.map(vr).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ho(this.componentDef.inputs)}get outputs(){return Ho(this.componentDef.outputs)}create(r,s,a,d){let p=(d=d||this.ngModule)instanceof cu?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new Py(r,p):r,D=b.get(Kc,null);if(null===D)throw new tt(407,!1);const O=b.get($f,null),z=D.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",be=a?function Pp(t,r,s){return t.selectRootElement(r,s===kn.ShadowDom)}(z,a,this.componentDef.encapsulation):Wd(D.createRenderer(null,this.componentDef),ae,function eu(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ae)),Je=this.componentDef.onPush?288:272,yt=function Ny(t,r){return{components:[],scheduler:t||Hd,clean:Om,playerHandler:r||null,flags:0}}(),$t=Op(0,null,null,1,0,null,null,null,null,null),un=ud(null,$t,yt,Je,null,null,D,z,O,b,null);let Rn,qn;Go(un);try{const xr=function rg(t,r,s,a,d,p){const b=s[1];s[22]=t;const O=cd(b,22,2,"#host",null),z=O.mergedAttrs=r.hostAttrs;null!==z&&(oh(O,z,!0),null!==t&&(Ri(d,t,z),null!==O.classes&&ls(d,t,O.classes),null!==O.styles&&Ci(d,t,O.styles)));const ae=a.createRenderer(t,r),be=ud(s,af(r),null,r.onPush?32:16,s[22],O,a,ae,p||null,null,null);return b.firstCreatePass&&(Wa(Fo(O,s),b,r.type),Dm(b,O),Sm(O,s.length,1)),cf(s,be),s[22]=be}(be,this.componentDef,un,D,z);if(be)if(a)Ri(z,be,["ng-version",Nd.full]);else{const{attrs:Qt,classes:Er}=function zs(t){const r=[],s=[];let a=1,d=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===d?""!==p&&r.push(p,t[++a]):8===d&&s.push(p);else{if(!ro(d))break;d=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Qt&&Ri(z,be,Qt),Er&&Er.length>0&&ls(z,be,Er.join(" "))}if(qn=gr($t,22),void 0!==s){const Qt=qn.projection=[];for(let Er=0;Er<this.ngContentSelectors.length;Er++){const Ti=s[Er];Qt.push(null!=Ti?Array.from(Ti):null)}}Rn=function Ry(t,r,s,a,d){const p=s[1],b=function Fp(t,r,s){const a=ii();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),$p(t,a,r,Ua(t,r,1,null),s),wm(t,a));const d=vo(r,t,a.directiveStart,a);ko(d,r);const p=Bn(a,r);return p&&ko(p,r),d}(p,s,r);if(a.components.push(b),t[8]=b,null!==d)for(const O of d)O(b,r);if(r.contentQueries){const O=ii();r.contentQueries(1,b,O.directiveStart)}const D=ii();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ns(D.index),Up(s[1],D,0,D.directiveStart,D.directiveEnd,r),Hp(r,b)),b}(xr,this.componentDef,un,yt,[As]),dd($t,un,null)}finally{Ha()}return new Pm(this.componentType,Rn,hc(qn,un),un,qn)}}class Pm extends class Ng{}{constructor(r,s,a,d,p){super(),this.location=a,this._rootLView=d,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new xy(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const p=this._rootLView;fd(p[1],p,d,r,s),Im(p,this._tNode.index)}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function As(){const t=ii();Sl(Lt()[1],t)}function Ks(t){let r=function Rm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let d;if(We(t))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const b=t;b.inputs=ig(t.inputs),b.declaredInputs=ig(t.declaredInputs),b.outputs=ig(t.outputs);const D=d.hostBindings;D&&Ly(t,D);const O=d.viewQuery,z=d.contentQueries;if(O&&ky(t,O),z&&km(t,z),X(t.inputs,d.inputs),X(t.declaredInputs,d.declaredInputs),X(t.outputs,d.outputs),We(d)&&d.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const D=p[b];D&&D.ngInherit&&D(t),D===Ks&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Nm(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=r+=d.hostVars,d.hostAttrs=Ra(d.hostAttrs,s=Ra(s,d.hostAttrs))}}(a)}function ig(t){return t===Hr?{}:t===An?[]:t}function ky(t,r){const s=t.viewQuery;t.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function km(t,r){const s=t.contentQueries;t.contentQueries=s?(a,d,p)=>{r(a,d,p),s(a,d,p)}:r}function Ly(t,r){const s=t.hostBindings;t.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let sg=null;function Dc(){if(!sg){const t=Jt.Symbol;if(t&&t.iterator)sg=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(sg=a)}}}return sg}function pd(t){return!!tu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Dc()in t)}function tu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sl(t,r,s){return t[r]=s}function uh(t,r){return t[r]}function aa(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Wu(t,r,s,a){const d=aa(t,r,s);return aa(t,r+1,a)||d}function Sa(t,r,s,a,d,p){const b=Wu(t,r,s,a);return Wu(t,r+2,d,p)||b}function og(t,r,s,a){const d=Lt();return aa(d,Et(),r)&&(ar(),Bl(vi(),d,t,r,s,a)),og}function yu(t,r,s,a){return aa(t,Et(),s)?r+nt(s)+a:ur}function nu(t,r,s,a,d,p){const D=Wu(t,function x(){return st.lFrame.bindingIndex}(),s,d);return gn(2),D?r+nt(s)+a+nt(d)+p:ur}function Vm(t,r,s,a,d,p,b,D){const O=Lt(),z=ar(),ae=t+22,be=z.firstCreatePass?function hh(t,r,s,a,d,p,b,D,O){const z=r.consts,ae=cd(r,t,4,b||null,ce(z,D));Vp(r,s,ae,ce(z,O)),Sl(r,ae);const be=ae.tViews=Op(2,ae,a,d,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ae),be.queries=r.queries.embeddedTView(ae)),ae}(ae,z,O,r,s,a,d,p,b):z.data[ae];ns(be,!1);const Je=O[11].createComment("");ye(z,O,Je,be),ko(Je,O),cf(O,O[ae]=uf(Je,O,Je,be)),ct(be)&&rh(z,O,be),null!=b&&Mp(O,be,D)}function Zu(t){return ei(function Ba(){return st.lFrame.contextLView}(),22+t)}function _u(t,r,s){const a=Lt();return aa(a,Et(),r)&&Da(ar(),vi(),a,t,r,a[11],s,!1),_u}function Mc(t,r,s,a,d){const b=d?"class":"style";fd(t,s,r.inputs[b],b,a)}function yf(t,r,s,a){const d=Lt(),p=ar(),b=22+t,D=d[11],O=d[b]=Wd(D,r,function $a(){return st.lFrame.currentNamespace}()),z=p.firstCreatePass?function Oc(t,r,s,a,d,p,b){const D=r.consts,z=cd(r,t,2,d,ce(D,p));return Vp(r,s,z,ce(D,b)),null!==z.attrs&&oh(z,z.attrs,!1),null!==z.mergedAttrs&&oh(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(b,p,d,0,r,s,a):p.data[b];ns(z,!0);const ae=z.mergedAttrs;null!==ae&&Ri(D,O,ae);const be=z.classes;null!==be&&ls(D,O,be);const Je=z.styles;return null!==Je&&Ci(D,O,Je),64!=(64&z.flags)&&ye(p,d,O,z),0===function Gr(){return st.lFrame.elementDepthCount}()&&ko(O,d),function Lr(){st.lFrame.elementDepthCount++}(),ct(z)&&(rh(p,d,z),bm(p,z,d)),null!==a&&Mp(d,z),yf}function _f(){let t=ii();Ao()?wi():(t=t.parent,ns(t,!1));const r=t;!function br(){st.lFrame.elementDepthCount--}();const s=ar();return s.firstCreatePass&&(Sl(s,t),fn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function _o(t){return 0!=(16&t.flags)}(r)&&Mc(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function cl(t){return 0!=(32&t.flags)}(r)&&Mc(s,r,Lt(),r.stylesWithoutHost,!1),_f}function vf(t,r,s,a){return yf(t,r,s,a),_f(),vf}function Ef(t,r,s){const a=Lt(),d=ar(),p=t+22,b=d.firstCreatePass?function fh(t,r,s,a,d){const p=r.consts,b=ce(p,a),D=cd(r,t,8,"ng-container",b);return null!==b&&oh(D,b,!0),Vp(r,s,D,ce(p,d)),null!==r.queries&&r.queries.elementStart(r,D),D}(p,d,a,r,s):d.data[p];ns(b,!0);const D=a[p]=a[11].createComment("");return ye(d,a,D,b),ko(D,a),ct(b)&&(rh(d,a,b),bm(d,b,a)),null!=s&&Mp(a,b),Ef}function bf(){let t=ii();const r=ar();return Ao()?wi():(t=t.parent,ns(t,!1)),r.firstCreatePass&&(Sl(r,t),fn(t)&&r.queries.elementEnd(t)),bf}function cg(t,r,s){return Ef(t,r,s),bf(),cg}function Um(){return Lt()}function dg(t){return!!t&&"function"==typeof t.then}function hg(t){return!!t&&"function"==typeof t.subscribe}const Bm=hg;function fg(t,r,s,a){const d=Lt(),p=ar(),b=ii();return function Hm(t,r,s,a,d,p,b,D){const O=ct(a),ae=t.firstCreatePass&&eg(t),be=r[8],Je=df(r);let yt=!0;if(3&a.type||D){const Rn=Bn(a,r),qn=D?D(Rn):Rn,xr=Je.length,Qt=D?Ti=>D(_t(Ti[a.index])):a.index;let Er=null;if(!D&&O&&(Er=function By(t,r,s,a){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===s&&d[p+1]===a){const D=r[7],O=d[p+2];return D.length>O?D[O]:null}"string"==typeof b&&(p+=2)}return null}(t,r,d,a.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=p,Er.__ngLastListenerFn__=p,yt=!1;else{p=$m(a,r,be,p,!1);const Ti=s.listen(qn,d,p);Je.push(p,Ti),ae&&ae.push(d,Qt,xr,xr+1)}}else p=$m(a,r,be,p,!1);const $t=a.outputs;let un;if(yt&&null!==$t&&(un=$t[d])){const Rn=un.length;if(Rn)for(let qn=0;qn<Rn;qn+=2){const Fs=r[un[qn]][un[qn+1]].subscribe(p),yh=Je.length;Je.push(p,Fs),ae&&ae.push(d,a.index,yh,-(yh+1))}}}(p,d,d[11],b,t,r,0,a),fg}function gg(t,r,s,a){try{return!1!==s(a)}catch(d){return ng(t,d),!1}}function $m(t,r,s,a,d){return function p(b){if(b===Function)return a;qp(2&t.flags?kr(t.index,r):r);let O=gg(r,0,a,b),z=p.__ngNextListenerFn__;for(;z;)O=gg(r,0,z,b)&&O,z=z.__ngNextListenerFn__;return d&&!1===O&&(b.preventDefault(),b.returnValue=!1),O}}function jm(t=1){return function Yi(t){return(st.lFrame.contextLView=function da(t,r){for(;t>0;)r=r[15],t--;return r}(t,st.lFrame.contextLView))[8]}(t)}function Wm(t,r){let s=null;const a=function Jl(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let d=0;d<r.length;d++){const p=r[d];if("*"!==p){if(null===a?fu(t,p,!0):$n(a,p))return d}else s=d}return s}function mg(t){const r=Lt()[16][6];if(!r.projection){const a=r.projection=C(t?t.length:1,null),d=a.slice();let p=r.child;for(;null!==p;){const b=t?Wm(p,t):0;null!==b&&(d[b]?d[b].projectionNext=p:a[b]=p,d[b]=p),p=p.next}}}function yg(t,r=0,s){const a=Lt(),d=ar(),p=cd(d,22+t,16,null,s||null);null===p.projection&&(p.projection=r),wi(),64!=(64&p.flags)&&function Qr(t,r,s){_r(r[11],0,r,s,$h(t,s,r),m(s.parent||r[6],s,r))}(d,a,p)}function wf(t,r,s){return _g(t,"",r,"",s),wf}function _g(t,r,s,a,d){const p=Lt(),b=yu(p,r,s,a);return b!==ur&&Da(ar(),vi(),p,t,b,p[11],d,!1),_g}function Zm(t,r,s,a,d){const p=t[s+1],b=null===r;let D=a?il(p):Ul(p),O=!1;for(;0!==D&&(!1===O||b);){const ae=t[D+1];jy(t[D],r)&&(O=!0,t[D+1]=a?Yd(ae):qd(ae)),D=a?il(ae):Ul(ae)}O&&(t[s+1]=a?qd(p):Yd(p))}function jy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&On(t,r)>=0}const So={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qm(t){return t.substring(So.key,So.keyEnd)}function Wy(t){return t.substring(So.value,So.valueEnd)}function Ym(t,r){const s=So.textEnd;return s===r?-1:(r=So.keyEnd=function zy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,So.key=r,s),vd(t,r,s))}function Cf(t,r){const s=So.textEnd;let a=So.key=vd(t,r,s);return s===a?-1:(a=So.keyEnd=function Ky(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=Jm(t,a,s),a=So.value=vd(t,a,s),a=So.valueEnd=function Zy(t,r,s){let a=-1,d=-1,p=-1,b=r,D=b;for(;b<s;){const O=t.charCodeAt(b++);if(59===O)return D;34===O||39===O?D=b=Xm(t,O,b,s):r===b-4&&85===p&&82===d&&76===a&&40===O?D=b=Xm(t,41,b,s):O>32&&(D=b),p=d,d=a,a=-33&O}return D}(t,a,s),Jm(t,a,s))}function Qm(t){So.key=0,So.keyEnd=0,So.value=0,So.valueEnd=0,So.textEnd=t.length}function vd(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Jm(t,r,s,a){return(r=vd(t,r,s))<s&&r++,r}function Xm(t,r,s,a){let d=-1,p=s;for(;p<a;){const b=t.charCodeAt(p++);if(b==r&&92!==d)return p;d=92==b&&92===d?0:b}throw new Error}function ey(t,r,s){return l(t,r,s,!1),ey}function Tf(t,r){return l(t,r,null,!0),Tf}function i(t){f(Hn,e,t,!1)}function e(t,r){for(let s=function _d(t){return Qm(t),Cf(t,vd(t,0,So.textEnd))}(r);s>=0;s=Cf(r,s))Hn(t,qm(r),Wy(r))}function n(t){f(It,o,t,!0)}function o(t,r){for(let s=function Gy(t){return Qm(t),Ym(t,vd(t,0,So.textEnd))}(r);s>=0;s=Ym(r,s))It(t,qm(r),!0)}function l(t,r,s,a){const d=Lt(),p=ar(),b=gn(2);p.firstUpdatePass&&A(p,t,b,a),r!==ur&&aa(d,b,r)&&Wi(p,p.data[Ki()],d,d[11],t,d[b+1]=function la(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Y(Ia(t)))),t}(r,s),a,b)}function f(t,r,s,a){const d=ar(),p=gn(2);d.firstUpdatePass&&A(d,null,p,a);const b=Lt();if(s!==ur&&aa(b,p,s)){const D=d.data[Ki()];if(po(D,a)&&!E(d,p)){let O=a?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(s=se(O,s||"")),Mc(d,D,b,s,a)}else!function lr(t,r,s,a,d,p,b,D){d===ur&&(d=An);let O=0,z=0,ae=0<d.length?d[0]:null,be=0<p.length?p[0]:null;for(;null!==ae||null!==be;){const Je=O<d.length?d[O+1]:void 0,yt=z<p.length?p[z+1]:void 0;let un,$t=null;ae===be?(O+=2,z+=2,Je!==yt&&($t=be,un=yt)):null===be||null!==ae&&ae<be?(O+=2,$t=ae):(z+=2,$t=be,un=yt),null!==$t&&Wi(t,r,s,a,$t,un,b,D),ae=O<d.length?d[O]:null,be=z<p.length?p[z]:null}}(d,D,b,b[11],b[p+1],b[p+1]=function Yt(t,r,s){if(null==s||""===s)return An;const a=[],d=Ia(s);if(Array.isArray(d))for(let p=0;p<d.length;p++)t(a,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&t(a,p,d[p]);else"string"==typeof d&&r(a,d);return a}(t,r,s),a,p)}}function E(t,r){return r>=t.expandoStartIndex}function A(t,r,s,a){const d=t.data;if(null===d[s+1]){const p=d[Ki()],b=E(t,s);po(p,a)&&null===r&&!b&&(r=!1),r=function j(t,r,s,a){const d=function Rs(t){const r=st.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let p=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=Ft(s=St(null,t,r,s,a),r.attrs,a),p=null);else{const b=r.directiveStylingLast;if(-1===b||t[b]!==d)if(s=St(d,t,r,s,a),null===p){let O=function Q(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ul(a))return t[il(a)]}(t,r,a);void 0!==O&&Array.isArray(O)&&(O=St(null,t,r,O[1],a),O=Ft(O,r.attrs,a),function me(t,r,s,a){t[il(s?r.classBindings:r.styleBindings)]=a}(t,r,a,O))}else p=function Ge(t,r,s){let a;const d=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<d;p++)a=Ft(a,t[p].hostAttrs,s);return Ft(a,r.attrs,s)}(t,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(d,p,r,a),function Hy(t,r,s,a,d,p){let b=p?r.classBindings:r.styleBindings,D=il(b),O=Ul(b);t[a]=s;let ae,z=!1;if(Array.isArray(s)){const be=s;ae=be[1],(null===ae||On(be,ae)>0)&&(z=!0)}else ae=s;if(d)if(0!==O){const Je=il(t[D+1]);t[a+1]=Qh(Je,D),0!==Je&&(t[Je+1]=Hu(t[Je+1],a)),t[D+1]=function mp(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=Qh(D,0),0!==D&&(t[D+1]=Hu(t[D+1],a)),D=a;else t[a+1]=Qh(O,0),0===D?D=a:t[O+1]=Hu(t[O+1],a),O=a;z&&(t[a+1]=qd(t[a+1])),Zm(t,ae,a,!0),Zm(t,ae,a,!1),function $y(t,r,s,a,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof r&&On(p,r)>=0&&(s[a+1]=Yd(s[a+1]))}(r,ae,t,a,p),b=Qh(D,O),p?r.classBindings=b:r.styleBindings=b}(d,p,r,s,b,a)}}function St(t,r,s,a,d){let p=null;const b=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<b&&(p=r[D],a=Ft(a,p.hostAttrs,d),p!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function Ft(t,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let p=0;p<r.length;p++){const b=r[p];"number"==typeof b?d=b:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),It(t,b,!!s||r[++p]))}return void 0===t?null:t}function Hn(t,r,s){It(t,r,Ia(s))}function Wi(t,r,s,a,d,p,b,D){if(!(3&r.type))return;const O=t.data,z=O[D+1];ms(function pu(t){return 1==(1&t)}(z)?Cs(O,r,s,d,Ul(z),b):void 0)||(ms(p)||function gp(t){return 2==(2&t)}(z)&&(p=Cs(O,null,s,d,D,b)),function Ui(t,r,s,a,d){if(r)d?t.addClass(s,a):t.removeClass(s,a);else{let p=-1===a.indexOf("-")?void 0:bl.DashCase;null==d?t.removeStyle(s,a,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=bl.Important),t.setStyle(s,a,d,p))}}(a,b,vn(Ki(),s),d,p))}function Cs(t,r,s,a,d,p){const b=null===r;let D;for(;d>0;){const O=t[d],z=Array.isArray(O),ae=z?O[1]:O,be=null===ae;let Je=s[d+1];Je===ur&&(Je=be?An:void 0);let yt=be?an(Je,a):ae===a?Je:void 0;if(z&&!ms(yt)&&(yt=an(O,a)),ms(yt)&&(D=yt,b))return D;const $t=t[d+1];d=b?il($t):Ul($t)}if(null!==r){let O=p?r.residualClasses:r.residualStyles;null!=O&&(D=an(O,a))}return D}function ms(t){return void 0!==t}function po(t,r){return 0!=(t.flags&(r?16:32))}function Zs(t,r=""){const s=Lt(),a=ar(),d=t+22,p=a.firstCreatePass?cd(a,d,1,r,null):a.data[d],b=s[d]=function vc(t,r){return t.createText(r)}(s[11],r);ye(a,s,b,p),ns(p,!1)}function ua(t){return Yu("",t,""),ua}function Yu(t,r,s){const a=Lt(),d=yu(a,t,r,s);return d!==ur&&Jr(a,Ki(),d),Yu}function qy(t,r,s,a,d){const p=Lt(),b=nu(p,t,r,s,a,d);return b!==ur&&Jr(p,Ki(),b),qy}const gh=void 0;var JE=["en",[["a","p"],["AM","PM"],gh],[["AM","PM"],gh,gh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gh,"{1} 'at' {0}",gh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Df={};function Yy(t){const r=function XE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Cv(r);if(s)return s;const a=r.split("-")[0];if(s=Cv(a),s)return s;if("en"===a)return JE;throw new tt(701,!1)}function Iv(t){return Yy(t)[Sr.PluralCase]}function Cv(t){return t in Df||(Df[t]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[t]),Df[t]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const Sf="en-US";let Tv=Sf;function Xy(t,r,s,a,d){if(t=pe(t),Array.isArray(t))for(let p=0;p<t.length;p++)Xy(t[p],r,s,a,d);else{const p=ar(),b=Lt();let D=El(t)?t:pe(t.provide),O=Lf(t);const z=ii(),ae=1048575&z.providerIndexes,be=z.directiveStart,Je=z.providerIndexes>>20;if(El(t)||!t.multi){const yt=new ha(O,d,Bu),$t=t_(D,r,d?ae:ae+Je,be);-1===$t?(Wa(Fo(z,b),p,D),e_(p,t,r.length),r.push(D),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(yt),b.push(yt)):(s[$t]=yt,b[$t]=yt)}else{const yt=t_(D,r,ae+Je,be),$t=t_(D,r,ae,ae+Je),un=yt>=0&&s[yt],Rn=$t>=0&&s[$t];if(d&&!Rn||!d&&!un){Wa(Fo(z,b),p,D);const qn=function Yb(t,r,s,a,d){const p=new ha(t,s,Bu);return p.multi=[],p.index=r,p.componentProviders=0,Yv(p,d,a&&!s),p}(d?qb:Zb,s.length,d,a,O);!d&&Rn&&(s[$t].providerFactory=qn),e_(p,t,r.length,0),r.push(D),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(qn),b.push(qn)}else e_(p,t,yt>-1?yt:$t,Yv(s[d?$t:yt],O,!d&&a));!d&&a&&Rn&&s[$t].componentProviders++}}}function e_(t,r,s,a){const d=El(r),p=function kl(t){return!!t.useClass}(r);if(d||p){const O=(p?pe(r.useClass):r).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!d&&r.multi){const ae=z.indexOf(s);-1===ae?z.push(s,[a,O]):z[ae+1].push(a,O)}else z.push(s,O)}}}function Yv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function t_(t,r,s,a){for(let d=s;d<a;d++)if(r[d]===t)return d;return-1}function Zb(t,r,s,a){return n_(this.multi,[])}function qb(t,r,s,a){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=vo(s,s[1],this.providerFactory.index,a);p=D.slice(0,b),n_(d,p);for(let O=b;O<D.length;O++)p.push(D[O])}else p=[],n_(d,p);return p}function n_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Qv(t,r=[]){return s=>{s.providersResolver=(a,d)=>function Kb(t,r,s){const a=ar();if(a.firstCreatePass){const d=We(t);Xy(s,a.data,a.blueprint,d,!0),Xy(r,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,r)}}class Mf{}class Jv{}function Qb(t,r){return new Xv(t,r??null)}class Xv extends Mf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ss(this);const a=Vt(r);this._bootstrapComponents=La(a.bootstrap),this._r3Injector=rm(r,s,[{provide:Mf,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],Y(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class r_ extends Jv{constructor(r){super(),this.moduleType=r}create(r){return new Xv(this.moduleType,r)}}class Jb extends Mf{constructor(r,s,a){super(),this.componentFactoryResolver=new Ss(this),this.instance=null;const d=new kf([...r,{provide:Mf,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],s||Gc(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function i_(t,r,s=null){return new Jb(t,r,s).injector}function a0(t,r,s){const a=L()+t,d=Lt();return d[a]===ur?sl(d,a,s?r.call(s):r()):uh(d,a)}function l0(t,r,s,a){return g0(Lt(),L(),t,r,s,a)}function u0(t,r,s,a,d){return function m0(t,r,s,a,d,p,b){const D=r+s;return Wu(t,D,d,p)?sl(t,D+2,b?a.call(b,d,p):a(d,p)):Cg(t,D+2)}(Lt(),L(),t,r,s,a,d)}function c0(t,r,s,a,d,p){return function y0(t,r,s,a,d,p,b,D){const O=r+s;return function ch(t,r,s,a,d){const p=Wu(t,r,s,a);return aa(t,r+2,d)||p}(t,O,d,p,b)?sl(t,O+3,D?a.call(D,d,p,b):a(d,p,b)):Cg(t,O+3)}(Lt(),L(),t,r,s,a,d,p)}function d0(t,r,s,a,d,p,b){return function _0(t,r,s,a,d,p,b,D,O){const z=r+s;return Sa(t,z,d,p,b,D)?sl(t,z+4,O?a.call(O,d,p,b,D):a(d,p,b,D)):Cg(t,z+4)}(Lt(),L(),t,r,s,a,d,p,b)}function h0(t,r,s,a,d,p,b,D){const O=L()+t,z=Lt(),ae=Sa(z,O,s,a,d,p);return aa(z,O+4,b)||ae?sl(z,O+5,D?r.call(D,s,a,d,p,b):r(s,a,d,p,b)):uh(z,O+5)}function f0(t,r,s,a,d,p,b,D,O){const z=L()+t,ae=Lt(),be=Sa(ae,z,s,a,d,p);return Wu(ae,z+4,b,D)||be?sl(ae,z+6,O?r.call(O,s,a,d,p,b,D):r(s,a,d,p,b,D)):uh(ae,z+6)}function p0(t,r,s,a){return function v0(t,r,s,a,d,p){let b=r+s,D=!1;for(let O=0;O<d.length;O++)aa(t,b++,d[O])&&(D=!0);return D?sl(t,b,a.apply(p,d)):Cg(t,b)}(Lt(),L(),t,r,s,a)}function Cg(t,r){const s=t[r];return s===ur?void 0:s}function g0(t,r,s,a,d,p){const b=r+s;return aa(t,b,d)?sl(t,b+1,p?a.call(p,d):a(d)):Cg(t,b+1)}function E0(t,r){const s=ar();let a;const d=t+22;s.firstCreatePass?(a=function dw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const p=a.factory||(a.factory=qi(a.type)),b=bn(Bu);try{const D=Wn(!1),O=p();return Wn(D),function mf(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Lt(),d,O),O}finally{bn(b)}}function b0(t,r,s){const a=t+22,d=Lt(),p=ei(d,a);return function Tg(t,r){return t[1].data[r].pure}(d,a)?g0(d,L(),r,p.transform,s,p):p.transform(s)}function o_(t){return r=>{setTimeout(t,void 0,r)}}const Qu=class mw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let d=r,p=s||(()=>null),b=a;if(r&&"object"==typeof r){const O=r;d=O.next?.bind(O),p=O.error?.bind(O),b=O.complete?.bind(O)}this.__isAsync&&(p=o_(p),d&&(d=o_(d)),b&&(b=o_(b)));const D=super.subscribe({next:d,error:p,complete:b});return r instanceof u.w0&&r.add(D),D}};function yw(){return this._results[Dc()]()}class a_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Dc(),a=a_.prototype;a[s]||(a[s]=yw)}get changes(){return this._changes||(this._changes=new Qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=Xi(r);(this._changesDetected=!function Za(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],p=r[a];if(s&&(d=s(d),p=s(p)),p!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dg=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ew,t})();const _w=Dg,vw=class extends _w{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=ud(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(d[19]=b.createEmbeddedView(a)),dd(a,d,r),new mu(d)}};function Ew(){return sy(ii(),Lt())}function sy(t,r){return 4&t.type?new vw(r,t,hc(t,r)):null}let oy=(()=>{class t{}return t.__NG_ELEMENT_ID__=bw,t})();function bw(){return C0(ii(),Lt())}const ww=oy,w0=class extends ww{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yo(this._hostTNode,this._hostLView);if(qt(r)){const s=Lo(r,this._hostLView),a=Ii(r);return new Dr(s[1].data[a+8],s)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=I0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,p;"number"==typeof a?d=a:null!=a&&(d=a.index,p=a.injector);const b=r.createEmbeddedView(s||{},p);return this.insert(b,d),b}createComponent(r,s,a,d,p){const b=r&&!function _a(t){return"function"==typeof t}(r);let D;if(b)D=s;else{const be=s||{};D=be.index,a=be.injector,d=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const O=b?r:new lh(Te(r)),z=a||this.parentInjector;if(!p&&null==O.ngModule){const Je=(b?z:this.parentInjector).get(cu,null);Je&&(p=Je)}const ae=O.create(z,d,void 0,p);return this.insert(ae.hostView,D),ae}insert(r,s){const a=r._lView,d=a[1];if(function U(t){return jt(t[3])}(a)){const ae=this.indexOf(r);if(-1!==ae)this.detach(ae);else{const be=a[3],Je=new w0(be,be[6],be[3]);Je.detach(Je.indexOf(r))}}const p=this._adjustIndex(s),b=this._lContainer;!function ep(t,r,s,a){const d=10+a,p=s.length;a>0&&(s[d-1][4]=r),a<p-10?(r[4]=s[d],ji(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const b=r[17];null!==b&&s!==b&&function tp(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(b,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(d,a,b,p);const D=Nt(p,b),O=a[11],z=nd(O,b[7]);return null!==z&&function Xf(t,r,s,a,d,p){a[0]=d,a[6]=r,Yr(t,a,s,1,d,p)}(d,b[6],O,a,z,D),r.attachToViewContainerRef(),ji(l_(b),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=I0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Gd(this._lContainer,s);a&&(T(l_(this._lContainer),s),rp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Gd(this._lContainer,s);return a&&null!=T(l_(this._lContainer),s)?new mu(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function I0(t){return t[8]}function l_(t){return t[8]||(t[8]=[])}function C0(t,r){let s;const a=r[t.index];if(jt(a))s=a;else{let d;if(8&t.type)d=_t(a);else{const p=r[11];d=p.createComment("");const b=Bn(t,r);hu(p,nd(p,b),d,function v(t,r){return t.nextSibling(r)}(p,b),!1)}r[t.index]=s=uf(a,r,d,t),cf(r,s)}return new w0(s,t,r)}class u_{constructor(r){this.queryList=r,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class c_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let p=0;p<a;p++){const b=s.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new c_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==R0(r,s).matches&&this.queries[s].setDirty()}}class T0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class d_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,d);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new d_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class h_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new h_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const p=a[d];this.matchTNodeWithReadOption(r,s,Tw(s,p)),this.matchTNodeWithReadOption(r,s,ks(s,r,p,!1,!1))}else a===Dg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ks(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===fc||d===oy||d===Dg&&4&s.type)this.addMatch(s.index,-2);else{const p=ks(s,r,d,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Tw(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Sw(t,r,s,a){return-1===s?function Dw(t,r){return 11&t.type?hc(t,r):4&t.type?sy(t,r):null}(r,t):-2===s?function Aw(t,r,s){return s===fc?hc(r,t):s===Dg?sy(r,t):s===oy?C0(r,t):void 0}(t,r,a):vo(t,t[1],s,r)}function D0(t,r,s,a){const d=r[19].queries[a];if(null===d.matches){const p=t.data,b=s.matches,D=[];for(let O=0;O<b.length;O+=2){const z=b[O];D.push(z<0?null:Sw(r,p[z],b[O+1],s.metadata.read))}d.matches=D}return d.matches}function f_(t,r,s,a){const d=t.queries.getByIndex(s),p=d.matches;if(null!==p){const b=D0(t,r,d,s);for(let D=0;D<p.length;D+=2){const O=p[D];if(O>0)a.push(b[D/2]);else{const z=p[D+1],ae=r[-O];for(let be=10;be<ae.length;be++){const Je=ae[be];Je[17]===Je[3]&&f_(Je[1],Je,z,a)}if(null!==ae[9]){const be=ae[9];for(let Je=0;Je<be.length;Je++){const yt=be[Je];f_(yt[1],yt,z,a)}}}}}return a}function S0(t){const r=Lt(),s=ar(),a=al();Wo(a+1);const d=R0(s,a);if(t.dirty&&F(r)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?f_(s,r,a,[]):D0(s,r,d,a);t.reset(p,Ll),t.notifyOnChanges()}return!0}return!1}function A0(t,r,s){const a=ar();a.firstCreatePass&&(P0(a,new T0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),x0(a,Lt(),r)}function M0(t,r,s,a){const d=ar();if(d.firstCreatePass){const p=ii();P0(d,new T0(r,s,a),p.index),function Ow(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(d,t),2==(2&s)&&(d.staticContentQueries=!0)}x0(d,Lt(),s)}function O0(){return function Mw(t,r){return t[19].queries[r].queryList}(Lt(),al())}function x0(t,r,s){const a=new a_(4==(4&s));Rp(t,r,a,a.destroy),null===r[19]&&(r[19]=new c_),r[19].queries.push(new u_(a))}function P0(t,r,s){null===t.queries&&(t.queries=new d_),t.queries.track(new h_(r,s))}function R0(t,r){return t.queries.getByIndex(r)}function N0(t,r){return sy(t,r)}function xf(t){const r=Te(t)||Se(t)||Ct(t);return null!==r&&r.standalone}function ly(...t){}const X0=new Or("Application Initializer");let uy=(()=>{class t{constructor(s){this.appInits=s,this.resolve=ly,this.reject=ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(dg(p))s.push(p);else if(Bm(p)){const b=new Promise((D,O)=>{p.subscribe({complete:D,error:O})});s.push(b)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(H(X0,8))},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eE=new Or("AppId",{providedIn:"root",factory:function tE(){return`${__()}${__()}${__()}`}});function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Or("Platform Initializer"),Yw=new Or("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new Or("appBootstrapListener"),Qw=new Or("AnimationModuleType");let Jw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const cy=new Or("LocaleId",{providedIn:"root",factory:()=>De(cy,sn.Optional|sn.SkipSelf)||function Xw(){return typeof $localize<"u"&&$localize.locale||Sf}()}),eI=new Or("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let nI=(()=>{class t{compileModuleSync(s){return new r_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=La(Vt(s).declarations).reduce((b,D)=>{const O=Te(D);return O&&b.push(new lh(O)),b},[]);return new tI(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sI=(()=>Promise.resolve(0))();function v_(t){typeof Zone>"u"?sI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function oI(){let t=Jt.requestAnimationFrame,r=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uI(t){const r=()=>{!function lI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,p,b,D)=>{try{return oE(t),s.invokeTask(d,p,b,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&r(),aE(t)}},onInvoke:(s,a,d,p,b,D,O)=>{try{return oE(t),s.invoke(d,p,b,D,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),aE(t)}},onHasTask:(s,a,d,p)=>{s.hasTask(d,p),a===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,b_(t),E_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,d,p)=>(s.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hl.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Hl.isInAngularZone())throw new tt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,r,aI,ly,ly);try{return p.runTask(b,s,a)}finally{p.cancelTask(b)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const aI={};function E_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,E_(t)}class cI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const lE=new Or(""),uE=new Or("");let w_,dI=(()=>{class t{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w_||(function hI(t){w_=t}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hl.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return t.\u0275fac=function(s){return new(s||t)(H(Hl),H(cE),H(uE))},t.\u0275prov=cn({token:t,factory:t.\u0275fac}),t})(),cE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return w_?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ed=null;const dE=new Or("AllowMultipleToken"),I_=new Or("PlatformDestroyListeners");class gI{constructor(r,s){this.name=r,this.token=s}}function fE(t,r,s=[]){const a=`Platform: ${r}`,d=new Or(a);return(p=[])=>{let b=C_();if(!b||b.injector.get(dE,!1)){const D=[...s,...p,{provide:d,useValue:!0}];t?t(D):function mI(t){if(Ed&&!Ed.get(dE,!1))throw new tt(400,!1);Ed=t;const r=t.get(gE);(function hE(t){const r=t.get(nE,null);r&&r.forEach(s=>s())})(t)}(function pE(t=[],r){return wc.create({name:r,providers:[{provide:$c,useValue:"platform"},{provide:I_,useValue:new Set([()=>Ed=null])},...t]})}(D,a))}return function _I(t){const r=C_();if(!r)throw new tt(401,!1);return r}()}}function C_(){return Ed?.get(gE)??null}let gE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function vI(t,r){let s;return s="noop"===t?new cI:("zone.js"===t?void 0:t)||new Hl(r),s}(a?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),p=[{provide:Hl,useValue:d}];return d.run(()=>{const b=wc.create({providers:p,parent:this.injector,name:s.moduleType.name}),D=s.create(b),O=D.injector.get(el,null);if(!O)throw new tt(402,!1);return d.runOutsideAngular(()=>{const z=d.onError.subscribe({next:ae=>{O.handleError(ae)}});D.onDestroy(()=>{hy(this._modules,D),z.unsubscribe()})}),function yE(t,r,s){try{const a=s();return dg(a)?a.catch(d=>{throw r.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(O,d,()=>{const z=D.injector.get(uy);return z.runInitializers(),z.donePromise.then(()=>(function Dv(t){Pt(t,"Expected localeId to be defined"),"string"==typeof t&&(Tv=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(cy,Sf)||Sf),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const d=_E({},a);return function fI(t,r,s){const a=new r_(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(s){const a=s.injector.get(dy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new tt(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(I_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(H(wc))},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _E(t,r){return Array.isArray(r)?r.reduce(_E,t):{...t,...r}}let dy=(()=>{class t{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new k.y(D=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Hl.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Hl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{O.unsubscribe(),z.unsubscribe()}});this.isStable=(0,fe.T)(p,b.pipe((0,W.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof Ru;if(!this._injector.get(uy).done)throw!d&&xf(s),new tt(405,false);let b;b=d?s:this._injector.get(dc).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const D=function pI(t){return t.isBoundToModule}(b)?void 0:this._injector.get(Mf),z=b.create(wc.NULL,[],a||b.selector,D),ae=z.location.nativeElement,be=z.injector.get(lE,null);return be?.registerApplication(ae),z.onDestroy(()=>{this.detachView(z.hostView),hy(this.components,z),be?.unregisterApplication(ae)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;hy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(rE,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>hy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new tt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(H(Hl),H(cu),H(el))},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let EE=!0,bE=!1;function bI(){return bE=!0,EE}function wI(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");EE=!1}let II=(()=>{class t{}return t.__NG_ELEMENT_ID__=CI,t})();function CI(t){return function TI(t,r,s){if(_e(t)&&!s){const a=kr(t.index,r);return new mu(a,a)}return 47&t.type?new mu(r[16],r):null}(ii(),Lt(),16==(16&t))}class TE{constructor(){}supports(r){return pd(r)}create(r){return new xI(r)}}const OI=(t,r)=>r;class xI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,p=null;for(;s||a;){const b=!a||s&&s.currentIndex<SE(a,d,p)?s:a,D=SE(b,d,p),O=b.currentIndex;if(b===a)d--,a=a._nextRemoved;else if(s=s._next,null==b.previousIndex)d++;else{p||(p=[]);const z=D-d,ae=O-d;if(z!=ae){for(let Je=0;Je<z;Je++){const yt=Je<p.length?p[Je]:p[Je]=0,$t=yt+Je;ae<=$t&&$t<z&&(p[Je]=yt+1)}p[b.previousIndex]=ae-z}}D!==O&&r(b,D,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!pd(r))throw new tt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,p,b,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)p=r[D],b=this._trackByFn(D,p),null!==s&&Object.is(s.trackById,b)?(a&&(s=this._verifyReinsertion(s,p,b,D)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,b,D),a=!0),s=s._next}else d=0,function rv(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Dc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{b=this._trackByFn(d,D),null!==s&&Object.is(s.trackById,b)?(a&&(s=this._verifyReinsertion(s,D,b,d)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,b,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,d)):r=this._addAfter(new PI(s,a),p,d),r}_verifyReinsertion(r,s,a,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,p=r._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class PI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class DE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new RI,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(t,r,s){const a=t.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class AE{constructor(){}supports(r){return r instanceof Map||tu(r)}create(){return new NI}}class NI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||tu(r)))throw new tt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const a=new kI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class kI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ME(){return new M_([new TE])}let M_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ME()),deps:[[t,new yr,new Zn]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new tt(901,!1)}}return t.\u0275prov=cn({token:t,providedIn:"root",factory:ME}),t})();function OE(){return new O_([new AE])}let O_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||OE()),deps:[[t,new yr,new Zn]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new tt(901,!1)}}return t.\u0275prov=cn({token:t,providedIn:"root",factory:OE}),t})();const VI=fE(null,"core",[]);let UI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(H(dy))},t.\u0275mod=Zt({type:t}),t.\u0275inj=wn({}),t})();function BI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(Gt,Ze,M)=>{M.d(Ze,{Fj:()=>Xe,qu:()=>wi,u:()=>qs,sg:()=>Bi,u5:()=>ds,qQ:()=>re,JU:()=>tt,a5:()=>Nn,JJ:()=>Mr,JL:()=>ui,On:()=>Ts,wV:()=>ys,UX:()=>ii,kI:()=>$e,_Y:()=>xs});var c=M(4650),u=M(6895),k=M(9751),fe=M(4742),W=M(8421),J=M(3269),X=M(5403),Y=M(3268),se=M(1810),ee=M(8996),pe=M(4004);let Ke=(()=>{class ${constructor(x,ue){this._renderer=x,this._elementRef=ue,this.onChange=Et=>{},this.onTouched=()=>{}}setProperty(x,ue){this._renderer.setProperty(this._elementRef.nativeElement,x,ue)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(c.Qsj),c.Y36(c.SBq))},$.\u0275dir=c.lG2({type:$}),$})(),Ae=(()=>{class $ extends Ke{}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=c.n5z($)))(ue||$)}}(),$.\u0275dir=c.lG2({type:$,features:[c.qOj]}),$})();const tt=new c.OlP("NgValueAccessor"),ke={provide:tt,useExisting:(0,c.Gpc)(()=>Xe),multi:!0},Ht=new c.OlP("CompositionEventMode");let Xe=(()=>{class $ extends Ke{constructor(x,ue,Et){super(x,ue),this._compositionMode=Et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const $=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ht,8))},$.\u0275dir=c.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,ue){1&x&&c.NdJ("input",function(gn){return ue._handleInput(gn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(gn){return ue._compositionEnd(gn.target.value)})},features:[c._Bn([ke]),c.qOj]}),$})();function Qe($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Ie($){return null!=$&&"number"==typeof $.length}const he=new c.OlP("NgValidators"),ze=new c.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $e{static min(L){return et(L)}static max(L){return function Be($){return L=>{if(Qe(L.value)||Qe($))return null;const x=parseFloat(L.value);return!isNaN(x)&&x>$?{max:{max:$,actual:L.value}}:null}}(L)}static required(L){return function pt($){return Qe($.value)?{required:!0}:null}(L)}static requiredTrue(L){return function it($){return!0===$.value?null:{required:!0}}(L)}static email(L){return function Bt($){return Qe($.value)||dt.test($.value)?null:{email:!0}}(L)}static minLength(L){return function kt($){return L=>Qe(L.value)||!Ie(L.value)?null:L.value.length<$?{minlength:{requiredLength:$,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function gt($){return L=>Ie(L.value)&&L.value.length>$?{maxlength:{requiredLength:$,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Pt($){if(!$)return Ce;let L,x;return"string"==typeof $?(x="","^"!==$.charAt(0)&&(x+="^"),x+=$,"$"!==$.charAt($.length-1)&&(x+="$"),L=new RegExp(x)):(x=$.toString(),L=$),ue=>{if(Qe(ue.value))return null;const Et=ue.value;return L.test(Et)?null:{pattern:{requiredPattern:x,actualValue:Et}}}}(L)}static nullValidator(L){return null}static compose(L){return Kn(L)}static composeAsync(L){return fr(L)}}function et($){return L=>{if(Qe(L.value)||Qe($))return null;const x=parseFloat(L.value);return!isNaN(x)&&x<$?{min:{min:$,actual:L.value}}:null}}function Ce($){return null}function rt($){return null!=$}function xt($){return(0,c.QGY)($)?(0,ee.D)($):$}function Wt($){let L={};return $.forEach(x=>{L=null!=x?{...L,...x}:L}),0===Object.keys(L).length?null:L}function cn($,L){return L.map(x=>x($))}function wn($){return $.map(L=>function hn($){return!$.validate}(L)?L:x=>L.validate(x))}function Kn($){if(!$)return null;const L=$.filter(rt);return 0==L.length?null:function(x){return Wt(cn(x,L))}}function Pr($){return null!=$?Kn(wn($)):null}function fr($){if(!$)return null;const L=$.filter(rt);return 0==L.length?null:function(x){return function G(...$){const L=(0,J.jO)($),{args:x,keys:ue}=(0,fe.D)($),Et=new k.y(gn=>{const{length:_i}=x;if(!_i)return void gn.complete();const Pi=new Array(_i);let Ys=_i,io=_i;for(let so=0;so<_i;so++){let Rs=!1;(0,W.Xf)(x[so]).subscribe((0,X.x)(gn,al=>{Rs||(Rs=!0,io--),Pi[so]=al},()=>Ys--,void 0,()=>{(!Ys||!Rs)&&(io||gn.next(ue?(0,se.n)(ue,Pi):Pi),gn.complete())}))}});return L?Et.pipe((0,Y.Z)(L)):Et}(cn(x,L).map(xt)).pipe((0,pe.U)(Wt))}}function rn($){return null!=$?fr(wn($)):null}function ti($,L){return null===$?[L]:Array.isArray($)?[...$,L]:[$,L]}function jn($){return $._rawValidators}function Ar($){return $._rawAsyncValidators}function nr($){return $?Array.isArray($)?$:[$]:[]}function cr($,L){return Array.isArray($)?$.includes(L):$===L}function sn($,L){const x=nr(L);return nr($).forEach(Et=>{cr(x,Et)||x.push(Et)}),x}function Jn($,L){return nr(L).filter(x=>!cr($,x))}class Ln{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Pr(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,x){return!!this.control&&this.control.hasError(L,x)}getError(L,x){return this.control?this.control.getError(L,x):null}}class bn extends Ln{get formDirective(){return null}get path(){return null}}class Nn extends Ln{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class $ extends Tr{constructor(x){super(x)}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(Nn,2))},$.\u0275dir=c.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,ue){2&x&&c.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[c.qOj]}),$})(),ui=(()=>{class $ extends Tr{constructor(x){super(x)}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(bn,10))},$.\u0275dir=c.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,ue){2&x&&c.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[c.qOj]}),$})();const Zt="VALID",xn="INVALID",yn="PENDING",Tn="DISABLED";function qe($){return(Vt($)?$.validators:$)||null}function Te($){return Array.isArray($)?Pr($):$||null}function Se($,L){return(Vt(L)?L.asyncValidators:$)||null}function Ct($){return Array.isArray($)?rn($):$||null}function Vt($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function In($,L,x){const ue=$.controls;if(!(L?Object.keys(ue):ue).length)throw new c.vHH(1e3,"");if(!ue[x])throw new c.vHH(1001,"")}function Mt($,L,x){$._forEachChild((ue,Et)=>{if(void 0===x[Et])throw new c.vHH(1002,"")})}class on{constructor(L,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=x,this._composedValidatorFn=Te(this._rawValidators),this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===xn}get pending(){return this.status==yn}get disabled(){return this.status===Tn}get enabled(){return this.status!==Tn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Te(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=Ct(L)}addValidators(L){this.setValidators(sn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(sn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Jn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Jn(L,this._rawAsyncValidators))}hasValidator(L){return cr(this._rawValidators,L)}hasAsyncValidator(L){return cr(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=yn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const x=this._parentMarkedDirty(L.onlySelf);this.status=Tn,this.errors=null,this._forEachChild(ue=>{ue.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:x}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(L={}){const x=this._parentMarkedDirty(L.onlySelf);this.status=Zt,this._forEachChild(ue=>{ue.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:x}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zt||this.status===yn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tn:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=yn,this._hasOwnPendingAsyncValidator=!0;const x=xt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,x={}){this.errors=L,this._updateControlsErrors(!1!==x.emitEvent)}get(L){let x=L;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((ue,Et)=>ue&&ue._find(Et),this)}getError(L,x){const ue=x?this.get(x):this;return ue&&ue.errors?ue.errors[L]:null}hasError(L,x){return!!this.getError(L,x)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Tn:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yn)?yn:this._anyControlsHaveStatus(xn)?xn:Zt}_anyControlsHaveStatus(L){return this._anyControls(x=>x.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Vt(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}}class Fe extends on{constructor(L,x,ue){super(qe(x),Se(ue,x)),this.controls=L,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,x){return this.controls[L]?this.controls[L]:(this.controls[L]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(L,x,ue={}){this.registerControl(L,x),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(L,x={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(L,x,ue={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],x&&this.registerControl(L,x),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,x={}){Mt(this,0,L),Object.keys(L).forEach(ue=>{In(this,!0,ue),this.controls[ue].setValue(L[ue],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(L,x={}){null!=L&&(Object.keys(L).forEach(ue=>{const Et=this.controls[ue];Et&&Et.patchValue(L[ue],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(L={},x={}){this._forEachChild((ue,Et)=>{ue.reset(L[Et],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(L,x,ue)=>(L[ue]=x.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(x,ue)=>!!ue._syncPendingControls()||x);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(x=>{const ue=this.controls[x];ue&&L(ue,x)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[x,ue]of Object.entries(this.controls))if(this.contains(x)&&L(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,ue,Et)=>((ue.enabled||this.disabled)&&(x[Et]=ue.value),x))}_reduceChildren(L,x){let ue=L;return this._forEachChild((Et,gn)=>{ue=x(ue,Et,gn)}),ue}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}function en($,L){return[...L.path,$]}function zn($,L){pi($,L),L.valueAccessor.writeValue($.value),$.disabled&&L.valueAccessor.setDisabledState?.(!0),function Gi($,L){L.valueAccessor.registerOnChange(x=>{$._pendingValue=x,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&jr($,L)})}($,L),function Di($,L){const x=(ue,Et)=>{L.valueAccessor.writeValue(ue),Et&&L.viewToModelUpdate(ue)};$.registerOnChange(x),L._registerOnDestroy(()=>{$._unregisterOnChange(x)})}($,L),function ni($,L){L.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&jr($,L),"submit"!==$.updateOn&&$.markAsTouched()})}($,L),function $r($,L){if(L.valueAccessor.setDisabledState){const x=ue=>{L.valueAccessor.setDisabledState(ue)};$.registerOnDisabledChange(x),L._registerOnDestroy(()=>{$._unregisterOnDisabledChange(x)})}}($,L)}function Un($,L,x=!0){const ue=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(ue),L.valueAccessor.registerOnTouched(ue)),ts($,L),$&&(L._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Dn($,L){$.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(L)})}function pi($,L){const x=jn($);null!==L.validator?$.setValidators(ti(x,L.validator)):"function"==typeof x&&$.setValidators([x]);const ue=Ar($);null!==L.asyncValidator?$.setAsyncValidators(ti(ue,L.asyncValidator)):"function"==typeof ue&&$.setAsyncValidators([ue]);const Et=()=>$.updateValueAndValidity();Dn(L._rawValidators,Et),Dn(L._rawAsyncValidators,Et)}function ts($,L){let x=!1;if(null!==$){if(null!==L.validator){const Et=jn($);if(Array.isArray(Et)&&Et.length>0){const gn=Et.filter(_i=>_i!==L.validator);gn.length!==Et.length&&(x=!0,$.setValidators(gn))}}if(null!==L.asyncValidator){const Et=Ar($);if(Array.isArray(Et)&&Et.length>0){const gn=Et.filter(_i=>_i!==L.asyncValidator);gn.length!==Et.length&&(x=!0,$.setAsyncValidators(gn))}}}const ue=()=>{};return Dn(L._rawValidators,ue),Dn(L._rawAsyncValidators,ue),x}function jr($,L){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Li($,L){if(!$.hasOwnProperty("model"))return!1;const x=$.model;return!!x.isFirstChange()||!Object.is(L,x.currentValue)}function xi($,L){if(!L)return null;let x,ue,Et;return Array.isArray(L),L.forEach(gn=>{gn.constructor===Xe?x=gn:function Ms($){return Object.getPrototypeOf($.constructor)===Ae}(gn)?ue=gn:Et=gn}),Et||ue||x||null}function fn($,L){const x=$.indexOf(L);x>-1&&$.splice(x,1)}function _e($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ct=class extends on{constructor(L=null,x,ue){super(qe(x),Se(ue,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=_e(L)?L.value:L)}setValue(L,x={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(L,x={}){this.setValue(L,x)}reset(L=this.defaultValue,x={}){this._applyFormState(L),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){fn(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){fn(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){_e(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},ai={provide:Nn,useExisting:(0,c.Gpc)(()=>Ts)},Os=(()=>Promise.resolve(null))();let Ts=(()=>{class $ extends Nn{constructor(x,ue,Et,gn,_i){super(),this._changeDetectorRef=_i,this.control=new ct,this._registered=!1,this.update=new c.vpe,this._parent=x,this._setValidators(ue),this._setAsyncValidators(Et),this.valueAccessor=xi(0,gn)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const ue=x.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),Li(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Os.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const ue=x.isDisabled.currentValue,Et=0!==ue&&(0,c.D6c)(ue);Os.then(()=>{Et&&!this.control.disabled?this.control.disable():!Et&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?en(x,this._parent):[x]}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(bn,9),c.Y36(he,10),c.Y36(ze,10),c.Y36(tt,10),c.Y36(c.sBO,8))},$.\u0275dir=c.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ai]),c.qOj,c.TTD]}),$})(),xs=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275dir=c.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const Vs={provide:tt,useExisting:(0,c.Gpc)(()=>ys),multi:!0};let ys=(()=>{class $ extends Ae{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=ue=>{x(""==ue?null:parseFloat(ue))}}}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=c.n5z($)))(ue||$)}}(),$.\u0275dir=c.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,ue){1&x&&c.NdJ("input",function(gn){return ue.onChange(gn.target.value)})("blur",function(){return ue.onTouched()})},features:[c._Bn([Vs]),c.qOj]}),$})(),Ps=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({}),$})();const cs=new c.OlP("NgModelWithFormControlWarning"),zi={provide:bn,useExisting:(0,c.Gpc)(()=>Bi)};let Bi=(()=>{class $ extends bn{constructor(x,ue){super(),this.validators=x,this.asyncValidators=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(x),this._setAsyncValidators(ue)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ts(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const ue=this.form.get(x.path);return zn(ue,x),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),ue}getControl(x){return this.form.get(x.path)}removeControl(x){Un(x.control||null,x,!1),function Ye($,L){const x=$.indexOf(L);x>-1&&$.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,ue){this.form.get(x.path).setValue(ue)}onSubmit(x){return this.submitted=!0,function Ei($,L){$._syncPendingControls(),L.forEach(x=>{const ue=x.control;"submit"===ue.updateOn&&ue._pendingChange&&(x.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const ue=x.control,Et=this.form.get(x.path);ue!==Et&&(Un(ue||null,x),($=>$ instanceof ct)(Et)&&(zn(Et,x),x.control=Et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const ue=this.form.get(x.path);(function Xr($,L){pi($,L)})(ue,x),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const ue=this.form.get(x.path);ue&&function ci($,L){return ts($,L)}(ue,x)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pi(this.form,this),this._oldForm&&ts(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(x){return new(x||$)(c.Y36(he,10),c.Y36(ze,10))},$.\u0275dir=c.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(x,ue){1&x&&c.NdJ("submit",function(gn){return ue.onSubmit(gn)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([zi]),c.qOj,c.TTD]}),$})();const Hs={provide:Nn,useExisting:(0,c.Gpc)(()=>qs)};let qs=(()=>{class $ extends Nn{constructor(x,ue,Et,gn,_i){super(),this._ngModelWarningConfig=_i,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(ue),this._setAsyncValidators(Et),this.valueAccessor=xi(0,gn)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),Li(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return en(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(x){return new(x||$)(c.Y36(bn,13),c.Y36(he,10),c.Y36(ze,10),c.Y36(tt,10),c.Y36(cs,8))},$.\u0275dir=c.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Hs]),c.qOj,c.TTD]}),$})();let gr=(()=>{class ${constructor(){this._validator=Ce}ngOnChanges(x){if(this.inputName in x){const ue=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):Ce,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275dir=c.lG2({type:$,features:[c.TTD]}),$})();const F={provide:he,useExisting:(0,c.Gpc)(()=>re),multi:!0};let re=(()=>{class $ extends gr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>function or($){return"number"==typeof $?$:parseFloat($)}(x),this.createValidator=x=>et(x)}}return $.\u0275fac=function(){let L;return function(ue){return(L||(L=c.n5z($)))(ue||$)}}(),$.\u0275dir=c.lG2({type:$,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ue){2&x&&c.uIk("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[c._Bn([F]),c.qOj]}),$})(),Hi=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({imports:[Ps]}),$})(),ds=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({imports:[Hi]}),$})(),ii=(()=>{class ${static withConfig(x){return{ngModule:$,providers:[{provide:cs,useValue:x.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({imports:[Hi]}),$})();class yo extends on{constructor(L,x,ue){super(qe(x),Se(ue,x)),this.controls=L,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,x={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(L,x,ue={}){this.controls.splice(L,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(L,x={}){let ue=this._adjustIndex(L);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(L,x,ue={}){let Et=this._adjustIndex(L);Et<0&&(Et=0),this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),this.controls.splice(Et,1),x&&(this.controls.splice(Et,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,x={}){Mt(this,0,L),L.forEach((ue,Et)=>{In(this,!1,Et),this.at(Et).setValue(ue,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(L,x={}){null!=L&&(L.forEach((ue,Et)=>{this.at(Et)&&this.at(Et).patchValue(ue,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(L=[],x={}){this._forEachChild((ue,Et)=>{ue.reset(L[Et],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((x,ue)=>!!ue._syncPendingControls()||x,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((x,ue)=>{L(x,ue)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(x=>x.enabled&&L(x))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function Ao($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let wi=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const x=new $;return x.useNonNullable=!0,x}group(x,ue=null){const Et=this._reduceControls(x);let gn={};return Ao(ue)?gn=ue:null!==ue&&(gn.validators=ue.validator,gn.asyncValidators=ue.asyncValidator),new Fe(Et,gn)}control(x,ue,Et){let gn={};return this.useNonNullable?(Ao(ue)?gn=ue:(gn.validators=ue,gn.asyncValidators=Et),new ct(x,{...gn,nonNullable:!0})):new ct(x,ue,Et)}array(x,ue,Et){const gn=x.map(_i=>this._createControl(_i));return new yo(gn,ue,Et)}_reduceControls(x){const ue={};return Object.keys(x).forEach(Et=>{ue[Et]=this._createControl(x[Et])}),ue}_createControl(x){return x instanceof ct||x instanceof on?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:ii}),$})()},1481:(Gt,Ze,M)=>{M.d(Ze,{Dx:()=>ui,H7:()=>Vt,b2:()=>Nn,q6:()=>sn,se:()=>pt});var c=M(6895),u=M(4650);class k extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends k{static makeCurrent(){(0,c.HT)(new fe)}onAndCancel(Ne,ve,Ve){return Ne.addEventListener(ve,Ve,!1),()=>{Ne.removeEventListener(ve,Ve,!1)}}dispatchEvent(Ne,ve){Ne.dispatchEvent(ve)}remove(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)}createElement(Ne,ve){return(ve=ve||this.getDefaultDocument()).createElement(Ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ne){return Ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ne){return Ne instanceof DocumentFragment}getGlobalEventTarget(Ne,ve){return"window"===ve?window:"document"===ve?Ne:"body"===ve?Ne.body:null}getBaseHref(Ne){const ve=function J(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==ve?null:function Y(Fe){X=X||document.createElement("a"),X.setAttribute("href",Fe);const Ne=X.pathname;return"/"===Ne.charAt(0)?Ne:`/${Ne}`}(ve)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ne){return(0,c.Mx)(document.cookie,Ne)}}let X,W=null;const se=new u.OlP("TRANSITION_ID"),ee=[{provide:u.ip1,useFactory:function G(Fe,Ne,ve){return()=>{ve.get(u.CZH).donePromise.then(()=>{const Ve=(0,c.q)(),Ot=Ne.querySelectorAll(`style[ng-transition="${Fe}"]`);for(let en=0;en<Ot.length;en++)Ve.remove(Ot[en])})}},deps:[se,c.K0,u.zs3],multi:!0}];let Ke=(()=>{class Fe{build(){return new XMLHttpRequest}}return Fe.\u0275fac=function(ve){return new(ve||Fe)},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Ae=new u.OlP("EventManagerPlugins");let tt=(()=>{class Fe{constructor(ve,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,ve.forEach(Ot=>Ot.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Ve,Ot){return this._findPluginFor(Ve).addEventListener(ve,Ve,Ot)}addGlobalEventListener(ve,Ve,Ot){return this._findPluginFor(Ve).addGlobalEventListener(ve,Ve,Ot)}getZone(){return this._zone}_findPluginFor(ve){const Ve=this._eventNameToPlugin.get(ve);if(Ve)return Ve;const Ot=this._plugins;for(let en=0;en<Ot.length;en++){const zn=Ot[en];if(zn.supports(ve))return this._eventNameToPlugin.set(ve,zn),zn}throw new Error(`No event manager plugin found for event ${ve}`)}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(Ae),u.LFG(u.R0b))},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class Dt{constructor(Ne){this._doc=Ne}addGlobalEventListener(Ne,ve,Ve){const Ot=(0,c.q)().getGlobalEventTarget(this._doc,Ne);if(!Ot)throw new Error(`Unsupported event target ${Ot} for event ${ve}`);return this.addEventListener(Ot,ve,Ve)}}let nt=(()=>{class Fe{constructor(){this._stylesSet=new Set}addStyles(ve){const Ve=new Set;ve.forEach(Ot=>{this._stylesSet.has(Ot)||(this._stylesSet.add(Ot),Ve.add(Ot))}),this.onStylesAdded(Ve)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Fe.\u0275fac=function(ve){return new(ve||Fe)},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),ke=(()=>{class Fe extends nt{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Ve,Ot){ve.forEach(en=>{const zn=this._doc.createElement("style");zn.textContent=en,Ot.push(Ve.appendChild(zn))})}addHost(ve){const Ve=[];this._addStylesToHost(this._stylesSet,ve,Ve),this._hostNodes.set(ve,Ve)}removeHost(ve){const Ve=this._hostNodes.get(ve);Ve&&Ve.forEach(Pe),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Ve,Ot)=>{this._addStylesToHost(ve,Ot,Ve)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(Pe))}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(c.K0))},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();function Pe(Fe){(0,c.q)().remove(Fe)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g;function $e(Fe,Ne,ve){for(let Ve=0;Ve<Ne.length;Ve++){let Ot=Ne[Ve];Array.isArray(Ot)?$e(Fe,Ot,ve):(Ot=Ot.replace(Xe,Fe),ve.push(Ot))}return ve}function et(Fe){return Ne=>{if("__ngUnwrap__"===Ne)return Fe;!1===Fe(Ne)&&(Ne.preventDefault(),Ne.returnValue=!1)}}let pt=(()=>{class Fe{constructor(ve,Ve,Ot){this.eventManager=ve,this.sharedStylesHost=Ve,this.appId=Ot,this.rendererByCompId=new Map,this.defaultRenderer=new it(ve)}createRenderer(ve,Ve){if(!ve||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case u.ifc.Emulated:{let Ot=this.rendererByCompId.get(Ve.id);return Ot||(Ot=new Pt(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,Ot)),Ot.applyToHost(ve),Ot}case 1:case u.ifc.ShadowDom:return new Ce(this.eventManager,this.sharedStylesHost,ve,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const Ot=$e(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(Ot),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(tt),u.LFG(ke),u.LFG(u.AFp))},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class it{constructor(Ne){this.eventManager=Ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ne,ve){return ve?document.createElementNS(Ht[ve]||ve,Ne):document.createElement(Ne)}createComment(Ne){return document.createComment(Ne)}createText(Ne){return document.createTextNode(Ne)}appendChild(Ne,ve){(gt(Ne)?Ne.content:Ne).appendChild(ve)}insertBefore(Ne,ve,Ve){Ne&&(gt(Ne)?Ne.content:Ne).insertBefore(ve,Ve)}removeChild(Ne,ve){Ne&&Ne.removeChild(ve)}selectRootElement(Ne,ve){let Ve="string"==typeof Ne?document.querySelector(Ne):Ne;if(!Ve)throw new Error(`The selector "${Ne}" did not match any elements`);return ve||(Ve.textContent=""),Ve}parentNode(Ne){return Ne.parentNode}nextSibling(Ne){return Ne.nextSibling}setAttribute(Ne,ve,Ve,Ot){if(Ot){ve=Ot+":"+ve;const en=Ht[Ot];en?Ne.setAttributeNS(en,ve,Ve):Ne.setAttribute(ve,Ve)}else Ne.setAttribute(ve,Ve)}removeAttribute(Ne,ve,Ve){if(Ve){const Ot=Ht[Ve];Ot?Ne.removeAttributeNS(Ot,ve):Ne.removeAttribute(`${Ve}:${ve}`)}else Ne.removeAttribute(ve)}addClass(Ne,ve){Ne.classList.add(ve)}removeClass(Ne,ve){Ne.classList.remove(ve)}setStyle(Ne,ve,Ve,Ot){Ot&(u.JOm.DashCase|u.JOm.Important)?Ne.style.setProperty(ve,Ve,Ot&u.JOm.Important?"important":""):Ne.style[ve]=Ve}removeStyle(Ne,ve,Ve){Ve&u.JOm.DashCase?Ne.style.removeProperty(ve):Ne.style[ve]=""}setProperty(Ne,ve,Ve){Ne[ve]=Ve}setValue(Ne,ve){Ne.nodeValue=ve}listen(Ne,ve,Ve){return"string"==typeof Ne?this.eventManager.addGlobalEventListener(Ne,ve,et(Ve)):this.eventManager.addEventListener(Ne,ve,et(Ve))}}function gt(Fe){return"TEMPLATE"===Fe.tagName&&void 0!==Fe.content}class Pt extends it{constructor(Ne,ve,Ve,Ot){super(Ne),this.component=Ve;const en=$e(Ot+"-"+Ve.id,Ve.styles,[]);ve.addStyles(en),this.contentAttr=function ze(Fe){return"_ngcontent-%COMP%".replace(Xe,Fe)}(Ot+"-"+Ve.id),this.hostAttr=function dt(Fe){return"_nghost-%COMP%".replace(Xe,Fe)}(Ot+"-"+Ve.id)}applyToHost(Ne){super.setAttribute(Ne,this.hostAttr,"")}createElement(Ne,ve){const Ve=super.createElement(Ne,ve);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class Ce extends it{constructor(Ne,ve,Ve,Ot){super(Ne),this.sharedStylesHost=ve,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=$e(Ot.id,Ot.styles,[]);for(let zn=0;zn<en.length;zn++){const Un=document.createElement("style");Un.textContent=en[zn],this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(Ne){return Ne===this.hostEl?this.shadowRoot:Ne}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ne,ve){return super.appendChild(this.nodeOrShadowRoot(Ne),ve)}insertBefore(Ne,ve,Ve){return super.insertBefore(this.nodeOrShadowRoot(Ne),ve,Ve)}removeChild(Ne,ve){return super.removeChild(this.nodeOrShadowRoot(Ne),ve)}parentNode(Ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ne)))}}let rt=(()=>{class Fe extends Dt{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Ve,Ot){return ve.addEventListener(Ve,Ot,!1),()=>this.removeEventListener(ve,Ve,Ot)}removeEventListener(ve,Ve,Ot){return ve.removeEventListener(Ve,Ot)}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(c.K0))},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const xt=["alt","control","meta","shift"],cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wn={alt:Fe=>Fe.altKey,control:Fe=>Fe.ctrlKey,meta:Fe=>Fe.metaKey,shift:Fe=>Fe.shiftKey};let Kn=(()=>{class Fe extends Dt{constructor(ve){super(ve)}supports(ve){return null!=Fe.parseEventName(ve)}addEventListener(ve,Ve,Ot){const en=Fe.parseEventName(Ve),zn=Fe.eventCallback(en.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(ve,en.domEventName,zn))}static parseEventName(ve){const Ve=ve.toLowerCase().split("."),Ot=Ve.shift();if(0===Ve.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const en=Fe._normalizeKey(Ve.pop());let zn="";if(xt.forEach(Dn=>{const $r=Ve.indexOf(Dn);$r>-1&&(Ve.splice($r,1),zn+=Dn+".")}),zn+=en,0!=Ve.length||0===en.length)return null;const Un={};return Un.domEventName=Ot,Un.fullKey=zn,Un}static getEventFullKey(ve){let Ve="",Ot=function Pr(Fe){let Ne=Fe.key;if(null==Ne){if(Ne=Fe.keyIdentifier,null==Ne)return"Unidentified";Ne.startsWith("U+")&&(Ne=String.fromCharCode(parseInt(Ne.substring(2),16)),3===Fe.location&&hn.hasOwnProperty(Ne)&&(Ne=hn[Ne]))}return cn[Ne]||Ne}(ve);return Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),xt.forEach(en=>{en!=Ot&&(0,wn[en])(ve)&&(Ve+=en+".")}),Ve+=Ot,Ve}static eventCallback(ve,Ve,Ot){return en=>{Fe.getEventFullKey(en)===ve&&Ot.runGuarded(()=>Ve(en))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(c.K0))},Fe.\u0275prov=u.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const sn=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:c.bD},{provide:u.g9A,useValue:function jn(){fe.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function nr(){return(0,u.RDi)(document),document},deps:[]}]),Jn=new u.OlP(""),Ln=[{provide:u.rWj,useClass:class pe{addToWindow(Ne){u.dqk.getAngularTestability=(Ve,Ot=!0)=>{const en=Ne.findTestabilityInTree(Ve,Ot);if(null==en)throw new Error("Could not find testability for element.");return en},u.dqk.getAllAngularTestabilities=()=>Ne.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>Ne.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(Ve=>{const Ot=u.dqk.getAllAngularTestabilities();let en=Ot.length,zn=!1;const Un=function(Dn){zn=zn||Dn,en--,0==en&&Ve(zn)};Ot.forEach(function(Dn){Dn.whenStable(Un)})})}findTestabilityInTree(Ne,ve,Ve){return null==ve?null:Ne.getTestability(ve)??(Ve?(0,c.q)().isShadowRoot(ve)?this.findTestabilityInTree(Ne,ve.host,!0):this.findTestabilityInTree(Ne,ve.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],bn=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ar(){return new u.qLn},deps:[]},{provide:Ae,useClass:rt,multi:!0,deps:[c.K0,u.R0b,u.Lbi]},{provide:Ae,useClass:Kn,multi:!0,deps:[c.K0]},{provide:pt,useClass:pt,deps:[tt,ke,u.AFp]},{provide:u.FYo,useExisting:pt},{provide:nt,useExisting:ke},{provide:ke,useClass:ke,deps:[c.K0]},{provide:tt,useClass:tt,deps:[Ae,u.R0b]},{provide:c.JF,useClass:Ke,deps:[]},[]];let Nn=(()=>{class Fe{constructor(ve){}static withServerTransition(ve){return{ngModule:Fe,providers:[{provide:u.AFp,useValue:ve.appId},{provide:se,useExisting:u.AFp},ee]}}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(Jn,12))},Fe.\u0275mod=u.oAB({type:Fe}),Fe.\u0275inj=u.cJS({providers:[...bn,...Ln],imports:[c.ez,u.hGG]}),Fe})(),ui=(()=>{class Fe{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(c.K0))},Fe.\u0275prov=u.Yz7({token:Fe,factory:function(ve){let Ve=null;return Ve=ve?new ve:function Mr(){return new ui((0,u.LFG)(c.K0))}(),Ve},providedIn:"root"}),Fe})();typeof window<"u"&&window;let Vt=(()=>{class Fe{}return Fe.\u0275fac=function(ve){return new(ve||Fe)},Fe.\u0275prov=u.Yz7({token:Fe,factory:function(ve){let Ve=null;return Ve=ve?new(ve||Fe):u.LFG(Mt),Ve},providedIn:"root"}),Fe})(),Mt=(()=>{class Fe extends Vt{constructor(ve){super(),this._doc=ve}sanitize(ve,Ve){if(null==Ve)return null;switch(ve){case u.q3G.NONE:return Ve;case u.q3G.HTML:return(0,u.qzn)(Ve,"HTML")?(0,u.z3N)(Ve):(0,u.EiD)(this._doc,String(Ve)).toString();case u.q3G.STYLE:return(0,u.qzn)(Ve,"Style")?(0,u.z3N)(Ve):Ve;case u.q3G.SCRIPT:if((0,u.qzn)(Ve,"Script"))return(0,u.z3N)(Ve);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(Ve,"URL")?(0,u.z3N)(Ve):(0,u.mCW)(String(Ve));case u.q3G.RESOURCE_URL:if((0,u.qzn)(Ve,"ResourceURL"))return(0,u.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ve){return(0,u.JVY)(ve)}bypassSecurityTrustStyle(ve){return(0,u.L6k)(ve)}bypassSecurityTrustScript(ve){return(0,u.eBb)(ve)}bypassSecurityTrustUrl(ve){return(0,u.LAX)(ve)}bypassSecurityTrustResourceUrl(ve){return(0,u.pB0)(ve)}}return Fe.\u0275fac=function(ve){return new(ve||Fe)(u.LFG(c.K0))},Fe.\u0275prov=u.Yz7({token:Fe,factory:function(ve){let Ve=null;return Ve=ve?new ve:function In(Fe){return new Mt(Fe.get(c.K0))}(u.LFG(u.zs3)),Ve},providedIn:"root"}),Fe})()},1441:(Gt,Ze,M)=>{M.d(Ze,{gz:()=>_s,F0:()=>Vi,Od:()=>hi,yS:()=>vo,Bz:()=>wr,lC:()=>vn});var c=M(4650),u=M(9751),k=M(4742),fe=M(8996),W=M(4671),J=M(3268),X=M(3269),Y=M(1810),se=M(5403),G=M(9672);function ee(...T){const C=(0,X.yG)(T),w=(0,X.jO)(T),{args:P,keys:B}=(0,k.D)(T);if(0===P.length)return(0,fe.D)([],C);const ie=new u.y(function pe(T,C,w=W.y){return P=>{Ke(C,()=>{const{length:B}=T,ie=new Array(B);let Ee=B,xe=B;for(let It=0;It<B;It++)Ke(C,()=>{const an=(0,fe.D)(T[It],C);let On=!1;an.subscribe((0,se.x)(P,Pn=>{ie[It]=Pn,On||(On=!0,xe--),xe||P.next(w(ie.slice()))},()=>{--Ee||P.complete()}))},P)},P)}}(P,C,B?Ee=>(0,Y.n)(B,Ee):W.y));return w?ie.pipe((0,J.Z)(w)):ie}function Ke(T,C,w){T?(0,G.f)(w,T,C):C()}var Ae=M(9646),tt=M(1135),Dt=M(7272),nt=M(9770),ke=M(9635),Pe=M(2843),Ht=M(6805),Xe=M(515),de=M(4033),Qe=M(7579),Ie=M(6895),he=M(8421),ze=M(4482);function dt(T){return(0,ze.e)((C,w)=>{let ie,P=null,B=!1;P=C.subscribe((0,se.x)(w,void 0,void 0,Ee=>{ie=(0,he.Xf)(T(Ee,dt(T)(C))),P?(P.unsubscribe(),P=null,ie.subscribe(w)):B=!0})),B&&(P.unsubscribe(),P=null,ie.subscribe(w))})}function et(T){return(0,ze.e)((C,w)=>{try{C.subscribe(w)}finally{w.add(T)}})}var Be=M(4004),pt=M(3900),it=M(5698),Bt=M(8675),kt=M(9300),gt=M(5577),Pt=M(590),Ce=M(4351),rt=M(8505),xt=M(5026),Wt=M(3103),cn=M(6590),hn=M(2035),wn=M(9718),Kn=M(8343),Pr=M(8189),fr=M(1481);const rn="primary";class ti{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w[0]:w}return null}getAll(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function jn(T){return new ti(T)}function Ar(T,C,w){const P=w.path.split("/");if(P.length>T.length||"full"===w.pathMatch&&(C.hasChildren()||P.length<T.length))return null;const B={};for(let ie=0;ie<P.length;ie++){const Ee=P[ie],xe=T[ie];if(Ee.startsWith(":"))B[Ee.substring(1)]=xe;else if(Ee!==xe.path)return null}return{consumed:T.slice(0,P.length),posParams:B}}function cr(T,C){const w=T?Object.keys(T):void 0,P=C?Object.keys(C):void 0;if(!w||!P||w.length!=P.length)return!1;let B;for(let ie=0;ie<w.length;ie++)if(B=w[ie],!sn(T[B],C[B]))return!1;return!0}function sn(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const w=[...T].sort(),P=[...C].sort();return w.every((B,ie)=>P[ie]===B)}return T===C}function Jn(T){return Array.prototype.concat.apply([],T)}function Ln(T){return T.length>0?T[T.length-1]:null}function Nn(T,C){for(const w in T)T.hasOwnProperty(w)&&C(T[w],w)}function Tr(T){return(0,c.CqO)(T)?T:(0,c.QGY)(T)?(0,fe.D)(Promise.resolve(T)):(0,Ae.of)(T)}const Mr={exact:function tn(T,C,w){if(!Re(T.segments,C.segments)||!Rr(T.segments,C.segments,w)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const P in C.children)if(!T.children[P]||!tn(T.children[P],C.children[P],w))return!1;return!0},subset:Hr},ui={exact:function Jt(T,C){return cr(T,C)},subset:function zr(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(w=>sn(T[w],C[w]))},ignored:()=>!0};function kn(T,C,w){return Mr[w.paths](T.root,C.root,w.matrixParams)&&ui[w.queryParams](T.queryParams,C.queryParams)&&!("exact"===w.fragment&&T.fragment!==C.fragment)}function Hr(T,C,w){return An(T,C,C.segments,w)}function An(T,C,w,P){if(T.segments.length>w.length){const B=T.segments.slice(0,w.length);return!(!Re(B,w)||C.hasChildren()||!Rr(B,w,P))}if(T.segments.length===w.length){if(!Re(T.segments,w)||!Rr(T.segments,w,P))return!1;for(const B in C.children)if(!T.children[B]||!Hr(T.children[B],C.children[B],P))return!1;return!0}{const B=w.slice(0,T.segments.length),ie=w.slice(T.segments.length);return!!(Re(T.segments,B)&&Rr(T.segments,B,P)&&T.children[rn])&&An(T.children[rn],C,ie,P)}}function Rr(T,C,w){return C.every((P,B)=>ui[w](T[B].parameters,P.parameters))}class dr{constructor(C,w,P){this.root=C,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return K.serialize(this)}}class Xt{constructor(C,w){this.segments=C,this.children=w,this.parent=null,Nn(w,(P,B)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Me(this)}}class Gn{constructor(C,w){this.path=C,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=jn(this.parameters)),this._parameterMap}toString(){return Se(this)}}function Re(T,C){return T.length===C.length&&T.every((w,P)=>w.path===C[P].path)}class le{}class V{parse(C){const w=new Ve(C);return new dr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(C){const w=`/${at(C.root,!0)}`,P=function Vt(T){const C=Object.keys(T).map(w=>{const P=T[w];return Array.isArray(P)?P.map(B=>`${xn(w)}=${xn(B)}`).join("&"):`${xn(w)}=${xn(P)}`}).filter(w=>!!w);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${w}${P}${"string"==typeof C.fragment?`#${function yn(T){return encodeURI(T)}(C.fragment)}`:""}`}}const K=new V;function Me(T){return T.segments.map(C=>Se(C)).join("/")}function at(T,C){if(!T.hasChildren())return Me(T);if(C){const w=T.children[rn]?at(T.children[rn],!1):"",P=[];return Nn(T.children,(B,ie)=>{ie!==rn&&P.push(`${ie}:${at(B,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function Le(T,C){let w=[];return Nn(T.children,(P,B)=>{B===rn&&(w=w.concat(C(P,B)))}),Nn(T.children,(P,B)=>{B!==rn&&(w=w.concat(C(P,B)))}),w}(T,(P,B)=>B===rn?[at(T.children[rn],!1)]:[`${B}:${at(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[rn]?`${Me(T)}/${w[0]}`:`${Me(T)}/(${w.join("//")})`}}function Zt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(T){return Zt(T).replace(/%3B/gi,";")}function Tn(T){return Zt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(T){return decodeURIComponent(T)}function Te(T){return qe(T.replace(/\+/g,"%20"))}function Se(T){return`${Tn(T.path)}${function Ct(T){return Object.keys(T).map(C=>`;${Tn(C)}=${Tn(T[C])}`).join("")}(T.parameters)}`}const In=/^[^\/()?;=#]+/;function Mt(T){const C=T.match(In);return C?C[0]:""}const on=/^[^=?&#]+/,Ne=/^[^&#]+/;class Ve{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(C.length>0||Object.keys(w).length>0)&&(P[rn]=new Xt(C,w)),P}parseSegment(){const C=Mt(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(C),new Gn(qe(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const w=Mt(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const B=Mt(this.remaining);B&&(P=B,this.capture(P))}C[qe(w)]=qe(P)}parseQueryParam(C){const w=function Fe(T){const C=T.match(on);return C?C[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const Ee=function ve(T){const C=T.match(Ne);return C?C[0]:""}(this.remaining);Ee&&(P=Ee,this.capture(P))}const B=Te(w),ie=Te(P);if(C.hasOwnProperty(B)){let Ee=C[B];Array.isArray(Ee)||(Ee=[Ee],C[B]=Ee),Ee.push(ie)}else C[B]=ie}parseParens(C){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Mt(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new c.vHH(4010,!1);let ie;P.indexOf(":")>-1?(ie=P.slice(0,P.indexOf(":")),this.capture(ie),this.capture(":")):C&&(ie=rn);const Ee=this.parseChildren();w[ie]=1===Object.keys(Ee).length?Ee[rn]:new Xt([],Ee),this.consumeOptional("//")}return w}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new c.vHH(4011,!1)}}function Ot(T){return T.segments.length>0?new Xt([],{[rn]:T}):T}function en(T){const C={};for(const P of Object.keys(T.children)){const ie=en(T.children[P]);(ie.segments.length>0||ie.hasChildren())&&(C[P]=ie)}return function zn(T){if(1===T.numberOfChildren&&T.children[rn]){const C=T.children[rn];return new Xt(T.segments.concat(C.segments),C.children)}return T}(new Xt(T.segments,C))}function Un(T){return T instanceof dr}function Gi(T,C,w,P,B){if(0===w.length)return Di(C.root,C.root,C.root,P,B);const ie=function gi(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new ci(!0,0,T);let C=0,w=!1;const P=T.reduce((B,ie,Ee)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const xe={};return Nn(ie.outlets,(It,an)=>{xe[an]="string"==typeof It?It.split("/"):It}),[...B,{outlets:xe}]}if(ie.segmentPath)return[...B,ie.segmentPath]}return"string"!=typeof ie?[...B,ie]:0===Ee?(ie.split("/").forEach((xe,It)=>{0==It&&"."===xe||(0==It&&""===xe?w=!0:".."===xe?C++:""!=xe&&B.push(xe))}),B):[...B,ie]},[]);return new ci(w,C,P)}(w);return ie.toRoot()?Di(C.root,C.root,new Xt([],{}),P,B):function Ee(It){const an=function Si(T,C,w,P){if(T.isAbsolute)return new Nr(C.root,!0,0);if(-1===P)return new Nr(w,w===C.root,0);return function Li(T,C,w){let P=T,B=C,ie=w;for(;ie>B;){if(ie-=B,P=P.parent,!P)throw new c.vHH(4005,!1);B=P.segments.length}return new Nr(P,!1,B-ie)}(w,P+(ni(T.commands[0])?0:1),T.numberOfDoubleDots)}(ie,C,T.snapshot?._urlSegment,It),On=an.processChildren?xi(an.segmentGroup,an.index,ie.commands):Ei(an.segmentGroup,an.index,ie.commands);return Di(C.root,an.segmentGroup,On,P,B)}(T.snapshot?._lastPathIndex)}function ni(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function jr(T){return"object"==typeof T&&null!=T&&T.outlets}function Di(T,C,w,P,B){let Ee,ie={};P&&Nn(P,(It,an)=>{ie[an]=Array.isArray(It)?It.map(On=>`${On}`):`${It}`}),Ee=T===C?w:Xr(T,C,w);const xe=Ot(en(Ee));return new dr(xe,ie,B)}function Xr(T,C,w){const P={};return Nn(T.children,(B,ie)=>{P[ie]=B===C?w:Xr(B,C,w)}),new Xt(T.segments,P)}class ci{constructor(C,w,P){if(this.isAbsolute=C,this.numberOfDoubleDots=w,this.commands=P,C&&P.length>0&&ni(P[0]))throw new c.vHH(4003,!1);const B=P.find(jr);if(B&&B!==Ln(P))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nr{constructor(C,w,P){this.segmentGroup=C,this.processChildren=w,this.index=P}}function Ei(T,C,w){if(T||(T=new Xt([],{})),0===T.segments.length&&T.hasChildren())return xi(T,C,w);const P=function Ye(T,C,w){let P=0,B=C;const ie={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(P>=w.length)return ie;const Ee=T.segments[B],xe=w[P];if(jr(xe))break;const It=`${xe}`,an=P<w.length-1?w[P+1]:null;if(B>0&&void 0===It)break;if(It&&an&&"object"==typeof an&&void 0===an.outlets){if(!jt(It,an,Ee))return ie;P+=2}else{if(!jt(It,{},Ee))return ie;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(T,C,w),B=w.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const ie=new Xt(T.segments.slice(0,P.pathIndex),{});return ie.children[rn]=new Xt(T.segments.slice(P.pathIndex),T.children),xi(ie,0,B)}return P.match&&0===B.length?new Xt(T.segments,{}):P.match&&!T.hasChildren()?je(T,C,w):P.match?xi(T,0,B):je(T,C,w)}function xi(T,C,w){if(0===w.length)return new Xt(T.segments,{});{const P=function Ms(T){return jr(T[0])?T[0].outlets:{[rn]:T}}(w),B={};return Nn(P,(ie,Ee)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(B[Ee]=Ei(T.children[Ee],C,ie))}),Nn(T.children,(ie,Ee)=>{void 0===P[Ee]&&(B[Ee]=ie)}),new Xt(T.segments,B)}}function je(T,C,w){const P=T.segments.slice(0,C);let B=0;for(;B<w.length;){const ie=w[B];if(jr(ie)){const It=mt(ie.outlets);return new Xt(P,It)}if(0===B&&ni(w[0])){P.push(new Gn(T.segments[C].path,At(w[0]))),B++;continue}const Ee=jr(ie)?ie.outlets[rn]:`${ie}`,xe=B<w.length-1?w[B+1]:null;Ee&&xe&&ni(xe)?(P.push(new Gn(Ee,At(xe))),B+=2):(P.push(new Gn(Ee,{})),B++)}return new Xt(P,{})}function mt(T){const C={};return Nn(T,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(C[P]=je(new Xt([],{}),0,w))}),C}function At(T){const C={};return Nn(T,(w,P)=>C[P]=`${w}`),C}function jt(T,C,w){return T==w.path&&cr(C,w.parameters)}class fn{constructor(C,w){this.id=C,this.url=w}}class _e extends fn{constructor(C,w,P="imperative",B=null){super(C,w),this.type=0,this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ct extends fn{constructor(C,w,P){super(C,w),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class We extends fn{constructor(C,w,P,B){super(C,w),this.reason=P,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ht extends fn{constructor(C,w,P,B){super(C,w),this.error=P,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends fn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends fn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends fn{constructor(C,w,P,B,ie){super(C,w),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends fn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends fn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hr{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ai{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(C,w,P){this.routerEvent=C,this.position=w,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Us{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const w=this.pathFromRoot(C);return w.length>1?w[w.length-2]:null}children(C){const w=$o(C,this._root);return w?w.children.map(P=>P.value):[]}firstChild(C){const w=$o(C,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(C){const w=Ps(C,this._root);return w.length<2?[]:w[w.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Ps(C,this._root).map(w=>w.value)}}function $o(T,C){if(T===C.value)return C;for(const w of C.children){const P=$o(T,w);if(P)return P}return null}function Ps(T,C){if(T===C.value)return[C];for(const w of C.children){const P=Ps(T,w);if(P.length)return P.unshift(C),P}return[]}class us{constructor(C,w){this.value=C,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ai(T){const C={};return T&&T.children.forEach(w=>C[w.value.outlet]=w),C}class mo extends Us{constructor(C,w){super(C),this.snapshot=w,vs(this,C)}toString(){return this.snapshot.toString()}}function jo(T,C){const w=function cs(T,C){const Ee=new Bi([],{},{},"",{},rn,C,null,T.root,-1,{});return new Bs("",new us(Ee,[]))}(T,C),P=new tt.X([new Gn("",{})]),B=new tt.X({}),ie=new tt.X({}),Ee=new tt.X({}),xe=new tt.X(""),It=new _s(P,B,Ee,xe,ie,rn,C,w.root);return It.snapshot=w.root,new mo(new us(It,[]),w)}class _s{constructor(C,w,P,B,ie,Ee,xe,It){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=ie,this.outlet=Ee,this.component=xe,this._futureSnapshot=It}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(C=>jn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(C=>jn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qi(T,C="emptyOnly"){const w=T.pathFromRoot;let P=0;if("always"!==C)for(P=w.length-1;P>=1;){const B=w[P],ie=w[P-1];if(B.routeConfig&&""===B.routeConfig.path)P--;else{if(ie.component)break;P--}}return function zi(T){return T.reduce((C,w)=>({params:{...C.params,...w.params},data:{...C.data,...w.data},resolve:{...w.data,...C.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(P))}class Bi{constructor(C,w,P,B,ie,Ee,xe,It,an,On,Pn,Zr){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=ie,this.outlet=Ee,this.component=xe,this.routeConfig=It,this._urlSegment=an,this._lastPathIndex=On,this._correctedLastPathIndex=Zr??On,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends Us{constructor(C,w){super(w),this.url=C,vs(this,w)}toString(){return Es(this._root)}}function vs(T,C){C.value._routerState=T,C.children.forEach(w=>vs(T,w))}function Es(T){const C=T.children.length>0?` { ${T.children.map(Es).join(", ")} } `:"";return`${T.value}${C}`}function bs(T){if(T.snapshot){const C=T.snapshot,w=T._futureSnapshot;T.snapshot=w,cr(C.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),C.fragment!==w.fragment&&T.fragment.next(w.fragment),cr(C.params,w.params)||T.params.next(w.params),function nr(T,C){if(T.length!==C.length)return!1;for(let w=0;w<T.length;++w)if(!cr(T[w],C[w]))return!1;return!0}(C.url,w.url)||T.url.next(w.url),cr(C.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function ws(T,C){const w=cr(T.params,C.params)&&function Wr(T,C){return Re(T,C)&&T.every((w,P)=>cr(w.parameters,C[P].parameters))}(T.url,C.url);return w&&!(!T.parent!=!C.parent)&&(!T.parent||ws(T.parent,C.parent))}function qs(T,C,w){if(w&&T.shouldReuseRoute(C.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=C.value;const B=function Br(T,C,w){return C.children.map(P=>{for(const B of w.children)if(T.shouldReuseRoute(P.value,B.value.snapshot))return qs(T,P,B);return qs(T,P)})}(T,C,w);return new us(P,B)}{if(T.shouldAttach(C.value)){const ie=T.retrieve(C.value);if(null!==ie){const Ee=ie.route;return Ee.value._futureSnapshot=C.value,Ee.children=C.children.map(xe=>qs(T,xe)),Ee}}const P=function si(T){return new _s(new tt.X(T.url),new tt.X(T.params),new tt.X(T.queryParams),new tt.X(T.fragment),new tt.X(T.data),T.outlet,T.component,T)}(C.value),B=C.children.map(ie=>qs(T,ie));return new us(P,B)}}const te="ngNavigationCancelingError";function q(T,C){const{redirectTo:w,navigationBehaviorOptions:P}=Un(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,B=we(!1,0,C);return B.url=w,B.navigationBehaviorOptions=P,B}function we(T,C,w){const P=new Error("NavigationCancelingError: "+(T||""));return P[te]=!0,P.cancellationCode=C,w&&(P.url=w),P}function Ue(T){return ut(T)&&Un(T.url)}function ut(T){return T&&T[te]}class _t{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ln,this.attachRef=null}}class ln{constructor(){this.contexts=new Map}onChildOutletCreated(C,w){const P=this.getOrCreateContext(C);P.outlet=w,this.contexts.set(C,P)}onChildOutletDestroyed(C){const w=this.getContext(C);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let w=this.getContext(C);return w||(w=new _t,this.contexts.set(C,w)),w}getContext(C){return this.contexts.get(C)||null}}const _n=!1;let vn=(()=>{class T{constructor(w,P,B,ie,Ee){this.parentContexts=w,this.location=P,this.changeDetector=ie,this.environmentInjector=Ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=B||rn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,_n);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,_n);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,_n);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new c.vHH(4013,_n);this._activatedRoute=w;const B=this.location,Ee=w._futureSnapshot.component,xe=this.parentContexts.getOrCreateContext(this.name).children,It=new Bn(w,xe,B.injector);if(P&&function or(T){return!!T.resolveComponentFactory}(P)){const an=P.resolveComponentFactory(Ee);this.activated=B.createComponent(an,B.length,It)}else this.activated=B.createComponent(Ee,{index:B.length,injector:It,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)(c.Y36(ln),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},T.\u0275dir=c.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class Bn{constructor(C,w,P){this.route=C,this.childContexts=w,this.parent=P}get(C,w){return C===_s?this.route:C===ln?this.childContexts:this.parent.get(C,w)}}let gr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=c.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,P){1&w&&c._UZ(0,"router-outlet")},dependencies:[vn],encapsulation:2}),T})();function ei(T,C){return T.providers&&!T._injector&&(T._injector=(0,c.MMx)(T.providers,C,`Route: ${T.path}`)),T._injector??C}function dn(T){const C=T.children&&T.children.map(dn),w=C?{...T,children:C}:{...T};return!w.component&&!w.loadComponent&&(C||w.loadChildren)&&w.outlet&&w.outlet!==rn&&(w.component=gr),w}function Yn(T){return T.outlet||rn}function Gr(T,C){const w=T.filter(P=>Yn(P)===C);return w.push(...T.filter(P=>Yn(P)!==C)),w}function Lr(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let C=T.parent;C;C=C.parent){const w=C.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class yi{constructor(C,w,P,B){this.routeReuseStrategy=C,this.futureState=w,this.currState=P,this.forwardEvent=B}activate(C){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,C),bs(this.futureState.root),this.activateChildRoutes(w,P,C)}deactivateChildRoutes(C,w,P){const B=Ai(w);C.children.forEach(ie=>{const Ee=ie.value.outlet;this.deactivateRoutes(ie,B[Ee],P),delete B[Ee]}),Nn(B,(ie,Ee)=>{this.deactivateRouteAndItsChildren(ie,P)})}deactivateRoutes(C,w,P){const B=C.value,ie=w?w.value:null;if(B===ie)if(B.component){const Ee=P.getContext(B.outlet);Ee&&this.deactivateChildRoutes(C,w,Ee.children)}else this.deactivateChildRoutes(C,w,P);else ie&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(C,w){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,w):this.deactivateRouteAndOutlet(C,w)}detachAndStoreRouteSubtree(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,ie=Ai(C);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],B);if(P&&P.outlet){const Ee=P.outlet.detach(),xe=P.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:Ee,route:C,contexts:xe})}}deactivateRouteAndOutlet(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,ie=Ai(C);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],B);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(C,w,P){const B=Ai(w);C.children.forEach(ie=>{this.activateRoutes(ie,B[ie.value.outlet],P),this.forwardEvent(new xs(ie.value.snapshot))}),C.children.length&&this.forwardEvent(new Os(C.value.snapshot))}activateRoutes(C,w,P){const B=C.value,ie=w?w.value:null;if(bs(B),B===ie)if(B.component){const Ee=P.getOrCreateContext(B.outlet);this.activateChildRoutes(C,w,Ee.children)}else this.activateChildRoutes(C,w,P);else if(B.component){const Ee=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const xe=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ee.children.onOutletReAttached(xe.contexts),Ee.attachRef=xe.componentRef,Ee.route=xe.route.value,Ee.outlet&&Ee.outlet.attach(xe.componentRef,xe.route.value),bs(xe.route.value),this.activateChildRoutes(C,null,Ee.children)}else{const xe=Lr(B.snapshot),It=xe?.get(c._Vd)??null;Ee.attachRef=null,Ee.route=B,Ee.resolver=It,Ee.injector=xe,Ee.outlet&&Ee.outlet.activateWith(B,Ee.injector),this.activateChildRoutes(C,null,Ee.children)}}else this.activateChildRoutes(C,null,P)}}class ri{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class mi{constructor(C,w){this.component=C,this.route=w}}function Lt(T,C,w){const P=T._root;return ds(P,C?C._root:null,w,[P.value])}function Hi(T,C,w){return(Lr(C)??w).get(T)}function ds(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Ai(C);return T.children.forEach(Ee=>{(function ii(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const ie=T.value,Ee=C?C.value:null,xe=w?w.getContext(T.value.outlet):null;if(Ee&&ie.routeConfig===Ee.routeConfig){const It=function yo(T,C,w){if("function"==typeof w)return w(T,C);switch(w){case"pathParamsChange":return!Re(T.url,C.url);case"pathParamsOrQueryParamsChange":return!Re(T.url,C.url)||!cr(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(T,C)||!cr(T.queryParams,C.queryParams);default:return!ws(T,C)}}(Ee,ie,ie.routeConfig.runGuardsAndResolvers);It?B.canActivateChecks.push(new ri(P)):(ie.data=Ee.data,ie._resolvedData=Ee._resolvedData),ds(T,C,ie.component?xe?xe.children:null:w,P,B),It&&xe&&xe.outlet&&xe.outlet.isActivated&&B.canDeactivateChecks.push(new mi(xe.outlet.component,Ee))}else Ee&&Xn(C,xe,B),B.canActivateChecks.push(new ri(P)),ds(T,null,ie.component?xe?xe.children:null:w,P,B)})(Ee,ie[Ee.value.outlet],w,P.concat([Ee.value]),B),delete ie[Ee.value.outlet]}),Nn(ie,(Ee,xe)=>Xn(Ee,w.getContext(xe),B)),B}function Xn(T,C,w){const P=Ai(T),B=T.value;Nn(P,(ie,Ee)=>{Xn(ie,B.component?C?C.children.getContext(Ee):null:C,w)}),w.canDeactivateChecks.push(new mi(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}function ns(T){return"function"==typeof T}const ue=Symbol("INITIAL_VALUE");function Et(){return(0,pt.w)(T=>ee(T.map(C=>C.pipe((0,it.q)(1),(0,Bt.O)(ue)))).pipe((0,Be.U)(C=>{for(const w of C)if(!0!==w){if(w===ue)return ue;if(!1===w||w instanceof dr)return w}return!0}),(0,kt.h)(C=>C!==ue),(0,it.q)(1)))}function ll(T){return(0,ke.z)((0,rt.b)(C=>{if(Un(C))throw q(0,C)}),(0,Be.U)(C=>!0===C))}const Go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function di(T,C,w,P,B){const ie=Mi(T,C,w);return ie.matched?function Fi(T,C,w,P){const B=C.canMatch;if(!B||0===B.length)return(0,Ae.of)(!0);const ie=B.map(Ee=>{const xe=T.get(Ee),It=function $(T){return T&&ns(T.canMatch)}(xe)?xe.canMatch(C,w):xe(C,w);return Tr(It)});return(0,Ae.of)(ie).pipe(Et(),ll())}(P=ei(C,P),C,w).pipe((0,Be.U)(Ee=>!0===Ee?ie:{...Go})):(0,Ae.of)(ie)}function Mi(T,C,w){if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||w.length>0)?{...Go}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const B=(C.matcher||Ar)(w,T,C);if(!B)return{...Go};const ie={};Nn(B.posParams,(xe,It)=>{ie[It]=xe.path});const Ee=B.consumed.length>0?{...ie,...B.consumed[B.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:B.consumed,remainingSegments:w.slice(B.consumed.length),parameters:Ee,positionalParamSegments:B.posParams??{}}}function Fr(T,C,w,P,B="corrected"){if(w.length>0&&function Yi(T,C,w){return w.some(P=>Ki(T,C,P)&&Yn(P)!==rn)}(T,w,P)){const Ee=new Xt(C,function Ha(T,C,w,P){const B={};B[rn]=P,P._sourceSegment=T,P._segmentIndexShift=C.length;for(const ie of w)if(""===ie.path&&Yn(ie)!==rn){const Ee=new Xt([],{});Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,B[Yn(ie)]=Ee}return B}(T,C,P,new Xt(w,T.children)));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:[]}}if(0===w.length&&function da(T,C,w){return w.some(P=>Ki(T,C,P))}(T,w,P)){const Ee=new Xt(T.segments,function zo(T,C,w,P,B,ie){const Ee={};for(const xe of P)if(Ki(T,w,xe)&&!B[Yn(xe)]){const It=new Xt([],{});It._sourceSegment=T,It._segmentIndexShift="legacy"===ie?T.segments.length:C.length,Ee[Yn(xe)]=It}return{...B,...Ee}}(T,C,w,P,T.children,B));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:w}}const ie=new Xt(T.segments,T.children);return ie._sourceSegment=T,ie._segmentIndexShift=C.length,{segmentGroup:ie,slicedSegments:w}}function Ki(T,C,w){return(!(T.hasChildren()||C.length>0)||"full"!==w.pathMatch)&&""===w.path}function Ns(T,C,w,P){return!!(Yn(T)===P||P!==rn&&Ki(C,w,T))&&("**"===T.path||Mi(C,T,w).matched)}function vi(T,C,w){return 0===C.length&&!T.children[w]}const Ma=!1;class Oa{constructor(C){this.segmentGroup=C||null}}class Mo{constructor(C){this.urlTree=C}}function xa(T){return(0,Pe._)(new Oa(T))}function $a(T){return(0,Pe._)(new Mo(T))}class Is{constructor(C,w,P,B,ie){this.injector=C,this.configLoader=w,this.urlSerializer=P,this.urlTree=B,this.config=ie,this.allowRedirects=!0}apply(){const C=Fr(this.urlTree.root,[],[],this.config).segmentGroup,w=new Xt(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,w,rn).pipe((0,Be.U)(ie=>this.createUrlTree(en(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dt(ie=>{if(ie instanceof Mo)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof Oa?this.noMatchError(ie):ie}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,rn).pipe((0,Be.U)(B=>this.createUrlTree(en(B),C.queryParams,C.fragment))).pipe(dt(B=>{throw B instanceof Oa?this.noMatchError(B):B}))}noMatchError(C){return new c.vHH(4002,Ma)}createUrlTree(C,w,P){const B=Ot(C);return new dr(B,w,P)}expandSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(C,w,P).pipe((0,Be.U)(ie=>new Xt([],ie))):this.expandSegment(C,P,w,P.segments,B,!0)}expandChildren(C,w,P){const B=[];for(const ie of Object.keys(P.children))"primary"===ie?B.unshift(ie):B.push(ie);return(0,fe.D)(B).pipe((0,Ce.b)(ie=>{const Ee=P.children[ie],xe=Gr(w,ie);return this.expandSegmentGroup(C,xe,Ee,ie).pipe((0,Be.U)(It=>({segment:It,outlet:ie})))}),(0,xt.R)((ie,Ee)=>(ie[Ee.outlet]=Ee.segment,ie),{}),(0,Wt.Z)())}expandSegment(C,w,P,B,ie,Ee){return(0,fe.D)(P).pipe((0,Ce.b)(xe=>this.expandSegmentAgainstRoute(C,w,P,xe,B,ie,Ee).pipe(dt(an=>{if(an instanceof Oa)return(0,Ae.of)(null);throw an}))),(0,Pt.P)(xe=>!!xe),dt((xe,It)=>{if(xe instanceof Ht.K||"EmptyError"===xe.name)return vi(w,B,ie)?(0,Ae.of)(new Xt([],{})):xa(w);throw xe}))}expandSegmentAgainstRoute(C,w,P,B,ie,Ee,xe){return Ns(B,w,ie,Ee)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,w,B,ie,Ee):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee):xa(w):xa(w)}expandSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,P,B,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,P,B){const ie=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?$a(ie):this.lineralizeSegments(P,ie).pipe((0,gt.z)(Ee=>{const xe=new Xt(Ee,{});return this.expandSegment(C,xe,w,Ee,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,ie,Ee){const{matched:xe,consumedSegments:It,remainingSegments:an,positionalParamSegments:On}=Mi(w,B,ie);if(!xe)return xa(w);const Pn=this.applyRedirectCommands(It,B.redirectTo,On);return B.redirectTo.startsWith("/")?$a(Pn):this.lineralizeSegments(B,Pn).pipe((0,gt.z)(Zr=>this.expandSegment(C,w,P,Zr.concat(an),Ee,!1)))}matchSegmentAgainstRoute(C,w,P,B,ie){return"**"===P.path?(C=ei(P,C),P.loadChildren?(P._loadedRoutes?(0,Ae.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(C,P)).pipe((0,Be.U)(xe=>(P._loadedRoutes=xe.routes,P._loadedInjector=xe.injector,new Xt(B,{})))):(0,Ae.of)(new Xt(B,{}))):di(w,P,B,C).pipe((0,pt.w)(({matched:Ee,consumedSegments:xe,remainingSegments:It})=>Ee?this.getChildConfig(C=P._injector??C,P,B).pipe((0,gt.z)(On=>{const Pn=On.injector??C,Zr=On.routes,{segmentGroup:Gs,slicedSegments:ao}=Fr(w,xe,It,Zr),Xo=new Xt(Gs.segments,Gs.children);if(0===ao.length&&Xo.hasChildren())return this.expandChildren(Pn,Zr,Xo).pipe((0,Be.U)(va=>new Xt(xe,va)));if(0===Zr.length&&0===ao.length)return(0,Ae.of)(new Xt(xe,{}));const ss=Yn(P)===ie;return this.expandSegment(Pn,Xo,Zr,ao,ss?rn:ie,!0).pipe((0,Be.U)(Ls=>new Xt(xe.concat(Ls.segments),Ls.children)))})):xa(w)))}getChildConfig(C,w,P){return w.children?(0,Ae.of)({routes:w.children,injector:C}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Wo(T,C,w,P){const B=C.canLoad;if(void 0===B||0===B.length)return(0,Ae.of)(!0);const ie=B.map(Ee=>{const xe=T.get(Ee),It=function wi(T){return T&&ns(T.canLoad)}(xe)?xe.canLoad(C,w):xe(C,w);return Tr(It)});return(0,Ae.of)(ie).pipe(Et(),ll())}(C,w,P).pipe((0,gt.z)(B=>B?this.configLoader.loadChildren(C,w).pipe((0,rt.b)(ie=>{w._loadedRoutes=ie.routes,w._loadedInjector=ie.injector})):function Sl(T){return(0,Pe._)(we(Ma,3))}())):(0,Ae.of)({routes:[],injector:C})}lineralizeSegments(C,w){let P=[],B=w.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,Ae.of)(P);if(B.numberOfChildren>1||!B.children[rn])return(0,Pe._)(new c.vHH(4e3,Ma));B=B.children[rn]}}applyRedirectCommands(C,w,P){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),C,P)}applyRedirectCreateUrlTree(C,w,P,B){const ie=this.createSegmentGroup(C,w.root,P,B);return new dr(ie,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(C,w){const P={};return Nn(C,(B,ie)=>{if("string"==typeof B&&B.startsWith(":")){const xe=B.substring(1);P[ie]=w[xe]}else P[ie]=B}),P}createSegmentGroup(C,w,P,B){const ie=this.createSegments(C,w.segments,P,B);let Ee={};return Nn(w.children,(xe,It)=>{Ee[It]=this.createSegmentGroup(C,xe,P,B)}),new Xt(ie,Ee)}createSegments(C,w,P,B){return w.map(ie=>ie.path.startsWith(":")?this.findPosParam(C,ie,B):this.findOrReturn(ie,P))}findPosParam(C,w,P){const B=P[w.path.substring(1)];if(!B)throw new c.vHH(4001,Ma);return B}findOrReturn(C,w){let P=0;for(const B of w){if(B.path===C.path)return w.splice(P),B;P++}return C}}class Ko{}class Oo{constructor(C,w,P,B,ie,Ee,xe,It){this.injector=C,this.rootComponentType=w,this.config=P,this.urlTree=B,this.url=ie,this.paramsInheritanceStrategy=Ee,this.relativeLinkResolution=xe,this.urlSerializer=It}recognize(){const C=Fr(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,rn).pipe((0,Be.U)(w=>{if(null===w)return null;const P=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new us(P,w),ie=new Bs(this.url,B);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(C){const w=C.value,P=qi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.processChildren(C,w,P):this.processSegment(C,w,P,P.segments,B)}processChildren(C,w,P){return(0,fe.D)(Object.keys(P.children)).pipe((0,Ce.b)(B=>{const ie=P.children[B],Ee=Gr(w,B);return this.processSegmentGroup(C,Ee,ie,B)}),(0,xt.R)((B,ie)=>B&&ie?(B.push(...ie),B):null),function $e(T,C=!1){return(0,ze.e)((w,P)=>{let B=0;w.subscribe((0,se.x)(P,ie=>{const Ee=T(ie,B++);(Ee||C)&&P.next(ie),!Ee&&P.complete()}))})}(B=>null!==B),(0,cn.d)(null),(0,Wt.Z)(),(0,Be.U)(B=>{if(null===B)return null;const ie=_o(B);return function Pa(T){T.sort((C,w)=>C.value.outlet===rn?-1:w.value.outlet===rn?1:C.value.outlet.localeCompare(w.value.outlet))}(ie),ie}))}processSegment(C,w,P,B,ie){return(0,fe.D)(w).pipe((0,Ce.b)(Ee=>this.processSegmentAgainstRoute(Ee._injector??C,Ee,P,B,ie)),(0,Pt.P)(Ee=>!!Ee),dt(Ee=>{if(Ee instanceof Ht.K)return vi(P,B,ie)?(0,Ae.of)([]):(0,Ae.of)(null);throw Ee}))}processSegmentAgainstRoute(C,w,P,B,ie){if(w.redirectTo||!Ns(w,P,B,ie))return(0,Ae.of)(null);let Ee;if("**"===w.path){const xe=B.length>0?Ln(B).parameters:{},It=dl(P)+B.length,an=new Bi(B,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$s(w),Yn(w),w.component??w._loadedComponent??null,w,Al(P),It,js(w),It);Ee=(0,Ae.of)({snapshot:an,consumedSegments:[],remainingSegments:[]})}else Ee=di(P,w,B,C).pipe((0,Be.U)(({matched:xe,consumedSegments:It,remainingSegments:an,parameters:On})=>{if(!xe)return null;const Pn=dl(P)+It.length;return{snapshot:new Bi(It,On,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$s(w),Yn(w),w.component??w._loadedComponent??null,w,Al(P),Pn,js(w),Pn),consumedSegments:It,remainingSegments:an}}));return Ee.pipe((0,pt.w)(xe=>{if(null===xe)return(0,Ae.of)(null);const{snapshot:It,consumedSegments:an,remainingSegments:On}=xe;C=w._injector??C;const Pn=w._loadedInjector??C,Zr=function fa(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:Gs,slicedSegments:ao}=Fr(P,an,On,Zr.filter(ss=>void 0===ss.redirectTo),this.relativeLinkResolution);if(0===ao.length&&Gs.hasChildren())return this.processChildren(Pn,Zr,Gs).pipe((0,Be.U)(ss=>null===ss?null:[new us(It,ss)]));if(0===Zr.length&&0===ao.length)return(0,Ae.of)([new us(It,[])]);const Xo=Yn(w)===ie;return this.processSegment(Pn,Zr,Gs,ao,Xo?rn:ie).pipe((0,Be.U)(ss=>null===ss?null:[new us(It,ss)]))}))}}function Qi(T){const C=T.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function _o(T){const C=[],w=new Set;for(const P of T){if(!Qi(P)){C.push(P);continue}const B=C.find(ie=>P.value.routeConfig===ie.value.routeConfig);void 0!==B?(B.children.push(...P.children),w.add(B)):C.push(P)}for(const P of w){const B=_o(P.children);C.push(new us(P.value,B))}return C.filter(P=>!w.has(P))}function Al(T){let C=T;for(;C._sourceSegment;)C=C._sourceSegment;return C}function dl(T){let C=T,w=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,w+=C._segmentIndexShift??0;return w-1}function $s(T){return T.data||{}}function js(T){return T.resolve||{}}const hl=Symbol("RouteTitle");function Wn(T){return"string"==typeof T.title||null===T.title}function $l(T){return(0,pt.w)(C=>{const w=T(C);return w?(0,fe.D)(w).pipe((0,Be.U)(()=>C)):(0,Ae.of)(C)})}class Rt extends class wt{shouldDetach(C){return!1}store(C,w){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,w){return C.routeConfig===w.routeConfig}}{}const qo=new c.OlP("ROUTES");let Fo=(()=>{class T{constructor(w,P){this.injector=w,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const P=Tr(w.loadComponent()).pipe((0,rt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ie}),et(()=>{this.componentLoaders.delete(w)})),B=new de.c(P,()=>new Qe.x).pipe((0,Kn.x)());return this.componentLoaders.set(w,B),B}loadChildren(w,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Ae.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const ie=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Be.U)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(P);let It,an,On=!1;Array.isArray(xe)?an=xe:(It=xe.create(w).injector,an=Jn(It.get(qo,[],c.XFs.Self|c.XFs.Optional)));return{routes:an.map(dn),injector:It}}),et(()=>{this.childrenLoaders.delete(P)})),Ee=new de.c(ie,()=>new Qe.x).pipe((0,Kn.x)());return this.childrenLoaders.set(P,Ee),Ee}loadModuleFactoryOrRoutes(w){return Tr(w()).pipe((0,gt.z)(P=>P instanceof c.YKP||Array.isArray(P)?(0,Ae.of)(P):(0,fe.D)(this.compiler.compileModuleAsync(P))))}}return T.\u0275fac=function(w){return new(w||T)(c.LFG(c.zs3),c.LFG(c.Sil))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();class Ml{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,w){return C}}function Wa(T){throw T}function fl(T,C,w){return C.parse("/")}const Qs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class T{constructor(w,P,B,ie,Ee,xe,It){this.rootComponentType=w,this.urlSerializer=P,this.rootContexts=B,this.location=ie,this.config=It,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe.x,this.errorHandler=Wa,this.malformedUriErrorHandler=fl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.urlHandlingStrategy=new Ml,this.routeReuseStrategy=new Rt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ee.get(Fo),this.configLoader.onLoadEndListener=Zr=>this.triggerEvent(new hr(Zr)),this.configLoader.onLoadStartListener=Zr=>this.triggerEvent(new bi(Zr)),this.ngModule=Ee.get(c.h0i),this.console=Ee.get(c.c2e);const Pn=Ee.get(c.R0b);this.isNgZoneEnabled=Pn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(It),this.currentUrlTree=function Qn(){return new dr(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jo(this.currentUrlTree,this.rootComponentType),this.transitions=new tt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(w){const P=this.events;return w.pipe((0,kt.h)(B=>0!==B.id),(0,Be.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,pt.w)(B=>{let ie=!1,Ee=!1;return(0,Ae.of)(B).pipe((0,rt.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(xe=>{const It=this.browserUrlTree.toString(),an=!this.navigated||xe.extractedUrl.toString()!==It||It!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||an)&&this.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return Cr(xe.source)&&(this.browserUrlTree=xe.extractedUrl),(0,Ae.of)(xe).pipe((0,pt.w)(Pn=>{const Zr=this.transitions.getValue();return P.next(new _e(Pn.id,this.serializeUrl(Pn.extractedUrl),Pn.source,Pn.restoredState)),Zr!==this.transitions.getValue()?Xe.E:Promise.resolve(Pn)}),function iu(T,C,w,P){return(0,pt.w)(B=>function ja(T,C,w,P,B){return new Is(T,C,w,P,B).apply()}(T,C,w,B.extractedUrl,P).pipe((0,Be.U)(ie=>({...B,urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rt.b)(Pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects},B.urlAfterRedirects=Pn.urlAfterRedirects}),function Ra(T,C,w,P,B,ie){return(0,gt.z)(Ee=>function ha(T,C,w,P,B,ie,Ee="emptyOnly",xe="legacy"){return new Oo(T,C,w,P,B,Ee,xe,ie).recognize().pipe((0,pt.w)(It=>null===It?function Zo(T){return new u.y(C=>C.error(T))}(new Ko):(0,Ae.of)(It)))}(T,C,w,Ee.urlAfterRedirects,P.serialize(Ee.urlAfterRedirects),P,B,ie).pipe((0,Be.U)(xe=>({...Ee,targetSnapshot:xe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rt.b)(Pn=>{if(B.targetSnapshot=Pn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const Gs=this.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);this.setBrowserUrl(Gs,Pn)}this.browserUrlTree=Pn.urlAfterRedirects}const Zr=new zt(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);P.next(Zr)}));if(an&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:Gs,source:ao,restoredState:Xo,extras:ss}=xe,ea=new _e(Zr,this.serializeUrl(Gs),ao,Xo);P.next(ea);const Ls=jo(Gs,this.rootComponentType).snapshot;return B={...xe,targetSnapshot:Ls,urlAfterRedirects:Gs,extras:{...ss,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(B)}return this.rawUrlTree=xe.rawUrl,xe.resolve(null),Xe.E}),(0,rt.b)(xe=>{const It=new nn(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot);this.triggerEvent(It)}),(0,Be.U)(xe=>B={...xe,guards:Lt(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)}),function gn(T,C){return(0,gt.z)(w=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:ie,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===ie.length?(0,Ae.of)({...w,guardsResult:!0}):function _i(T,C,w,P){return(0,fe.D)(T).pipe((0,gt.z)(B=>function al(T,C,w,P,B){const ie=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,Ae.of)(!0);const Ee=ie.map(xe=>{const It=Hi(xe,C,B);return Tr(function Aa(T){return T&&ns(T.canDeactivate)}(It)?It.canDeactivate(T,C,w,P):It(T,C,w,P)).pipe((0,Pt.P)())});return(0,Ae.of)(Ee).pipe(Et())}(B.component,B.route,w,C,P)),(0,Pt.P)(B=>!0!==B,!0))}(Ee,P,B,T).pipe((0,gt.z)(xe=>xe&&function Ao(T){return"boolean"==typeof T}(xe)?function Pi(T,C,w,P){return(0,fe.D)(C).pipe((0,Ce.b)(B=>(0,Dt.z)(function io(T,C){return null!==T&&C&&C(new ai(T)),(0,Ae.of)(!0)}(B.route.parent,P),function Ys(T,C){return null!==T&&C&&C(new Ts(T)),(0,Ae.of)(!0)}(B.route,P),function Rs(T,C,w){const P=C[C.length-1],ie=C.slice(0,C.length-1).reverse().map(Ee=>function ar(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>(0,nt.P)(()=>{const xe=Ee.guards.map(It=>{const an=Hi(It,Ee.node,w);return Tr(function Ba(T){return T&&ns(T.canActivateChild)}(an)?an.canActivateChild(P,T):an(P,T)).pipe((0,Pt.P)())});return(0,Ae.of)(xe).pipe(Et())}));return(0,Ae.of)(ie).pipe(Et())}(T,B.path,w),function so(T,C,w){const P=C.routeConfig?C.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ae.of)(!0);const B=P.map(ie=>(0,nt.P)(()=>{const Ee=Hi(ie,C,w);return Tr(function ca(T){return T&&ns(T.canActivate)}(Ee)?Ee.canActivate(C,T):Ee(C,T)).pipe((0,Pt.P)())}));return(0,Ae.of)(B).pipe(Et())}(T,B.route,w))),(0,Pt.P)(B=>!0!==B,!0))}(P,ie,T,C):(0,Ae.of)(xe)),(0,Be.U)(xe=>({...w,guardsResult:xe})))})}(this.ngModule.injector,xe=>this.triggerEvent(xe)),(0,rt.b)(xe=>{if(B.guardsResult=xe.guardsResult,Un(xe.guardsResult))throw q(0,xe.guardsResult);const It=new rr(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.triggerEvent(It)}),(0,kt.h)(xe=>!!xe.guardsResult||(this.restoreHistory(xe),this.cancelNavigationTransition(xe,"",3),!1)),$l(xe=>{if(xe.guards.canActivateChecks.length)return(0,Ae.of)(xe).pipe((0,rt.b)(It=>{const an=new Ir(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);this.triggerEvent(an)}),(0,pt.w)(It=>{let an=!1;return(0,Ae.of)(It).pipe(function qt(T,C){return(0,gt.z)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=w;if(!B.length)return(0,Ae.of)(w);let ie=0;return(0,fe.D)(B).pipe((0,Ce.b)(Ee=>function Ii(T,C,w,P){const B=T.routeConfig,ie=T._resolve;return void 0!==B?.title&&!Wn(B)&&(ie[hl]=B.title),function rs(T,C,w,P){const B=function Lo(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,Ae.of)({});const ie={};return(0,fe.D)(B).pipe((0,gt.z)(Ee=>function Mn(T,C,w,P){const B=Hi(T,C,P);return Tr(B.resolve?B.resolve(C,w):B(C,w))}(T[Ee],C,w,P).pipe((0,Pt.P)(),(0,rt.b)(xe=>{ie[Ee]=xe}))),(0,hn.h)(1),(0,wn.h)(ie),dt(Ee=>Ee instanceof Ht.K?Xe.E:(0,Pe._)(Ee)))}(ie,T,C,P).pipe((0,Be.U)(Ee=>(T._resolvedData=Ee,T.data=qi(T,w).resolve,B&&Wn(B)&&(T.data[hl]=B.title),null)))}(Ee.route,P,T,C)),(0,rt.b)(()=>ie++),(0,hn.h)(1),(0,gt.z)(Ee=>ie===B.length?(0,Ae.of)(w):Xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rt.b)({next:()=>an=!0,complete:()=>{an||(this.restoreHistory(It),this.cancelNavigationTransition(It,"",2))}}))}),(0,rt.b)(It=>{const an=new pr(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);this.triggerEvent(an)}))}),$l(xe=>{const It=an=>{const On=[];an.routeConfig?.loadComponent&&!an.routeConfig._loadedComponent&&On.push(this.configLoader.loadComponent(an.routeConfig).pipe((0,rt.b)(Pn=>{an.component=Pn}),(0,Be.U)(()=>{})));for(const Pn of an.children)On.push(...It(Pn));return On};return ee(It(xe.targetSnapshot.root)).pipe((0,cn.d)(),(0,it.q)(1))}),$l(()=>this.afterPreactivation()),(0,Be.U)(xe=>{const It=function Hs(T,C,w){const P=qs(T,C._root,w?w._root:void 0);return new mo(P,C)}(this.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return B={...xe,targetRouterState:It}}),(0,rt.b)(xe=>{this.currentUrlTree=xe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(xe.urlAfterRedirects,xe.rawUrl),this.routerState=xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(xe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,xe),this.browserUrlTree=xe.urlAfterRedirects)}),((T,C,w)=>(0,Be.U)(P=>(new yi(C,P.targetRouterState,P.currentRouterState,w).activate(T),P)))(this.rootContexts,this.routeReuseStrategy,xe=>this.triggerEvent(xe)),(0,rt.b)({next(){ie=!0},complete(){ie=!0}}),et(()=>{ie||Ee||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),dt(xe=>{if(Ee=!0,ut(xe)){Ue(xe)||(this.navigated=!0,this.restoreHistory(B,!0));const It=new We(B.id,this.serializeUrl(B.extractedUrl),xe.message,xe.cancellationCode);if(P.next(It),Ue(xe)){const an=this.urlHandlingStrategy.merge(xe.url,this.rawUrlTree),On={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cr(B.source)};this.scheduleNavigation(an,"imperative",null,On,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{this.restoreHistory(B,!0);const It=new ht(B.id,this.serializeUrl(B.extractedUrl),xe,B.targetSnapshot??void 0);P.next(It);try{B.resolve(this.errorHandler(xe))}catch(an){B.reject(an)}}return Xe.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next({...this.transitions.value,...w})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{const B={replaceUrl:!0},ie=w.state?.navigationId?w.state:null;if(ie){const xe={...ie};delete xe.navigationId,delete xe.\u0275routerPageId,0!==Object.keys(xe).length&&(B.state=xe)}const Ee=this.parseUrl(w.url);this.scheduleNavigation(Ee,P,ie,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){this.config=w.map(dn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:B,queryParams:ie,fragment:Ee,queryParamsHandling:xe,preserveFragment:It}=P,an=B||this.routerState.root,On=It?this.currentUrlTree.fragment:Ee;let Pn=null;switch(xe){case"merge":Pn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=ie||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),Gi(an,this.currentUrlTree,w,Pn,On??null)}navigateByUrl(w,P={skipLocationChange:!1}){const B=Un(w)?w:this.parseUrl(w),ie=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,P)}navigate(w,P={skipLocationChange:!1}){return function Qo(T){for(let C=0;C<T.length;C++){if(null==T[C])throw new c.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch(B){P=this.malformedUriErrorHandler(B,this.urlSerializer,w)}return P}isActive(w,P){let B;if(B=!0===P?{...Qs}:!1===P?{...pl}:P,Un(w))return kn(this.currentUrlTree,w,B);const ie=this.parseUrl(w);return kn(this.currentUrlTree,ie,B)}removeEmptyProps(w){return Object.keys(w).reduce((P,B)=>{const ie=w[B];return null!=ie&&(P[B]=ie),P},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new ct(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,P,B,ie,Ee){if(this.disposed)return Promise.resolve(!1);let xe,It,an;Ee?(xe=Ee.resolve,It=Ee.reject,an=Ee.promise):an=new Promise((Zr,Gs)=>{xe=Zr,It=Gs});const On=++this.navigationId;let Pn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Pn=B&&B.\u0275routerPageId?B.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Pn=0,this.setTransition({id:On,targetPageId:Pn,source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:ie,resolve:xe,reject:It,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(w,P){const B=this.urlSerializer.serialize(w),ie={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl?this.location.replaceState(B,"",ie):this.location.go(B,"",ie)}restoreHistory(w,P=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,P,B){const ie=new We(w.id,this.serializeUrl(w.extractedUrl),P,B);this.triggerEvent(ie),w.resolve(!1)}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return T.\u0275fac=function(w){c.$Z()},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();function Cr(T){return"imperative"!==T}let ks=(()=>{class T{constructor(w,P,B,ie,Ee){this.router=w,this.route=P,this.tabIndexAttribute=B,this.renderer=ie,this.el=Ee,this.commands=null,this.onChanges=new Qe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const P=this.renderer,B=this.el.nativeElement;null!==w?P.setAttribute(B,"tabindex",w):P.removeAttribute(B,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(c.Y36(Vi),c.Y36(_s),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},T.\u0275dir=c.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,P){1&w&&c.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),T})(),vo=(()=>{class T{constructor(w,P,B){this.router=w,this.route=P,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new Qe.x,this.subscription=w.events.subscribe(ie=>{ie instanceof ct&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,P,B,ie,Ee){if(0!==w||P||B||ie||Ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const xe={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,xe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(c.Y36(Vi),c.Y36(_s),c.Y36(Ie.S$))},T.\u0275dir=c.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,P){1&w&&c.NdJ("click",function(ie){return P.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&w&&c.uIk("target",P.target)("href",P.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),T})(),hi=(()=>{class T{constructor(w,P,B,ie,Ee,xe){this.router=w,this.element=P,this.renderer=B,this.cdr=ie,this.link=Ee,this.linkWithHref=xe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=w.events.subscribe(It=>{It instanceof ct&&this.update()})}ngAfterContentInit(){(0,Ae.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ae.of)(null)).pipe((0,Pr.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,fe.D)(w).pipe((0,Pr.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(w){const P=Array.isArray(w)?w:w.split(" ");this.classes=P.filter(B=>!!B)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(P=>{w?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const P=function ir(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&w.isActive(B.urlTree,P)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return T.\u0275fac=function(w){return new(w||T)(c.Y36(Vi),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(ks,8),c.Y36(vo,8))},T.\u0275dir=c.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(w,P,B){if(1&w&&(c.Suo(B,ks,5),c.Suo(B,vo,5)),2&w){let ie;c.iGM(ie=c.CRH())&&(P.links=ie),c.iGM(ie=c.CRH())&&(P.linksWithHrefs=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),T})(),Eo=(()=>{class T{buildTitle(w){let P,B=w.root;for(;void 0!==B;)P=this.getResolvedTitleForRoute(B)??P,B=B.children.find(ie=>ie.outlet===rn);return P}getResolvedTitleForRoute(w){return w.data[hl]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Dr)},providedIn:"root"}),T})(),Dr=(()=>{class T extends Eo{constructor(w){super(),this.title=w}updateTitle(w){const P=this.buildTitle(w);void 0!==P&&this.title.setTitle(P)}}return T.\u0275fac=function(w){return new(w||T)(c.LFG(fr.Dx))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class ga{}let Jo=(()=>{class T{constructor(w,P,B,ie,Ee){this.router=w,this.injector=B,this.preloadingStrategy=ie,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(w=>w instanceof ct),(0,Ce.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const B=[];for(const ie of P){ie.providers&&!ie._injector&&(ie._injector=(0,c.MMx)(ie.providers,w,`Route: ${ie.path}`));const Ee=ie._injector??w,xe=ie._loadedInjector??Ee;ie.loadChildren&&!ie._loadedRoutes||ie.loadComponent&&!ie._loadedComponent?B.push(this.preloadConfig(Ee,ie)):(ie.children||ie._loadedRoutes)&&B.push(this.processRoutes(xe,ie.children??ie._loadedRoutes))}return(0,fe.D)(B).pipe((0,Pr.J)())}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>{let B;B=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(w,P):(0,Ae.of)(null);const ie=B.pipe((0,gt.z)(Ee=>null===Ee?(0,Ae.of)(void 0):(P._loadedRoutes=Ee.routes,P._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(P.loadComponent&&!P._loadedComponent){const Ee=this.loader.loadComponent(P);return(0,fe.D)([ie,Ee]).pipe((0,Pr.J)())}return ie})}}return T.\u0275fac=function(w){return new(w||T)(c.LFG(Vi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(ga),c.LFG(Fo))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();const Ga=new c.OlP("");let Js=(()=>{class T{constructor(w,P,B={}){this.router=w,this.viewportScroller=P,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ct&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Vs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.router.triggerEvent(new Vs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(w){c.$Z()},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();const bo=new c.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),ma=new c.OlP("ROUTER_FORROOT_GUARD"),Ji=new c.OlP(""),Vo=[Ie.Ye,{provide:le,useClass:V},{provide:Vi,useFactory:function bu(T,C,w,P,B,ie,Ee,xe={},It,an){const On=new Vi(null,T,C,w,P,B,Jn(ie));return It&&(On.urlHandlingStrategy=It),an&&(On.routeReuseStrategy=an),On.titleStrategy=Ee,function gl(T,C){T.errorHandler&&(C.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(C.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(C.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(C.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(C.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(C.canceledNavigationResolution=T.canceledNavigationResolution)}(xe,On),On},deps:[le,ln,Ie.Ye,c.zs3,c.Sil,qo,Eo,bo,[class pa{},new c.FiY],[class mn{},new c.FiY]]},ln,{provide:_s,useFactory:function Uo(T){return T.routerState.root},deps:[Vi]},Fo];function za(){return new c.PXZ("Router",Vi)}let wr=(()=>{class T{constructor(w,P){}static forRoot(w,P){return{ngModule:T,providers:[Vo,[],xo(w),{provide:ma,useFactory:Ka,deps:[[Vi,new c.FiY,new c.tp0]]},{provide:bo,useValue:P||{}},P?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:Ga,useFactory:()=>{const T=(0,c.f3M)(Vi),C=(0,c.f3M)(Ie.EM),w=(0,c.f3M)(bo);return w.scrollOffset&&C.setOffset(w.scrollOffset),new Js(T,C,w)}},P?.preloadingStrategy?oo(P.preloadingStrategy):[],{provide:c.PXZ,multi:!0,useFactory:za},P?.initialNavigation?wu(P):[],[{provide:ya,useFactory:ml},{provide:c.tb,multi:!0,useExisting:ya}]]}}static forChild(w){return{ngModule:T,providers:[xo(w)]}}}return T.\u0275fac=function(w){return new(w||T)(c.LFG(ma,8),c.LFG(Vi,8))},T.\u0275mod=c.oAB({type:T}),T.\u0275inj=c.cJS({}),T})();function Ka(T){return"guarded"}function xo(T){return[{provide:c.deG,multi:!0,useValue:T},{provide:qo,multi:!0,useValue:T}]}function ml(){const T=(0,c.f3M)(c.zs3);return C=>{const w=T.get(c.z2F);if(C!==w.components[0])return;const P=T.get(Vi),B=T.get(Ol);null===T.get(Ws,null,c.XFs.Optional)&&P.initialNavigation(),T.get(Ji,null,c.XFs.Optional)?.setUpPreloading(),T.get(Ga,null,c.XFs.Optional)?.init(),P.resetRootComponentType(w.componentTypes[0]),B.next(),B.complete()}}const ya=new c.OlP("");function wu(T){return["disabled"===T.initialNavigation?[{provide:c.ip1,multi:!0,useFactory:()=>{const T=(0,c.f3M)(Vi);return()=>{T.setUpLocationChangeListener()}}},{provide:Ws,useValue:"disabled"}]:[],"enabledBlocking"===T.initialNavigation?[{provide:Ws,useValue:"enabledBlocking"},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:T=>{const C=T.get(Ie.V_,Promise.resolve(null));let w=!1;return()=>C.then(()=>new Promise(B=>{const ie=T.get(Vi),Ee=T.get(Ol);(function P(B){T.get(Vi).events.pipe((0,kt.h)(Ee=>Ee instanceof ct||Ee instanceof We||Ee instanceof ht),(0,Be.U)(Ee=>Ee instanceof ct||Ee instanceof We&&(0===Ee.code||1===Ee.code)&&null),(0,kt.h)(Ee=>null!==Ee),(0,it.q)(1)).subscribe(()=>{B()})})(()=>{B(!0),w=!0}),ie.afterPreactivation=()=>(B(!0),w||Ee.closed?(0,Ae.of)(void 0):Ee),ie.initialNavigation()}))}}]:[]]}const Ol=new c.OlP("",{factory:()=>new Qe.x}),Ws=new c.OlP("");function oo(T){return[Jo,{provide:Ji,useExisting:Jo},{provide:ga,useExisting:T}]}},3942:(Gt,Ze,M)=>{M.d(Ze,{Z:()=>tt});var c=M(2090),u=M(4859),k=M(9681),fe=M(1877);class W{constructor(nt,ke){this._delegate=nt,this.firebase=ke,(0,k._addComponent)(nt,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(nt,ke=k._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Ht=this._delegate.container.getProvider(nt);return!Ht.isInitialized()&&"EXPLICIT"===(null===(Pe=Ht.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Ht.initialize(),Ht.getImmediate({identifier:ke})}_removeServiceInstance(nt,ke=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(ke)}_addComponent(nt){(0,k._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,k._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function se(){const Dt=function Y(Dt){const nt={},ke={__esModule:!0,initializeApp:function Xe(he,ze={}){const dt=k.initializeApp(he,ze);if((0,c.r3)(nt,dt.name))return nt[dt.name];const $e=new Dt(dt,ke);return nt[dt.name]=$e,$e},app:Ht,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Qe(he){const ze=he.name,dt=ze.replace("-compat","");if(k._registerComponent(he)&&"PUBLIC"===he.type){const $e=(et=Ht())=>{if("function"!=typeof et[dt])throw X.create("invalid-app-argument",{appName:ze});return et[dt]()};void 0!==he.serviceProps&&(0,c.ZB)($e,he.serviceProps),ke[dt]=$e,Dt.prototype[dt]=function(...et){return this._getService.bind(this,ze).apply(this,he.multipleInstances?et:[])}}return"PUBLIC"===he.type?ke[dt]:null},removeApp:function Pe(he){delete nt[he]},useAsService:function Ie(he,ze){return"serverAuth"===ze?null:ze},modularAPIs:k}};function Ht(he){if(!(0,c.r3)(nt,he=he||k._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:he});return nt[he]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function de(){return Object.keys(nt).map(he=>nt[he])}}),Ht.App=Dt,ke}(W);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function nt(ke){(0,c.ZB)(Dt,ke)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Dt}(),ee=new fe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=G;!function Ae(Dt){(0,k.registerVersion)("@firebase/app-compat","0.1.30",Dt)}()},9681:(Gt,Ze,M)=>{M.r(Ze),M.d(Ze,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>cn,_apps:()=>rt,_clearComponents:()=>Pr,_components:()=>xt,_getProvider:()=>wn,_registerComponent:()=>hn,_removeServiceInstance:()=>Kn,deleteApp:()=>sn,getApp:()=>nr,getApps:()=>cr,initializeApp:()=>Ar,onLog:()=>bn,registerVersion:()=>Ln,setLogLevel:()=>Nn});var c=M(5861),u=M(4859),k=M(1877),fe=M(2090),W=M(8766);class J{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function X(le){return"VERSION"===le.getComponent()?.type}(K)){const Me=K.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(K=>K).join(" ")}}const Y="@firebase/app",G=new k.Yd("@firebase/app"),Pt="[DEFAULT]",Ce={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,xt=new Map;function Wt(le,V){try{le.container.addComponent(V)}catch(K){G.debug(`Component ${V.name} failed to register with FirebaseApp ${le.name}`,K)}}function cn(le,V){le.container.addOrOverwriteComponent(V)}function hn(le){const V=le.name;if(xt.has(V))return G.debug(`There were multiple attempts to register component ${V}.`),!1;xt.set(V,le);for(const K of rt.values())Wt(K,le);return!0}function wn(le,V){const K=le.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),le.container.getProvider(V)}function Kn(le,V,K=Pt){wn(le,V).clearInstance(K)}function Pr(){xt.clear()}const rn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ti{constructor(V,K,Me){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const jn="9.9.1";function Ar(le,V={}){"object"!=typeof V&&(V={name:V});const K=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},V),Me=K.name;if("string"!=typeof Me||!Me)throw rn.create("bad-app-name",{appName:String(Me)});const at=rt.get(Me);if(at){if((0,fe.vZ)(le,at.options)&&(0,fe.vZ)(K,at.config))return at;throw rn.create("duplicate-app",{appName:Me})}const Zt=new u.H0(Me);for(const yn of xt.values())Zt.addComponent(yn);const xn=new ti(le,K,Zt);return rt.set(Me,xn),xn}function nr(le=Pt){const V=rt.get(le);if(!V)throw rn.create("no-app",{appName:le});return V}function cr(){return Array.from(rt.values())}function sn(le){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(le){const V=le.name;rt.has(V)&&(rt.delete(V),yield Promise.all(le.container.getProviders().map(K=>K.delete())),le.isDeleted=!0)})).apply(this,arguments)}function Ln(le,V,K){var Me;let at=null!==(Me=Ce[le])&&void 0!==Me?Me:le;K&&(at+=`-${K}`);const Zt=at.match(/\s|\//),xn=V.match(/\s|\//);if(Zt||xn){const yn=[`Unable to register library "${at}" with version "${V}":`];return Zt&&yn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Zt&&xn&&yn.push("and"),xn&&yn.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void G.warn(yn.join(" "))}hn(new u.wA(`${at}-version`,()=>({library:at,version:V}),"VERSION"))}function bn(le,V){if(null!==le&&"function"!=typeof le)throw rn.create("invalid-log-argument");(0,k.Am)(le,V)}function Nn(le){(0,k.Ub)(le)}const Qn="firebase-heartbeat-store";let Mr=null;function ui(){return Mr||(Mr=(0,W.X3)("firebase-heartbeat-database",1,{upgrade:(le,V)=>{0===V&&le.createObjectStore(Qn)}}).catch(le=>{throw rn.create("storage-open",{originalErrorMessage:le.message})})),Mr}function Jt(){return(Jt=(0,c.Z)(function*(le){var V;try{return(yield ui()).transaction(Qn).objectStore(Qn).get(Hr(le))}catch(K){throw rn.create("storage-get",{originalErrorMessage:null===(V=K)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function tn(le,V){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(le,V){var K;try{const at=(yield ui()).transaction(Qn,"readwrite");return yield at.objectStore(Qn).put(V,Hr(le)),at.done}catch(Me){throw rn.create("storage-set",{originalErrorMessage:null===(K=Me)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function Hr(le){return`${le.name}!${le.options.appId}`}class dr{constructor(V){this.container=V,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Wr(K),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var V=this;return(0,c.Z)(function*(){const Me=V.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Xt();if(null===V._heartbeatsCache&&(V._heartbeatsCache=yield V._heartbeatsCachePromise),V._heartbeatsCache.lastSentHeartbeatDate!==at&&!V._heartbeatsCache.heartbeats.some(Zt=>Zt.date===at))return V._heartbeatsCache.heartbeats.push({date:at,agent:Me}),V._heartbeatsCache.heartbeats=V._heartbeatsCache.heartbeats.filter(Zt=>{const xn=new Date(Zt.date).valueOf();return Date.now()-xn<=2592e6}),V._storage.overwrite(V._heartbeatsCache)})()}getHeartbeatsHeader(){var V=this;return(0,c.Z)(function*(){if(null===V._heartbeatsCache&&(yield V._heartbeatsCachePromise),null===V._heartbeatsCache||0===V._heartbeatsCache.heartbeats.length)return"";const K=Xt(),{heartbeatsToSend:Me,unsentEntries:at}=function Gn(le,V=1024){const K=[];let Me=le.slice();for(const at of le){const Zt=K.find(xn=>xn.agent===at.agent);if(Zt){if(Zt.dates.push(at.date),Re(K)>V){Zt.dates.pop();break}}else if(K.push({agent:at.agent,dates:[at.date]}),Re(K)>V){K.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:K,unsentEntries:Me}}(V._heartbeatsCache.heartbeats),Zt=(0,fe.L)(JSON.stringify({version:2,heartbeats:Me}));return V._heartbeatsCache.lastSentHeartbeatDate=K,at.length>0?(V._heartbeatsCache.heartbeats=at,yield V._storage.overwrite(V._heartbeatsCache)):(V._heartbeatsCache.heartbeats=[],V._storage.overwrite(V._heartbeatsCache)),Zt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Wr{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var V=this;return(0,c.Z)(function*(){return(yield V._canUseIndexedDBPromise)&&(yield function kn(le){return Jt.apply(this,arguments)}(V.app))||{heartbeats:[]}})()}overwrite(V){var K=this;return(0,c.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const Zt=yield K.read();return tn(K.app,{lastSentHeartbeatDate:null!==(Me=V.lastSentHeartbeatDate)&&void 0!==Me?Me:Zt.lastSentHeartbeatDate,heartbeats:V.heartbeats})}})()}add(V){var K=this;return(0,c.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const Zt=yield K.read();return tn(K.app,{lastSentHeartbeatDate:null!==(Me=V.lastSentHeartbeatDate)&&void 0!==Me?Me:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...V.heartbeats]})}})()}}function Re(le){return(0,fe.L)(JSON.stringify({version:2,heartbeats:le})).length}!function Le(le){hn(new u.wA("platform-logger",V=>new J(V),"PRIVATE")),hn(new u.wA("heartbeat",V=>new dr(V),"PRIVATE")),Ln(Y,"0.7.29",le),Ln(Y,"0.7.29","esm2017"),Ln("fire-js","")}("")},4859:(Gt,Ze,M)=>{M.d(Ze,{H0:()=>Y,wA:()=>k});var c=M(5861),u=M(2090);class k{constructor(G,ee,pe){this.name=G,this.instanceFactory=ee,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const fe="[DEFAULT]";class W{constructor(G,ee){this.name=G,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const ee=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(ee)){const pe=new u.BH;if(this.instancesDeferred.set(ee,pe),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ee});Ke&&pe.resolve(Ke)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(G){var ee;const pe=this.normalizeInstanceIdentifier(G?.identifier),Ke=null!==(ee=G?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ae){if(Ke)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function X(se){return"EAGER"===se.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ee,pe]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ee);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ke});pe.resolve(Ae)}catch{}}}}clearInstance(G=fe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const ee=Array.from(G.instances.values());yield Promise.all([...ee.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ee.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=fe){return this.instances.has(G)}getOptions(G=fe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:ee={}}=G,pe=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:pe,options:ee});for(const[Ae,tt]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ae)&&tt.resolve(Ke);return Ke}onInit(G,ee){var pe;const Ke=this.normalizeInstanceIdentifier(ee),Ae=null!==(pe=this.onInitCallbacks.get(Ke))&&void 0!==pe?pe:new Set;Ae.add(G),this.onInitCallbacks.set(Ke,Ae);const tt=this.instances.get(Ke);return tt&&G(tt,Ke),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,ee){const pe=this.onInitCallbacks.get(ee);if(pe)for(const Ke of pe)try{Ke(G,ee)}catch{}}getOrInitializeService({instanceIdentifier:G,options:ee={}}){let pe=this.instances.get(G);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(se=G,se===fe?void 0:se),options:ee}),this.instances.set(G,pe),this.instancesOptions.set(G,ee),this.invokeOnInitCallbacks(pe,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,pe)}catch{}var se;return pe||null}normalizeInstanceIdentifier(G=fe){return this.component?this.component.multipleInstances?G:fe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const ee=this.getProvider(G.name);if(ee.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);ee.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const ee=new W(G,this);return this.providers.set(G,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,Ze,M)=>{M.d(Ze,{Am:()=>se,Ub:()=>Y,Yd:()=>X,in:()=>u});const c=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const k={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},fe=u.INFO,W={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},J=(G,ee,...pe)=>{if(ee<G.logLevel)return;const Ke=(new Date).toISOString(),Ae=W[ee];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ae](`[${Ke}]  ${G.name}:`,...pe)};class X{constructor(ee){this.name=ee,this._logLevel=fe,this._logHandler=J,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in u))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?k[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ee),this._logHandler(this,u.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ee),this._logHandler(this,u.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ee),this._logHandler(this,u.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ee),this._logHandler(this,u.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ee),this._logHandler(this,u.ERROR,...ee)}}function Y(G){c.forEach(ee=>{ee.setLogLevel(G)})}function se(G,ee){for(const pe of c){let Ke=null;ee&&ee.level&&(Ke=k[ee.level]),pe.userLogHandler=null===G?null:(Ae,tt,...Dt)=>{const nt=Dt.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");tt>=(Ke??Ae.logLevel)&&G({level:u[tt].toLowerCase(),message:nt,args:Dt,type:Ae.name})}}}},6897:(Gt,Ze,M)=>{M.d(Ze,{yh:()=>Rr,Aw:()=>Ms,PH:()=>Ht,Lq:()=>fn,on:()=>jt,Ky:()=>Xe});var c=M(4650),u=M(1135),k=M(9751),fe=M(7579),W=M(233),J=M(4482),X=M(5403),Y=M(8421),se=M(4671),G=M(5032),ee=M(3269),Ke=M(4004),tt=M(5363),Dt=M(5026),nt=M(1884);const ke={};function Ht(_e,ct){if(ke[_e]=(ke[_e]||0)+1,"function"==typeof ct)return Qe(_e,(...ht)=>({...ct(...ht),type:_e}));switch(ct?ct._as:"empty"){case"empty":return Qe(_e,()=>({type:_e}));case"props":return Qe(_e,ht=>({...ht,type:_e}));default:throw new Error("Unexpected config.")}}function Xe(){return{_as:"props",_p:void 0}}function Qe(_e,ct){return Object.defineProperty(ct,"type",{value:_e,writable:!1})}const et="@ngrx/store/init";let Be=(()=>{class _e extends u.X{constructor(){super({type:et})}next(We){if("function"==typeof We)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof We>"u")throw new TypeError("Actions must be objects");if(typeof We.type>"u")throw new TypeError("Actions must have a type property");super.next(We)}complete(){}ngOnDestroy(){super.complete()}}return _e.\u0275fac=function(We){return new(We||_e)},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const pt=[Be],it=new c.OlP("@ngrx/store Internal Root Guard"),Bt=new c.OlP("@ngrx/store Internal Initial State"),kt=new c.OlP("@ngrx/store Initial State"),gt=new c.OlP("@ngrx/store Reducer Factory"),Pt=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),Ce=new c.OlP("@ngrx/store Initial Reducers"),rt=new c.OlP("@ngrx/store Internal Initial Reducers"),xt=new c.OlP("@ngrx/store Store Features"),Wt=new c.OlP("@ngrx/store Internal Store Reducers"),cn=new c.OlP("@ngrx/store Internal Feature Reducers"),hn=new c.OlP("@ngrx/store Internal Feature Configs"),wn=new c.OlP("@ngrx/store Internal Store Features"),Kn=new c.OlP("@ngrx/store Internal Feature Reducers Token"),Pr=new c.OlP("@ngrx/store Feature Reducers"),fr=new c.OlP("@ngrx/store User Provided Meta Reducers"),rn=new c.OlP("@ngrx/store Meta Reducers"),ti=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),jn=new c.OlP("@ngrx/store User Runtime Checks Config"),Ar=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),nr=new c.OlP("@ngrx/store Internal Runtime Checks"),cr=new c.OlP("@ngrx/store Check if Action types are unique");function sn(_e,ct={}){const We=Object.keys(_e),ht={};for(let nn=0;nn<We.length;nn++){const rr=We[nn];"function"==typeof _e[rr]&&(ht[rr]=_e[rr])}const zt=Object.keys(ht);return function(rr,Ir){rr=void 0===rr?ct:rr;let pr=!1;const bi={};for(let hr=0;hr<zt.length;hr++){const ai=zt[hr],Ts=rr[ai],xs=(0,ht[ai])(Ts,Ir);bi[ai]=xs,pr=pr||xs!==Ts}return pr?bi:rr}}function Ln(..._e){return function(ct){if(0===_e.length)return ct;const We=_e[_e.length-1];return _e.slice(0,-1).reduceRight((zt,nn)=>nn(zt),We(ct))}}function bn(_e,ct){return Array.isArray(ct)&&ct.length>0&&(_e=Ln.apply(null,[...ct,_e])),(We,ht)=>{const zt=_e(We);return(nn,rr)=>zt(nn=void 0===nn?ht:nn,rr)}}class Tr extends k.y{}class Kr extends Be{}let Mr=(()=>{class _e extends u.X{constructor(We,ht,zt,nn){super(nn(zt,ht)),this.dispatcher=We,this.initialState=ht,this.reducers=zt,this.reducerFactory=nn}get currentReducers(){return this.reducers}addFeature(We){this.addFeatures([We])}addFeatures(We){const ht=We.reduce((zt,{reducers:nn,reducerFactory:rr,metaReducers:Ir,initialState:pr,key:bi})=>{const hr="function"==typeof nn?function Nn(_e){const ct=Array.isArray(_e)&&_e.length>0?Ln(..._e):We=>We;return(We,ht)=>(We=ct(We),(zt,nn)=>We(zt=void 0===zt?ht:zt,nn))}(Ir)(nn,pr):bn(rr,Ir)(nn,pr);return zt[bi]=hr,zt},{});this.addReducers(ht)}removeFeature(We){this.removeFeatures([We])}removeFeatures(We){this.removeReducers(We.map(ht=>ht.key))}addReducer(We,ht){this.addReducers({[We]:ht})}addReducers(We){this.reducers={...this.reducers,...We},this.updateReducers(Object.keys(We))}removeReducer(We){this.removeReducers([We])}removeReducers(We){We.forEach(ht=>{this.reducers=function Jn(_e,ct){return Object.keys(_e).filter(We=>We!==ct).reduce((We,ht)=>Object.assign(We,{[ht]:_e[ht]}),{})}(this.reducers,ht)}),this.updateReducers(We)}updateReducers(We){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:We})}ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(We){return new(We||_e)(c.LFG(Kr),c.LFG(kt),c.LFG(Ce),c.LFG(gt))},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const ui=[Mr,{provide:Tr,useExisting:Mr},{provide:Kr,useExisting:Be}];let kn=(()=>{class _e extends fe.x{ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(){let ct;return function(ht){return(ct||(ct=c.n5z(_e)))(ht||_e)}}(),_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Jt=[kn];class tn extends k.y{}let zr=(()=>{class _e extends u.X{constructor(We,ht,zt,nn){super(nn);const Ir=We.pipe((0,tt.Q)(W.N)).pipe(function pe(..._e){const ct=(0,ee.jO)(_e);return(0,J.e)((We,ht)=>{const zt=_e.length,nn=new Array(zt);let rr=_e.map(()=>!1),Ir=!1;for(let pr=0;pr<zt;pr++)(0,Y.Xf)(_e[pr]).subscribe((0,X.x)(ht,bi=>{nn[pr]=bi,!Ir&&!rr[pr]&&(rr[pr]=!0,(Ir=rr.every(se.y))&&(rr=null))},G.Z));We.subscribe((0,X.x)(ht,pr=>{if(Ir){const bi=[pr,...nn];ht.next(ct?ct(...bi):bi)}}))})}(ht)),bi=Ir.pipe((0,Dt.R)(Hr,{state:nn}));this.stateSubscription=bi.subscribe(({state:hr,action:ai})=>{this.next(hr),zt.next(ai)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return _e.INIT=et,_e.\u0275fac=function(We){return new(We||_e)(c.LFG(Be),c.LFG(Tr),c.LFG(kn),c.LFG(kt))},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function Hr(_e={state:void 0},[ct,We]){const{state:ht}=_e;return{state:We(ht,ct),action:ct}}const An=[zr,{provide:tn,useExisting:zr}];let Rr=(()=>{class _e extends k.y{constructor(We,ht,zt){super(),this.actionsObserver=ht,this.reducerManager=zt,this.source=We}select(We,...ht){return Xt.call(null,We,...ht)(this)}lift(We){const ht=new _e(this,this.actionsObserver,this.reducerManager);return ht.operator=We,ht}dispatch(We){this.actionsObserver.next(We)}next(We){this.actionsObserver.next(We)}error(We){this.actionsObserver.error(We)}complete(){this.actionsObserver.complete()}addReducer(We,ht){this.reducerManager.addReducer(We,ht)}removeReducer(We){this.reducerManager.removeReducer(We)}}return _e.\u0275fac=function(We){return new(We||_e)(c.LFG(tn),c.LFG(Be),c.LFG(Mr))},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const dr=[Rr];function Xt(_e,ct,...We){return function(zt){let nn;if("string"==typeof _e){const rr=[ct,...We].filter(Boolean);nn=zt.pipe(function Ae(..._e){const ct=_e.length;if(0===ct)throw new Error("list of properties cannot be empty.");return(0,Ke.U)(We=>{let ht=We;for(let zt=0;zt<ct;zt++){const nn=ht?.[_e[zt]];if(!(typeof nn<"u"))return;ht=nn}return ht})}(_e,...rr))}else{if("function"!=typeof _e)throw new TypeError(`Unexpected type '${typeof _e}' in select operator, expected 'string' or 'function'`);nn=zt.pipe((0,Ke.U)(rr=>_e(rr,ct)))}return nn.pipe((0,nt.x)())}}const Gn="https://ngrx.io/guide/store/configuration/runtime-checks";function Wr(_e){return void 0===_e}function Re(_e){return null===_e}function Le(_e){return Array.isArray(_e)}function Me(_e){return"object"==typeof _e&&null!==_e}function xn(_e){return"function"==typeof _e}function Un(_e){Object.freeze(_e);const ct=xn(_e);return Object.getOwnPropertyNames(_e).forEach(We=>{if(!We.startsWith("\u0275")&&function Tn(_e,ct){return Object.prototype.hasOwnProperty.call(_e,ct)}(_e,We)&&(!ct||"caller"!==We&&"callee"!==We&&"arguments"!==We)){const ht=_e[We];(Me(ht)||xn(ht))&&!Object.isFrozen(ht)&&Un(ht)}}),_e}function $r(_e,ct=[]){return(Wr(_e)||Re(_e))&&0===ct.length?{path:["root"],value:_e}:Object.keys(_e).reduce((ht,zt)=>{if(ht)return ht;const nn=_e[zt];return function yn(_e){return xn(_e)&&_e.hasOwnProperty("\u0275cmp")}(nn)?ht:!(Wr(nn)||Re(nn)||function K(_e){return"number"==typeof _e}(nn)||function V(_e){return"boolean"==typeof _e}(nn)||function le(_e){return"string"==typeof _e}(nn)||Le(nn))&&(function Zt(_e){if(!function at(_e){return Me(_e)&&!Le(_e)}(_e))return!1;const ct=Object.getPrototypeOf(_e);return ct===Object.prototype||null===ct}(nn)?$r(nn,[...ct,zt]):{path:[...ct,zt],value:nn})},!1)}function pi(_e,ct){if(!1===_e)return;const We=_e.path.join("."),ht=new Error(`Detected unserializable ${ct} at "${We}". ${Gn}#strict${ct}serializability`);throw ht.value=_e.value,ht.unserializablePath=We,ht}function Gi(_e){return(0,c.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,..._e}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ni({strictActionSerializability:_e,strictStateSerializability:ct}){return We=>_e||ct?function Dn(_e,ct){return function(We,ht){ct.action(ht)&&pi($r(ht),"action");const zt=_e(We,ht);return ct.state()&&pi($r(zt),"state"),zt}}(We,{action:ht=>_e&&!Di(ht),state:()=>ct}):We}function jr({strictActionImmutability:_e,strictStateImmutability:ct}){return We=>_e||ct?function zn(_e,ct){return function(We,ht){const zt=ct.action(ht)?Un(ht):ht,nn=_e(We,zt);return ct.state()?Un(nn):nn}}(We,{action:ht=>_e&&!Di(ht),state:()=>ct}):We}function Di(_e){return _e.type.startsWith("@ngrx")}function Xr({strictActionWithinNgZone:_e}){return ct=>_e?function ts(_e,ct){return function(We,ht){if(ct.action(ht)&&!c.R0b.isInAngularZone())throw new Error(`Action '${ht.type}' running outside NgZone. ${Gn}#strictactionwithinngzone`);return _e(We,ht)}}(ct,{action:We=>_e&&!Di(We)}):ct}function ci(_e){return[{provide:Ar,useValue:_e},{provide:jn,useFactory:Nr,deps:[Ar]},{provide:nr,deps:[jn],useFactory:Gi},{provide:rn,multi:!0,deps:[nr],useFactory:jr},{provide:rn,multi:!0,deps:[nr],useFactory:ni},{provide:rn,multi:!0,deps:[nr],useFactory:Xr}]}function gi(){return[{provide:cr,multi:!0,deps:[nr],useFactory:ki}]}function Nr(_e){return _e}function ki(_e){if(!_e.strictActionTypeUniqueness)return;const ct=Object.entries(ke).filter(([,We])=>We>1).map(([We])=>We);if(ct.length)throw new Error(`Action types are registered more than once, ${ct.map(We=>`"${We}"`).join(", ")}. ${Gn}#strictactiontypeuniqueness`)}let Si=(()=>{class _e{constructor(We,ht,zt,nn,rr,Ir){}}return _e.\u0275fac=function(We){return new(We||_e)(c.LFG(Be),c.LFG(Tr),c.LFG(kn),c.LFG(Rr),c.LFG(it,8),c.LFG(cr,8))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({}),_e})(),Li=(()=>{class _e{constructor(We,ht,zt,nn,rr){this.features=We,this.featureReducers=ht,this.reducerManager=zt;const Ir=We.map((pr,bi)=>{const ai=ht.shift()[bi];return{...pr,reducers:ai,initialState:je(pr.initialState)}});zt.addFeatures(Ir)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return _e.\u0275fac=function(We){return new(We||_e)(c.LFG(wn),c.LFG(Pr),c.LFG(Mr),c.LFG(Si),c.LFG(cr,8))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({}),_e})(),Ms=(()=>{class _e{static forRoot(We,ht={}){return{ngModule:Si,providers:[{provide:it,useFactory:At,deps:[[Rr,new c.FiY,new c.tp0]]},{provide:Bt,useValue:ht.initialState},{provide:kt,useFactory:je,deps:[Bt]},{provide:rt,useValue:We},{provide:Wt,useExisting:We instanceof c.OlP?We:rt},{provide:Ce,deps:[c.zs3,rt,[new c.tBr(Wt)]],useFactory:Ei},{provide:fr,useValue:ht.metaReducers?ht.metaReducers:[]},{provide:ti,deps:[rn,fr],useFactory:mt},{provide:Pt,useValue:ht.reducerFactory?ht.reducerFactory:sn},{provide:gt,deps:[Pt,ti],useFactory:bn},pt,ui,Jt,An,dr,ci(ht.runtimeChecks),gi()]}}static forFeature(We,ht,zt={}){return{ngModule:Li,providers:[{provide:hn,multi:!0,useValue:We instanceof Object?{}:zt},{provide:xt,multi:!0,useValue:{key:We instanceof Object?We.name:We,reducerFactory:zt instanceof c.OlP||!zt.reducerFactory?sn:zt.reducerFactory,metaReducers:zt instanceof c.OlP||!zt.metaReducers?[]:zt.metaReducers,initialState:zt instanceof c.OlP||!zt.initialState?void 0:zt.initialState}},{provide:wn,deps:[c.zs3,hn,xt],useFactory:xi},{provide:cn,multi:!0,useValue:We instanceof Object?We.reducer:ht},{provide:Kn,multi:!0,useExisting:ht instanceof c.OlP?ht:cn},{provide:Pr,multi:!0,deps:[c.zs3,cn,[new c.tBr(Kn)]],useFactory:Ye},gi()]}}}return _e.\u0275fac=function(We){return new(We||_e)},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({}),_e})();function Ei(_e,ct){return ct instanceof c.OlP?_e.get(ct):ct}function xi(_e,ct,We){return We.map((ht,zt)=>{if(ct[zt]instanceof c.OlP){const nn=_e.get(ct[zt]);return{key:ht.key,reducerFactory:nn.reducerFactory?nn.reducerFactory:sn,metaReducers:nn.metaReducers?nn.metaReducers:[],initialState:nn.initialState}}return ht})}function Ye(_e,ct){return ct.map(ht=>ht instanceof c.OlP?_e.get(ht):ht)}function je(_e){return"function"==typeof _e?_e():_e}function mt(_e,ct){return _e.concat(ct)}function At(_e){if(_e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function jt(..._e){return{reducer:_e.pop(),types:_e.map(ht=>ht.type)}}function fn(_e,...ct){const We=new Map;for(const ht of ct)for(const zt of ht.types){const nn=We.get(zt);We.set(zt,nn?(Ir,pr)=>ht.reducer(nn(Ir,pr),pr):ht.reducer)}return function(ht=_e,zt){const nn=We.get(zt.type);return nn?nn(ht,zt):ht}}},8766:(Gt,Ze,M)=>{M.d(Ze,{Lj:()=>Xe,X3:()=>Ht});var c=M(5861);let k,fe;const X=new WeakMap,Y=new WeakMap,se=new WeakMap,G=new WeakMap,ee=new WeakMap;let Ae={get(ze,dt,$e){if(ze instanceof IDBTransaction){if("done"===dt)return Y.get(ze);if("objectStoreNames"===dt)return ze.objectStoreNames||se.get(ze);if("store"===dt)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return ke(ze[dt])},set:(ze,dt,$e)=>(ze[dt]=$e,!0),has:(ze,dt)=>ze instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in ze};function nt(ze){return"function"==typeof ze?function Dt(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...dt){return ze.apply(Pe(this),dt),ke(X.get(this))}:function(...dt){return ke(ze.apply(Pe(this),dt))}:function(dt,...$e){const et=ze.call(Pe(this),dt,...$e);return se.set(et,dt.sort?dt.sort():[dt]),ke(et)}}(ze):(ze instanceof IDBTransaction&&function Ke(ze){if(Y.has(ze))return;const dt=new Promise(($e,et)=>{const Be=()=>{ze.removeEventListener("complete",pt),ze.removeEventListener("error",it),ze.removeEventListener("abort",it)},pt=()=>{$e(),Be()},it=()=>{et(ze.error||new DOMException("AbortError","AbortError")),Be()};ze.addEventListener("complete",pt),ze.addEventListener("error",it),ze.addEventListener("abort",it)});Y.set(ze,dt)}(ze),((ze,dt)=>dt.some($e=>ze instanceof $e))(ze,function W(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,Ae):ze)}function ke(ze){if(ze instanceof IDBRequest)return function pe(ze){const dt=new Promise(($e,et)=>{const Be=()=>{ze.removeEventListener("success",pt),ze.removeEventListener("error",it)},pt=()=>{$e(ke(ze.result)),Be()},it=()=>{et(ze.error),Be()};ze.addEventListener("success",pt),ze.addEventListener("error",it)});return dt.then($e=>{$e instanceof IDBCursor&&X.set($e,ze)}).catch(()=>{}),ee.set(dt,ze),dt}(ze);if(G.has(ze))return G.get(ze);const dt=nt(ze);return dt!==ze&&(G.set(ze,dt),ee.set(dt,ze)),dt}const Pe=ze=>ee.get(ze);function Ht(ze,dt,{blocked:$e,upgrade:et,blocking:Be,terminated:pt}={}){const it=indexedDB.open(ze,dt),Bt=ke(it);return et&&it.addEventListener("upgradeneeded",kt=>{et(ke(it.result),kt.oldVersion,kt.newVersion,ke(it.transaction))}),$e&&it.addEventListener("blocked",()=>$e()),Bt.then(kt=>{pt&&kt.addEventListener("close",()=>pt()),Be&&kt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),Bt}function Xe(ze,{blocked:dt}={}){const $e=indexedDB.deleteDatabase(ze);return dt&&$e.addEventListener("blocked",()=>dt()),ke($e).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Ie=new Map;function he(ze,dt){if(!(ze instanceof IDBDatabase)||dt in ze||"string"!=typeof dt)return;if(Ie.get(dt))return Ie.get(dt);const $e=dt.replace(/FromIndex$/,""),et=dt!==$e,Be=Qe.includes($e);if(!($e in(et?IDBIndex:IDBObjectStore).prototype)||!Be&&!de.includes($e))return;const pt=function(){var it=(0,c.Z)(function*(Bt,...kt){const gt=this.transaction(Bt,Be?"readwrite":"readonly");let Pt=gt.store;return et&&(Pt=Pt.index(kt.shift())),(yield Promise.all([Pt[$e](...kt),Be&&gt.done]))[0]});return function(kt){return it.apply(this,arguments)}}();return Ie.set(dt,pt),pt}!function tt(ze){Ae=ze(Ae)}(ze=>({...ze,get:(dt,$e,et)=>he(dt,$e)||ze.get(dt,$e,et),has:(dt,$e)=>!!he(dt,$e)||ze.has(dt,$e)}))},805:(Gt,Ze,M)=>{M.d(Ze,{$_:()=>ke,F0:()=>Ae,b4:()=>X,ez:()=>Ke,h4:()=>nt,iZ:()=>ee,jx:()=>Pe,m8:()=>Ht,ws:()=>Y});var c=M(4650),u=M(7579),k=M(982),fe=M(6895);const W=["*"];let J=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.IN="in",de.LESS_THAN="lt",de.LESS_THAN_OR_EQUAL_TO="lte",de.GREATER_THAN="gt",de.GREATER_THAN_OR_EQUAL_TO="gte",de.BETWEEN="between",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.DATE_IS="dateIs",de.DATE_IS_NOT="dateIsNot",de.DATE_BEFORE="dateBefore",de.DATE_AFTER="dateAfter",de})(),X=(()=>{class de{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[J.STARTS_WITH,J.CONTAINS,J.NOT_CONTAINS,J.ENDS_WITH,J.EQUALS,J.NOT_EQUALS],numeric:[J.EQUALS,J.NOT_EQUALS,J.LESS_THAN,J.LESS_THAN_OR_EQUAL_TO,J.GREATER_THAN,J.GREATER_THAN_OR_EQUAL_TO],date:[J.DATE_IS,J.DATE_IS_NOT,J.DATE_BEFORE,J.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new u.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Ie){return this.translation[Ie]}setTranslation(Ie){this.translation={...this.translation,...Ie},this.translationSource.next(this.translation)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=c.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Y=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.NO_FILTER="noFilter",de.LT="lt",de.LTE="lte",de.GT="gt",de.GTE="gte",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.CLEAR="clear",de.APPLY="apply",de.MATCH_ALL="matchAll",de.MATCH_ANY="matchAny",de.ADD_RULE="addRule",de.REMOVE_RULE="removeRule",de.ACCEPT="accept",de.REJECT="reject",de.CHOOSE="choose",de.UPLOAD="upload",de.CANCEL="cancel",de.DAY_NAMES="dayNames",de.DAY_NAMES_SHORT="dayNamesShort",de.DAY_NAMES_MIN="dayNamesMin",de.MONTH_NAMES="monthNames",de.MONTH_NAMES_SHORT="monthNamesShort",de.FIRST_DAY_OF_WEEK="firstDayOfWeek",de.TODAY="today",de.WEEK_HEADER="weekHeader",de.WEAK="weak",de.MEDIUM="medium",de.STRONG="strong",de.PASSWORD_PROMPT="passwordPrompt",de.EMPTY_MESSAGE="emptyMessage",de.EMPTY_FILTER_MESSAGE="emptyFilterMessage",de})(),ee=(()=>{class de{constructor(){this.filters={startsWith:(Ie,he,ze)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).slice(0,dt.length)===dt},contains:(Ie,he,ze)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return-1!==k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).indexOf(dt)},notContains:(Ie,he,ze)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return-1===k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).indexOf(dt)},endsWith:(Ie,he,ze)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze),$e=k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze);return-1!==$e.indexOf(dt,$e.length-dt.length)},equals:(Ie,he,ze)=>null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze)),notEquals:(Ie,he,ze)=>!(null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze))),in:(Ie,he)=>{if(null==he||0===he.length)return!0;for(let ze=0;ze<he.length;ze++)if(k.gb.equals(Ie,he[ze]))return!0;return!1},between:(Ie,he)=>null==he||null==he[0]||null==he[1]||null!=Ie&&(Ie.getTime?he[0].getTime()<=Ie.getTime()&&Ie.getTime()<=he[1].getTime():he[0]<=Ie&&Ie<=he[1]),lt:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<he.getTime():Ie<he),lte:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<=he.getTime():Ie<=he),gt:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>he.getTime():Ie>he),gte:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>=he.getTime():Ie>=he),is:(Ie,he,ze)=>this.filters.equals(Ie,he,ze),isNot:(Ie,he,ze)=>this.filters.notEquals(Ie,he,ze),before:(Ie,he,ze)=>this.filters.lt(Ie,he,ze),after:(Ie,he,ze)=>this.filters.gt(Ie,he,ze),dateIs:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()===he.toDateString(),dateIsNot:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()!==he.toDateString(),dateBefore:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()<he.getTime(),dateAfter:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()>he.getTime()}}filter(Ie,he,ze,dt,$e){let et=[];if(Ie)for(let Be of Ie)for(let pt of he){let it=k.gb.resolveFieldData(Be,pt);if(this.filters[dt](it,ze,$e)){et.push(Be);break}}return et}register(Ie,he){this.filters[Ie]=he}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=c.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Ke=(()=>{class de{constructor(){this.messageSource=new u.x,this.clearSource=new u.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Ie){Ie&&this.messageSource.next(Ie)}addAll(Ie){Ie&&Ie.length&&this.messageSource.next(Ie)}clear(Ie){this.clearSource.next(Ie||null)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=c.Yz7({token:de,factory:de.\u0275fac}),de})(),Ae=(()=>{class de{constructor(){this.clickSource=new u.x,this.clickObservable=this.clickSource.asObservable()}add(Ie){Ie&&this.clickSource.next(Ie)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=c.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),nt=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=c.Xpm({type:de,selectors:[["p-header"]],ngContentSelectors:W,decls:1,vars:0,template:function(Ie,he){1&Ie&&(c.F$t(),c.Hsn(0))},encapsulation:2}),de})(),ke=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=c.Xpm({type:de,selectors:[["p-footer"]],ngContentSelectors:W,decls:1,vars:0,template:function(Ie,he){1&Ie&&(c.F$t(),c.Hsn(0))},encapsulation:2}),de})(),Pe=(()=>{class de{constructor(Ie){this.template=Ie}getType(){return this.name}}return de.\u0275fac=function(Ie){return new(Ie||de)(c.Y36(c.Rgc))},de.\u0275dir=c.lG2({type:de,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),de})(),Ht=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({imports:[fe.ez]}),de})()},5593:(Gt,Ze,M)=>{M.d(Ze,{Hq:()=>Ke,hJ:()=>tt,zx:()=>Ae});var c=M(4650),u=M(9592),k=M(6895),fe=M(1795),W=M(805);function J(Dt,nt){1&Dt&&c.GkF(0)}const X=function(Dt,nt,ke,Pe){return{"p-button-icon":!0,"p-button-icon-left":Dt,"p-button-icon-right":nt,"p-button-icon-top":ke,"p-button-icon-bottom":Pe}};function Y(Dt,nt){if(1&Dt&&c._UZ(0,"span",4),2&Dt){const ke=c.oxw();c.Tol(ke.loading?"p-button-loading-icon "+ke.loadingIcon:ke.icon),c.Q6J("ngClass",c.l5B(4,X,"left"===ke.iconPos&&ke.label,"right"===ke.iconPos&&ke.label,"top"===ke.iconPos&&ke.label,"bottom"===ke.iconPos&&ke.label)),c.uIk("aria-hidden",!0)}}function se(Dt,nt){if(1&Dt&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&Dt){const ke=c.oxw();c.uIk("aria-hidden",ke.icon&&!ke.label),c.xp6(1),c.Oqu(ke.label||"\xa0")}}function G(Dt,nt){if(1&Dt&&(c.TgZ(0,"span",4),c._uU(1),c.qZA()),2&Dt){const ke=c.oxw();c.Tol(ke.badgeClass),c.Q6J("ngClass",ke.badgeStyleClass()),c.xp6(1),c.Oqu(ke.badge)}}const ee=function(Dt,nt,ke,Pe,Ht){return{"p-button p-component":!0,"p-button-icon-only":Dt,"p-button-vertical":nt,"p-disabled":ke,"p-button-loading":Pe,"p-button-loading-label-only":Ht}},pe=["*"];let Ke=(()=>{class Dt{constructor(ke){this.el=ke,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,u.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let ke=document.createElement("span");this.icon&&!this.label&&ke.setAttribute("aria-hidden","true"),ke.className="p-button-label",this.label?ke.appendChild(document.createTextNode(this.label)):ke.innerHTML="&nbsp;",this.el.nativeElement.appendChild(ke),this.initialized=!0}getStyleClass(){let ke="p-button p-component";return this.icon&&!this.label&&(ke+=" p-button-icon-only"),this.loading&&(ke+=" p-disabled p-button-loading",!this.icon&&this.label&&(ke+=" p-button-loading-label-only")),ke}setStyleClass(){let ke=this.getStyleClass();this.el.nativeElement.className=ke+" "+this._initialStyleClass}createIconEl(){let ke=document.createElement("span");ke.className="p-button-icon",ke.setAttribute("aria-hidden","true");let Pe=this.label?"p-button-icon-"+this.iconPos:null;Pe&&u.p.addClass(ke,Pe);let Ht=this.getIconClass();Ht&&u.p.addMultipleClasses(ke,Ht);let Xe=u.p.findSingle(this.el.nativeElement,".p-button-label");Xe?this.el.nativeElement.insertBefore(ke,Xe):this.el.nativeElement.appendChild(ke)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let ke=u.p.findSingle(this.el.nativeElement,".p-button-icon");ke?ke.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let ke=u.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(ke)}get label(){return this._label}set label(ke){this._label=ke,this.initialized&&(u.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(ke){this._icon=ke,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(ke){this._loading=ke,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return Dt.\u0275fac=function(ke){return new(ke||Dt)(c.Y36(c.SBq))},Dt.\u0275dir=c.lG2({type:Dt,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Dt})(),Ae=(()=>{class Dt{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe}ngAfterContentInit(){this.templates.forEach(ke=>{ke.getType(),this.contentTemplate=ke.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Dt.\u0275fac=function(ke){return new(ke||Dt)},Dt.\u0275cmp=c.Xpm({type:Dt,selectors:[["p-button"]],contentQueries:function(ke,Pe,Ht){if(1&ke&&c.Suo(Ht,W.jx,4),2&ke){let Xe;c.iGM(Xe=c.CRH())&&(Pe.templates=Xe)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:pe,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(ke,Pe){1&ke&&(c.F$t(),c.TgZ(0,"button",0),c.NdJ("click",function(Xe){return Pe.onClick.emit(Xe)})("focus",function(Xe){return Pe.onFocus.emit(Xe)})("blur",function(Xe){return Pe.onBlur.emit(Xe)}),c.Hsn(1),c.YNc(2,J,1,0,"ng-container",1),c.YNc(3,Y,1,9,"span",2),c.YNc(4,se,2,2,"span",3),c.YNc(5,G,2,4,"span",2),c.qZA()),2&ke&&(c.Tol(Pe.styleClass),c.Q6J("ngStyle",Pe.style)("disabled",Pe.disabled||Pe.loading)("ngClass",c.qbA(11,ee,Pe.icon&&!Pe.label,("top"===Pe.iconPos||"bottom"===Pe.iconPos)&&Pe.label,Pe.disabled||Pe.loading,Pe.loading,Pe.loading&&!Pe.icon&&Pe.label)),c.uIk("type",Pe.type)("aria-label",Pe.ariaLabel),c.xp6(2),c.Q6J("ngTemplateOutlet",Pe.contentTemplate),c.xp6(1),c.Q6J("ngIf",!Pe.contentTemplate&&(Pe.icon||Pe.loading)),c.xp6(1),c.Q6J("ngIf",!Pe.contentTemplate),c.xp6(1),c.Q6J("ngIf",!Pe.contentTemplate&&Pe.badge))},dependencies:[k.mk,k.O5,k.tP,k.PC,fe.H],encapsulation:2,changeDetection:0}),Dt})(),tt=(()=>{class Dt{}return Dt.\u0275fac=function(ke){return new(ke||Dt)},Dt.\u0275mod=c.oAB({type:Dt}),Dt.\u0275inj=c.cJS({imports:[k.ez,fe.T]}),Dt})()},5700:(Gt,Ze,M)=>{M.d(Ze,{b:()=>kt,l:()=>Bt});var c=M(4650),u=M(805),k=M(1795),fe=M(6895),W=M(982);const J=["itemsContainer"];function X(gt,Pt){1&gt&&c.GkF(0)}function Y(gt,Pt){if(1&gt&&(c.TgZ(0,"div",11),c.Hsn(1),c.YNc(2,X,1,0,"ng-container",12),c.qZA()),2&gt){const Ce=c.oxw();c.xp6(2),c.Q6J("ngTemplateOutlet",Ce.headerTemplate)}}const se=function(gt){return{"p-carousel-prev p-link":!0,"p-disabled":gt}},G=function(gt,Pt){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":gt,"pi-chevron-up":Pt}};function ee(gt,Pt){if(1&gt){const Ce=c.EpF();c.TgZ(0,"button",13),c.NdJ("click",function(xt){c.CHM(Ce);const Wt=c.oxw();return c.KtG(Wt.navBackward(xt))}),c._UZ(1,"span",2),c.qZA()}if(2&gt){const Ce=c.oxw();c.Q6J("ngClass",c.VKq(3,se,Ce.isBackwardNavDisabled()))("disabled",Ce.isBackwardNavDisabled()),c.xp6(1),c.Q6J("ngClass",c.WLB(5,G,!Ce.isVertical(),Ce.isVertical()))}}function pe(gt,Pt){1&gt&&c.GkF(0)}const Ke=function(gt,Pt,Ce){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":gt,"p-carousel-item-start":Pt,"p-carousel-item-end":Ce}},Ae=function(gt){return{$implicit:gt}};function tt(gt,Pt){if(1&gt&&(c.TgZ(0,"div",2),c.YNc(1,pe,1,0,"ng-container",14),c.qZA()),2&gt){const Ce=Pt.$implicit,rt=Pt.index,xt=c.oxw();c.Q6J("ngClass",c.kEZ(3,Ke,-1*xt.totalShiftedItems===xt.value.length,0===rt,xt.clonedItemsForStarting.length-1===rt)),c.xp6(1),c.Q6J("ngTemplateOutlet",xt.itemTemplate)("ngTemplateOutletContext",c.VKq(7,Ae,Ce))}}function Dt(gt,Pt){1&gt&&c.GkF(0)}const nt=function(gt,Pt,Ce){return{"p-carousel-item":!0,"p-carousel-item-active":gt,"p-carousel-item-start":Pt,"p-carousel-item-end":Ce}};function ke(gt,Pt){if(1&gt&&(c.TgZ(0,"div",2),c.YNc(1,Dt,1,0,"ng-container",14),c.qZA()),2&gt){const Ce=Pt.$implicit,rt=Pt.index,xt=c.oxw();c.Q6J("ngClass",c.kEZ(3,nt,xt.firstIndex()<=rt&&xt.lastIndex()>=rt,xt.firstIndex()===rt,xt.lastIndex()===rt)),c.xp6(1),c.Q6J("ngTemplateOutlet",xt.itemTemplate)("ngTemplateOutletContext",c.VKq(7,Ae,Ce))}}function Pe(gt,Pt){1&gt&&c.GkF(0)}function Ht(gt,Pt){if(1&gt&&(c.TgZ(0,"div",2),c.YNc(1,Pe,1,0,"ng-container",14),c.qZA()),2&gt){const Ce=Pt.$implicit,rt=Pt.index,xt=c.oxw();c.Q6J("ngClass",c.kEZ(3,Ke,-1*xt.totalShiftedItems===xt.numVisible,0===rt,xt.clonedItemsForFinishing.length-1===rt)),c.xp6(1),c.Q6J("ngTemplateOutlet",xt.itemTemplate)("ngTemplateOutletContext",c.VKq(7,Ae,Ce))}}const Xe=function(gt){return{"p-carousel-next p-link":!0,"p-disabled":gt}},de=function(gt,Pt){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":gt,"pi-chevron-down":Pt}};function Qe(gt,Pt){if(1&gt){const Ce=c.EpF();c.TgZ(0,"button",13),c.NdJ("click",function(xt){c.CHM(Ce);const Wt=c.oxw();return c.KtG(Wt.navForward(xt))}),c._UZ(1,"span",2),c.qZA()}if(2&gt){const Ce=c.oxw();c.Q6J("ngClass",c.VKq(3,Xe,Ce.isForwardNavDisabled()))("disabled",Ce.isForwardNavDisabled()),c.xp6(1),c.Q6J("ngClass",c.WLB(5,de,!Ce.isVertical(),Ce.isVertical()))}}const Ie=function(gt){return{"p-carousel-indicator":!0,"p-highlight":gt}};function he(gt,Pt){if(1&gt){const Ce=c.EpF();c.TgZ(0,"li",2)(1,"button",15),c.NdJ("click",function(xt){const cn=c.CHM(Ce).index,hn=c.oxw(2);return c.KtG(hn.onDotClick(xt,cn))}),c.qZA()()}if(2&gt){const Ce=Pt.index,rt=c.oxw(2);c.Q6J("ngClass",c.VKq(5,Ie,rt._page===Ce)),c.xp6(1),c.Tol(rt.indicatorStyleClass),c.Q6J("ngClass","p-link")("ngStyle",rt.indicatorStyle)}}function ze(gt,Pt){if(1&gt&&(c.TgZ(0,"ul",0),c.YNc(1,he,2,7,"li",8),c.qZA()),2&gt){const Ce=c.oxw();c.Tol(Ce.indicatorsContentClass),c.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",Ce.indicatorsContentStyle),c.xp6(1),c.Q6J("ngForOf",Ce.totalDotsArray())}}function dt(gt,Pt){1&gt&&c.GkF(0)}function $e(gt,Pt){if(1&gt&&(c.TgZ(0,"div",16),c.Hsn(1,1),c.YNc(2,dt,1,0,"ng-container",12),c.qZA()),2&gt){const Ce=c.oxw();c.xp6(2),c.Q6J("ngTemplateOutlet",Ce.footerTemplate)}}const et=[[["p-header"]],[["p-footer"]]],Be=function(gt,Pt){return{"p-carousel p-component":!0,"p-carousel-vertical":gt,"p-carousel-horizontal":Pt}},pt=function(gt){return{height:gt}},it=["p-header","p-footer"];let Bt=(()=>{class gt{constructor(Ce,rt,xt){this.el=Ce,this.zone=rt,this.cd=xt,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new c.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(Ce){this.isCreated&&Ce!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ce>this._page&&Ce<=this.totalDots()-1?this.step(-1,Ce):Ce<this._page&&this.step(1,Ce)),this._page=Ce}get numVisible(){return this._numVisible}set numVisible(Ce){this._numVisible=Ce}get numScroll(){return this._numVisible}set numScroll(Ce){this._numScroll=Ce}get value(){return this._value}set value(Ce){this._value=Ce}ngOnChanges(Ce){Ce.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(Ce.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),Ce.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=(0,W.Th)(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(Ce=>{switch(Ce.getType()){case"item":default:this.itemTemplate=Ce.template;break;case"header":this.headerTemplate=Ce.template;break;case"footer":this.footerTemplate=Ce.template}})}ngAfterContentChecked(){const Ce=this.isCircular();let rt=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let xt=this._page;0!==this.totalDots()&&xt>=this.totalDots()&&(xt=this.totalDots()-1,this._page=xt,this.onPage.emit({page:this.page})),rt=xt*this._numScroll*-1,Ce&&(rt-=this._numVisible),xt===this.totalDots()-1&&this.remainingItems>0?(rt+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,rt!==this.totalShiftedItems&&(this.totalShiftedItems=rt),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${rt*(100/this._numVisible)}%, 0)`:`translate3d(${rt*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}Ce&&(0===this.page?rt=-1*this._numVisible:0===rt&&(rt=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),rt!==this.totalShiftedItems&&(this.totalShiftedItems=rt))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let Ce=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((rt,xt)=>{const Wt=rt.breakpoint,cn=xt.breakpoint;let hn=null;return hn=null==Wt&&null!=cn?-1:null!=Wt&&null==cn?1:null==Wt&&null==cn?0:"string"==typeof Wt&&"string"==typeof cn?Wt.localeCompare(cn,void 0,{numeric:!0}):Wt<cn?-1:Wt>cn?1:0,-1*hn});for(let rt=0;rt<this.responsiveOptions.length;rt++){let xt=this.responsiveOptions[rt];Ce+=`\n                    @media screen and (max-width: ${xt.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/xt.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=Ce}calculatePosition(){if(this.responsiveOptions){let Ce=window.innerWidth,rt={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let xt=0;xt<this.responsiveOptions.length;xt++){let Wt=this.responsiveOptions[xt];parseInt(Wt.breakpoint,10)>=Ce&&(rt=Wt)}if(this._numScroll!==rt.numScroll){let xt=this._page;xt=Math.floor(xt*this._numScroll/rt.numScroll);let Wt=rt.numScroll*this.page*-1;this.isCircular()&&(Wt-=rt.numVisible),this.totalShiftedItems=Wt,this._numScroll=rt.numScroll,this._page=xt,this.onPage.emit({page:this.page})}this._numVisible!==rt.numVisible&&(this._numVisible=rt.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const Ce=this.totalDots();return Ce<=0?[]:Array(Ce).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(Ce,rt){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,rt),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ce&&Ce.cancelable&&Ce.preventDefault()}navBackward(Ce,rt){(this.isCircular()||0!==this._page)&&this.step(1,rt),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ce&&Ce.cancelable&&Ce.preventDefault()}onDotClick(Ce,rt){let xt=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),rt>xt?this.navForward(Ce,rt):rt<xt&&this.navBackward(Ce,rt)}step(Ce,rt){let xt=this.totalShiftedItems;const Wt=this.isCircular();null!=rt?(xt=this._numScroll*rt*-1,Wt&&(xt-=this._numVisible),this.isRemainingItemsAdded=!1):(xt+=this._numScroll*Ce,this.isRemainingItemsAdded&&(xt+=this.remainingItems-this._numScroll*Ce,this.isRemainingItemsAdded=!1),rt=Math.abs(Math.floor((Wt?xt+this._numVisible:xt)/this._numScroll))),Wt&&this.page===this.totalDots()-1&&-1===Ce?(xt=-1*(this.value.length+this._numVisible),rt=0):Wt&&0===this.page&&1===Ce?(xt=0,rt=this.totalDots()-1):rt===this.totalDots()-1&&this.remainingItems>0&&(xt+=-1*this.remainingItems-this._numScroll*Ce,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${xt*(100/this._numVisible)}%, 0)`:`translate3d(${xt*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=xt,this._page=rt,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(Ce){let rt=Ce.changedTouches[0];this.startPos={x:rt.pageX,y:rt.pageY}}onTouchMove(Ce){Ce.cancelable&&Ce.preventDefault()}onTouchEnd(Ce){let rt=Ce.changedTouches[0];this.isVertical()?this.changePageOnTouch(Ce,rt.pageY-this.startPos.y):this.changePageOnTouch(Ce,rt.pageX-this.startPos.x)}changePageOnTouch(Ce,rt){Math.abs(rt)>this.swipeThreshold&&(rt<0?this.navForward(Ce):this.navBackward(Ce))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=Ce=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return gt.\u0275fac=function(Ce){return new(Ce||gt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO))},gt.\u0275cmp=c.Xpm({type:gt,selectors:[["p-carousel"]],contentQueries:function(Ce,rt,xt){if(1&Ce&&(c.Suo(xt,u.h4,5),c.Suo(xt,u.$_,5),c.Suo(xt,u.jx,4)),2&Ce){let Wt;c.iGM(Wt=c.CRH())&&(rt.headerFacet=Wt.first),c.iGM(Wt=c.CRH())&&(rt.footerFacet=Wt.first),c.iGM(Wt=c.CRH())&&(rt.templates=Wt)}},viewQuery:function(Ce,rt){if(1&Ce&&c.Gf(J,5),2&Ce){let xt;c.iGM(xt=c.CRH())&&(rt.itemsContainer=xt.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[c.TTD],ngContentSelectors:it,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(Ce,rt){1&Ce&&(c.F$t(et),c.TgZ(0,"div",0),c.YNc(1,Y,3,1,"div",1),c.TgZ(2,"div",2)(3,"div",3),c.YNc(4,ee,2,8,"button",4),c.TgZ(5,"div",5)(6,"div",6,7),c.NdJ("transitionend",function(){return rt.onTransitionEnd()})("touchend",function(Wt){return rt.onTouchEnd(Wt)})("touchstart",function(Wt){return rt.onTouchStart(Wt)})("touchmove",function(Wt){return rt.onTouchMove(Wt)}),c.YNc(8,tt,2,9,"div",8),c.YNc(9,ke,2,9,"div",8),c.YNc(10,Ht,2,9,"div",8),c.qZA()(),c.YNc(11,Qe,2,8,"button",4),c.qZA(),c.YNc(12,ze,2,5,"ul",9),c.qZA(),c.YNc(13,$e,3,1,"div",10),c.qZA()),2&Ce&&(c.Tol(rt.styleClass),c.Q6J("ngClass",c.WLB(17,Be,rt.isVertical(),!rt.isVertical()))("ngStyle",rt.style),c.uIk("id",rt.id),c.xp6(1),c.Q6J("ngIf",rt.headerFacet||rt.headerTemplate),c.xp6(1),c.Tol(rt.contentClass),c.Q6J("ngClass","p-carousel-content"),c.xp6(2),c.Q6J("ngIf",rt.showNavigators),c.xp6(1),c.Q6J("ngStyle",c.VKq(20,pt,rt.isVertical()?rt.verticalViewPortHeight:"auto")),c.xp6(3),c.Q6J("ngForOf",rt.clonedItemsForStarting),c.xp6(1),c.Q6J("ngForOf",rt.value),c.xp6(1),c.Q6J("ngForOf",rt.clonedItemsForFinishing),c.xp6(1),c.Q6J("ngIf",rt.showNavigators),c.xp6(1),c.Q6J("ngIf",rt.showIndicators),c.xp6(1),c.Q6J("ngIf",rt.footerFacet||rt.footerTemplate))},dependencies:[fe.mk,fe.sg,fe.O5,fe.tP,fe.PC,k.H],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),gt})(),kt=(()=>{class gt{}return gt.\u0275fac=function(Ce){return new(Ce||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({imports:[fe.ez,u.m8,k.T,fe.ez,u.m8]}),gt})()},9592:(Gt,Ze,M)=>{M.d(Ze,{V:()=>u,p:()=>c});let c=(()=>{class k{static addClass(W,J){W.classList?W.classList.add(J):W.className+=" "+J}static addMultipleClasses(W,J){if(W.classList){let X=J.trim().split(" ");for(let Y=0;Y<X.length;Y++)W.classList.add(X[Y])}else{let X=J.split(" ");for(let Y=0;Y<X.length;Y++)W.className+=" "+X[Y]}}static removeClass(W,J){W.classList?W.classList.remove(J):W.className=W.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(W,J){return W.classList?W.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(W.className)}static siblings(W){return Array.prototype.filter.call(W.parentNode.children,function(J){return J!==W})}static find(W,J){return Array.from(W.querySelectorAll(J))}static findSingle(W,J){return W?W.querySelector(J):null}static index(W){let J=W.parentNode.childNodes,X=0;for(var Y=0;Y<J.length;Y++){if(J[Y]==W)return X;1==J[Y].nodeType&&X++}return-1}static indexWithinGroup(W,J){let X=W.parentNode?W.parentNode.childNodes:[],Y=0;for(var se=0;se<X.length;se++){if(X[se]==W)return Y;X[se].attributes&&X[se].attributes[J]&&1==X[se].nodeType&&Y++}return-1}static relativePosition(W,J){let X=W.offsetParent?{width:W.offsetWidth,height:W.offsetHeight}:this.getHiddenElementDimensions(W);const Y=J.offsetHeight,se=J.getBoundingClientRect(),G=this.getViewport();let ee,pe;se.top+Y+X.height>G.height?(ee=-1*X.height,W.style.transformOrigin="bottom",se.top+ee<0&&(ee=-1*se.top)):(ee=Y,W.style.transformOrigin="top"),pe=X.width>G.width?-1*se.left:se.left+X.width>G.width?-1*(se.left+X.width-G.width):0,W.style.top=ee+"px",W.style.left=pe+"px"}static absolutePosition(W,J){let Dt,nt,X=W.offsetParent?{width:W.offsetWidth,height:W.offsetHeight}:this.getHiddenElementDimensions(W),Y=X.height,se=X.width,G=J.offsetHeight,ee=J.offsetWidth,pe=J.getBoundingClientRect(),Ke=this.getWindowScrollTop(),Ae=this.getWindowScrollLeft(),tt=this.getViewport();pe.top+G+Y>tt.height?(Dt=pe.top+Ke-Y,W.style.transformOrigin="bottom",Dt<0&&(Dt=Ke)):(Dt=G+pe.top+Ke,W.style.transformOrigin="top"),nt=pe.left+se>tt.width?Math.max(0,pe.left+Ae+ee-se):pe.left+Ae,W.style.top=Dt+"px",W.style.left=nt+"px"}static getParents(W,J=[]){return null===W.parentNode?J:this.getParents(W.parentNode,J.concat([W.parentNode]))}static getScrollableParents(W){let J=[];if(W){let X=this.getParents(W);const Y=/(auto|scroll)/,se=G=>{let ee=window.getComputedStyle(G,null);return Y.test(ee.getPropertyValue("overflow"))||Y.test(ee.getPropertyValue("overflowX"))||Y.test(ee.getPropertyValue("overflowY"))};for(let G of X){let ee=1===G.nodeType&&G.dataset.scrollselectors;if(ee){let pe=ee.split(",");for(let Ke of pe){let Ae=this.findSingle(G,Ke);Ae&&se(Ae)&&J.push(Ae)}}9!==G.nodeType&&se(G)&&J.push(G)}}return J}static getHiddenElementOuterHeight(W){W.style.visibility="hidden",W.style.display="block";let J=W.offsetHeight;return W.style.display="none",W.style.visibility="visible",J}static getHiddenElementOuterWidth(W){W.style.visibility="hidden",W.style.display="block";let J=W.offsetWidth;return W.style.display="none",W.style.visibility="visible",J}static getHiddenElementDimensions(W){let J={};return W.style.visibility="hidden",W.style.display="block",J.width=W.offsetWidth,J.height=W.offsetHeight,W.style.display="none",W.style.visibility="visible",J}static scrollInView(W,J){let X=getComputedStyle(W).getPropertyValue("borderTopWidth"),Y=X?parseFloat(X):0,se=getComputedStyle(W).getPropertyValue("paddingTop"),G=se?parseFloat(se):0,ee=W.getBoundingClientRect(),Ke=J.getBoundingClientRect().top+document.body.scrollTop-(ee.top+document.body.scrollTop)-Y-G,Ae=W.scrollTop,tt=W.clientHeight,Dt=this.getOuterHeight(J);Ke<0?W.scrollTop=Ae+Ke:Ke+Dt>tt&&(W.scrollTop=Ae+Ke-tt+Dt)}static fadeIn(W,J){W.style.opacity=0;let X=+new Date,Y=0,se=function(){Y=+W.style.opacity.replace(",",".")+((new Date).getTime()-X)/J,W.style.opacity=Y,X=+new Date,+Y<1&&(window.requestAnimationFrame&&requestAnimationFrame(se)||setTimeout(se,16))};se()}static fadeOut(W,J){var X=1,G=50/J;let ee=setInterval(()=>{(X-=G)<=0&&(X=0,clearInterval(ee)),W.style.opacity=X},50)}static getWindowScrollTop(){let W=document.documentElement;return(window.pageYOffset||W.scrollTop)-(W.clientTop||0)}static getWindowScrollLeft(){let W=document.documentElement;return(window.pageXOffset||W.scrollLeft)-(W.clientLeft||0)}static matches(W,J){var X=Element.prototype;return(X.matches||X.webkitMatchesSelector||X.mozMatchesSelector||X.msMatchesSelector||function(se){return-1!==[].indexOf.call(document.querySelectorAll(se),this)}).call(W,J)}static getOuterWidth(W,J){let X=W.offsetWidth;if(J){let Y=getComputedStyle(W);X+=parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)}return X}static getHorizontalPadding(W){let J=getComputedStyle(W);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(W){let J=getComputedStyle(W);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(W){let J=W.offsetWidth,X=getComputedStyle(W);return J+=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight),J}static width(W){let J=W.offsetWidth,X=getComputedStyle(W);return J-=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight),J}static getInnerHeight(W){let J=W.offsetHeight,X=getComputedStyle(W);return J+=parseFloat(X.paddingTop)+parseFloat(X.paddingBottom),J}static getOuterHeight(W,J){let X=W.offsetHeight;if(J){let Y=getComputedStyle(W);X+=parseFloat(Y.marginTop)+parseFloat(Y.marginBottom)}return X}static getHeight(W){let J=W.offsetHeight,X=getComputedStyle(W);return J-=parseFloat(X.paddingTop)+parseFloat(X.paddingBottom)+parseFloat(X.borderTopWidth)+parseFloat(X.borderBottomWidth),J}static getWidth(W){let J=W.offsetWidth,X=getComputedStyle(W);return J-=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight)+parseFloat(X.borderLeftWidth)+parseFloat(X.borderRightWidth),J}static getViewport(){let W=window,J=document,X=J.documentElement,Y=J.getElementsByTagName("body")[0];return{width:W.innerWidth||X.clientWidth||Y.clientWidth,height:W.innerHeight||X.clientHeight||Y.clientHeight}}static getOffset(W){var J=W.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(W,J){let X=W.parentNode;if(!X)throw"Can't replace element";return X.replaceChild(J,W)}static getUserAgent(){return navigator.userAgent}static isIE(){var W=window.navigator.userAgent;return W.indexOf("MSIE ")>0||(W.indexOf("Trident/")>0?(W.indexOf("rv:"),!0):W.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(W,J){if(this.isElement(J))J.appendChild(W);else{if(!J.el||!J.el.nativeElement)throw"Cannot append "+J+" to "+W;J.el.nativeElement.appendChild(W)}}static removeChild(W,J){if(this.isElement(J))J.removeChild(W);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+W+" from "+J;J.el.nativeElement.removeChild(W)}}static removeElement(W){"remove"in Element.prototype?W.remove():W.parentNode.removeChild(W)}static isElement(W){return"object"==typeof HTMLElement?W instanceof HTMLElement:W&&"object"==typeof W&&null!==W&&1===W.nodeType&&"string"==typeof W.nodeName}static calculateScrollbarWidth(W){if(W){let J=getComputedStyle(W);return W.offsetWidth-W.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let X=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=X,X}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let W=document.createElement("div");W.className="p-scrollbar-measure",document.body.appendChild(W);let J=W.offsetHeight-W.clientHeight;return document.body.removeChild(W),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(W,J,X){W[J].apply(W,X)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let W=this.resolveUserAgent();this.browser={},W.browser&&(this.browser[W.browser]=!0,this.browser.version=W.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let W=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(W)||/(webkit)[ \/]([\w.]+)/.exec(W)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(W)||/(msie) ([\w.]+)/.exec(W)||W.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(W)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(W){return Number.isInteger?Number.isInteger(W):"number"==typeof W&&isFinite(W)&&Math.floor(W)===W}static isHidden(W){return null===W.offsetParent}static getFocusableElements(W){let J=k.find(W,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),X=[];for(let Y of J)"none"!=getComputedStyle(Y).display&&"hidden"!=getComputedStyle(Y).visibility&&X.push(Y);return X}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return k.zindex=1e3,k.calculatedScrollbarWidth=null,k.calculatedScrollbarHeight=null,k})();class u{constructor(fe,W=(()=>{})){this.element=fe,this.listener=W}bindScrollListener(){this.scrollableParents=c.getScrollableParents(this.element);for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},1795:(Gt,Ze,M)=>{M.d(Ze,{H:()=>W,T:()=>J});var c=M(4650),u=M(6895),k=M(9592),fe=M(805);let W=(()=>{class X{constructor(se,G,ee){this.el=se,this.zone=G,this.config=ee}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(se){let G=this.getInk();if(!G||"none"===getComputedStyle(G,null).display)return;if(k.p.removeClass(G,"p-ink-active"),!k.p.getHeight(G)&&!k.p.getWidth(G)){let Ae=Math.max(k.p.getOuterWidth(this.el.nativeElement),k.p.getOuterHeight(this.el.nativeElement));G.style.height=Ae+"px",G.style.width=Ae+"px"}let ee=k.p.getOffset(this.el.nativeElement),pe=se.pageX-ee.left+document.body.scrollTop-k.p.getWidth(G)/2,Ke=se.pageY-ee.top+document.body.scrollLeft-k.p.getHeight(G)/2;G.style.top=Ke+"px",G.style.left=pe+"px",k.p.addClass(G,"p-ink-active")}getInk(){for(let se=0;se<this.el.nativeElement.children.length;se++)if(-1!==this.el.nativeElement.children[se].className.indexOf("p-ink"))return this.el.nativeElement.children[se];return null}resetInk(){let se=this.getInk();se&&k.p.removeClass(se,"p-ink-active")}onAnimationEnd(se){k.p.removeClass(se.currentTarget,"p-ink-active")}create(){let se=document.createElement("span");se.className="p-ink",this.el.nativeElement.appendChild(se),this.animationListener=this.onAnimationEnd.bind(this),se.addEventListener("animationend",this.animationListener)}remove(){let se=this.getInk();se&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),se.removeEventListener("animationend",this.animationListener),k.p.removeElement(se))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return X.\u0275fac=function(se){return new(se||X)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(fe.b4,8))},X.\u0275dir=c.lG2({type:X,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),X})(),J=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({imports:[u.ez]}),X})()},1167:(Gt,Ze,M)=>{M.d(Ze,{CO:()=>se,KZ:()=>G});var c=M(4650),u=M(6895),k=M(1795),fe=M(433);const W=function(ee,pe){return{"p-button-icon":!0,"p-button-icon-left":ee,"p-button-icon-right":pe}};function J(ee,pe){if(1&ee&&c._UZ(0,"span",3),2&ee){const Ke=c.oxw();c.Tol(Ke.checked?Ke.onIcon:Ke.offIcon),c.Q6J("ngClass",c.WLB(3,W,"left"===Ke.iconPos,"right"===Ke.iconPos))}}const X=function(ee,pe,Ke){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":ee,"p-highlight":pe,"p-disabled":Ke}},Y={provide:fe.JU,useExisting:(0,c.Gpc)(()=>se),multi:!0};let se=(()=>{class ee{constructor(Ke){this.cd=Ke,this.iconPos="left",this.onChange=new c.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(Ke){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:Ke,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(Ke){this.checked=Ke,this.cd.markForCheck()}registerOnChange(Ke){this.onModelChange=Ke}registerOnTouched(Ke){this.onModelTouched=Ke}setDisabledState(Ke){this.disabled=Ke,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return ee.\u0275fac=function(Ke){return new(Ke||ee)(c.Y36(c.sBO))},ee.\u0275cmp=c.Xpm({type:ee,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[c._Bn([Y])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(Ke,Ae){1&Ke&&(c.TgZ(0,"div",0),c.NdJ("click",function(Dt){return Ae.toggle(Dt)})("keydown.enter",function(Dt){return Ae.toggle(Dt)}),c.YNc(1,J,1,6,"span",1),c.TgZ(2,"span",2),c._uU(3),c.qZA()()),2&Ke&&(c.Tol(Ae.styleClass),c.Q6J("ngClass",c.kEZ(8,X,Ae.onIcon&&Ae.offIcon&&!Ae.hasOnLabel&&!Ae.hasOffLabel,Ae.checked,Ae.disabled))("ngStyle",Ae.style),c.uIk("tabindex",Ae.disabled?null:"0")("aria-checked",Ae.checked),c.xp6(1),c.Q6J("ngIf",Ae.onIcon||Ae.offIcon),c.xp6(2),c.Oqu(Ae.checked?Ae.hasOnLabel?Ae.onLabel:"":Ae.hasOffLabel?Ae.offLabel:""))},dependencies:[u.mk,u.O5,u.PC,k.H],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}"],changeDetection:0}),ee})(),G=(()=>{class ee{}return ee.\u0275fac=function(Ke){return new(Ke||ee)},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({imports:[u.ez,k.T]}),ee})()},3608:(Gt,Ze,M)=>{M.d(Ze,{u:()=>J,z:()=>X});var c=M(4650),u=M(6895),k=M(9592),fe=M(982),W=M(805);let J=(()=>{class Y{constructor(G,ee,pe){this.el=G,this.zone=ee,this.config=pe,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(G){this._disabled=G,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let G=this.getTarget(this.el.nativeElement);G.addEventListener("focus",this.focusListener),G.addEventListener("blur",this.blurListener)}})}ngOnChanges(G){G.tooltipPosition&&this.setOption({tooltipPosition:G.tooltipPosition.currentValue}),G.tooltipEvent&&this.setOption({tooltipEvent:G.tooltipEvent.currentValue}),G.appendTo&&this.setOption({appendTo:G.appendTo.currentValue}),G.positionStyle&&this.setOption({positionStyle:G.positionStyle.currentValue}),G.tooltipStyleClass&&this.setOption({tooltipStyleClass:G.tooltipStyleClass.currentValue}),G.tooltipZIndex&&this.setOption({tooltipZIndex:G.tooltipZIndex.currentValue}),G.escape&&this.setOption({escape:G.escape.currentValue}),G.showDelay&&this.setOption({showDelay:G.showDelay.currentValue}),G.hideDelay&&this.setOption({hideDelay:G.hideDelay.currentValue}),G.life&&this.setOption({life:G.life.currentValue}),G.positionTop&&this.setOption({positionTop:G.positionTop.currentValue}),G.positionLeft&&this.setOption({positionLeft:G.positionLeft.currentValue}),G.disabled&&this.setOption({disabled:G.disabled.currentValue}),G.text&&(this.setOption({tooltipLabel:G.text.currentValue}),this.active&&(G.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),G.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...G.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(G){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(G){this.deactivate()}onFocus(G){this.activate()}onBlur(G){this.deactivate()}onClick(G){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let G=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},G)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let G=document.createElement("div");G.className="p-tooltip-arrow",this.container.appendChild(G),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?k.p.appendChild(this.container,this.el.nativeElement):k.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),k.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?fe.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&fe.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let G=this.el.nativeElement.getBoundingClientRect();return{left:G.left+k.p.getWindowScrollLeft(),top:G.top+k.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let G=this.getHostOffset(),ee=G.left+k.p.getOuterWidth(this.el.nativeElement),pe=G.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let G=this.getHostOffset(),ee=G.left-k.p.getOuterWidth(this.container),pe=G.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let G=this.getHostOffset(),ee=G.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,pe=G.top-k.p.getOuterHeight(this.container);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let G=this.getHostOffset(),ee=G.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,pe=G.top+k.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=pe+this.getOption("positionTop")+"px"}setOption(G){this._tooltipOptions={...this._tooltipOptions,...G}}getOption(G){return this._tooltipOptions[G]}getTarget(G){return k.p.hasClass(G,"p-inputwrapper")?k.p.findSingle(G,"input"):G}preAlign(G){this.container.style.left="-999px",this.container.style.top="-999px";let ee="p-tooltip p-component p-tooltip-"+G;this.container.className=this.getOption("tooltipStyleClass")?ee+" "+this.getOption("tooltipStyleClass"):ee}isOutOfBounds(){let G=this.container.getBoundingClientRect(),ee=G.top,pe=G.left,Ke=k.p.getOuterWidth(this.container),Ae=k.p.getOuterHeight(this.container),tt=k.p.getViewport();return pe+Ke>tt.width||pe<0||ee<0||ee+Ae>tt.height}onWindowResize(G){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new k.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let G=this.getTarget(this.el.nativeElement);G.removeEventListener("focus",this.focusListener),G.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):k.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&fe.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return Y.\u0275fac=function(G){return new(G||Y)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(W.b4))},Y.\u0275dir=c.lG2({type:Y,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[c.TTD]}),Y})(),X=(()=>{class Y{}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275mod=c.oAB({type:Y}),Y.\u0275inj=c.cJS({imports:[u.ez]}),Y})()},982:(Gt,Ze,M)=>{M.d(Ze,{P9:()=>W,Th:()=>k,gb:()=>c});class c{static equals(X,Y,se){return se?this.resolveFieldData(X,se)===this.resolveFieldData(Y,se):this.equalsByValue(X,Y)}static equalsByValue(X,Y){if(X===Y)return!0;if(X&&Y&&"object"==typeof X&&"object"==typeof Y){var ee,pe,Ke,se=Array.isArray(X),G=Array.isArray(Y);if(se&&G){if((pe=X.length)!=Y.length)return!1;for(ee=pe;0!=ee--;)if(!this.equalsByValue(X[ee],Y[ee]))return!1;return!0}if(se!=G)return!1;var Ae=X instanceof Date,tt=Y instanceof Date;if(Ae!=tt)return!1;if(Ae&&tt)return X.getTime()==Y.getTime();var Dt=X instanceof RegExp,nt=Y instanceof RegExp;if(Dt!=nt)return!1;if(Dt&&nt)return X.toString()==Y.toString();var ke=Object.keys(X);if((pe=ke.length)!==Object.keys(Y).length)return!1;for(ee=pe;0!=ee--;)if(!Object.prototype.hasOwnProperty.call(Y,ke[ee]))return!1;for(ee=pe;0!=ee--;)if(!this.equalsByValue(X[Ke=ke[ee]],Y[Ke]))return!1;return!0}return X!=X&&Y!=Y}static resolveFieldData(X,Y){if(X&&Y){if(this.isFunction(Y))return Y(X);if(-1==Y.indexOf("."))return X[Y];{let se=Y.split("."),G=X;for(let ee=0,pe=se.length;ee<pe;++ee){if(null==G)return null;G=G[se[ee]]}return G}}return null}static isFunction(X){return!!(X&&X.constructor&&X.call&&X.apply)}static reorderArray(X,Y,se){X&&Y!==se&&(se>=X.length&&(se%=X.length,Y%=X.length),X.splice(se,0,X.splice(Y,1)[0]))}static insertIntoOrderedArray(X,Y,se,G){if(se.length>0){let ee=!1;for(let pe=0;pe<se.length;pe++)if(this.findIndexInList(se[pe],G)>Y){se.splice(pe,0,X),ee=!0;break}ee||se.push(X)}else se.push(X)}static findIndexInList(X,Y){let se=-1;if(Y)for(let G=0;G<Y.length;G++)if(Y[G]==X){se=G;break}return se}static contains(X,Y){if(null!=X&&Y&&Y.length)for(let se of Y)if(this.equals(X,se))return!0;return!1}static removeAccents(X){return X&&X.search(/[\xC0-\xFF]/g)>-1&&(X=X.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),X}static isEmpty(X){return null==X||""===X||Array.isArray(X)&&0===X.length||!(X instanceof Date)&&"object"==typeof X&&0===Object.keys(X).length}static isNotEmpty(X){return!this.isEmpty(X)}}var u=0;function k(){return"pr_id_"+ ++u}var W=function fe(){let J=[];const G=ee=>ee&&parseInt(ee.style.zIndex,10)||0;return{get:G,set:(ee,pe,Ke)=>{pe&&(pe.style.zIndex=String(((ee,pe)=>{let Ke=J.length>0?J[J.length-1]:{key:ee,value:pe},Ae=Ke.value+(Ke.key===ee?0:pe)+1;return J.push({key:ee,value:Ae}),Ae})(ee,Ke)))},clear:ee=>{ee&&((ee=>{J=J.filter(pe=>pe.value!==ee)})(G(ee)),ee.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(Gt,Ze,M)=>{function c(k,fe,W,J,X,Y,se){try{var G=k[Y](se),ee=G.value}catch(pe){return void W(pe)}G.done?fe(ee):Promise.resolve(ee).then(J,X)}function u(k){return function(){var fe=this,W=arguments;return new Promise(function(J,X){var Y=k.apply(fe,W);function se(ee){c(Y,J,X,se,G,"next",ee)}function G(ee){c(Y,J,X,se,G,"throw",ee)}se(void 0)})}}M.d(Ze,{Z:()=>u})}},Gt=>{Gt(Gt.s=4932)}]);