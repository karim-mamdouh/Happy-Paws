"use strict";(self.webpackChunkHappy_Paws=self.webpackChunkHappy_Paws||[]).push([[179],{7128:(jt,Ke,M)=>{M.d(Ke,{nm:()=>pi});var h=M(6351),j=(M(4650),M(3692),M(5867),M(5861)),J=M(9681),te=M(4859),Z=M(2090),oe=M(1877);const K=new Map,ne={activated:!1,tokenObservers:[]},ge={initialized:!1,enabled:!1};function Ge(Ye){return K.get(Ye)||ne}function Ae(Ye,$e){K.set(Ye,$e)}function Qe(){return ge}class de{constructor($e,gt,St,$t,dn){if(this.operation=$e,this.retryPolicy=gt,this.getWaitDuration=St,this.lowerBound=$t,this.upperBound=dn,this.pending=null,this.nextErrorWaitInterval=$t,$t>dn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process($e){var gt=this;return(0,j.Z)(function*(){gt.stop();try{gt.pending=new Z.BH,yield function Ze(Ye){return new Promise($e=>{setTimeout($e,Ye)})}(gt.getNextRun($e)),gt.pending.resolve(),yield gt.pending.promise,gt.pending=new Z.BH,yield gt.operation(),gt.pending.resolve(),yield gt.pending.promise,gt.process(!0).catch(()=>{})}catch(St){gt.retryPolicy(St)?gt.process(!1).catch(()=>{}):gt.stop()}})()}getNextRun($e){if($e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),gt}}}const he=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(Ye){if(!Ge(Ye).activated)throw he.create("use-before-activation",{appName:Ye.name})}function Ue(Ye,$e){return pt.apply(this,arguments)}function pt(){return(pt=(0,j.Z)(function*({url:Ye,body:$e},gt){var St,$t;const dn={"Content-Type":"application/json"},_e=gt.getImmediate({optional:!0});if(_e){const Dr=yield _e.getHeartbeatsHeader();Dr&&(dn["X-Firebase-Client"]=Dr)}const ct={method:"POST",body:JSON.stringify($e),headers:dn};let je,ht;try{je=yield fetch(Ye,ct)}catch(Dr){throw he.create("fetch-network-error",{originalErrorMessage:null===(St=Dr)||void 0===St?void 0:St.message})}if(200!==je.status)throw he.create("fetch-status-error",{httpStatus:je.status});try{ht=yield je.json()}catch(Dr){throw he.create("fetch-parse-error",{originalErrorMessage:null===($t=Dr)||void 0===$t?void 0:$t.message})}const Wt=ht.ttl.match(/^([\d.]+)(s)$/);if(!Wt||!Wt[2]||isNaN(Number(Wt[1])))throw he.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ht.ttl}`});const rn=1e3*Number(Wt[1]),rr=Date.now();return{token:ht.token,expireTimeMillis:rr+rn,issuedAtTimeMillis:rr}})).apply(this,arguments)}function at(Ye,$e){const{projectId:gt,appId:St,apiKey:$t}=Ye.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${gt}/apps/${St}:exchangeDebugToken?key=${$t}`,body:{debug_token:$e}}}const lt="firebase-app-check-store";let _n=null;function wn(){return _n||(_n=new Promise((Ye,$e)=>{var gt;try{const St=indexedDB.open("firebase-app-check-database",1);St.onsuccess=$t=>{Ye($t.target.result)},St.onerror=$t=>{var dn;$e(he.create("storage-open",{originalErrorMessage:null===(dn=$t.target.error)||void 0===dn?void 0:dn.message}))},St.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(lt,{keyPath:"compositeKey"})}}catch(St){$e(he.create("storage-open",{originalErrorMessage:null===(gt=St)||void 0===gt?void 0:gt.message}))}}),_n)}function cr(){return(cr=(0,j.Z)(function*(Ye,$e){const St=(yield wn()).transaction(lt,"readwrite"),dn=St.objectStore(lt).put({compositeKey:Ye,value:$e});return new Promise((_e,ct)=>{dn.onsuccess=je=>{_e()},St.onerror=je=>{var ht;ct(he.create("storage-set",{originalErrorMessage:null===(ht=je.target.error)||void 0===ht?void 0:ht.message}))}})})).apply(this,arguments)}const Cr=new oe.Yd("@firebase/app-check");function nn(Ye,$e){return(0,Z.hl)()?function En(Ye,$e){return function Ar(Ye,$e){return cr.apply(this,arguments)}(function $n(Ye){return`${Ye.options.appId}-${Ye.name}`}(Ye),$e)}(Ye,$e).catch(gt=>{Cr.warn(`Failed to write token to IndexedDB. Error: ${gt}`)}):Promise.resolve()}function vn(){return Qe().enabled}function xn(){return br.apply(this,arguments)}function br(){return(br=(0,j.Z)(function*(){const Ye=Qe();if(Ye.enabled&&Ye.token)return Ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zn={error:"UNKNOWN_ERROR"};function Tr(Ye){return Z.US.encodeString(JSON.stringify(Ye),!1)}function oi(Ye){return kn.apply(this,arguments)}function kn(){return(kn=(0,j.Z)(function*(Ye,$e=!1){const gt=Ye.app;dt(gt);const St=Ge(gt);let dn,$t=St.token;if(!$t){const je=yield St.cachedTokenPromise;je&&Mr(je)&&($t=je)}if(!$e&&$t&&Mr($t))return{token:$t.token};let ct,_e=!1;if(vn()){St.exchangeTokenPromise||(St.exchangeTokenPromise=Ue(at(gt,yield xn()),Ye.heartbeatServiceProvider).then(ht=>(St.exchangeTokenPromise=void 0,ht)),_e=!0);const je=yield St.exchangeTokenPromise;return yield nn(gt,je),Ae(gt,Object.assign(Object.assign({},St),{token:je})),{token:je.token}}try{St.exchangeTokenPromise||(St.exchangeTokenPromise=St.provider.getToken().then(je=>(St.exchangeTokenPromise=void 0,je)),_e=!0),$t=yield St.exchangeTokenPromise}catch(je){"appCheck/throttled"===je.code?Cr.warn(je.message):Cr.error(je),dn=je}return $t?(ct={token:$t.token},Ae(gt,Object.assign(Object.assign({},St),{token:$t})),yield nn(gt,$t)):ct=or(dn),_e&&Tn(gt,ct),ct})).apply(this,arguments)}function Jt(Ye,$e){const gt=Ge(Ye),St=gt.tokenObservers.filter($t=>$t.next!==$e);0===St.length&&gt.tokenRefresher&&gt.tokenRefresher.isRunning()&&gt.tokenRefresher.stop(),Ae(Ye,Object.assign(Object.assign({},gt),{tokenObservers:St}))}function $r(Ye){const{app:$e}=Ye,gt=Ge($e);let St=gt.tokenRefresher;St||(St=function Nr(Ye){const{app:$e}=Ye;return new de((0,j.Z)(function*(){let St;if(St=Ge($e).token?yield oi(Ye,!0):yield oi(Ye),St.error)throw St.error}),()=>!0,()=>{const gt=Ge($e);if(gt.token){let St=gt.token.issuedAtTimeMillis+.5*(gt.token.expireTimeMillis-gt.token.issuedAtTimeMillis)+3e5;return St=Math.min(St,gt.token.expireTimeMillis-3e5),Math.max(0,St-Date.now())}return 0},3e4,96e4)}(Ye),Ae($e,Object.assign(Object.assign({},gt),{tokenRefresher:St}))),!St.isRunning()&&gt.isTokenAutoRefreshEnabled&&St.start()}function Tn(Ye,$e){const gt=Ge(Ye).tokenObservers;for(const St of gt)try{"EXTERNAL"===St.type&&null!=$e.error?St.error($e.error):St.next($e)}catch{}}function Mr(Ye){return Ye.expireTimeMillis-Date.now()>0}function or(Ye){return{token:Tr(Zn),error:Ye}}class Yt{constructor($e,gt){this.app=$e,this.heartbeatServiceProvider=gt}_delete(){const{tokenObservers:$e}=Ge(this.app);for(const gt of $e)Jt(this.app,gt.next);return Promise.resolve()}}const Gn="app-check-internal";!function Un(){(0,J._registerComponent)(new te.wA("app-check",Ye=>function jn(Ye,$e){return new Yt(Ye,$e)}(Ye.getProvider("app").getImmediate(),Ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ye,$e,gt)=>{Ye.getProvider(Gn).initialize()})),(0,J._registerComponent)(new te.wA(Gn,Ye=>function Ur(Ye){return{getToken:$e=>oi(Ye,$e),addTokenListener:$e=>function qt(Ye,$e,gt,St){const{app:$t}=Ye,dn=Ge($t),_e={next:gt,error:St,type:$e};if(Ae($t,Object.assign(Object.assign({},dn),{tokenObservers:[...dn.tokenObservers,_e]})),dn.token&&Mr(dn.token)){const ct=dn.token;Promise.resolve().then(()=>{gt({token:ct.token}),$r(Ye)}).catch(()=>{})}dn.cachedTokenPromise.then(()=>$r(Ye))}(Ye,"INTERNAL",$e),removeTokenListener:$e=>Jt(Ye.app,$e)}}(Ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/app-check","0.5.12")}();class pi{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},3692:(jt,Ke,M)=>{M.d(Ke,{Ot:()=>fe,ZF:()=>tt,hX:()=>Ge,z6:()=>j});var h=M(5867),u=M(4650),k=M(6351);class fe{constructor(de){return de}}class j{constructor(){return(0,h.C6)()}}const Z=new u.OlP("angularfire2._apps"),oe={provide:fe,useFactory:function te(Xe){return Xe&&1===Xe.length?Xe[0]:new fe((0,h.Mq)())},deps:[[new u.FiY,Z]]},K={provide:j,deps:[[new u.FiY,Z]]};function ne(Xe){return(de,Ze)=>{const Ie=de.runOutsideAngular(()=>Xe(Ze));return new fe(Ie)}}let ge=(()=>{class Xe{constructor(Ze){(0,h.KN)("angularfire",k.q4.full,"core"),(0,h.KN)("angularfire",k.q4.full,"app"),(0,h.KN)("angular",u.q4F.full,Ze.toString())}}return Xe.\u0275fac=function(Ze){return new(Ze||Xe)(u.LFG(u.Lbi))},Xe.\u0275mod=u.oAB({type:Xe}),Xe.\u0275inj=u.cJS({providers:[oe,K]}),Xe})();function Ge(Xe,...de){return{ngModule:ge,providers:[{provide:Z,useFactory:ne(Xe),multi:!0,deps:[u.R0b,u.zs3,k.HU,...de]}]}}const tt=(0,k.u3)(h.ZF,!0)},7667:(jt,Ke,M)=>{M.d(Ke,{dh:()=>Ge,v0:()=>at,AR:()=>Xe});var h=M(6351),u=M(4650),k=M(3692),fe=M(5867),j=M(7128),J=M(6457);M(2090),M(9681),M(1877),M(4859);class ge{constructor(L){return L}}class Ge{constructor(){return(0,h.vb)("auth")}}const Qe=new u.OlP("angularfire2.auth-instances");function tt(ee){return(L,z)=>{const De=L.runOutsideAngular(()=>ee(z));return new ge(De)}}const Ne={provide:Ge,deps:[[new u.FiY,Qe]]},Oe={provide:ge,useFactory:function wt(ee,L){const z=(0,h.JM)("auth",ee,L);return z&&new ge(z)},deps:[[new u.FiY,Qe],k.Ot]};let Lt=(()=>{class ee{constructor(){(0,fe.KN)("angularfire",h.q4.full,"auth")}}return ee.\u0275fac=function(z){return new(z||ee)},ee.\u0275mod=u.oAB({type:ee}),ee.\u0275inj=u.cJS({providers:[Oe,Ne]}),ee})();function Xe(ee,...L){return{ngModule:Lt,providers:[{provide:Qe,useFactory:tt(ee),multi:!0,deps:[u.R0b,u.zs3,h.HU,k.z6,[new u.FiY,j.nm],...L]}]}}const at=(0,h.u3)(J.n,!0)},1205:(jt,Ke,M)=>{M.d(Ke,{zQ:()=>nt,rT:()=>Be,f7:()=>Ue,L6:()=>ze,_Q:()=>dt,lh:()=>et,Qv:()=>he,nw:()=>pt});var h=M(4650),u=M(7579),k=M(9646),fe=M(9751),j=M(8996),J=M(6451),te=M(6063);class Z extends u.x{constructor(Ot=1/0,Et=1/0,lt=te.l){super(),this._bufferSize=Ot,this._windowTime=Et,this._timestampProvider=lt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Et===1/0,this._bufferSize=Math.max(1,Ot),this._windowTime=Math.max(1,Et)}next(Ot){const{isStopped:Et,_buffer:lt,_infiniteTimeWindow:Pt,_timestampProvider:_n,_windowTime:wn}=this;Et||(lt.push(Ot),!Pt&&lt.push(_n.now()+wn)),this._trimBuffer(),super.next(Ot)}_subscribe(Ot){this._throwIfClosed(),this._trimBuffer();const Et=this._innerSubscribe(Ot),{_infiniteTimeWindow:lt,_buffer:Pt}=this,_n=Pt.slice();for(let wn=0;wn<_n.length&&!Ot.closed;wn+=lt?1:2)Ot.next(_n[wn]);return this._checkFinalizedStatuses(Ot),Et}_trimBuffer(){const{_bufferSize:Ot,_timestampProvider:Et,_buffer:lt,_infiniteTimeWindow:Pt}=this,_n=(Pt?1:2)*Ot;if(Ot<1/0&&_n<lt.length&&lt.splice(0,lt.length-_n),!Pt){const wn=Et.now();let pn=0;for(let En=1;En<lt.length&&lt[En]<=wn;En+=2)pn=En;pn&&lt.splice(0,pn+1)}}}var oe=M(3099);function K(at,Ot,Et){let lt,Pt=!1;return at&&"object"==typeof at?({bufferSize:lt=1/0,windowTime:Ot=1/0,refCount:Pt=!1,scheduler:Et}=at):lt=at??1/0,(0,oe.B)({connector:()=>new Z(lt,Ot,Et),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Pt})}var ne=M(3900),ge=M(576);function Ge(at,Ot){return(0,ge.m)(Ot)?(0,ne.w)(()=>at,Ot):(0,ne.w)(()=>at)}var Ae=M(5363),Qe=M(4004),wt=M(590),tt=M(9468),Ne=M(9300),Oe=M(6351),Lt=M(2011),Xe=M(6895),de=M(7128);M(127);const he=new h.OlP("angularfire2.auth.use-emulator"),ze=new h.OlP("angularfire2.auth.settings"),dt=new h.OlP("angularfire2.auth.tenant-id"),Be=new h.OlP("angularfire2.auth.langugage-code"),et=new h.OlP("angularfire2.auth.use-device-language"),Ue=new h.OlP("angularfire.auth.persistence"),pt=(at,Ot,Et,lt,Pt,_n,wn,pn)=>(0,Lt.cc)(`${at.name}.auth`,"AngularFireAuth",at.name,()=>{const En=Ot.runOutsideAngular(()=>at.auth());if(Et&&En.useEmulator(...Et),lt&&(En.tenantId=lt),En.languageCode=Pt,_n&&En.useDeviceLanguage(),wn)for(const[bn,Wn]of Object.entries(wn))En.settings[bn]=Wn;return pn&&En.setPersistence(pn),En},[Et,lt,Pt,_n,wn,pn]);let nt=(()=>{class at{constructor(Et,lt,Pt,_n,wn,pn,En,bn,Wn,Ar,cr,tn){const Yr=new u.x,$n=(0,k.of)(void 0).pipe((0,Ae.Q)(wn.outsideAngular),(0,ne.w)(()=>_n.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,Qe.U)(()=>(0,Lt.on)(Et,_n,lt)),(0,Qe.U)(Cr=>pt(Cr,_n,pn,bn,Wn,Ar,En,cr)),K({bufferSize:1,refCount:!1}));if((0,Xe.PM)(Pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,k.of)(null);else{$n.pipe((0,wt.P)()).subscribe();const Jn=$n.pipe((0,ne.w)(Yn=>Yn.getRedirectResult().then(Fn=>Fn,()=>null)),Oe.iC,K({bufferSize:1,refCount:!1})),sr=$n.pipe((0,ne.w)(Yn=>new fe.y(Fn=>({unsubscribe:_n.runOutsideAngular(()=>Yn.onAuthStateChanged(vn=>Fn.next(vn),vn=>Fn.error(vn),()=>Fn.complete()))})))),nn=$n.pipe((0,ne.w)(Yn=>new fe.y(Fn=>({unsubscribe:_n.runOutsideAngular(()=>Yn.onIdTokenChanged(vn=>Fn.next(vn),vn=>Fn.error(vn),()=>Fn.complete()))}))));this.authState=Jn.pipe(Ge(sr),(0,tt.R)(wn.outsideAngular),(0,Ae.Q)(wn.insideAngular)),this.user=Jn.pipe(Ge(nn),(0,tt.R)(wn.outsideAngular),(0,Ae.Q)(wn.insideAngular)),this.idToken=this.user.pipe((0,ne.w)(Yn=>Yn?(0,j.D)(Yn.getIdToken()):(0,k.of)(null))),this.idTokenResult=this.user.pipe((0,ne.w)(Yn=>Yn?(0,j.D)(Yn.getIdTokenResult()):(0,k.of)(null))),this.credential=(0,J.T)(Jn,Yr,this.authState.pipe((0,Ne.h)(Yn=>!Yn))).pipe((0,Qe.U)(Yn=>Yn?.user?Yn:null),(0,tt.R)(wn.outsideAngular),(0,Ae.Q)(wn.insideAngular))}return(0,Lt.pX)(this,$n,_n,{spy:{apply:(Cr,Jn,sr)=>{(Cr.startsWith("signIn")||Cr.startsWith("createUser"))&&sr.then(nn=>Yr.next(nn))}}})}}return at.\u0275fac=function(Et){return new(Et||at)(h.LFG(Lt.Dh),h.LFG(Lt.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Oe.HU),h.LFG(he,8),h.LFG(ze,8),h.LFG(dt,8),h.LFG(Be,8),h.LFG(et,8),h.LFG(Ue,8),h.LFG(de.nm,8))},at.\u0275prov=h.Yz7({token:at,factory:at.\u0275fac,providedIn:"any"}),at})()},6185:(jt,Ke,M)=>{M.d(Ke,{ST:()=>Pe});var h=M(4650),u=M(4986),k=M(9751),fe=M(8996),j=M(9646),J=M(6351),te=M(4482),Z=M(5403);function oe(){return(0,te.e)((ee,L)=>{let z,De=!1;ee.subscribe((0,Z.x)(L,ot=>{const zt=z;z=ot,De&&L.next([zt,ot]),De=!0}))})}var K=M(8675),ne=M(4004),ge=M(5026),Ge=M(1884),Ae=M(9300),Qe=M(2011),wt=M(6895),Ne=(M(5881),M(3942)),Oe=M(5525),Lt=M(2090),Xe=M(4859);function Ie(ee,L){if(void 0===L)return{merge:!1};if(void 0!==L.mergeFields&&void 0!==L.merge)throw new Oe.WA("invalid-argument",`Invalid options passed to function ${ee}(): You cannot specify both "merge" and "mergeFields".`);return L}function he(){if(typeof Uint8Array>"u")throw new Oe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ze(){if(!(0,Oe.Me)())throw new Oe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dt{constructor(L){this._delegate=L}static fromBase64String(L){return ze(),new dt(Oe.Jj.fromBase64String(L))}static fromUint8Array(L){return he(),new dt(Oe.Jj.fromUint8Array(L))}toBase64(){return ze(),this._delegate.toBase64()}toUint8Array(){return he(),this._delegate.toUint8Array()}isEqual(L){return this._delegate.isEqual(L._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Be(ee){return function et(ee,L){if("object"!=typeof ee||null===ee)return!1;const z=ee;for(const De of L)if(De in z&&"function"==typeof z[De])return!0;return!1}(ee,["next","error","complete"])}class Ue{enableIndexedDbPersistence(L,z){return(0,Oe.ST)(L._delegate,{forceOwnership:z})}enableMultiTabIndexedDbPersistence(L){return(0,Oe.fH)(L._delegate)}clearIndexedDbPersistence(L){return(0,Oe.Fc)(L._delegate)}}class pt{constructor(L,z,De){this._delegate=z,this._persistenceProvider=De,this.INTERNAL={delete:()=>this.terminate()},L instanceof Oe.l7||(this._appCompat=L)}get _databaseId(){return this._delegate._databaseId}settings(L){const z=this._delegate._getSettings();!L.merge&&z.host!==L.host&&(0,Oe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),L.merge&&delete(L=Object.assign(Object.assign({},z),L)).merge,this._delegate._setSettings(L)}useEmulator(L,z,De={}){(0,Oe.at)(this._delegate,L,z,De)}enableNetwork(){return(0,Oe.Ix)(this._delegate)}disableNetwork(){return(0,Oe.TF)(this._delegate)}enablePersistence(L){let z=!1,De=!1;return L&&(z=!!L.synchronizeTabs,De=!!L.experimentalForceOwningTab,(0,Oe.Wi)("synchronizeTabs",z,"experimentalForceOwningTab",De)),z?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,De)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Oe.Mx)(this._delegate)}onSnapshotsInSync(L){return(0,Oe.sc)(this._delegate,L)}get app(){if(!this._appCompat)throw new Oe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(L){try{return new cr(this,(0,Oe.hJ)(this._delegate,L))}catch(z){throw Pt(z,"collection()","Firestore.collection()")}}doc(L){try{return new lt(this,(0,Oe.JU)(this._delegate,L))}catch(z){throw Pt(z,"doc()","Firestore.doc()")}}collectionGroup(L){try{return new bn(this,(0,Oe.B$)(this._delegate,L))}catch(z){throw Pt(z,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(L){return(0,Oe.i3)(this._delegate,z=>L(new at(this,z)))}batch(){return(0,Oe.qY)(this._delegate),new Ot(new Oe.PU(this._delegate,L=>(0,Oe.GL)(this._delegate,L)))}loadBundle(L){return(0,Oe.Pb)(this._delegate,L)}namedQuery(L){return(0,Oe.L$)(this._delegate,L).then(z=>z?new bn(this,z):null)}}class nt extends Oe.u7{constructor(L){super(),this.firestore=L}convertBytes(L){return new dt(new Oe.Jj(L))}convertReference(L){const z=this.convertDocumentKey(L,this.firestore._databaseId);return lt.forKey(z,this.firestore,null)}}class at{constructor(L,z){this._firestore=L,this._delegate=z,this._userDataWriter=new nt(L)}get(L){const z=tn(L);return this._delegate.get(z).then(De=>new pn(this._firestore,new Oe.xU(this._firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,z.converter)))}set(L,z,De){const ot=tn(L);return De?(Ie("Transaction.set",De),this._delegate.set(ot,z,De)):this._delegate.set(ot,z),this}update(L,z,De,...ot){const zt=tn(L);return 2===arguments.length?this._delegate.update(zt,z):this._delegate.update(zt,z,De,...ot),this}delete(L){const z=tn(L);return this._delegate.delete(z),this}}class Ot{constructor(L){this._delegate=L}set(L,z,De){const ot=tn(L);return De?(Ie("WriteBatch.set",De),this._delegate.set(ot,z,De)):this._delegate.set(ot,z),this}update(L,z,De,...ot){const zt=tn(L);return 2===arguments.length?this._delegate.update(zt,z):this._delegate.update(zt,z,De,...ot),this}delete(L){const z=tn(L);return this._delegate.delete(z),this}commit(){return this._delegate.commit()}}class Et{constructor(L,z,De){this._firestore=L,this._userDataWriter=z,this._delegate=De}fromFirestore(L,z){const De=new Oe.$q(this._firestore._delegate,this._userDataWriter,L._key,L._document,L.metadata,null);return this._delegate.fromFirestore(new En(this._firestore,De),z??{})}toFirestore(L,z){return z?this._delegate.toFirestore(L,z):this._delegate.toFirestore(L)}static getInstance(L,z){const De=Et.INSTANCES;let ot=De.get(L);ot||(ot=new WeakMap,De.set(L,ot));let zt=ot.get(z);return zt||(zt=new Et(L,new nt(L),z),ot.set(z,zt)),zt}}Et.INSTANCES=new WeakMap;class lt{constructor(L,z){this.firestore=L,this._delegate=z,this._userDataWriter=new nt(L)}static forPath(L,z,De){if(L.length%2!=0)throw new Oe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${L.canonicalString()} has ${L.length}`);return new lt(z,new Oe.my(z._delegate,De,new Oe.Ky(L)))}static forKey(L,z,De){return new lt(z,new Oe.my(z._delegate,De,L))}get id(){return this._delegate.id}get parent(){return new cr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(L){try{return new cr(this.firestore,(0,Oe.hJ)(this._delegate,L))}catch(z){throw Pt(z,"collection()","DocumentReference.collection()")}}isEqual(L){return(L=(0,Lt.m9)(L))instanceof Oe.my&&(0,Oe.Eo)(this._delegate,L)}set(L,z){z=Ie("DocumentReference.set",z);try{return z?(0,Oe.pl)(this._delegate,L,z):(0,Oe.pl)(this._delegate,L)}catch(De){throw Pt(De,"setDoc()","DocumentReference.set()")}}update(L,z,...De){try{return 1===arguments.length?(0,Oe.r7)(this._delegate,L):(0,Oe.r7)(this._delegate,L,z,...De)}catch(ot){throw Pt(ot,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Oe.oe)(this._delegate)}onSnapshot(...L){const z=_n(L),De=wn(L,ot=>new pn(this.firestore,new Oe.xU(this.firestore._delegate,this._userDataWriter,ot._key,ot._document,ot.metadata,this._delegate.converter)));return(0,Oe.cf)(this._delegate,z,De)}get(L){let z;return z="cache"===L?.source?(0,Oe.kl)(this._delegate):"server"===L?.source?(0,Oe.Xk)(this._delegate):(0,Oe.QT)(this._delegate),z.then(De=>new pn(this.firestore,new Oe.xU(this.firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,this._delegate.converter)))}withConverter(L){return new lt(this.firestore,this._delegate.withConverter(L?Et.getInstance(this.firestore,L):null))}}function Pt(ee,L,z){return ee.message=ee.message.replace(L,z),ee}function _n(ee){for(const L of ee)if("object"==typeof L&&!Be(L))return L;return{}}function wn(ee,L){var z,De;let ot;return ot=Be(ee[0])?ee[0]:Be(ee[1])?ee[1]:"function"==typeof ee[0]?{next:ee[0],error:ee[1],complete:ee[2]}:{next:ee[1],error:ee[2],complete:ee[3]},{next:zt=>{ot.next&&ot.next(L(zt))},error:null===(z=ot.error)||void 0===z?void 0:z.bind(ot),complete:null===(De=ot.complete)||void 0===De?void 0:De.bind(ot)}}class pn{constructor(L,z){this._firestore=L,this._delegate=z}get ref(){return new lt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(L){return this._delegate.data(L)}get(L,z){return this._delegate.get(L,z)}isEqual(L){return(0,Oe.qK)(this._delegate,L._delegate)}}class En extends pn{data(L){const z=this._delegate.data(L);return(0,Oe.K9)(void 0!==z,"Document in a QueryDocumentSnapshot should exist"),z}}class bn{constructor(L,z){this.firestore=L,this._delegate=z,this._userDataWriter=new nt(L)}where(L,z,De){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.ar)(L,z,De)))}catch(ot){throw Pt(ot,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(L,z){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Xo)(L,z)))}catch(De){throw Pt(De,/(orderBy|where)\(\)/,"Query.$1()")}}limit(L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.b9)(L)))}catch(z){throw Pt(z,"limit()","Query.limit()")}}limitToLast(L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.vh)(L)))}catch(z){throw Pt(z,"limitToLast()","Query.limitToLast()")}}startAt(...L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.e0)(...L)))}catch(z){throw Pt(z,"startAt()","Query.startAt()")}}startAfter(...L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.TQ)(...L)))}catch(z){throw Pt(z,"startAfter()","Query.startAfter()")}}endBefore(...L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Lx)(...L)))}catch(z){throw Pt(z,"endBefore()","Query.endBefore()")}}endAt(...L){try{return new bn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Wu)(...L)))}catch(z){throw Pt(z,"endAt()","Query.endAt()")}}isEqual(L){return(0,Oe.iE)(this._delegate,L._delegate)}get(L){let z;return z="cache"===L?.source?(0,Oe.UQ)(this._delegate):"server"===L?.source?(0,Oe.zN)(this._delegate):(0,Oe.PL)(this._delegate),z.then(De=>new Ar(this.firestore,new Oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,De._snapshot)))}onSnapshot(...L){const z=_n(L),De=wn(L,ot=>new Ar(this.firestore,new Oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ot._snapshot)));return(0,Oe.cf)(this._delegate,z,De)}withConverter(L){return new bn(this.firestore,this._delegate.withConverter(L?Et.getInstance(this.firestore,L):null))}}class Wn{constructor(L,z){this._firestore=L,this._delegate=z}get type(){return this._delegate.type}get doc(){return new En(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ar{constructor(L,z){this._firestore=L,this._delegate=z}get query(){return new bn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(L=>new En(this._firestore,L))}docChanges(L){return this._delegate.docChanges(L).map(z=>new Wn(this._firestore,z))}forEach(L,z){this._delegate.forEach(De=>{L.call(z,new En(this._firestore,De))})}isEqual(L){return(0,Oe.qK)(this._delegate,L._delegate)}}class cr extends bn{constructor(L,z){super(L,z),this.firestore=L,this._delegate=z}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const L=this._delegate.parent;return L?new lt(this.firestore,L):null}doc(L){try{return new lt(this.firestore,void 0===L?(0,Oe.JU)(this._delegate):(0,Oe.JU)(this._delegate,L))}catch(z){throw Pt(z,"doc()","CollectionReference.doc()")}}add(L){return(0,Oe.ET)(this._delegate,L).then(z=>new lt(this.firestore,z))}isEqual(L){return(0,Oe.Eo)(this._delegate,L._delegate)}withConverter(L){return new cr(this.firestore,this._delegate.withConverter(L?Et.getInstance(this.firestore,L):null))}}function tn(ee){return(0,Oe.Cf)(ee,Oe.my)}class Yr{constructor(...L){this._delegate=new Oe.Lz(...L)}static documentId(){return new Yr(Oe.Xb.keyField().canonicalString())}isEqual(L){return(L=(0,Lt.m9)(L))instanceof Oe.Lz&&this._delegate._internalPath.isEqual(L._internalPath)}}class $n{constructor(L){this._delegate=L}static serverTimestamp(){const L=(0,Oe.Bt)();return L._methodName="FieldValue.serverTimestamp",new $n(L)}static delete(){const L=(0,Oe.AK)();return L._methodName="FieldValue.delete",new $n(L)}static arrayUnion(...L){const z=(0,Oe.vr)(...L);return z._methodName="FieldValue.arrayUnion",new $n(z)}static arrayRemove(...L){const z=(0,Oe.Ab)(...L);return z._methodName="FieldValue.arrayRemove",new $n(z)}static increment(L){const z=(0,Oe.nP)(L);return z._methodName="FieldValue.increment",new $n(z)}isEqual(L){return this._delegate.isEqual(L._delegate)}}const Cr={Firestore:pt,GeoPoint:Oe.F8,Timestamp:Oe.EK,Blob:dt,Transaction:at,WriteBatch:Ot,DocumentReference:lt,DocumentSnapshot:pn,Query:bn,QueryDocumentSnapshot:En,QuerySnapshot:Ar,CollectionReference:cr,FieldPath:Yr,FieldValue:$n,setLogLevel:function Ft(ee){(0,Oe.Ub)(ee)},CACHE_SIZE_UNLIMITED:Oe.IX};!function sr(ee){(function Jn(ee,L){ee.INTERNAL.registerComponent(new Xe.wA("firestore-compat",z=>{const De=z.getProvider("app-compat").getImmediate(),ot=z.getProvider("firestore").getImmediate();return L(De,ot)},"PUBLIC").setServiceProps(Object.assign({},Cr)))})(ee,(L,z)=>new pt(L,z,new Ue)),ee.registerVersion("@firebase/firestore-compat","0.1.22")}(Ne.Z);var nn=M(1205),Yn=M(7128);function xn(ee,L){return function vn(ee,L=u.z){return new k.y(z=>{let De;return null!=L?L.schedule(()=>{De=ee.onSnapshot({includeMetadataChanges:!0},z)}):De=ee.onSnapshot({includeMetadataChanges:!0},z),()=>{De?.()}})}(ee,L)}function zr(ee,L){return xn(ee,L).pipe((0,ne.U)(z=>({payload:z,type:"query"})))}function Zn(ee,L){return zr(ee,L).pipe((0,K.O)(void 0),oe(),(0,ne.U)(([z,De])=>{const ot=De.payload.docChanges(),zt=ot.map(On=>({type:On.type,payload:On}));return z&&JSON.stringify(z.payload.metadata)!==JSON.stringify(De.payload.metadata)&&De.payload.docs.forEach((On,gn)=>{const Dn=ot.find(Ce=>Ce.doc.ref.isEqual(On.ref)),qe=z?.payload.docs.find(Ce=>Ce.ref.isEqual(On.ref));Dn&&JSON.stringify(Dn.doc.metadata)===JSON.stringify(On.metadata)||!Dn&&qe&&JSON.stringify(qe.metadata)===JSON.stringify(On.metadata)||zt.push({type:"modified",payload:{oldIndex:gn,newIndex:gn,type:"modified",doc:On}})}),zt}))}function Tr(ee,L,z){return Zn(ee,z).pipe((0,ge.R)((De,ot)=>function oi(ee,L,z){return L.forEach(De=>{z.indexOf(De.type)>-1&&(ee=function qt(ee,L){switch(L.type){case"added":if(!ee[L.newIndex]||!ee[L.newIndex].doc.ref.isEqual(L.doc.ref))return kn(ee,L.newIndex,0,L);break;case"modified":if(null==ee[L.oldIndex]||ee[L.oldIndex].doc.ref.isEqual(L.doc.ref)){if(L.oldIndex!==L.newIndex){const z=ee.slice();return z.splice(L.oldIndex,1),z.splice(L.newIndex,0,L),z}return kn(ee,L.newIndex,1,L)}break;case"removed":if(ee[L.oldIndex]&&ee[L.oldIndex].doc.ref.isEqual(L.doc.ref))return kn(ee,L.oldIndex,1)}return ee}(ee,De))}),ee}(De,ot.map(zt=>zt.payload),L),[]),(0,Ge.x)(),(0,ne.U)(De=>De.map(ot=>({type:ot.type,payload:ot}))))}function kn(ee,L,z,...De){const ot=ee.slice();return ot.splice(L,z,...De),ot}function Jt(ee){return(!ee||0===ee.length)&&(ee=["added","removed","modified"]),ee}M(127);class $r{constructor(L,z,De){this.ref=L,this.query=z,this.afs=De}stateChanges(L){let z=Zn(this.query,this.afs.schedulers.outsideAngular);return L&&L.length>0&&(z=z.pipe((0,ne.U)(De=>De.filter(ot=>L.indexOf(ot.type)>-1)))),z.pipe((0,K.O)(void 0),oe(),(0,Ae.h)(([De,ot])=>ot.length>0||!De),(0,ne.U)(([De,ot])=>ot),J.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,ge.R)((z,De)=>[...z,...De],[]))}snapshotChanges(L){const z=Jt(L);return Tr(this.query,z,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(L={}){return zr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(z=>z.payload.docs.map(De=>L.idField?Object.assign(Object.assign({},De.data()),{[L.idField]:De.id}):De.data())),J.iC)}get(L){return(0,fe.D)(this.query.get(L)).pipe(J.iC)}add(L){return this.ref.add(L)}doc(L){return new Nr(this.ref.doc(L),this.afs)}}class Nr{constructor(L,z){this.ref=L,this.afs=z}set(L,z){return this.ref.set(L,z)}update(L){return this.ref.update(L)}delete(){return this.ref.delete()}collection(L,z){const De=this.ref.collection(L),{ref:ot,query:zt}=Ur(De,z);return new $r(ot,zt,this.afs)}snapshotChanges(){return function br(ee,L){return xn(ee,L).pipe((0,K.O)(void 0),oe(),(0,ne.U)(([z,De])=>De.exists?z?.exists?{payload:De,type:"modified"}:{payload:De,type:"added"}:{payload:De,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(L={}){return this.snapshotChanges().pipe((0,ne.U)(({payload:z})=>L.idField?Object.assign(Object.assign({},z.data()),{[L.idField]:z.id}):z.data()))}get(L){return(0,fe.D)(this.ref.get(L)).pipe(J.iC)}}class Tn{constructor(L,z){this.query=L,this.afs=z}stateChanges(L){return L&&0!==L.length?Zn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(z=>z.filter(De=>L.indexOf(De.type)>-1)),(0,Ae.h)(z=>z.length>0),J.iC):Zn(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(L){return this.stateChanges(L).pipe((0,ge.R)((z,De)=>[...z,...De],[]))}snapshotChanges(L){const z=Jt(L);return Tr(this.query,z,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(L={}){return zr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(De=>De.payload.docs.map(ot=>L.idField?Object.assign({[L.idField]:ot.id},ot.data()):ot.data())),J.iC)}get(L){return(0,fe.D)(this.query.get(L)).pipe(J.iC)}}const Mr=new h.OlP("angularfire2.enableFirestorePersistence"),or=new h.OlP("angularfire2.firestore.persistenceSettings"),Yt=new h.OlP("angularfire2.firestore.settings"),jn=new h.OlP("angularfire2.firestore.use-emulator");function Ur(ee,L=(z=>z)){return{query:L(ee),ref:ee}}let Pe=(()=>{class ee{constructor(z,De,ot,zt,On,gn,Dn,qe,Ce,Se,It,Bt,In,Mt,sn,Le,Re){this.schedulers=Dn;const ve=(0,Qe.on)(z,gn,De),Fe=Ce;Se&&(0,nn.nw)(ve,gn,It,In,Mt,sn,Bt,Le),[this.firestore,this.persistenceEnabled$]=(0,Qe.cc)(`${ve.name}.firestore`,"AngularFirestore",ve.name,()=>{const xt=gn.runOutsideAngular(()=>ve.firestore());if(zt&&xt.settings(zt),Fe&&xt.useEmulator(...Fe),ot&&!(0,wt.PM)(On)){const Xt=()=>{try{return(0,fe.D)(xt.enablePersistence(qe||void 0).then(()=>!0,()=>!1))}catch(Gn){return typeof console<"u"&&console.warn(Gn),(0,j.of)(!1)}};return[xt,gn.runOutsideAngular(Xt)]}return[xt,(0,j.of)(!1)]},[zt,Fe,ot])}collection(z,De){let ot;ot="string"==typeof z?this.firestore.collection(z):z;const{ref:zt,query:On}=Ur(ot,De),gn=this.schedulers.ngZone.run(()=>zt);return new $r(gn,On,this)}collectionGroup(z,De){const ot=De||(On=>On),zt=this.firestore.collectionGroup(z);return new Tn(ot(zt),this)}doc(z){let De;De="string"==typeof z?this.firestore.doc(z):z;const ot=this.schedulers.ngZone.run(()=>De);return new Nr(ot,this)}createId(){return this.firestore.collection("_").doc().id}}return ee.\u0275fac=function(z){return new(z||ee)(h.LFG(Qe.Dh),h.LFG(Qe.xv,8),h.LFG(Mr,8),h.LFG(Yt,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(J.HU),h.LFG(or,8),h.LFG(jn,8),h.LFG(nn.zQ,8),h.LFG(nn.Qv,8),h.LFG(nn.L6,8),h.LFG(nn._Q,8),h.LFG(nn.rT,8),h.LFG(nn.lh,8),h.LFG(nn.f7,8),h.LFG(Yn.nm,8))},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"any"}),ee})()},2011:(jt,Ke,M)=>{M.d(Ke,{Dh:()=>te,GT:()=>j,cc:()=>Ge,on:()=>oe,pX:()=>fe,xv:()=>Z});var h=M(4650),u=M(127);jt=M.hmd(jt);const k=["ngOnDestroy"],fe=(tt,Ne,Oe,Lt={})=>new Proxy(tt,{get:(Xe,de)=>Oe.runOutsideAngular(()=>{var Ze;if(tt[de])return!(null===(Ze=Lt?.spy)||void 0===Ze)&&Ze.get&&Lt.spy.get(de,tt[de]),tt[de];if(k.indexOf(de)>-1)return()=>{};const Ie=Ne.toPromise().then(he=>{const ze=he&&he[de];return"function"==typeof ze?ze.bind(he):ze&&ze.then?ze.then(dt=>Oe.run(()=>dt)):Oe.run(()=>ze)});return new Proxy(()=>{},{get:(he,ze)=>Ie[ze],apply:(he,ze,dt)=>Ie.then(Be=>{var et;const Ue=Be&&Be(...dt);return!(null===(et=Lt?.spy)||void 0===et)&&et.apply&&Lt.spy.apply(de,dt,Ue),Ue})})})}),j=(tt,Ne)=>{Ne.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Lt=>{Object.defineProperty(tt.prototype,Lt,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Lt))})})};class J{constructor(Ne){return Ne}}const te=new h.OlP("angularfire2.app.options"),Z=new h.OlP("angularfire2.app.name");function oe(tt,Ne,Oe){const Xe="object"==typeof Oe&&Oe||{};Xe.name=Xe.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Ze=u.Z.apps.filter(Ie=>Ie&&Ie.name===Xe.name)[0]||Ne.runOutsideAngular(()=>u.Z.initializeApp(tt,Xe));try{JSON.stringify(tt)!==JSON.stringify(Ze.options)&&K("error",`${Ze.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new J(Ze)}const K=(tt,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[tt](...Ne)};function Ge(tt,Ne,Oe,Lt,Xe){const[,de,Ze]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===tt)||[];if(de)return function Ae(tt,Ne){try{return tt.toString()===Ne.toString()}catch{return tt===Ne}}(Xe,Ze)||(wt("error",`${Ne} was already initialized on the ${Oe} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),wt("warn",{is:Xe,was:Ze})),de;{const Ie=Lt();return globalThis.\u0275AngularfireInstanceCache.push([tt,Ie,Xe]),Ie}}const Qe=!!jt.hot,wt=(tt,...Ne)=>{(0,h.X6Q)()&&typeof console<"u"&&console[tt](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3266:(jt,Ke,M)=>{M.d(Ke,{AK:()=>Et,ad:()=>Jn,Cm:()=>Ne});var h=M(6351),u=M(4650),k=M(7667),fe=M(3692),j=M(5867),J=M(7128),te=M(5525);class Z{constructor(L){return L}}const oe="firestore",ge=new u.OlP("angularfire2.firestore-instances");function Ae(ee){return(L,z)=>{const De=L.runOutsideAngular(()=>ee(z));return new Z(De)}}const Qe={provide:class K{constructor(){return(0,h.vb)(oe)}},deps:[[new u.FiY,ge]]},wt={provide:Z,useFactory:function Ge(ee,L){const z=(0,h.JM)(oe,ee,L);return z&&new Z(z)},deps:[[new u.FiY,ge],fe.Ot]};let tt=(()=>{class ee{constructor(){(0,j.KN)("angularfire",h.q4.full,"fst")}}return ee.\u0275fac=function(z){return new(z||ee)},ee.\u0275mod=u.oAB({type:ee}),ee.\u0275inj=u.cJS({providers:[wt,Qe]}),ee})();function Ne(ee,...L){return{ngModule:tt,providers:[{provide:ge,useFactory:Ae(ee),multi:!0,deps:[u.R0b,u.zs3,h.HU,fe.z6,[new u.FiY,k.dh],[new u.FiY,J.nm],...L]}]}}const Et=(0,h.u3)(te.AK,!0),Jn=(0,h.u3)(te.ad,!0)},6351:(jt,Ke,M)=>{M.d(Ke,{q4:()=>se,iC:()=>_a,fc:()=>Xo,HU:()=>Ql,vb:()=>Jo,JM:()=>os,u3:()=>va});var h=M(4650),u=M(5867),k=M(5861),fe=M(9681),j=M(2090),J=M(4859),te=M(1877),Z=M(8766);const oe="@firebase/installations",K="0.5.12",ge=`w:${K}`,Ge="FIS_v2",Oe=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(R){return R instanceof j.ZR&&R.code.includes("request-failed")}function Xe({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function de(R){return{token:R.token,requestStatus:2,expiresIn:et(R.expiresIn),creationTime:Date.now()}}function Ze(R,H){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(R,H){const Te=(yield H.json()).error;return Oe.create("request-failed",{requestName:R,serverCode:Te.code,serverMessage:Te.message,serverStatus:Te.status})})).apply(this,arguments)}function he({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ze(R,{refreshToken:H}){const ae=he(R);return ae.append("Authorization",function Ue(R){return`${Ge} ${R}`}(H)),ae}function dt(R){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(R){const H=yield R();return H.status>=500&&H.status<600?R():H})).apply(this,arguments)}function et(R){return Number(R.replace("s","000"))}function pt(R,H){return nt.apply(this,arguments)}function nt(){return(nt=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},{fid:ae}){const Te=Xe(R),it=he(R),Tt=H.getImmediate({optional:!0});if(Tt){const _r=yield Tt.getHeartbeatsHeader();_r&&it.append("x-firebase-client",_r)}const Cn={method:"POST",headers:it,body:JSON.stringify({fid:ae,authVersion:Ge,appId:R.appId,sdkVersion:ge})},ir=yield dt(()=>fetch(Te,Cn));if(ir.ok){const _r=yield ir.json();return{fid:_r.fid||ae,registrationStatus:2,refreshToken:_r.refreshToken,authToken:de(_r.authToken)}}throw yield Ze("Create Installation",ir)})).apply(this,arguments)}function Ft(R){return new Promise(H=>{setTimeout(H,R)})}const Ot=/^[cdef][\w-]{21}$/;function lt(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const ae=function Pt(R){return function at(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Ot.test(ae)?ae:""}catch{return""}}function _n(R){return`${R.appName}!${R.appId}`}const wn=new Map;function pn(R,H){const ae=_n(R);Wn(ae,H),function Ar(R,H){const ae=function tn(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=R=>{Wn(R.data.key,R.data.fid)}),cr}();ae&&ae.postMessage({key:R,fid:H}),function Yr(){0===wn.size&&cr&&(cr.close(),cr=null)}()}(ae,H)}function Wn(R,H){const ae=wn.get(R);if(ae)for(const Te of ae)Te(H)}let cr=null;const Jn="firebase-installations-store";let sr=null;function nn(){return sr||(sr=(0,Z.X3)("firebase-installations-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(Jn)}})),sr}function Yn(R,H){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,k.Z)(function*(R,H){const ae=_n(R),it=(yield nn()).transaction(Jn,"readwrite"),Tt=it.objectStore(Jn),Gt=yield Tt.get(ae);return yield Tt.put(H,ae),yield it.done,(!Gt||Gt.fid!==H.fid)&&pn(R,H.fid),H})).apply(this,arguments)}function vn(R){return xn.apply(this,arguments)}function xn(){return(xn=(0,k.Z)(function*(R){const H=_n(R),Te=(yield nn()).transaction(Jn,"readwrite");yield Te.objectStore(Jn).delete(H),yield Te.done})).apply(this,arguments)}function br(R,H){return zr.apply(this,arguments)}function zr(){return(zr=(0,k.Z)(function*(R,H){const ae=_n(R),it=(yield nn()).transaction(Jn,"readwrite"),Tt=it.objectStore(Jn),Gt=yield Tt.get(ae),Cn=H(Gt);return void 0===Cn?yield Tt.delete(ae):yield Tt.put(Cn,ae),yield it.done,Cn&&(!Gt||Gt.fid!==Cn.fid)&&pn(R,Cn.fid),Cn})).apply(this,arguments)}function Zn(R){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(R){let H;const ae=yield br(R.appConfig,Te=>{const it=oi(Te),Tt=kn(R,it);return H=Tt.registrationPromise,Tt.installationEntry});return""===ae.fid?{installationEntry:yield H}:{installationEntry:ae,registrationPromise:H}})).apply(this,arguments)}function oi(R){return Mr(R||{fid:lt(),registrationStatus:0})}function kn(R,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Oe.create("app-offline"))};const ae={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Te=function qt(R,H){return Jt.apply(this,arguments)}(R,ae);return{installationEntry:ae,registrationPromise:Te}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:$r(R)}:{installationEntry:H}}function Jt(){return(Jt=(0,k.Z)(function*(R,H){try{const ae=yield pt(R,H);return Yn(R.appConfig,ae)}catch(ae){throw Lt(ae)&&409===ae.customData.serverCode?yield vn(R.appConfig):yield Yn(R.appConfig,{fid:H.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function $r(R){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(R){let H=yield Tn(R.appConfig);for(;1===H.registrationStatus;)yield Ft(100),H=yield Tn(R.appConfig);if(0===H.registrationStatus){const{installationEntry:ae,registrationPromise:Te}=yield Zn(R);return Te||ae}return H})).apply(this,arguments)}function Tn(R){return br(R,H=>{if(!H)throw Oe.create("installation-not-found");return Mr(H)})}function Mr(R){return function or(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Yt(R,H){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*({appConfig:R,heartbeatServiceProvider:H},ae){const Te=Ur(R,ae),it=ze(R,ae),Tt=H.getImmediate({optional:!0});if(Tt){const _r=yield Tt.getHeartbeatsHeader();_r&&it.append("x-firebase-client",_r)}const Cn={method:"POST",headers:it,body:JSON.stringify({installation:{sdkVersion:ge,appId:R.appId}})},ir=yield dt(()=>fetch(Te,Cn));if(ir.ok)return de(yield ir.json());throw yield Ze("Generate Auth Token",ir)})).apply(this,arguments)}function Ur(R,{fid:H}){return`${Xe(R)}/${H}/authTokens:generate`}function Pe(R){return ke.apply(this,arguments)}function ke(){return(ke=(0,k.Z)(function*(R,H=!1){let ae;const Te=yield br(R.appConfig,Tt=>{if(!zt(Tt))throw Oe.create("not-registered");const Gt=Tt.authToken;if(!H&&On(Gt))return Tt;if(1===Gt.requestStatus)return ae=ee(R,H),Tt;{if(!navigator.onLine)throw Oe.create("app-offline");const Cn=Dn(Tt);return ae=De(R,Cn),Cn}});return ae?yield ae:Te.authToken})).apply(this,arguments)}function ee(R,H){return L.apply(this,arguments)}function L(){return(L=(0,k.Z)(function*(R,H){let ae=yield z(R.appConfig);for(;1===ae.authToken.requestStatus;)yield Ft(100),ae=yield z(R.appConfig);const Te=ae.authToken;return 0===Te.requestStatus?Pe(R,H):Te})).apply(this,arguments)}function z(R){return br(R,H=>{if(!zt(H))throw Oe.create("not-registered");return function qe(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function De(R,H){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(R,H){try{const ae=yield Yt(R,H),Te=Object.assign(Object.assign({},H),{authToken:ae});return yield Yn(R.appConfig,Te),ae}catch(ae){if(!Lt(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Te=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Yn(R.appConfig,Te)}else yield vn(R.appConfig);throw ae}})).apply(this,arguments)}function zt(R){return void 0!==R&&2===R.registrationStatus}function On(R){return 2===R.requestStatus&&!function gn(R){const H=Date.now();return H<R.creationTime||R.creationTime+R.expiresIn<H+36e5}(R)}function Dn(R){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:H})}function Se(){return(Se=(0,k.Z)(function*(R){const H=R,{installationEntry:ae,registrationPromise:Te}=yield Zn(H);return Te?Te.catch(console.error):Pe(H).catch(console.error),ae.fid})).apply(this,arguments)}function Bt(){return(Bt=(0,k.Z)(function*(R,H=!1){const ae=R;return yield In(ae),(yield Pe(ae,H)).token})).apply(this,arguments)}function In(R){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,k.Z)(function*(R){const{registrationPromise:H}=yield Zn(R);H&&(yield H)})).apply(this,arguments)}function Un(R){return Oe.create("missing-app-config-values",{valueName:R})}const Sn="installations",pi=R=>{const H=R.getProvider("app").getImmediate(),ae=function Gn(R){if(!R||!R.options)throw Un("App Configuration");if(!R.name)throw Un("App Name");const H=["projectId","apiKey","appId"];for(const ae of H)if(!R.options[ae])throw Un(ae);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(H);return{app:H,appConfig:ae,heartbeatServiceProvider:(0,fe._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},ts=R=>{const H=R.getProvider("app").getImmediate(),ae=(0,fe._getProvider)(H,Sn).getImmediate();return{getId:()=>function Ce(R){return Se.apply(this,arguments)}(ae),getToken:it=>function It(R){return Bt.apply(this,arguments)}(ae,it)}};(function zi(){(0,fe._registerComponent)(new J.wA(Sn,pi,"PUBLIC")),(0,fe._registerComponent)(new J.wA("installations-internal",ts,"PRIVATE"))})(),(0,fe.registerVersion)(oe,K),(0,fe.registerVersion)(oe,K,"esm2017");const ri="@firebase/remote-config",gi=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rr{constructor(H,ae,Te,it){this.client=H,this.storage=ae,this.storageCache=Te,this.logger=it}isCachedDataFresh(H,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-ae,it=Te<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${it}.`),it}fetch(H){var ae=this;return(0,k.Z)(function*(){const[Te,it]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(it&&ae.isCachedDataFresh(H.cacheMaxAgeMillis,Te))return it;H.eTag=it&&it.eTag;const Tt=yield ae.client.fetch(H),Gt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&Gt.push(ae.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(Gt),Tt})()}}function Dr(R=navigator){return R.languages&&R.languages[0]||R.language}class mr{constructor(H,ae,Te,it,Tt,Gt){this.firebaseInstallations=H,this.sdkVersion=ae,this.namespace=Te,this.projectId=it,this.apiKey=Tt,this.appId=Gt}fetch(H){var ae=this;return(0,k.Z)(function*(){var Te,it,Tt;const[Gt,Cn]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),_r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},tr={sdk_version:ae.sdkVersion,app_instance_id:Gt,app_instance_id_token:Cn,app_id:ae.appId,language_code:Dr()},vr={method:"POST",headers:zn,body:JSON.stringify(tr)},eo=fetch(_r,vr),Ka=new Promise((mo,Ao)=>{H.signal.addEventListener(()=>{const fs=new Error("The operation was aborted.");fs.name="AbortError",Ao(fs)})});let Ss;try{yield Promise.race([eo,Ka]),Ss=yield eo}catch(mo){let Ao="fetch-client-network";throw"AbortError"===(null===(Te=mo)||void 0===Te?void 0:Te.name)&&(Ao="fetch-timeout"),gi.create(Ao,{originalErrorMessage:null===(it=mo)||void 0===it?void 0:it.message})}let Ea=Ss.status;const Ra=Ss.headers.get("ETag")||void 0;let Za,ba;if(200===Ss.status){let mo;try{mo=yield Ss.json()}catch(Ao){throw gi.create("fetch-client-parse",{originalErrorMessage:null===(Tt=Ao)||void 0===Tt?void 0:Tt.message})}Za=mo.entries,ba=mo.state}if("INSTANCE_STATE_UNSPECIFIED"===ba?Ea=500:"NO_CHANGE"===ba?Ea=304:("NO_TEMPLATE"===ba||"EMPTY_CONFIG"===ba)&&(Za={}),304!==Ea&&200!==Ea)throw gi.create("fetch-status",{httpStatus:Ea});return{status:Ea,eTag:Ra,config:Za}})()}}class ui{constructor(H,ae){this.client=H,this.storage=ae}fetch(H){var ae=this;return(0,k.Z)(function*(){const Te=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(H,Te)})()}attemptFetch(H,{throttleEndTimeMillis:ae,backoffCount:Te}){var it=this;return(0,k.Z)(function*(){yield function Ti(R,H){return new Promise((ae,Te)=>{const it=Math.max(H-Date.now(),0),Tt=setTimeout(ae,it);R.addEventListener(()=>{clearTimeout(Tt),Te(gi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,ae);try{const Tt=yield it.client.fetch(H);return yield it.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function hr(R){if(!(R instanceof j.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Tt))throw Tt;const Gt={throttleEndTimeMillis:Date.now()+(0,j.$s)(Te),backoffCount:Te+1};return yield it.storage.setThrottleMetadata(Gt),it.attemptFetch(H,Gt)}})()}}class Rs{constructor(H,ae,Te,it,Tt){this.app=H,this._client=ae,this._storageCache=Te,this._storage=it,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Us(R,H){var ae;const Te=R.target.error||void 0;return gi.create(H,{originalErrorMessage:Te&&(null===(ae=Te)||void 0===ae?void 0:ae.message)})}const gs="app_namespace_store";class us{constructor(H,ae,Te,it=function Ns(){return new Promise((R,H)=>{var ae;try{const Te=indexedDB.open("firebase_remote_config",1);Te.onerror=it=>{H(Us(it,"storage-open"))},Te.onsuccess=it=>{R(it.target.result)},Te.onupgradeneeded=it=>{0===it.oldVersion&&it.target.result.createObjectStore(gs,{keyPath:"compositeKey"})}}catch(Te){H(gi.create("storage-open",{originalErrorMessage:null===(ae=Te)||void 0===ae?void 0:ae.message}))}})}()){this.appId=H,this.appName=ae,this.namespace=Te,this.openDbPromise=it}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var ae=this;return(0,k.Z)(function*(){const Te=yield ae.openDbPromise;return new Promise((it,Tt)=>{var Gt;const ir=Te.transaction([gs],"readonly").objectStore(gs),_r=ae.createCompositeKey(H);try{const zn=ir.get(_r);zn.onerror=tr=>{Tt(Us(tr,"storage-get"))},zn.onsuccess=tr=>{const vr=tr.target.result;it(vr?vr.value:void 0)}}catch(zn){Tt(gi.create("storage-get",{originalErrorMessage:null===(Gt=zn)||void 0===Gt?void 0:Gt.message}))}})})()}set(H,ae){var Te=this;return(0,k.Z)(function*(){const it=yield Te.openDbPromise;return new Promise((Tt,Gt)=>{var Cn;const _r=it.transaction([gs],"readwrite").objectStore(gs),zn=Te.createCompositeKey(H);try{const tr=_r.put({compositeKey:zn,value:ae});tr.onerror=vr=>{Gt(Us(vr,"storage-set"))},tr.onsuccess=()=>{Tt()}}catch(tr){Gt(gi.create("storage-set",{originalErrorMessage:null===(Cn=tr)||void 0===Cn?void 0:Cn.message}))}})})()}delete(H){var ae=this;return(0,k.Z)(function*(){const Te=yield ae.openDbPromise;return new Promise((it,Tt)=>{var Gt;const ir=Te.transaction([gs],"readwrite").objectStore(gs),_r=ae.createCompositeKey(H);try{const zn=ir.delete(_r);zn.onerror=tr=>{Tt(Us(tr,"storage-delete"))},zn.onsuccess=()=>{it()}}catch(zn){Tt(gi.create("storage-delete",{originalErrorMessage:null===(Gt=zn)||void 0===Gt?void 0:Gt.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class xi{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,k.Z)(function*(){const ae=H.storage.getLastFetchStatus(),Te=H.storage.getLastSuccessfulFetchTimestampMillis(),it=H.storage.getActiveConfig(),Tt=yield ae;Tt&&(H.lastFetchStatus=Tt);const Gt=yield Te;Gt&&(H.lastSuccessfulFetchTimestampMillis=Gt);const Cn=yield it;Cn&&(H.activeConfig=Cn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function ms(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,k.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function co(){(0,fe._registerComponent)(new J.wA("remote-config",function R(H,{instanceIdentifier:ae}){const Te=H.getProvider("app").getImmediate(),it=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,j.hl)())throw gi.create("indexed-db-unavailable");const{projectId:Tt,apiKey:Gt,appId:Cn}=Te.options;if(!Tt)throw gi.create("registration-project-id");if(!Gt)throw gi.create("registration-api-key");if(!Cn)throw gi.create("registration-app-id");const ir=new us(Cn,Te.name,ae=ae||"firebase"),_r=new xi(ir),zn=new te.Yd(ri);zn.logLevel=te.in.ERROR;const tr=new mr(it,fe.SDK_VERSION,ae,Tt,Gt,Cn),vr=new ui(tr,ir),eo=new rr(vr,ir,_r,zn),Ka=new Rs(Te,eo,_r,ir,zn);return function gt(R){const H=(0,j.m9)(R);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Ka),Ka},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(ri,"0.3.11"),(0,fe.registerVersion)(ri,"0.3.11","esm2017")}();const Ki="/firebase-messaging-sw.js",Hi="/firebase-cloud-messaging-push-scope",Hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_s="google.c.a.c_id",vs="google.c.a.c_l",Es="google.c.a.ts",$s="google.c.a.e";var Br=(()=>{return(R=Br||(Br={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Br;var R})();function ai(R){const H=new Uint8Array(R);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function X(R){const ae=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Te=atob(ae),it=new Uint8Array(Te.length);for(let Tt=0;Tt<Te.length;++Tt)it[Tt]=Te.charCodeAt(Tt);return it}const Y="fcm_token_details_db",Ve="fcm_token_object_Store";function ut(R){return yt.apply(this,arguments)}function yt(){return yt=(0,k.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(Y))return null;let H=null;return(yield(0,Z.X3)(Y,5,{upgrade:(Te=(0,k.Z)(function*(it,Tt,Gt,Cn){var ir;if(Tt<2||!it.objectStoreNames.contains(Ve))return;const _r=Cn.objectStore(Ve),zn=yield _r.index("fcmSenderId").get(R);if(yield _r.clear(),zn)if(2===Tt){const tr=zn;if(!tr.auth||!tr.p256dh||!tr.endpoint)return;H={token:tr.fcmToken,createTime:null!==(ir=tr.createTime)&&void 0!==ir?ir:Date.now(),subscriptionOptions:{auth:tr.auth,p256dh:tr.p256dh,endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:"string"==typeof tr.vapidKey?tr.vapidKey:ai(tr.vapidKey)}}}else if(3===Tt){const tr=zn;H={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:ai(tr.auth),p256dh:ai(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:ai(tr.vapidKey)}}}else if(4===Tt){const tr=zn;H={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:ai(tr.auth),p256dh:ai(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:ai(tr.vapidKey)}}}}),function(Tt,Gt,Cn,ir){return Te.apply(this,arguments)})})).close(),yield(0,Z.Lj)(Y),yield(0,Z.Lj)("fcm_vapid_details_db"),yield(0,Z.Lj)("undefined"),an(H)?H:null;var Te}),yt.apply(this,arguments)}function an(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:H}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Bn="firebase-messaging-store";let ar=null;function yr(){return ar||(ar=(0,Z.X3)("firebase-messaging-database",1,{upgrade:(R,H)=>{0===H&&R.createObjectStore(Bn)}})),ar}function ti(R){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(R){const H=He(R),Te=yield(yield yr()).transaction(Bn).objectStore(Bn).get(H);if(Te)return Te;{const it=yield ut(R.appConfig.senderId);if(it)return yield V(R,it),it}})).apply(this,arguments)}function V(R,H){return ie.apply(this,arguments)}function ie(){return(ie=(0,k.Z)(function*(R,H){const ae=He(R),it=(yield yr()).transaction(Bn,"readwrite");return yield it.objectStore(Bn).put(H,ae),yield it.done,H})).apply(this,arguments)}function U(R){return ce.apply(this,arguments)}function ce(){return(ce=(0,k.Z)(function*(R){const H=He(R),Te=(yield yr()).transaction(Bn,"readwrite");yield Te.objectStore(Bn).delete(H),yield Te.done})).apply(this,arguments)}function He({appConfig:R}){return R.appId}const rt=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function un(R,H){return qn.apply(this,arguments)}function qn(){return(qn=(0,k.Z)(function*(R,H){var ae;const Te=yield mi(R),it=lr(H),Tt={method:"POST",headers:Te,body:JSON.stringify(it)};let Gt;try{Gt=yield(yield fetch(ii(R.appConfig),Tt)).json()}catch(Cn){throw rt.create("token-subscribe-failed",{errorInfo:null===(ae=Cn)||void 0===ae?void 0:ae.toString()})}if(Gt.error)throw rt.create("token-subscribe-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw rt.create("token-subscribe-no-token");return Gt.token})).apply(this,arguments)}function Kr(R,H){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(R,H){var ae;const Te=yield mi(R),it=lr(H.subscriptionOptions),Tt={method:"PATCH",headers:Te,body:JSON.stringify(it)};let Gt;try{Gt=yield(yield fetch(`${ii(R.appConfig)}/${H.token}`,Tt)).json()}catch(Cn){throw rt.create("token-update-failed",{errorInfo:null===(ae=Cn)||void 0===ae?void 0:ae.toString()})}if(Gt.error)throw rt.create("token-update-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw rt.create("token-update-no-token");return Gt.token})).apply(this,arguments)}function wr(R,H){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(R,H){var ae;const it={method:"DELETE",headers:yield mi(R)};try{const Gt=yield(yield fetch(`${ii(R.appConfig)}/${H}`,it)).json();if(Gt.error)throw rt.create("token-unsubscribe-failed",{errorInfo:Gt.error.message})}catch(Tt){throw rt.create("token-unsubscribe-failed",{errorInfo:null===(ae=Tt)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function ii({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function mi(R){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*({appConfig:R,installations:H}){const ae=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function lr({p256dh:R,auth:H,endpoint:ae,vapidKey:Te}){const it={web:{endpoint:ae,auth:H,p256dh:R}};return Te!==Hs&&(it.web.applicationPubKey=Te),it}const $i=6048e5;function ds(R){return si.apply(this,arguments)}function si(){return(si=(0,k.Z)(function*(R){const H=yield Fa(R.swRegistration,R.vapidKey),ae={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:H.endpoint,auth:ai(H.getKey("auth")),p256dh:ai(H.getKey("p256dh"))},Te=yield ti(R.firebaseDependencies);if(Te){if($(Te.subscriptionOptions,ae))return Date.now()>=Te.createTime+$i?ns(R,{token:Te.token,createTime:Date.now(),subscriptionOptions:ae}):Te.token;try{yield wr(R.firebaseDependencies,Te.token)}catch(it){console.warn(it)}return Di(R.firebaseDependencies,ae)}return Di(R.firebaseDependencies,ae)})).apply(this,arguments)}function ho(R){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(R){const H=yield ti(R.firebaseDependencies);H&&(yield wr(R.firebaseDependencies,H.token),yield U(R.firebaseDependencies));const ae=yield R.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function ns(R,H){return vo.apply(this,arguments)}function vo(){return(vo=(0,k.Z)(function*(R,H){try{const ae=yield Kr(R.firebaseDependencies,H),Te=Object.assign(Object.assign({},H),{token:ae,createTime:Date.now()});return yield V(R.firebaseDependencies,Te),ae}catch(ae){throw yield ho(R),ae}})).apply(this,arguments)}function Di(R,H){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(R,H){const Te={token:yield un(R,H),createTime:Date.now(),subscriptionOptions:H};return yield V(R,Te),Te.token})).apply(this,arguments)}function Fa(R,H){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,k.Z)(function*(R,H){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:X(H)})})).apply(this,arguments)}function $(R,H){return H.vapidKey===R.vapidKey&&H.endpoint===R.endpoint&&H.auth===R.auth&&H.p256dh===R.p256dh}function F(R){const H={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function O(R,H){if(!H.notification)return;R.notification={};const ae=H.notification.title;ae&&(R.notification.title=ae);const Te=H.notification.body;Te&&(R.notification.body=Te);const it=H.notification.image;it&&(R.notification.image=it)}(H,R),function ue(R,H){!H.data||(R.data=H.data)}(H,R),function vt(R,H){var ae,Te,it,Tt,Gt;if(!(H.fcmOptions||null!==(ae=H.notification)&&void 0!==ae&&ae.click_action))return;R.fcmOptions={};const Cn=null!==(it=null===(Te=H.fcmOptions)||void 0===Te?void 0:Te.link)&&void 0!==it?it:null===(Tt=H.notification)||void 0===Tt?void 0:Tt.click_action;Cn&&(R.fcmOptions.link=Cn);const ir=null===(Gt=H.fcmOptions)||void 0===Gt?void 0:Gt.analytics_label;ir&&(R.fcmOptions.analyticsLabel=ir)}(H,R),H}function hn(R){return"object"==typeof R&&!!R&&_s in R}function Ei(R,H){const ae=[];for(let Te=0;Te<R.length;Te++)ae.push(R.charAt(Te)),Te<H.length&&ae.push(H.charAt(Te));return ae.join("")}function Js(R){return rt.create("missing-app-config-values",{valueName:R})}Ei("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ei("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ro{constructor(H,ae,Te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const it=function Ni(R){if(!R||!R.options)throw Js("App Configuration Object");if(!R.name)throw Js("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=R;for(const Te of H)if(!ae[Te])throw Js(Te);return{appName:R.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:it,installations:ae,analyticsProvider:Te}}_delete(){return Promise.resolve()}}function io(R){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(R){var H;try{R.swRegistration=yield navigator.serviceWorker.register(Ki,{scope:Hi}),R.swRegistration.update().catch(()=>{})}catch(ae){throw rt.create("failed-service-worker-registration",{browserErrorMessage:null===(H=ae)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function il(R,H){return $o.apply(this,arguments)}function $o(){return($o=(0,k.Z)(function*(R,H){if(!H&&!R.swRegistration&&(yield io(R)),H||!R.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");R.swRegistration=H}})).apply(this,arguments)}function sl(R,H){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,k.Z)(function*(R,H){H?R.vapidKey=H:R.vapidKey||(R.vapidKey=Hs)})).apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(R,H){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield sl(R,H?.vapidKey),yield il(R,H?.serviceWorkerRegistration),ds(R)})).apply(this,arguments)}function Oi(R,H,ae){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,k.Z)(function*(R,H,ae){const Te=Wo(H);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Te,{message_id:ae[_s],message_name:ae[vs],message_time:ae[Es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wo(R){switch(R){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Va(){return(Va=(0,k.Z)(function*(R,H){const ae=H.data;if(!ae.isFirebaseMessaging)return;R.onMessageHandler&&ae.messageType===Br.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(F(ae)):R.onMessageHandler.next(F(ae)));const Te=ae.data;hn(Te)&&"1"===Te[$s]&&(yield Oi(R,ae.messageType,Te))})).apply(this,arguments)}const Ma="@firebase/messaging",Ls=R=>{const H=new ro(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function vl(R,H){return Va.apply(this,arguments)}(H,ae)),H},yi=R=>{const H=R.getProvider("messaging").getImmediate();return{getToken:Te=>function jo(R,H){return hi.apply(this,arguments)}(H,Te)}};function ua(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,k.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function No(){(0,fe._registerComponent)(new J.wA("messaging",Ls,"PUBLIC")),(0,fe._registerComponent)(new J.wA("messaging-internal",yi,"PRIVATE")),(0,fe.registerVersion)(Ma,"0.9.16"),(0,fe.registerVersion)(Ma,"0.9.16","esm2017")}();const Go="analytics",ca="firebase_id",Ha="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",da="https://www.googletagmanager.com/gtag/js",bi=new te.Yd("@firebase/analytics");function kl(R){return Promise.all(R.map(H=>H.catch(ae=>ae)))}function $a(R,H){const ae=document.createElement("script");ae.src=`${da}?l=${R}&id=${H}`,ae.async=!0,document.head.appendChild(ae)}function Lo(R,H,ae,Te,it,Tt){return wi.apply(this,arguments)}function wi(){return(wi=(0,k.Z)(function*(R,H,ae,Te,it,Tt){const Gt=Te[it];try{if(Gt)yield H[Gt];else{const ir=(yield kl(ae)).find(_r=>_r.measurementId===it);ir&&(yield H[ir.appId])}}catch(Cn){bi.error(Cn)}R("config",it,Tt)})).apply(this,arguments)}function fo(R,H,ae,Te,it){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,k.Z)(function*(R,H,ae,Te,it){try{let Tt=[];if(it&&it.send_to){let Gt=it.send_to;Array.isArray(Gt)||(Gt=[Gt]);const Cn=yield kl(ae);for(const ir of Gt){const _r=Cn.find(tr=>tr.measurementId===ir),zn=_r&&H[_r.appId];if(!zn){Tt=[];break}Tt.push(zn)}}0===Tt.length&&(Tt=Object.values(H)),yield Promise.all(Tt),R("event",Te,it||{})}catch(Tt){bi.error(Tt)}})).apply(this,arguments)}function Kt(){const R=window.document.getElementsByTagName("script");for(const H of Object.values(R))if(H.src&&H.src.includes(da))return H;return null}const hs=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wl=new class Xn{constructor(H={},ae=1e3){this.throttleMetadata=H,this.intervalMillis=ae}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,ae){this.throttleMetadata[H]=ae}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function fn(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function At(R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(R){var H;const{appId:ae,apiKey:Te}=R,it={method:"GET",headers:fn(Te)},Tt=Ha.replace("{app-id}",ae),Gt=yield fetch(Tt,it);if(200!==Gt.status&&304!==Gt.status){let Cn="";try{const ir=yield Gt.json();null!==(H=ir.error)&&void 0!==H&&H.message&&(Cn=ir.error.message)}catch{}throw hs.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:Cn})}return Gt.json()})).apply(this,arguments)}function _i(R){return zo.apply(this,arguments)}function zo(){return(zo=(0,k.Z)(function*(R,H=wl,ae){const{appId:Te,apiKey:it,measurementId:Tt}=R.options;if(!Te)throw hs.create("no-app-id");if(!it){if(Tt)return{measurementId:Tt,appId:Te};throw hs.create("no-api-key")}const Gt=H.getThrottleMetadata(Te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Zo;return setTimeout((0,k.Z)(function*(){Cn.abort()}),void 0!==ae?ae:6e4),Ko({appId:Te,apiKey:it,measurementId:Tt},Gt,Cn,H)})).apply(this,arguments)}function Ko(R,H,ae){return ha.apply(this,arguments)}function ha(){return(ha=(0,k.Z)(function*(R,{throttleEndTimeMillis:H,backoffCount:ae},Te,it=wl){var Tt,Gt;const{appId:Cn,measurementId:ir}=R;try{yield fa(Te,H)}catch(_r){if(ir)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ir} provided in the "measurementId" field in the local Firebase config. [${null===(Tt=_r)||void 0===Tt?void 0:Tt.message}]`),{appId:Cn,measurementId:ir};throw _r}try{const _r=yield At(R);return it.deleteThrottleMetadata(Cn),_r}catch(_r){const zn=_r;if(!pa(zn)){if(it.deleteThrottleMetadata(Cn),ir)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ir} provided in the "measurementId" field in the local Firebase config. [${zn?.message}]`),{appId:Cn,measurementId:ir};throw _r}const tr=503===Number(null===(Gt=zn?.customData)||void 0===Gt?void 0:Gt.httpStatus)?(0,j.$s)(ae,it.intervalMillis,30):(0,j.$s)(ae,it.intervalMillis),vr={throttleEndTimeMillis:Date.now()+tr,backoffCount:ae+1};return it.setThrottleMetadata(Cn,vr),bi.debug(`Calling attemptFetch again in ${tr} millis`),Ko(R,vr,Te,it)}})).apply(this,arguments)}function fa(R,H){return new Promise((ae,Te)=>{const it=Math.max(H-Date.now(),0),Tt=setTimeout(ae,it);R.addEventListener(()=>{clearTimeout(Tt),Te(hs.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function pa(R){if(!(R instanceof j.ZR&&R.customData))return!1;const H=Number(R.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Zo{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let ll,fr;function Oa(){return(Oa=(0,k.Z)(function*(R,H,ae,Te,it){if(it&&it.global)R("event",ae,Te);else{const Tt=yield H;R("event",ae,Object.assign(Object.assign({},Te),{send_to:Tt}))}})).apply(this,arguments)}function rs(R){fr=R}function Ii(R){ll=R}function en(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,k.Z)(function*(){var R;if(!(0,j.hl)())return bi.warn(hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(H){return bi.warn(hs.create("indexeddb-unavailable",{errorInfo:null===(R=H)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function po(){return(po=(0,k.Z)(function*(R,H,ae,Te,it,Tt,Gt){var Cn;const ir=_i(R);ir.then(eo=>{ae[eo.measurementId]=eo.appId,R.options.measurementId&&eo.measurementId!==R.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${eo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(eo=>bi.error(eo)),H.push(ir);const _r=en().then(eo=>{if(eo)return Te.getId()}),[zn,tr]=yield Promise.all([ir,_r]);Kt()||$a(Tt,zn.measurementId),fr&&(it("consent","default",fr),rs(void 0)),it("js",new Date);const vr=null!==(Cn=Gt?.config)&&void 0!==Cn?Cn:{};return vr.origin="firebase",vr.update=!0,null!=tr&&(vr[ca]=tr),it("config",zn.measurementId,vr),ll&&(it("set",ll),Ii(void 0)),zn.measurementId})).apply(this,arguments)}class bs{constructor(H){this.app=H}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},Io=[];const Pa={};let Ll,Xs,Ji="dataLayer",qr=!1;function Ga(R,H,ae){!function Ct(){const R=[];if((0,j.ru)()&&R.push("This is a browser extension environment."),(0,j.zI)()||R.push("Cookies are not available."),R.length>0){const H=R.map((Te,it)=>`(${it+1}) ${Te}`).join(" "),ae=hs.create("invalid-analytics-context",{errorInfo:H});bi.warn(ae.message)}}();const Te=R.options.appId;if(!Te)throw hs.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw hs.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[Te])throw hs.create("already-exists",{id:Te});if(!qr){!function Ws(R){let H=[];Array.isArray(window[R])?H=window[R]:window[R]=H}(Ji);const{wrappedGtag:Tt,gtagCore:Gt}=function al(R,H,ae,Te,it){let Tt=function(...Gt){window[Te].push(arguments)};return window[it]&&"function"==typeof window[it]&&(Tt=window[it]),window[it]=function xa(R,H,ae,Te){function Tt(){return(Tt=(0,k.Z)(function*(Gt,Cn,ir){try{"event"===Gt?yield fo(R,H,ae,Cn,ir):"config"===Gt?yield Lo(R,H,ae,Te,Cn,ir):"consent"===Gt?R("consent","update",ir):R("set",Cn)}catch(_r){bi.error(_r)}})).apply(this,arguments)}return function it(Gt,Cn,ir){return Tt.apply(this,arguments)}}(Tt,R,H,ae),{gtagCore:Tt,wrappedGtag:window[it]}}(is,Io,Pa,Ji,"gtag");Xs=Tt,Ll=Gt,qr=!0}return is[Te]=function Wa(R,H,ae,Te,it,Tt,Gt){return po.apply(this,arguments)}(R,Io,Pa,H,Ll,Ji,ae),new bs(R)}function ul(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,k.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const za="@firebase/analytics";!function so(){(0,fe._registerComponent)(new J.wA(Go,(H,{options:ae})=>Ga(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,fe._registerComponent)(new J.wA("analytics-internal",function R(H){try{const ae=H.getProvider(Go).getImmediate();return{logEvent:(Te,it,Tt)=>function ma(R,H,ae,Te){R=(0,j.m9)(R),function ja(R,H,ae,Te,it){return Oa.apply(this,arguments)}(Xs,is[R.app.options.appId],H,ae,Te).catch(it=>bi.error(it))}(ae,Te,it,Tt)}}catch(ae){throw hs.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,fe.registerVersion)(za,"0.8.0"),(0,fe.registerVersion)(za,"0.8.0","esm2017")}();var Wi=M(233),T=M(4986),C=M(9751),w=M(8505),P=M(5363),B=M(9468);const se=new h.GfV("7.4.1"),Ee="__angularfire_symbol__analyticsIsSupportedValue",Me="__angularfire_symbol__analyticsIsSupported",bt="__angularfire_symbol__remoteConfigIsSupportedValue",on="__angularfire_symbol__remoteConfigIsSupported",Mn="__angularfire_symbol__messagingIsSupportedValue",Rn="__angularfire_symbol__messagingIsSupported";function os(R,H,ae){if(H){if(1===H.length)return H[0];const Tt=H.filter(Gt=>Gt.app===ae);if(1===Tt.length)return Tt[0]}return ae.container.getProvider(R).getImmediate({optional:!0})}globalThis[Me]||(globalThis[Me]=ul().then(R=>globalThis[Ee]=R).catch(()=>globalThis[Ee]=!1)),globalThis[Rn]||(globalThis[Rn]=ua().then(R=>globalThis[Mn]=R).catch(()=>globalThis[Mn]=!1)),globalThis[on]||(globalThis[on]=ms().then(R=>globalThis[bt]=R).catch(()=>globalThis[bt]=!1));const Jo=(R,H)=>{const ae=H?[H]:(0,u.C6)(),Te=[];return ae.forEach(it=>{it.container.getProvider(R).instances.forEach(Gt=>{Te.includes(Gt)||Te.push(Gt)})}),Te};function Ks(){}class ya{constructor(H,ae=Wi.N){this.zone=H,this.delegate=ae}now(){return this.delegate.now()}schedule(H,ae,Te){const it=this.zone;return this.delegate.schedule(function(Gt){it.runGuarded(()=>{H.apply(this,[Gt])})},ae,Te)}}class go{constructor(H){this.zone=H,this.task=null}call(H,ae){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),ae.pipe((0,w.b)({next:Te,complete:Te,error:Te})).subscribe(H).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ql=(()=>{class R{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new ya(Zone.current)),this.insideAngular=ae.run(()=>new ya(Zone.current,T.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(ae){return new(ae||R)(h.LFG(h.R0b))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function as(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Do(R){return as().ngZone.runOutsideAngular(()=>R())}function ao(R){return as().ngZone.run(()=>R())}function Xo(R){return R.pipe((0,P.Q)(as().outsideAngular))}function _a(R){return as(),function Vl(R){return function(ae){return(ae=ae.lift(new go(R.ngZone))).pipe((0,B.R)(R.outsideAngular),(0,P.Q)(R.insideAngular))}}(as())(R)}const So=(R,H)=>function(){const Te=arguments;return H&&setTimeout(()=>{"scheduled"===H.state&&H.invoke()},10),ao(()=>R.apply(void 0,Te))},va=(R,H)=>function(){let ae;const Te=arguments;for(let Tt=0;Tt<arguments.length;Tt++)"function"==typeof Te[Tt]&&(H&&(ae||(ae=ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)))),Te[Tt]=So(Te[Tt],ae));const it=Do(()=>R.apply(this,Te));if(!H){if(it instanceof C.y){const Tt=as();return it.pipe((0,B.R)(Tt.outsideAngular),(0,P.Q)(Tt.insideAngular))}return ao(()=>it)}return it instanceof C.y?it.pipe(_a):it instanceof Promise?ao(()=>new Promise((Tt,Gt)=>it.then(Cn=>ao(()=>Tt(Cn)),Cn=>ao(()=>Gt(Cn))))):"function"==typeof it&&ae?function(){return setTimeout(()=>{ae&&"scheduled"===ae.state&&ae.invoke()},10),it.apply(this,arguments)}:ao(()=>it)}},6457:(jt,Ke,M)=>{M.d(Ke,{$:()=>ii,A:()=>ne,B:()=>Ae,G:()=>ts,H:()=>ei,J:()=>ui,L:()=>On,M:()=>Yi,N:()=>ys,P:()=>se,Q:()=>_s,R:()=>Xi,T:()=>vs,U:()=>Hs,V:()=>Br,W:()=>ai,X:()=>ut,Y:()=>_t,Z:()=>un,_:()=>Kr,a:()=>Pn,a0:()=>ds,a1:()=>ho,a2:()=>ns,a3:()=>Di,a4:()=>Fa,a5:()=>$,a6:()=>O,a7:()=>ue,a8:()=>hn,a9:()=>Ei,aA:()=>Ra,aB:()=>vr,aC:()=>So,aD:()=>Vl,aE:()=>jr,aI:()=>fn,aL:()=>$s,aa:()=>io,ab:()=>il,ac:()=>sl,af:()=>Oi,ag:()=>Wo,ah:()=>vl,ak:()=>Bn,al:()=>Ua,an:()=>da,ao:()=>wi,ap:()=>Re,aq:()=>dt,ar:()=>Le,as:()=>In,at:()=>Lt,au:()=>Na,av:()=>Ao,aw:()=>Xe,ax:()=>he,ay:()=>et,az:()=>gn,b:()=>hs,c:()=>oo,d:()=>Ks,e:()=>os,f:()=>H,g:()=>Cn,h:()=>it,i:()=>Yo,j:()=>zn,k:()=>ws,l:()=>es,m:()=>Cl,n:()=>vc,o:()=>Z,r:()=>Wi,s:()=>zs,u:()=>P});var h=M(5861),u=M(2090),k=M(9681),fe=M(655),j=M(1877),J=M(4859);const Z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wt=new u.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new j.Yd("@firebase/auth");function Oe(I,...g){Ne.logLevel<=j.in.ERROR&&Ne.error(`Auth (${k.SDK_VERSION}): ${I}`,...g)}function Lt(I,...g){throw Ie(I,...g)}function Xe(I,...g){return Ie(I,...g)}function de(I,g,y){const S=Object.assign(Object.assign({},Qe()),{[g]:y});return new u.LL("auth","Firebase",S).create(g,{appName:I.name})}function Ze(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Lt(I,"argument-error"),de(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(I,...g){if("string"!=typeof I){const y=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(y,...S)}return wt.create(I,...g)}function he(I,g,...y){if(!I)throw Ie(g,...y)}function ze(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Oe(g),new Error(g)}function dt(I,g){I||ze(g)}const Be=new Map;function et(I){dt(I instanceof Function,"Expected a class definition");let g=Be.get(I);return g?(dt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,Be.set(I,g),g)}function nt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ft(){return"http:"===at()||"https:"===at()}function at(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class lt{constructor(g,y){this.shortDelay=g,this.longDelay=y,dt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,u.uI)()||(0,u.b$)()}get(){return function Ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,u.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(I,g){dt(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class _n{static initialize(g,y,S){this.fetchImpl=g,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pn=new lt(3e4,6e4);function En(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function bn(I,g,y,S){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(I,g,y,S,re={}){return Ar(I,re,(0,h.Z)(function*(){let me={},st={};S&&("GET"===g?st=S:me={body:JSON.stringify(S)});const kt=(0,u.xO)(Object.assign({key:I.config.apiKey},st)).slice(1),An=yield I._getAdditionalHeaders();return An["Content-Type"]="application/json",I.languageCode&&(An["X-Firebase-Locale"]=I.languageCode),_n.fetch()($n(I,I.config.apiHost,y,kt),Object.assign({method:g,headers:An,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Ar(I,g,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(I,g,y){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},wn),g);try{const re=new Cr(I),me=yield Promise.race([y(),re.promise]);re.clearNetworkTimeout();const st=yield me.json();if("needConfirmation"in st)throw Jn(I,"account-exists-with-different-credential",st);if(me.ok&&!("errorMessage"in st))return st;{const kt=me.ok?st.errorMessage:st.error.message,[An,Ln]=kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===An)throw Jn(I,"credential-already-in-use",st);if("EMAIL_EXISTS"===An)throw Jn(I,"email-already-in-use",st);if("USER_DISABLED"===An)throw Jn(I,"user-disabled",st);const Vr=S[An]||An.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw de(I,Vr,Ln);Lt(I,Vr)}}catch(re){if(re instanceof u.ZR)throw re;Lt(I,"network-request-failed")}})).apply(this,arguments)}function tn(I,g,y,S){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(I,g,y,S,re={}){const me=yield bn(I,g,y,S,re);return"mfaPendingCredential"in me&&Lt(I,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function $n(I,g,y,S){const re=`${g}${y}?${S}`;return I.config.emulator?Pt(I.config,re):`${I.config.apiScheme}://${re}`}class Cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Xe(this.auth,"network-request-failed")),pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(I,g,y){const S={appName:I.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const re=Xe(I,g,S);return re.customData._tokenResponse=y,re}function nn(){return(nn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Yn(I,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vn(I,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function br(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Tr(){return(Tr=(0,h.Z)(function*(I,g=!1){const y=(0,u.m9)(I),S=yield y.getIdToken(g),re=kn(S);he(re&&re.exp&&re.auth_time&&re.iat,y.auth,"internal-error");const me="object"==typeof re.firebase?re.firebase:void 0,st=me?.sign_in_provider;return{claims:re,token:S,authTime:br(oi(re.auth_time)),issuedAtTime:br(oi(re.iat)),expirationTime:br(oi(re.exp)),signInProvider:st||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function oi(I){return 1e3*Number(I)}function kn(I){var g;const[y,S,re]=I.split(".");if(void 0===y||void 0===S||void 0===re)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const me=(0,u.tV)(S);return me?JSON.parse(me):(Oe("Failed to decode base64 JWT payload"),null)}catch(me){return Oe("Caught error parsing JWT payload as JSON",null===(g=me)||void 0===g?void 0:g.toString()),null}}function Jt(I,g){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(S){throw S instanceof u.ZR&&Nr(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function Nr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Tn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const re=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),S)}iteration(){var g=this;return(0,h.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(y=S)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Mr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,h.Z)(function*(I){var g;const y=I.auth,S=yield I.getIdToken(),re=yield Jt(I,vn(y,{idToken:S}));he(re?.users.length,y,"internal-error");const me=re.users[0];I._notifyReloadListener(me);const st=null!==(g=me.providerUserInfo)&&void 0!==g&&g.length?ke(me.providerUserInfo):[],kt=Pe(I.providerData,st),Vr=!!I.isAnonymous&&!(I.email&&me.passwordHash||kt?.length),Pi={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:kt,metadata:new Mr(me.createdAt,me.lastLoginAt),isAnonymous:Vr};Object.assign(I,Pi)})).apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(I){const g=(0,u.m9)(I);yield or(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Pe(I,g){return[...I.filter(S=>!g.some(re=>re.providerId===S.providerId)),...g]}function ke(I){return I.map(g=>{var{providerId:y}=g,S=(0,fe._T)(g,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function L(){return(L=(0,h.Z)(function*(I,g){const y=yield Ar(I,{},(0,h.Z)(function*(){const S=(0,u.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:re,apiKey:me}=I.config,st=$n(I,re,"/v1/token",`key=${me}`),kt=yield I._getAdditionalHeaders();return kt["Content-Type"]="application/x-www-form-urlencoded",_n.fetch()(st,{method:"POST",headers:kt,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){he(g.idToken,"internal-error"),he(typeof g.idToken<"u","internal-error"),he(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function qt(I){const g=kn(I);return he(g,"internal-error"),he(typeof g.exp<"u","internal-error"),he(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var S=this;return(0,h.Z)(function*(){return he(!S.accessToken||S.refreshToken,g,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var S=this;return(0,h.Z)(function*(){const{accessToken:re,refreshToken:me,expiresIn:st}=yield function ee(I,g){return L.apply(this,arguments)}(g,y);S.updateTokensAndExpiration(re,me,Number(st))})()}updateTokensAndExpiration(g,y,S){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,y){const{refreshToken:S,accessToken:re,expirationTime:me}=y,st=new z;return S&&(he("string"==typeof S,"internal-error",{appName:g}),st.refreshToken=S),re&&(he("string"==typeof re,"internal-error",{appName:g}),st.accessToken=re),me&&(he("number"==typeof me,"internal-error",{appName:g}),st.expirationTime=me),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return ze("not implemented")}}function De(I,g){he("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class ot{constructor(g){var{uid:y,auth:S,stsTokenManager:re}=g,me=(0,fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new Mr(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,h.Z)(function*(){const S=yield Jt(y,y.stsTokenManager.getToken(y.auth,g));return he(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(g){return function Zn(I){return Tr.apply(this,arguments)}(this,g)}reload(){return function jn(I){return Ur.apply(this,arguments)}(this)}_assign(g){this!==g&&(he(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ot(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var S=this;return(0,h.Z)(function*(){let re=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),re=!0),y&&(yield or(S)),yield S.auth._persistUserIfCurrent(S),re&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,h.Z)(function*(){const y=yield g.getIdToken();return yield Jt(g,function sr(I,g){return nn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var S,re,me,st,kt,An,Ln,Vr;const Pi=null!==(S=y.displayName)&&void 0!==S?S:void 0,Ia=null!==(re=y.email)&&void 0!==re?re:void 0,na=null!==(me=y.phoneNumber)&&void 0!==me?me:void 0,Ya=null!==(st=y.photoURL)&&void 0!==st?st:void 0,Qa=null!==(kt=y.tenantId)&&void 0!==kt?kt:void 0,Ec=null!==(An=y._redirectEventId)&&void 0!==An?An:void 0,Sl=null!==(Ln=y.createdAt)&&void 0!==Ln?Ln:void 0,tu=null!==(Vr=y.lastLoginAt)&&void 0!==Vr?Vr:void 0,{uid:ka,emailVerified:Ku,isAnonymous:td,providerData:ls,stsTokenManager:li}=y;he(ka&&li,g,"internal-error");const nd=z.fromJSON(this.name,li);he("string"==typeof ka,g,"internal-error"),De(Pi,g.name),De(Ia,g.name),he("boolean"==typeof Ku,g,"internal-error"),he("boolean"==typeof td,g,"internal-error"),De(na,g.name),De(Ya,g.name),De(Qa,g.name),De(Ec,g.name),De(Sl,g.name),De(tu,g.name);const Zu=new ot({uid:ka,auth:g,email:Ia,emailVerified:Ku,displayName:Pi,isAnonymous:td,photoURL:Ya,phoneNumber:na,tenantId:Qa,stsTokenManager:nd,createdAt:Sl,lastLoginAt:tu});return ls&&Array.isArray(ls)&&(Zu.providerData=ls.map(Al=>Object.assign({},Al))),Ec&&(Zu._redirectEventId=Ec),Zu}static _fromIdTokenResponse(g,y,S=!1){return(0,h.Z)(function*(){const re=new z;re.updateFromServerResponse(y);const me=new ot({uid:y.localId,auth:g,stsTokenManager:re,isAnonymous:S});return yield or(me),me})()}}const On=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,S){var re=this;return(0,h.Z)(function*(){re.storage[y]=S})()}_get(y){var S=this;return(0,h.Z)(function*(){const re=S.storage[y];return void 0===re?null:re})()}_remove(y){var S=this;return(0,h.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return I.type="NONE",I})();function gn(I,g,y){return`firebase:${I}:${g}:${y}`}class Dn{constructor(g,y,S){this.persistence=g,this.auth=y,this.userKey=S;const{config:re,name:me}=this.auth;this.fullUserKey=gn(this.userKey,re.apiKey,me),this.fullPersistenceKey=gn("persistence",re.apiKey,me),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?ot._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,h.Z)(function*(){if(y.persistence===g)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,S="authUser"){return(0,h.Z)(function*(){if(!y.length)return new Dn(et(On),g,S);const re=(yield Promise.all(y.map(function(){var Ln=(0,h.Z)(function*(Vr){if(yield Vr._isAvailable())return Vr});return function(Vr){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let me=re[0]||et(On);const st=gn(S,g.config.apiKey,g.name);let kt=null;for(const Ln of y)try{const Vr=yield Ln._get(st);if(Vr){const Pi=ot._fromJSON(g,Vr);Ln!==me&&(kt=Pi),me=Ln;break}}catch{}const An=re.filter(Ln=>Ln._shouldAllowMigration);return me._shouldAllowMigration&&An.length?(me=An[0],kt&&(yield me._set(st,kt.toJSON())),yield Promise.all(y.map(function(){var Ln=(0,h.Z)(function*(Vr){if(Vr!==me)try{yield Vr._remove(st)}catch{}});return function(Vr){return Ln.apply(this,arguments)}}())),new Dn(me,g,S)):new Dn(me,g,S)})()}}function qe(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Bt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ce(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Mt(g))return"Blackberry";if(sn(g))return"Webos";if(Se(g))return"Safari";if((g.includes("chrome/")||It(g))&&!g.includes("edge/"))return"Chrome";if(In(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Ce(I=(0,u.z$)()){return/firefox\//i.test(I)}function Se(I=(0,u.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function It(I=(0,u.z$)()){return/crios\//i.test(I)}function Bt(I=(0,u.z$)()){return/iemobile/i.test(I)}function In(I=(0,u.z$)()){return/android/i.test(I)}function Mt(I=(0,u.z$)()){return/blackberry/i.test(I)}function sn(I=(0,u.z$)()){return/webos/i.test(I)}function Le(I=(0,u.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Re(I=(0,u.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function xt(I=(0,u.z$)()){return Le(I)||In(I)||sn(I)||Mt(I)||/windows phone/i.test(I)||Bt(I)}function Gn(I,g=[]){let y;switch(I){case"Browser":y=qe((0,u.z$)());break;case"Worker":y=`${qe((0,u.z$)())}-${I}`;break;default:y=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${k.SDK_VERSION}/${S}`}class Un{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const S=me=>new Promise((st,kt)=>{try{st(g(me))}catch(An){kt(An)}});S.onAbort=y,this.queue.push(S);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,h.Z)(function*(){var S;if(y.auth.currentUser===g)return;const re=[];try{for(const me of y.queue)yield me(g),me.onAbort&&re.push(me.onAbort)}catch(me){re.reverse();for(const st of re)try{st()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=me)||void 0===S?void 0:S.message})}})()}}class Sn{constructor(g,y,S){this.app=g,this.heartbeatServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var S=this;return y&&(this._popupRedirectResolver=et(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var re,me;if(!S._deleted&&(S.persistenceManager=yield Dn.create(S,g),!S._deleted)){if(null!==(re=S._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(me=S.currentUser)||void 0===me?void 0:me.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,h.Z)(function*(){var S;const re=yield y.assertedPersistence.getCurrentUser();let me=re,st=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const kt=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,An=me?._redirectEventId,Ln=yield y.tryRedirectSignIn(g);(!kt||kt===An)&&Ln?.user&&(me=Ln.user,st=!0)}if(!me)return y.directlySetCurrentUser(null);if(!me._redirectEventId){if(st)try{yield y.beforeStateQueue.runMiddleware(me)}catch(kt){me=re,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(kt))}return me?y.reloadAndSetCurrentUserOrClear(me):y.directlySetCurrentUser(null)}return he(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===me._redirectEventId?y.directlySetCurrentUser(me):y.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(g){var y=this;return(0,h.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,h.Z)(function*(){var S;try{yield or(g)}catch(re){if("auth/network-request-failed"!==(null===(S=re)||void 0===S?void 0:S.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Et(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,h.Z)(function*(){const S=g?(0,u.m9)(g):null;return S&&he(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(g,y=!1){var S=this;return(0,h.Z)(function*(){if(!S._deleted)return g&&he(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,h.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(et(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new u.LL("auth","Firebase",g())}onAuthStateChanged(g,y,S){return this.registerStateListener(this.authStateSubscription,g,y,S)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,S){return this.registerStateListener(this.idTokenSubscription,g,y,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var S=this;return(0,h.Z)(function*(){const re=yield S.getOrInitRedirectPersistenceManager(y);return null===g?re.removeCurrentUser():re.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const S=g&&et(g)||y._popupRedirectResolver;he(S,y,"argument-error"),y.redirectPersistenceManager=yield Dn.create(y,[et(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,h.Z)(function*(){var S,re;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===g?y._currentUser:(null===(re=y.redirectUser)||void 0===re?void 0:re._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,h.Z)(function*(){if(g===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,S,re){if(this._deleted)return()=>{};const me="function"==typeof y?y:y.next.bind(y),st=this._isInitialized?Promise.resolve():this._initializationPromise;return he(st,this,"internal-error"),st.then(()=>me(this.currentUser)),"function"==typeof y?g.addObserver(y,S,re):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var y;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const re=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return re&&(S["X-Firebase-Client"]=re),S})()}}function jr(I){return(0,u.m9)(I)}class pi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,u.ne)(y=>this.observer=y)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ts(I,g,y){const S=jr(I);he(S._canInitEmulator,S,"emulator-config-failed"),he(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const re=!!y?.disableWarnings,me=zi(g),{host:st,port:kt}=function ri(I){const g=zi(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(S);if(re){const me=re[1];return{host:me,port:Wr(S.substr(me.length+1))}}{const[me,st]=S.split(":");return{host:me,port:Wr(st)}}}(g);S.config.emulator={url:`${me}//${st}${null===kt?"":`:${kt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:st,port:kt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function Ai(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function zi(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Wr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class ei{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ze("not implemented")}_getIdTokenResponse(g){return ze("not implemented")}_linkToIdToken(g,y){return ze("not implemented")}_getReauthenticationResolver(g){return ze("not implemented")}}function di(I,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:resetPassword",En(I,g))})).apply(this,arguments)}function kr(I,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mi(I,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",En(I,g))})).apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithPassword",En(I,g))})).apply(this,arguments)}function Ri(I,g){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:sendOobCode",En(I,g))})).apply(this,arguments)}function $e(I,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(I,g){return Ri(I,g)})).apply(this,arguments)}function St(I,g){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(I,g){return Ri(I,g)})).apply(this,arguments)}function dn(I,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,h.Z)(function*(I,g){return Ri(I,g)})).apply(this,arguments)}function ct(I,g){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(I,g){return Ri(I,g)})).apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithEmailLink",En(I,g))})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithEmailLink",En(I,g))})).apply(this,arguments)}class Dr extends ei{constructor(g,y,S,re=null){super("password",S),this._email=g,this._password=y,this._tenantId=re}static _fromEmailAndPassword(g,y){return new Dr(g,y,"password")}static _fromEmailAndCode(g,y,S=null){return new Dr(g,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,h.Z)(function*(){switch(y.signInMethod){case"password":return function Os(I,g){return Ci.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ht(I,g){return Wt.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Lt(g,"internal-error")}})()}_linkToIdToken(g,y){var S=this;return(0,h.Z)(function*(){switch(S.signInMethod){case"password":return kr(g,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function rn(I,g){return rr.apply(this,arguments)}(g,{idToken:y,email:S._email,oobCode:S._password});default:Lt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mr(I,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithIdp",En(I,g))})).apply(this,arguments)}class ui extends ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ui(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Lt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:re}=y,me=(0,fe._T)(y,["providerId","signInMethod"]);if(!S||!re)return null;const st=new ui(S,re);return st.idToken=me.idToken||void 0,st.accessToken=me.accessToken||void 0,st.secret=me.secret,st.nonce=me.nonce,st.pendingToken=me.pendingToken||null,st}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,mr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,mr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,u.xO)(y)}return g}}function Ps(I,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:sendVerificationCode",En(I,g))})).apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,g))})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(I,g){const y=yield tn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,g));if(y.temporaryProof)throw Jn(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Bo={USER_NOT_FOUND:"user-not-found"};function us(){return(us=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithPhoneNumber",En(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bo)})).apply(this,arguments)}class xi extends ei{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new xi({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new xi({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Rs(I,g){return Us.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function gs(I,g){return Bs.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ns(I,g){return us.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:S,verificationCode:re}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:S,code:re}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:S,phoneNumber:re,temporaryProof:me}=g;return S||y||re||me?new xi({verificationId:y,verificationCode:S,phoneNumber:re,temporaryProof:me}):null}}class cs{constructor(g){var y,S,re,me,st,kt;const An=(0,u.zd)((0,u.pd)(g)),Ln=null!==(y=An.apiKey)&&void 0!==y?y:null,Vr=null!==(S=An.oobCode)&&void 0!==S?S:null,Pi=function co(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=An.mode)&&void 0!==re?re:null);he(Ln&&Vr&&Pi,"argument-error"),this.apiKey=Ln,this.operation=Pi,this.code=Vr,this.continueUrl=null!==(me=An.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(st=An.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(kt=An.tenantId)&&void 0!==kt?kt:null}static parseLink(g){const y=function Ho(I){const g=(0,u.zd)((0,u.pd)(I)).link,y=g?(0,u.zd)((0,u.pd)(g)).deep_link_id:null,S=(0,u.zd)((0,u.pd)(I)).deep_link_id;return(S?(0,u.zd)((0,u.pd)(S)).link:null)||S||y||g||I}(g);try{return new cs(y)}catch{return null}}}let Yi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,S){return Dr._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const re=cs.parseLink(S);return he(re,"argument-error"),Dr._fromEmailAndCode(y,re.code,re.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ki{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Hi extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Hs extends Hi{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return he("providerId"in y&&"signInMethod"in y,"argument-error"),ui._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return he(g.idToken||g.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Hs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Hs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:re,pendingToken:me,nonce:st,providerId:kt}=g;if(!S&&!re&&!y&&!me||!kt)return null;try{return new Hs(kt)._credential({idToken:y,accessToken:S,nonce:st,pendingToken:me})}catch{return null}}}let ys=(()=>{class I extends Hi{constructor(){super("facebook.com")}static credential(y){return ui._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),_s=(()=>{class I extends Hi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return ui._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:re}=y;if(!S&&!re)return null;try{return I.credential(S,re)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),vs=(()=>{class I extends Hi{constructor(){super("github.com")}static credential(y){return ui._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class $s extends ei{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,y){const S=this.buildRequest();return S.idToken=y,mr(g,S)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,mr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:re,pendingToken:me}=y;return S&&re&&me&&S===re?new $s(S,me):null}static _create(g,y){return new $s(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends Ki{constructor(g){he(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Br.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Br.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=$s.fromJSON(g);return he(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:S}=g;if(!y||!S)return null;try{return $s._create(S,y)}catch{return null}}}let ai=(()=>{class I extends Hi{constructor(){super("twitter.com")}static credential(y,S){return ui._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:re}=y;if(!S||!re)return null;try{return I.credential(S,re)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function X(I,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signUp",En(I,g))})).apply(this,arguments)}class we{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,S,re=!1){return(0,h.Z)(function*(){const me=yield ot._fromIdTokenResponse(g,S,re),st=Ve(S);return new we({user:me,providerId:st,_tokenResponse:S,operationType:y})})()}static _forOperation(g,y,S){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const re=Ve(S);return new we({user:g,providerId:re,_tokenResponse:S,operationType:y})})()}}function Ve(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ut(I){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(I){var g;const y=jr(I);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new we({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield X(y,{returnSecureToken:!0}),re=yield we._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(re.user),re})).apply(this,arguments)}class an extends u.ZR{constructor(g,y,S,re){var me;super(y.code,y.message),this.operationType=S,this.user=re,Object.setPrototypeOf(this,an.prototype),this.customData={appName:g.name,tenantId:null!==(me=g.tenantId)&&void 0!==me?me:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,y,S,re){return new an(g,y,S,re)}}function mn(I,g,y,S){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?an._fromErrorAndOperation(I,me,g,S):me})}function yn(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Bn(I,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I);yield Lr(!0,y,g);const{providerUserInfo:S}=yield Yn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),re=yn(S||[]);return y.providerData=y.providerData.filter(me=>re.has(me.providerId)),re.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function yr(I,g){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(I,g,y=!1){const S=yield Jt(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return we._forOperation(I,"link",S)})).apply(this,arguments)}function Lr(I,g,y){return V.apply(this,arguments)}function V(){return(V=(0,h.Z)(function*(I,g,y){yield or(g);const re=!1===I?"provider-already-linked":"no-such-provider";he(yn(g.providerData).has(y)===I,g.auth,re)})).apply(this,arguments)}function ie(I,g){return U.apply(this,arguments)}function U(){return(U=(0,h.Z)(function*(I,g,y=!1){var S;const{auth:re}=I,me="reauthenticate";try{const st=yield Jt(I,mn(re,me,g,I),y);he(st.idToken,re,"internal-error");const kt=kn(st.idToken);he(kt,re,"internal-error");const{sub:An}=kt;return he(I.uid===An,re,"user-mismatch"),we._forOperation(I,me,st)}catch(st){throw"auth/user-not-found"===(null===(S=st)||void 0===S?void 0:S.code)&&Lt(re,"user-mismatch"),st}})).apply(this,arguments)}function ce(I,g){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(I,g,y=!1){const S="signIn",re=yield mn(I,S,g),me=yield we._fromIdTokenResponse(I,S,re);return y||(yield I._updateCurrentUser(me.user)),me})).apply(this,arguments)}function _t(I,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(I,g){return ce(jr(I),g)})).apply(this,arguments)}function un(I,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I);return yield Lr(!1,y,g.providerId),yr(y,g)})).apply(this,arguments)}function Kr(I,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(I,g){return ie((0,u.m9)(I),g)})).apply(this,arguments)}function wr(I,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(I,g){return tn(I,"POST","/v1/accounts:signInWithCustomToken",En(I,g))})).apply(this,arguments)}function ii(I,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(I,g){const y=jr(I),S=yield wr(y,{token:g,returnSecureToken:!0}),re=yield we._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(re.user),re})).apply(this,arguments)}class Vt{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?lr._fromServerResponse(g,y):Lt(g,"internal-error")}}class lr extends Vt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new lr(y)}}function $i(I,g,y){var S;he((null===(S=y.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),he(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(he(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(he(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function ds(I,g,y){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),re={requestType:"PASSWORD_RESET",email:g};y&&$i(S,re,y),yield St(S,re)})).apply(this,arguments)}function ho(I,g,y){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(I,g,y){yield di((0,u.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ns(I,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(I,g){yield Mi((0,u.m9)(I),{oobCode:g})})).apply(this,arguments)}function Di(I,g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I),S=yield di(y,{oobCode:g}),re=S.requestType;switch(he(re,y,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(S.mfaInfo,y,"internal-error");default:he(S.email,y,"internal-error")}let me=null;return S.mfaInfo&&(me=Vt._fromServerResponse(jr(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:me},operation:re}})).apply(this,arguments)}function Fa(I,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(I,g){const{data:y}=yield Di((0,u.m9)(I),g);return y.email})).apply(this,arguments)}function $(I,g,y){return F.apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(I,g,y){const S=jr(I),re=yield X(S,{returnSecureToken:!0,email:g,password:y}),me=yield we._fromIdTokenResponse(S,"signIn",re);return yield S._updateCurrentUser(me.user),me})).apply(this,arguments)}function O(I,g,y){return _t((0,u.m9)(I),Yi.credential(g,y))}function ue(I,g,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),re={requestType:"EMAIL_SIGNIN",email:g};he(y.handleCodeInApp,S,"argument-error"),y&&$i(S,re,y),yield dn(S,re)})).apply(this,arguments)}function hn(I,g){return"EMAIL_SIGNIN"===cs.parseLink(g)?.operation}function Ei(I,g,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),re=Yi.credentialWithLink(g,y||nt());return he(re._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),_t(S,re)})).apply(this,arguments)}function Js(I,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:createAuthUri",En(I,g))})).apply(this,arguments)}function io(I,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(I,g){const S={identifier:g,continueUri:Ft()?nt():"http://localhost"},{signinMethods:re}=yield Js((0,u.m9)(I),S);return re||[]})).apply(this,arguments)}function il(I,g){return $o.apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(I,g){const y=(0,u.m9)(I),re={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&$i(y.auth,re,g);const{email:me}=yield $e(y.auth,re);me!==I.email&&(yield I.reload())})).apply(this,arguments)}function sl(I,g,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&$i(S.auth,me,y);const{email:st}=yield ct(S.auth,me);st!==I.email&&(yield I.reload())})).apply(this,arguments)}function jo(I,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(I,g){return bn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oi(I,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const S=(0,u.m9)(I),me={idToken:yield S.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},st=yield Jt(S,jo(S.auth,me));S.displayName=st.displayName||null,S.photoURL=st.photoUrl||null;const kt=S.providerData.find(({providerId:An})=>"password"===An);kt&&(kt.displayName=S.displayName,kt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(st)})).apply(this,arguments)}function Wo(I,g){return Va((0,u.m9)(I),g,null)}function vl(I,g){return Va((0,u.m9)(I),null,g)}function Va(I,g,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(I,g,y){const{auth:S}=I,me={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(me.email=g),y&&(me.password=y);const st=yield Jt(I,kr(S,me));yield I._updateTokensIfNecessary(st,!0)})).apply(this,arguments)}class Ls{constructor(g,y,S={}){this.isNewUser=g,this.providerId=y,this.profile=S}}class yi extends Ls{constructor(g,y,S,re){super(g,y,S),this.username=re}}class No extends Ls{constructor(g,y){super(g,"facebook.com",y)}}class ua extends yi{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Eo extends Ls{constructor(g,y){super(g,"google.com",y)}}class js extends yi{constructor(g,y,S){super(g,"twitter.com",y,S)}}function Ua(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function ji(I){var g,y;if(!I)return null;const{providerId:S}=I,re=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},me=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const st=null===(y=null===(g=kn(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(st)return new Ls(me,"anonymous"!==st&&"custom"!==st?st:null)}if(!S)return null;switch(S){case"facebook.com":return new No(me,re);case"github.com":return new ua(me,re);case"google.com":return new Eo(me,re);case"twitter.com":return new js(me,re,I.screenName||null);case"custom":case"anonymous":return new Ls(me,null);default:return new Ls(me,S,re)}}(y)}class bo{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new bo("enroll",g)}static _fromMfaPendingCredential(g){return new bo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,S;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return bo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return bo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ha{constructor(g,y,S){this.session=g,this.hints=y,this.signInResolver=S}static _fromError(g,y){const S=jr(g),re=y.customData._serverResponse,me=(re.mfaInfo||[]).map(kt=>Vt._fromServerResponse(S,kt));he(re.mfaPendingCredential,S,"internal-error");const st=bo._fromMfaPendingCredential(re.mfaPendingCredential);return new Ha(st,me,function(){var kt=(0,h.Z)(function*(An){const Ln=yield An._process(S,st);delete re.mfaInfo,delete re.mfaPendingCredential;const Vr=Object.assign(Object.assign({},re),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(y.operationType){case"signIn":const Pi=yield we._fromIdTokenResponse(S,y.operationType,Vr);return yield S._updateCurrentUser(Pi.user),Pi;case"reauthenticate":return he(y.user,S,"internal-error"),we._forOperation(y.user,y.operationType,Vr);default:Lt(S,"internal-error")}});return function(An){return kt.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,h.Z)(function*(){return y.signInResolver(g)})()}}function da(I,g){var y;const S=(0,u.m9)(I),re=g;return he(g.customData.operationType,S,"argument-error"),he(null===(y=re.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),Ha._fromError(S,re)}function bi(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:start",En(I,g))}class Ws{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>Vt._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Ws(g)}getSession(){var g=this;return(0,h.Z)(function*(){return bo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var S=this;return(0,h.Z)(function*(){const re=g,me=yield S.getSession(),st=yield Jt(S.user,re._process(S.user.auth,me,y));return yield S.user._updateTokensIfNecessary(st),S.user.reload()})()}unenroll(g){var y=this;return(0,h.Z)(function*(){var S;const re="string"==typeof g?g:g.uid,me=yield y.user.getIdToken(),st=yield Jt(y.user,function $a(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",En(I,g))}(y.user.auth,{idToken:me,mfaEnrollmentId:re}));y.enrolledFactors=y.enrolledFactors.filter(({uid:kt})=>kt!==re),yield y.user._updateTokensIfNecessary(st);try{yield y.user.reload()}catch(kt){if("auth/user-token-expired"!==(null===(S=kt)||void 0===S?void 0:S.code))throw kt}})()}}const Lo=new WeakMap;function wi(I){const g=(0,u.m9)(I);return Lo.has(g)||Lo.set(g,Ws._fromUser(g)),Lo.get(g)}const fo="__sak";class Gs{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const hs=(()=>{class I extends Gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xa(){const I=(0,u.z$)();return Se(I)||Le(I)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const re=this.storage.getItem(S),me=this.localCache[S];re!==me&&y(S,me,re)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((kt,An,Ln)=>{this.notifyListeners(kt,Ln)});const re=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const kt=this.storage.getItem(re);if(y.newValue!==kt)null!==y.newValue?this.storage.setItem(re,y.newValue):this.storage.removeItem(re);else if(this.localCache[re]===y.newValue&&!S)return}const me=()=>{const kt=this.storage.getItem(re);!S&&this.localCache[re]===kt||this.notifyListeners(re,kt)},st=this.storage.getItem(re);!function Fe(){return(0,u.w1)()&&10===document.documentMode}()||st===y.newValue||y.newValue===y.oldValue?me():setTimeout(me,10)}notifyListeners(y,S){this.localCache[y]=S;const re=this.listeners[y];if(re)for(const me of Array.from(re))me(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var re=()=>super._set,me=this;return(0,h.Z)(function*(){yield re().call(me,y,S),me.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,re=this;return(0,h.Z)(function*(){const me=yield S().call(re,y);return re.localCache[y]=JSON.stringify(me),me})()}_remove(y){var S=()=>super._remove,re=this;return(0,h.Z)(function*(){yield S().call(re,y),delete re.localCache[y]})()}}return I.type="LOCAL",I})(),Pn=(()=>{class I extends Gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return I.type="SESSION",I})();let wl=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(me=>me.isListeningto(y));if(S)return S;const re=new I(y);return this.receivers.push(re),re}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,h.Z)(function*(){const re=y,{eventId:me,eventType:st,data:kt}=re.data,An=S.handlersMap[st];if(!An?.size)return;re.ports[0].postMessage({status:"ack",eventId:me,eventType:st});const Ln=Array.from(An).map(function(){var Pi=(0,h.Z)(function*(Ia){return Ia(re.origin,kt)});return function(Ia){return Pi.apply(this,arguments)}}()),Vr=yield function Xn(I){return Promise.all(I.map(function(){var g=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return g.apply(this,arguments)}}()))}(Ln);re.ports[0].postMessage({status:"done",eventId:me,eventType:st,response:Vr})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function fn(I="",g=10){let y="";for(let S=0;S<g;S++)y+=Math.floor(10*Math.random());return I+y}class At{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,S=50){var re=this;return(0,h.Z)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let st,kt;return new Promise((An,Ln)=>{const Vr=fn("",20);me.port1.start();const Pi=setTimeout(()=>{Ln(new Error("unsupported_event"))},S);kt={messageChannel:me,onMessage(Ia){const na=Ia;if(na.data.eventId===Vr)switch(na.data.status){case"ack":clearTimeout(Pi),st=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),An(na.data.response);break;default:clearTimeout(Pi),clearTimeout(st),Ln(new Error("invalid_response"))}}},re.handlers.add(kt),me.port1.addEventListener("message",kt.onMessage),re.target.postMessage({eventType:g,eventId:Vr,data:y},[me.port2])}).finally(()=>{kt&&re.removeMessageHandler(kt)})})()}}function Nt(){return window}function zo(){return typeof Nt().WorkerGlobalScope<"u"&&"function"==typeof Nt().importScripts}function ha(){return(ha=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zo="firebaseLocalStorageDb",ja="firebaseLocalStorage",Oa="fbase_key";class Bi{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function qo(I,g){return I.transaction([ja],g?"readwrite":"readonly").objectStore(ja)}function Ds(){const I=indexedDB.open(Zo,1);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(ja,{keyPath:Oa})}catch(re){y(re)}}),I.addEventListener("success",(0,h.Z)(function*(){const S=I.result;S.objectStoreNames.contains(ja)?g(S):(S.close(),yield function Ir(){const I=indexedDB.deleteDatabase(Zo);return new Bi(I).toPromise()}(),g(yield Ds()))}))})}function wo(I,g,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(I,g,y){const S=qo(I,!0).put({[Oa]:g,value:y});return new Bi(S).toPromise()})).apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(I,g){const y=qo(I,!1).get(g),S=yield new Bi(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function fr(I,g){const y=qo(I,!0).delete(g);return new Bi(y).toPromise()}const Yo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield Ds()),y.db})()}_withRetries(y){var S=this;return(0,h.Z)(function*(){let re=0;for(;;)try{const me=yield S._openDb();return yield y(me)}catch(me){if(re++>3)throw me;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return zo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=wl._getInstance(function pa(){return zo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,h.Z)(function*(re,me){return{keyProcessed:(yield y._poll()).includes(me.key)}});return function(re,me){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,h.Z)(function*(re,me){return["keyChanged"]});return function(re,me){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var S,re;if(y.activeServiceWorker=yield function Ko(){return ha.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new At(y.activeServiceWorker);const me=yield y.sender._send("ping",{},800);!me||(null===(S=me[0])||void 0===S?void 0:S.fulfilled)&&(null===(re=me[0])||void 0===re?void 0:re.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,h.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function fa(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ds();return yield wo(y,fo,"1"),yield fr(y,fo),!0}catch{}return!1})()}_withPendingWrite(y){var S=this;return(0,h.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var re=this;return(0,h.Z)(function*(){return re._withPendingWrite((0,h.Z)(function*(){return yield re._withRetries(me=>wo(me,y,S)),re.localCache[y]=S,re.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,h.Z)(function*(){const re=yield S._withRetries(me=>function er(I,g){return xr.apply(this,arguments)}(me,y));return S.localCache[y]=re,re})()}_remove(y){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(re=>fr(re,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const S=yield y._withRetries(st=>{const kt=qo(st,!1).getAll();return new Bi(kt).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const re=[],me=new Set;for(const{fbase_key:st,value:kt}of S)me.add(st),JSON.stringify(y.localCache[st])!==JSON.stringify(kt)&&(y.notifyListeners(st,kt),re.push(st));for(const st of Object.keys(y.localCache))y.localCache[st]&&!me.has(st)&&(y.notifyListeners(st,null),re.push(st));return re})()}notifyListeners(y,S){this.localCache[y]=S;const re=this.listeners[y];if(re)for(const me of Array.from(re))me(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Wa(I,g){return bn(I,"POST","/v2/accounts/mfaSignIn:start",En(I,g))}function is(){return(is=(0,h.Z)(function*(I){return(yield bn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(I){return new Promise((g,y)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=re=>{const me=Xe("internal-error");me.customData=re,y(me)},S.type="text/javascript",S.charset="UTF-8",function Io(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function Ji(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Xs=1e12;class qr{constructor(g){this.auth=g,this.counter=Xs,this._widgets=new Map}render(g,y){const S=this.counter;return this._widgets.set(S,new Fl(g,this.auth.name,y||{})),this.counter++,S}reset(g){var y;const S=g||Xs;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Xs))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,h.Z)(function*(){var S;return null===(S=y._widgets.get(g||Xs))||void 0===S||S.execute(),""})()}}class Fl{constructor(g,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof g?document.getElementById(g):g;he(re,"argument-error",{appName:y}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ct(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=Ji("rcb"),To=new lt(3e4,6e4);class ul{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Nt().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return he(function Fo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Nt().grecaptcha):new Promise((S,re)=>{const me=Nt().setTimeout(()=>{re(Xe(g,"network-request-failed"))},To.get());Nt()[Ga]=()=>{Nt().clearTimeout(me),delete Nt()[Ga];const kt=Nt().grecaptcha;if(!kt)return void re(Xe(g,"internal-error"));const An=kt.render;kt.render=(Ln,Vr)=>{const Pi=An(Ln,Vr);return this.counter++,Pi},this.hostLanguage=y,S(kt)},Pa(`https://www.google.com/recaptcha/api.js??${(0,u.xO)({onload:Ga,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(me),re(Xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Nt().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cl{load(g){return(0,h.Z)(function*(){return new qr(g)})()}clearedOneInstance(){}}const ga="recaptcha",gu={theme:"light",type:"image"};class Xi{constructor(g,y=Object.assign({},gu),S){this.parameters=y,this.type=ga,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jr(S),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof g?document.getElementById(g):g;he(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cl:new ul,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(y)||new Promise(me=>{const st=kt=>{!kt||(g.tokenChangeListeners.delete(st),me(kt))};g.tokenChangeListeners.add(st),g.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof g)g(y);else if("string"==typeof g){const S=Nt()[g];"function"==typeof S&&S(y)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){he(Ft()&&!zo(),g.auth,"internal-error"),yield function Il(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function bs(I){return is.apply(this,arguments)}(g.auth);he(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ma{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=xi._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function zs(I,g,y){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(I,g,y){const S=jr(I),re=yield C(S,g,(0,u.m9)(y));return new ma(re,me=>_t(S,me))})).apply(this,arguments)}function es(I,g,y){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);yield Lr(!1,S,"phone");const re=yield C(S.auth,g,(0,u.m9)(y));return new ma(re,me=>un(S,me))})).apply(this,arguments)}function Wi(I,g,y){return T.apply(this,arguments)}function T(){return(T=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I),re=yield C(S.auth,g,(0,u.m9)(y));return new ma(re,me=>Kr(S,me))})).apply(this,arguments)}function C(I,g,y){return w.apply(this,arguments)}function w(){return(w=(0,h.Z)(function*(I,g,y){var S;const re=yield y.verify();try{let me;if(he("string"==typeof re,I,"argument-error"),he(y.type===ga,I,"argument-error"),me="string"==typeof g?{phoneNumber:g}:g,"session"in me){const st=me.session;if("phoneNumber"in me)return he("enroll"===st.type,I,"internal-error"),(yield bi(I,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{he("signin"===st.type,I,"internal-error");const kt=(null===(S=me.multiFactorHint)||void 0===S?void 0:S.uid)||me.multiFactorUid;return he(kt,I,"missing-multi-factor-info"),(yield Wa(I,{mfaPendingCredential:st.credential,mfaEnrollmentId:kt,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield Ps(I,{phoneNumber:me.phoneNumber,recaptchaToken:re});return st}}finally{y._reset()}})).apply(this,arguments)}function P(I,g){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(I,g){yield yr((0,u.m9)(I),g)})).apply(this,arguments)}let se=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=jr(y)}verifyPhoneNumber(y,S){return C(this.auth,y,(0,u.m9)(S))}static credential(y,S){return xi._fromVerification(y,S)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:re}=y;return S&&re?xi._fromTokenResponse(S,re):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ee(I,g){return g?et(g):(he(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Me extends ei{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return mr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return mr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function bt(I){return ce(I.auth,new Me(I),I.bypassAuthState)}function on(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),ie(y,new Me(I),I.bypassAuthState)}function Mn(I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(I){const{auth:g,user:y}=I;return he(y,g,"internal-error"),yr(y,new Me(I),I.bypassAuthState)})).apply(this,arguments)}class Qr{constructor(g,y,S,re,me=!1){this.auth=g,this.resolver=S,this.user=re,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,h.Z)(function*(S,re){g.pendingPromise={resolve:S,reject:re};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(me){g.reject(me)}});return function(S,re){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,h.Z)(function*(){const{urlResponse:S,sessionId:re,postBody:me,tenantId:st,error:kt,type:An}=g;if(kt)return void y.reject(kt);const Ln={auth:y.auth,requestUri:S,sessionId:re,tenantId:st||void 0,postBody:me||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(An)(Ln))}catch(Vr){y.reject(Vr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return bt;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return on;default:Lt(this.auth,"internal-error")}}resolve(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new lt(2e3,1e4);function oo(I,g,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(I,g,y){const S=jr(I);Ze(I,g,Ki);const re=Ee(S,y);return new go(S,"signInViaPopup",g,re).executeNotNull()})).apply(this,arguments)}function os(I,g,y){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ze(S.auth,g,Ki);const re=Ee(S.auth,y);return new go(S.auth,"reauthViaPopup",g,re,S).executeNotNull()})).apply(this,arguments)}function Ks(I,g,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ze(S.auth,g,Ki);const re=Ee(S.auth,y);return new go(S.auth,"linkViaPopup",g,re,S).executeNotNull()})).apply(this,arguments)}let go=(()=>{class I extends Qr{constructor(y,S,re,me,st){super(y,S,me,st),this.provider=re,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const S=yield y.execute();return he(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,h.Z)(function*(){dt(1===y.filter.length,"Popup operations only handle one event");const S=fn();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(re=>{y.reject(re)}),y.resolver._isIframeWebStorageSupported(y.auth,re=>{re||y.reject(Xe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,re;this.pollId=null!==(re=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,ss.get())};y()}}return I.currentPopupAction=null,I})();const as=new Map;class Do extends Qr{constructor(g,y,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,h.Z)(function*(){let S=as.get(y.auth._key());if(!S){try{const me=(yield function ao(I,g){return Xo.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;S=()=>Promise.resolve(me)}catch(re){S=()=>Promise.reject(re)}as.set(y.auth._key(),S)}return y.bypassAuthState||as.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,S=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(S,g);if("unknown"!==g.type){if(g.eventId){const re=yield S.auth._redirectUserForId(g.eventId);if(re)return S.user=re,y().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Xo(){return(Xo=(0,h.Z)(function*(I,g){const y=R(g),S=va(I);if(!(yield S._isAvailable()))return!1;const re="true"===(yield S._get(y));return yield S._remove(y),re})).apply(this,arguments)}function Jl(I,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(I,g){return va(I)._set(R(g),"true")})).apply(this,arguments)}function Vl(){as.clear()}function So(I,g){as.set(I._key(),g)}function va(I){return et(I._redirectPersistence)}function R(I){return gn("pendingRedirect",I.config.apiKey,I.name)}function H(I,g,y){return function ae(I,g,y){return Te.apply(this,arguments)}(I,g,y)}function Te(){return(Te=(0,h.Z)(function*(I,g,y){const S=jr(I);Ze(I,g,Ki);const re=Ee(S,y);return yield Jl(re,S),re._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function it(I,g,y){return function Tt(I,g,y){return Gt.apply(this,arguments)}(I,g,y)}function Gt(){return(Gt=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ze(S.auth,g,Ki);const re=Ee(S.auth,y);yield Jl(re,S.auth);const me=yield Ka(S);return re._openRedirect(S.auth,g,"reauthViaRedirect",me)})).apply(this,arguments)}function Cn(I,g,y){return function ir(I,g,y){return _r.apply(this,arguments)}(I,g,y)}function _r(){return(_r=(0,h.Z)(function*(I,g,y){const S=(0,u.m9)(I);Ze(S.auth,g,Ki);const re=Ee(S.auth,y);yield Lr(!1,S,g.providerId),yield Jl(re,S.auth);const me=yield Ka(S);return re._openRedirect(S.auth,g,"linkViaRedirect",me)})).apply(this,arguments)}function zn(I,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(I,g){return yield jr(I)._initializationPromise,vr(I,g,!1)})).apply(this,arguments)}function vr(I,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(I,g,y=!1){const S=jr(I),re=Ee(S,g),st=yield new Do(S,re,y).execute();return st&&!y&&(delete st.user._redirectEventId,yield S._persistUserIfCurrent(st.user),yield S._setRedirectUser(null,g)),st})).apply(this,arguments)}function Ka(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(I){const g=fn(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Ra{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(y=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function mo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var S;if(g.error&&!ba(g)){const re=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Xe(this.auth,re))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const S=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(g))}saveEventToCache(g){this.cachedEventUids.add(Za(g)),this.lastProcessedEventTime=Date.now()}}function Za(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function ba({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function Ao(I){return fs.apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(I,g={}){return bn(I,"GET","/v1/projects",g)})).apply(this,arguments)}const zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pc=/^https?/;function Hu(){return(Hu=(0,h.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Ao(I);for(const y of g)try{if(Qc(y))return}catch{}Lt(I,"unauthorized-domain")})).apply(this,arguments)}function Qc(I){const g=nt(),{protocol:y,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const st=new URL(I);return""===st.hostname&&""===S?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&st.hostname===S}if(!pc.test(y))return!1;if(zd.test(I))return S===I;const re=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(S)}const $u=new lt(3e4,6e4);function gc(){const I=Nt().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let ea=null;function Ul(I){return ea=ea||function mu(I){return new Promise((g,y)=>{var S,re,me;function st(){gc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{gc(),y(Xe(I,"network-request-failed"))},timeout:$u.get()})}if(null!==(re=null===(S=Nt().gapi)||void 0===S?void 0:S.iframes)&&void 0!==re&&re.Iframe)g(gapi.iframes.getContext());else{if(null===(me=Nt().gapi)||void 0===me||!me.load){const kt=Ji("iframefcb");return Nt()[kt]=()=>{gapi.load?st():y(Xe(I,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${kt}`).catch(An=>y(An))}st()}}).catch(g=>{throw ea=null,g})}(I),ea}const mc=new lt(5e3,15e3),dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bl(I){const g=I.config;he(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?Pt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:k.SDK_VERSION},re=yu.get(I.config.apiHost);re&&(S.eid=re);const me=I._getFrameworks();return me.length&&(S.fw=me.join(",")),`${y}?${(0,u.xO)(S).slice(1)}`}function hl(){return hl=(0,h.Z)(function*(I){const g=yield Ul(I),y=Nt().gapi;return he(y,I,"internal-error"),g.open({where:document.body,url:Bl(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dl,dontclear:!0},S=>new Promise(function(){var re=(0,h.Z)(function*(me,st){yield S.restyle({setHideOnLeave:!1});const kt=Xe(I,"network-request-failed"),An=Nt().setTimeout(()=>{st(kt)},mc.get());function Ln(){Nt().clearTimeout(An),me(S)}S.ping(Ln).then(Ln,()=>{st(kt)})});return function(me,st){return re.apply(this,arguments)}}()))}),hl.apply(this,arguments)}const Xl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qa{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Na(I,g,y,S,re,me){he(I.config.authDomain,I,"auth-domain-config-required"),he(I.config.apiKey,I,"invalid-api-key");const st={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:S,v:k.SDK_VERSION,eventId:re};if(g instanceof Ki){g.setDefaultLanguage(I.languageCode),st.providerId=g.providerId||"",(0,u.xb)(g.getCustomParameters())||(st.customParameters=JSON.stringify(g.getCustomParameters()));for(const[An,Ln]of Object.entries(me||{}))st[An]=Ln}if(g instanceof Hi){const An=g.getScopes().filter(Ln=>""!==Ln);An.length>0&&(st.scopes=An.join(","))}I.tenantId&&(st.tid=I.tenantId);const kt=st;for(const An of Object.keys(kt))void 0===kt[An]&&delete kt[An];return`${function ed({config:I}){return I.emulator?Pt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,u.xO)(kt).slice(1)}`}const bu="webStorageSupport",ws=class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pn,this._completeRedirectFn=vr,this._overrideRedirectResult=So}_openPopup(g,y,S,re){var me=this;return(0,h.Z)(function*(){var st;dt(null===(st=me.eventManagers[g._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const kt=Na(g,y,S,nt(),re);return function _u(I,g,y,S=500,re=600){const me=Math.max((window.screen.availHeight-re)/2,0).toString(),st=Math.max((window.screen.availWidth-S)/2,0).toString();let kt="";const An=Object.assign(Object.assign({},Xl),{width:S.toString(),height:re.toString(),top:me,left:st}),Ln=(0,u.z$)().toLowerCase();y&&(kt=It(Ln)?"_blank":y),Ce(Ln)&&(g=g||"http://localhost",An.scrollbars="yes");const Vr=Object.entries(An).reduce((Ia,[na,Ya])=>`${Ia}${na}=${Ya},`,"");if(function ve(I=(0,u.z$)()){var g;return Le(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ln)&&"_self"!==kt)return function vu(I,g){const y=document.createElement("a");y.href=I,y.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(g||"",kt),new qa(null);const Pi=window.open(g||"",kt,Vr);he(Pi,I,"popup-blocked");try{Pi.focus()}catch{}return new qa(Pi)}(g,kt,fn())})()}_openRedirect(g,y,S,re){var me=this;return(0,h.Z)(function*(){return yield me._originValidation(g),function _i(I){Nt().location.href=I}(Na(g,y,S,nt(),re)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:re,promise:me}=this.eventManagers[y];return re?Promise.resolve(re):(dt(me,"If manager is not set, promise should be"),me)}const S=this.initAndGetManager(g);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(g){var y=this;return(0,h.Z)(function*(){const S=yield function yc(I){return hl.apply(this,arguments)}(g),re=new Ra(g);return S.register("authEvent",me=>(he(me?.authEvent,g,"invalid-auth-event"),{status:re.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:re},y.iframes[g._key()]=S,re})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(bu,{type:bu},re=>{var me;const st=null===(me=re?.[0])||void 0===me?void 0:me[bu];void 0!==st&&y(!!st),Lt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Yc(I){return Hu.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return xt()||Se()||Le()}};class wa extends class eu{constructor(g){this.factorId=g}_process(g,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,S);case"signin":return this._finalizeSignIn(g,y.credential);default:return ze("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new wa(g)}_finalizeEnroll(g,y,S){return function kl(I,g){return bn(I,"POST","/v2/accounts/mfaEnrollment:finalize",En(I,g))}(g,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function po(I,g){return bn(I,"POST","/v2/accounts/mfaSignIn:finalize",En(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cl=(()=>{class I{constructor(){}static assertion(y){return wa._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var Gu="@firebase/auth";class pl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(S=>{var re;g((null===(re=S)||void 0===re?void 0:re.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vc(I=(0,k.getApp)()){const g=(0,k._getProvider)(I,"auth");return g.isInitialized()?g.getImmediate():function Ue(I,g){const y=(0,k._getProvider)(I,"auth");if(y.isInitialized()){const re=y.getImmediate(),me=y.getOptions();if((0,u.vZ)(me,g??{}))return re;Lt(re,"already-initialized")}return y.initialize({options:g})}(I,{popupRedirectResolver:ws,persistence:[Yo,hs,Pn]})}!function Dl(I){(0,k._registerComponent)(new J.wA("auth",(g,{options:y})=>{const S=g.getProvider("app").getImmediate(),re=g.getProvider("heartbeat"),{apiKey:me,authDomain:st}=S.options;return((kt,An)=>{he(me&&!me.includes(":"),"invalid-api-key",{appName:kt.name}),he(!st?.includes(":"),"argument-error",{appName:kt.name});const Ln={apiKey:me,authDomain:st,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gn(I)},Vr=new Sn(kt,An,Ln);return function pt(I,g){const y=g?.persistence||[],S=(Array.isArray(y)?y:[y]).map(et);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,g?.popupRedirectResolver)}(Vr,y),Vr})(S,re)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,S)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new J.wA("auth-internal",g=>{const y=jr(g.getProvider("auth").getImmediate());return new pl(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Gu,"0.20.5",function zu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,k.registerVersion)(Gu,"0.20.5","esm2017")}("Browser")},5525:(jt,Ke,M)=>{M.d(Ke,{u7:()=>Bh,Jj:()=>Zl,IX:()=>Sy,my:()=>Ms,xU:()=>du,Lz:()=>Pu,WA:()=>Nt,F8:()=>nl,$q:()=>dc,W:()=>hc,EK:()=>fi,PU:()=>Kp,l7:()=>os,Ky:()=>en,Xb:()=>Ii,Cf:()=>Xr,K9:()=>wl,Me:()=>Ee,yq:()=>hs,Wi:()=>Ap,ET:()=>Fy,Ab:()=>Hy,vr:()=>xm,Fc:()=>My,hJ:()=>Ty,B$:()=>Ld,at:()=>Cy,oe:()=>Sm,AK:()=>Uy,TF:()=>Py,JU:()=>um,ST:()=>Pp,fH:()=>Ay,Ix:()=>Oy,Wu:()=>bm,Lx:()=>Em,qY:()=>qs,GL:()=>Kc,QT:()=>Cm,kl:()=>Tm,Xk:()=>iv,PL:()=>Ny,UQ:()=>ky,zN:()=>Dm,ad:()=>dm,nP:()=>Om,b9:()=>_m,vh:()=>Hp,Pb:()=>lc,L$:()=>nv,cf:()=>Vy,sc:()=>Am,Xo:()=>Up,IO:()=>Fh,iE:()=>cm,Eo:()=>ev,i3:()=>Zc,Bt:()=>By,pl:()=>Ly,Ub:()=>al,qK:()=>kh,TQ:()=>vm,e0:()=>Ry,r7:()=>_o,Mx:()=>xy,ar:()=>Vp});var Z,h=M(5861),u=M(9681),k=M(4859),fe=M(1877),j=M(2090),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={},oe=oe||{},K=J||self;function ne(){}function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Qe="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function Ne(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Oe(i,e,n){return(Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:Ne).apply(null,arguments)}function Lt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Xe(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,f){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[l].apply(o,v)}}function de(){this.s=this.s,this.o=this.o}var Ie={};de.prototype.s=!1,de.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ae(i){return Object.prototype.hasOwnProperty.call(i,Qe)&&i[Qe]||(i[Qe]=++wt)}(this);delete Ie[i]}},de.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const he=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},ze=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in l&&e.call(n,l[f],f,i)};function Be(i){return Array.prototype.concat.apply([],arguments)}function et(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ue(i){return/^[\s\xa0]*$/.test(i)}var at,pt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function nt(i,e){return-1!=i.indexOf(e)}function Ft(i,e){return i<e?-1:i>e?1:0}e:{var Ot=K.navigator;if(Ot){var Et=Ot.userAgent;if(Et){at=Et;break e}}at=""}function lt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Pt(i){const e={};for(const n in i)e[n]=i[n];return e}var _n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wn(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let f=0;f<_n.length;f++)n=_n[f],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pn(i){return pn[" "](i),i}pn[" "]=ne;var Cr,i,bn=nt(at,"Opera"),Wn=nt(at,"Trident")||nt(at,"MSIE"),Ar=nt(at,"Edge"),cr=Ar||Wn,tn=nt(at,"Gecko")&&!(nt(at.toLowerCase(),"webkit")&&!nt(at,"Edge"))&&!(nt(at,"Trident")||nt(at,"MSIE"))&&!nt(at,"Edge"),Yr=nt(at.toLowerCase(),"webkit")&&!nt(at,"Edge");function $n(){var i=K.document;return i?i.documentMode:void 0}e:{var Jn="",sr=(i=at,tn?/rv:([^\);]+)(\)|;)/.exec(i):Ar?/Edge\/([\d\.]+)/.exec(i):Wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Yr?/WebKit\/(\S+)/.exec(i):bn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(sr&&(Jn=sr?sr[1]:""),Wn){var nn=$n();if(null!=nn&&nn>parseFloat(Jn)){Cr=String(nn);break e}}Cr=Jn}var Yn={};var br=K.document&&Wn&&($n()||parseInt(Cr,10))||void 0,zr=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{K.addEventListener("test",ne,e),K.removeEventListener("test",ne,e)}catch{}return i}();function Zn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Tr(i,e){if(Zn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(tn){e:{try{pn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:oi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Tr.Z.h.call(this)}}Zn.prototype.h=function(){this.defaultPrevented=!0},Xe(Tr,Zn);var oi={2:"touch",3:"pen",4:"mouse"};Tr.prototype.h=function(){Tr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Jt(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++qt,this.ca=this.fa=!1}function $r(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Nr(i){this.src=i,this.g={},this.h=0}function Tn(i,e){var n=e.type;if(n in i.g){var f,o=i.g[n],l=he(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&($r(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Mr(i,e,n,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==e&&f.capture==!!n&&f.ia==o)return l}return-1}Nr.prototype.add=function(i,e,n,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=Mr(i,e,o,l);return-1<v?(e=i[v],n||(e.fa=!1)):((e=new Jt(e,this.src,f,!!o,l)).fa=n,i.push(e)),e};var or="closure_lm_"+(1e6*Math.random()|0),Yt={};function jn(i,e,n,o,l){if(o&&o.once)return ke(i,e,n,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)jn(i,e[f],n,o,l);return null}return n=On(n),i&&i[kn]?i.N(e,n,Ge(o)?!!o.capture:!!o,l):Ur(i,e,n,!1,o,l)}function Ur(i,e,n,o,l,f){if(!e)throw Error("Invalid event type");var v=Ge(l)?!!l.capture:!!l,A=ot(i);if(A||(i[or]=A=new Nr(i)),(n=A.add(e,n,o,v,f)).proxy)return n;if(o=function Pe(){var e=De;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)zr||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(z(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function ke(i,e,n,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)ke(i,e[f],n,o,l);return null}return n=On(n),i&&i[kn]?i.O(e,n,Ge(o)?!!o.capture:!!o,l):Ur(i,e,n,!0,o,l)}function ee(i,e,n,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)ee(i,e[f],n,o,l);else o=Ge(o)?!!o.capture:!!o,n=On(n),i&&i[kn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Mr(f=i.g[e],n,o,l))&&($r(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=ot(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Mr(e,n,o,l)),(n=-1<i?e[i]:null)&&L(n))}function L(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[kn])Tn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(z(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ot(e))?(Tn(n,i),0==n.h&&(n.src=null,e[or]=null)):$r(i)}}}function z(i){return i in Yt?Yt[i]:Yt[i]="on"+i}function De(i,e){if(i.ca)i=!0;else{e=new Tr(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&L(i),i=n.call(o,e)}return i}function ot(i){return(i=i[or])instanceof Nr?i:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function On(i){return"function"==typeof i?i:(i[zt]||(i[zt]=function(e){return i.handleEvent(e)}),i[zt])}function gn(){de.call(this),this.i=new Nr(this),this.P=this,this.I=null}function Dn(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Zn(e,i);else if(e instanceof Zn)e.target=e.target||i;else{var l=e;wn(e=new Zn(o,i),l)}if(l=!0,n)for(var f=n.length-1;0<=f;f--){var v=e.g=n[f];l=qe(v,o,!0,e)&&l}if(l=qe(v=e.g=i,o,!0,e)&&l,l=qe(v,o,!1,e)&&l,n)for(f=0;f<n.length;f++)l=qe(v=e.g=n[f],o,!1,e)&&l}function qe(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==n){var A=v.listener,W=v.ia||v.src;v.fa&&Tn(i.i,v),l=!1!==A.call(W,o)&&l}}return l&&!o.defaultPrevented}Xe(gn,de),gn.prototype[kn]=!0,gn.prototype.removeEventListener=function(i,e,n,o){ee(this,i,e,n,o)},gn.prototype.M=function(){if(gn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)$r(n[o]);delete i.g[e],i.h--}}this.I=null},gn.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},gn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Ce=K.JSON.stringify;function Se(){var i=Fe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Le,Bt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new In,i=>i.reset());class In{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mt(i){K.setTimeout(()=>{throw i},0)}function sn(i,e){Le||function Re(){var i=K.Promise.resolve(void 0);Le=function(){i.then(xt)}}(),ve||(Le(),ve=!0),Fe.add(i,e)}var ve=!1,Fe=new class It{constructor(){this.h=this.g=null}add(e,n){const o=Bt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function xt(){for(var i;i=Se();){try{i.h.call(i.g)}catch(n){Mt(n)}var e=Bt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1}function Xt(i,e){gn.call(this),this.h=i||1,this.g=e||K,this.j=Oe(this.kb,this),this.l=Date.now()}function Gn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Un(i,e,n){if("function"==typeof i)n&&(i=Oe(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Oe(i.handleEvent,i)}return 2147483647<Number(e)?-1:K.setTimeout(i,e||0)}function Sn(i){i.g=Un(()=>{i.g=null,i.i&&(i.i=!1,Sn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xe(Xt,gn),(Z=Xt.prototype).da=!1,Z.S=null,Z.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dn(this,"tick"),this.da&&(Gn(this),this.start()))}},Z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.M=function(){Xt.Z.M.call(this),Gn(this),delete this.g};class jr extends de{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sn(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(i){de.call(this),this.h=i,this.g={}}Xe(pi,de);var ts=[];function zi(i,e,n,o){Array.isArray(n)||(n&&(ts[0]=n.toString()),n=ts);for(var l=0;l<n.length;l++){var f=jn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function ri(i){lt(i.g,function(e,n){this.g.hasOwnProperty(n)&&L(e)},i),i.g={}}function Wr(){this.g=!0}function di(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<l.length;v++)l[v]=""}}}return Ce(n)}catch{return e}}(i,n)+(o?" "+o:"")})}pi.prototype.M=function(){pi.Z.M.call(this),ri(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wr.prototype.Aa=function(){this.g=!1},Wr.prototype.info=function(){};var Fi={},Mi=null;function Vi(){return Mi=Mi||new gn}function Os(i){Zn.call(this,Fi.Ma,i)}function Ci(i){const e=Vi();Dn(e,new Os(e,i))}function Ri(i,e){Zn.call(this,Fi.STAT_EVENT,i),this.stat=e}function Ye(i){const e=Vi();Dn(e,new Ri(e,i))}function $e(i,e){Zn.call(this,Fi.Na,i),this.size=e}function gt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){i()},e)}Fi.Ma="serverreachability",Xe(Os,Zn),Fi.STAT_EVENT="statevent",Xe(Ri,Zn),Fi.Na="timingevent",Xe($e,Zn);var St={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$t={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dn(){}function ct(){}dn.prototype.h=null;var rn,je={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ht(){Zn.call(this,"d")}function Wt(){Zn.call(this,"c")}function rr(){}function Dr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new pi(this),this.P=Ti,this.W=new Xt(i=cr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}Xe(ht,Zn),Xe(Wt,Zn),Xe(rr,dn),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},rn=new rr;var Ti=45e3,hr={},ui={};function Ps(i,e,n){i.K=1,i.v=ai(_s(e)),i.s=n,i.U=!0,Ts(i,null)}function Ts(i,e){i.F=Date.now(),Bs(i),i.A=_s(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),V(n.h,"t",o),i.C=0,n=i.l.H,i.h=new mr,i.g=Yl(i.l,n?e:null,!i.s),0<i.O&&(i.L=new jr(Oe(i.Ia,i,i.g),i.O)),zi(i.V,i.g,"readystatechange",i.gb),e=i.H?Pt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ci(1),function Ai(i,e,n,o,l,f){i.info(function(){if(i.g)if(f)for(var v="",A=f.split("&"),W=0;W<A.length;W++){var Q=A[W].split("=");if(1<Q.length){var ye=Q[0];Q=Q[1];var We=ye.split("_");v=2<=We.length&&"type"==We[1]?v+(ye+"=")+Q+"&":v+(ye+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Rs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Us(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=gs(i,n),l==ui){4==e&&(i.o=4,Ye(14),o=!1),di(i.j,i.m,null,"[Incomplete Response]");break}if(l==hr){i.o=4,Ye(15),di(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}di(i.j,i.m,l,null),co(i,l)}Rs(i)&&l!=ui&&l!=hr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ye(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ji(e),e.L=!0,Ye(11))):(di(i.j,i.m,n,"[Invalid Chunked Response]"),xi(i),us(i))}function gs(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ui:(n=Number(e.substring(n,o)),isNaN(n)?hr:(o+=1)+n>e.length?ui:(e=e.substr(o,n),i.C=o+n,e))}function Bs(i){i.Y=Date.now()+i.P,Bo(i,i.P)}function Bo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gt(Oe(i.eb,i),e)}function Ns(i){i.B&&(K.clearTimeout(i.B),i.B=null)}function us(i){0==i.l.G||i.I||No(i.l,i)}function xi(i){Ns(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Gn(i.W),ri(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function co(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||qn(n.i,i)))if(n.I=i.N,!i.J&&qn(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;yi(n),sl(n)}Ma(n),Ye(18)}}else n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=gt(Oe(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Eo(n,11)}else if((i.J||n.g==i)&&yi(n),!Ue(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(n.U=Q[0],Q=Q[1],2==n.G)if("c"==Q[0]){n.J=Q[1],n.la=Q[2];const ye=Q[3];null!=ye&&(n.ma=ye,n.h.info("VER="+n.ma));const We=Q[4];null!=We&&(n.za=We,n.h.info("SVER="+n.za));const Dt=Q[5];null!=Dt&&"number"==typeof Dt&&0<Dt&&(n.K=o=1.5*Dt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Ut=i.g;if(Ut){const Zt=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var f=o.i;!f.g&&(nt(Zt,"spdy")||nt(Zt,"quic")||nt(Zt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Kr(f,f.h),f.h=null))}if(o.D){const Hn=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Hn&&(o.sa=Hn,Br(o.F,o.D,Hn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=i;if((o=n).oa=Ua(o,o.H?o.la:null,o.W),v.J){Fr(o.i,v);var A=v,W=o.K;W&&A.setTimeout(W),A.B&&(Ns(A),Bs(A)),o.g=v}else Va(o);0<n.l.length&&hi(n)}else"stop"!=Q[0]&&"close"!=Q[0]||Eo(n,7);else 3==n.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Eo(n,7):$o(n):"noop"!=Q[0]&&n.j&&n.j.wa(Q),n.A=0)}Ci(4)}catch{}}function cs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)ze(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(ge(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function Ho(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var f=0;f<l;f++)e.call(void 0,o[f],n&&n[f],i)}}function ms(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ms)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Yi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Ki(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)Ki(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function Ki(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Z=Dr.prototype).setTimeout=function(i){this.P=i},Z.gb=function(i){i=i.target;const e=this.L;e&&3==Ni(i)?e.l():this.Ia(i)},Z.Ia=function(i){try{if(i==this.g)e:{const ye=Ni(this.g);var e=this.g.Da();const We=this.g.ba();if(!(3>ye)&&(3!=ye||cr||this.g&&(this.h.h||this.g.ga()||Js(this.g)))){this.I||4!=ye||7==e||Ci(8==e||0>=We?3:2),Ns(this);var n=this.g.ba();this.N=n;t:if(Rs(this)){var o=Js(this.g);i="";var l=o.length,f=4==Ni(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),us(this);var v="";break t}this.h.i=new K.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function ei(i,e,n,o,l,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,ye,n),this.i){if(this.$&&!this.J){t:{if(this.g){var A,W=this.g;if((A=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(A)){var Q=A;break t}}Q=null}if(!(n=Q)){this.i=!1,this.o=3,Ye(12),xi(this),us(this);break e}di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,co(this,n)}this.U?(Us(this,ye,v),cr&&this.i&&3==ye&&(zi(this.V,this.W,"tick",this.fb),this.W.start())):(di(this.j,this.m,v,null),co(this,v)),4==ye&&xi(this),this.i&&!this.I&&(4==ye?No(this.l,this):(this.i=!1,Bs(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Ye(12)):(this.o=0,Ye(13)),xi(this),us(this)}}}catch{}},Z.fb=function(){if(this.g){var i=Ni(this.g),e=this.g.ga();this.C<e.length&&(Ns(this),Us(this,i,e),this.i&&4!=i&&Bs(this))}},Z.cancel=function(){this.I=!0,xi(this)},Z.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function gi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ci(3),Ye(17)),xi(this),this.o=2,us(this)):Bo(this,this.Y-i)},(Z=ms.prototype).R=function(){Yi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Z.T=function(){return Yi(this),this.g.concat()},Z.get=function(i,e){return Ki(this.h,i)?this.h[i]:e},Z.set=function(i,e){Ki(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Z.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],f=this.get(l);i.call(e,f,l,this)}};var Hi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ys(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof ys){this.g=void 0!==e?e:i.g,vs(this,i.j),this.s=i.s,Es(this,i.i),$s(this,i.m),this.l=i.l,e=i.h;var n=new ar;n.i=e.i,e.g&&(n.g=new ms(e.g),n.h=e.h),Qs(this,n),this.o=i.o}else i&&(n=String(i).match(Hi))?(this.g=!!e,vs(this,n[1]||"",!0),this.s=we(n[2]||""),Es(this,n[3]||"",!0),$s(this,n[4]),this.l=we(n[5]||"",!0),Qs(this,n[6]||"",!0),this.o=we(n[7]||"")):(this.g=!!e,this.h=new ar(null,this.g))}function _s(i){return new ys(i)}function vs(i,e,n){i.j=n?we(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Es(i,e,n){i.i=n?we(e,!0):e}function $s(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qs(i,e,n){e instanceof ar?(i.h=e,function U(i,e){e&&!i.j&&(yr(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(ti(this,o),V(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ve(e,yn)),i.h=new ar(e,i.g))}function Br(i,e,n){i.h.set(e,n)}function ai(i){return Br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function we(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ve(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ut),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ut(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ys.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ve(e,yt,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ve(e,yt,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ve(n,"/"==n.charAt(0)?mn:an,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ve(n,Bn)),i.join("")};var yt=/[#\/\?@]/g,an=/[#\?:]/g,mn=/[#\?]/g,yn=/[#\?@]/g,Bn=/#/g;function ar(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function yr(i){i.g||(i.g=new ms,i.h=0,i.i&&function Hs(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var f=i[n].substring(0,o);l=i[n].substring(o+1)}else f=i[n];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ti(i,e){yr(i),e=ie(i,e),Ki(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ki((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Yi(i)))}function Lr(i,e){return yr(i),e=ie(i,e),Ki(i.g.h,e)}function V(i,e,n){ti(i,e),0<n.length&&(i.i=null,i.g.set(ie(i,e),et(n)),i.h+=n.length)}function ie(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function He(i){this.l=i||_t,i=K.PerformanceNavigationTiming?0<(i=K.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Z=ar.prototype).add=function(i,e){yr(this),this.i=null,i=ie(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Z.forEach=function(i,e){yr(this),this.g.forEach(function(n,o){ze(n,function(l){i.call(e,l,o,this)},this)},this)},Z.T=function(){yr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],f=0;f<l.length;f++)n.push(e[o]);return n},Z.R=function(i){yr(this);var e=[];if("string"==typeof i)Lr(this,i)&&(e=Be(e,this.g.get(ie(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=Be(e,i[n])}return e},Z.set=function(i,e){return yr(this),this.i=null,Lr(this,i=ie(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Z.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=l;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var _t=10;function rt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function un(i){return i.h?1:i.g?i.g.size:0}function qn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Kr(i,e){i.g?i.g.add(e):i.h=e}function Fr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function wr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return et(i.i)}function vi(){}function ii(){this.g=new vi}function mi(i,e,n){const o=n||"";try{cs(i,function(l,f){let v=l;Ge(l)&&(v=Ce(l)),e.push(o+f+"="+encodeURIComponent(v))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function lr(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function $i(i){this.l=i.$b||null,this.j=i.ib||!1}function ds(i,e){gn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=si,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He.prototype.cancel=function(){if(this.i=wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vi.prototype.stringify=function(i){return K.JSON.stringify(i,void 0)},vi.prototype.parse=function(i){return K.JSON.parse(i,void 0)},Xe($i,dn),$i.prototype.g=function(){return new ds(this.l,this.j)},$i.prototype.i=function(i){return function(){return i}}({}),Xe(ds,gn);var si=0;function ho(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function nr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ns(i)}function ns(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Z=ds.prototype).open=function(i,e){if(this.readyState!=si)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ns(this)},Z.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nr(this)),this.readyState=si},Z.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ho(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Z.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?nr(this):ns(this),3==this.readyState&&ho(this)}},Z.Ua=function(i){this.g&&(this.response=this.responseText=i,nr(this))},Z.Ta=function(i){this.g&&(this.response=i,nr(this))},Z.ha=function(){this.g&&nr(this)},Z.setRequestHeader=function(i,e){this.v.append(i,e)},Z.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var vo=K.JSON.parse;function Di(i){gn.call(this),this.headers=new ms,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=la,this.K=this.L=!1}Xe(Di,gn);var la="",Fa=/^https?$/i,Aa=["POST","PUT"];function F(i){return"content-type"==i.toLowerCase()}function O(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ue(i),hn(i)}function ue(i){i.D||(i.D=!0,Dn(i,"complete"),Dn(i,"error"))}function vt(i){if(i.h&&typeof oe<"u"&&(!i.C[1]||4!=Ni(i)||2!=i.ba()))if(i.v&&4==Ni(i))Un(i.Fa,0,i);else if(Dn(i,"readystatechange"),4==Ni(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===A){var l=String(i.H).match(Hi)[1]||null;if(!l&&K.self&&K.self.location){var f=K.self.location.protocol;l=f.substr(0,f.length-1)}o=!Fa.test(l?l.toLowerCase():"")}n=o}if(n)Dn(i,"complete"),Dn(i,"success");else{i.m=6;try{var v=2<Ni(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.ba()+"]",ue(i)}}finally{hn(i)}}}function hn(i,e){if(i.g){Ei(i);const n=i.g,o=i.C[0]?ne:null;i.g=null,i.C=null,e||Dn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Ei(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(K.clearTimeout(i.A),i.A=null)}function Ni(i){return i.g?i.g.readyState:0}function Js(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case la:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function io(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function ro(i){let e="";return lt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Br(i,e,n))}function ks(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function il(i){this.za=0,this.l=[],this.h=new Wr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ks("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ks("baseRetryDelayMs",5e3,i),this.$a=ks("retryDelaySeedMs",1e4,i),this.Ya=ks("forwardChannelMaxRetries",2,i),this.ra=ks("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new He(i&&i.concurrentRequestLimit),this.Ca=new ii,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function $o(i){if(Ui(i),3==i.G){var e=i.V++,n=_s(i.F);Br(n,"SID",i.J),Br(n,"RID",e),Br(n,"TYPE","terminate"),Wo(i,n),(e=new Dr(i,i.h,e,void 0)).K=2,e.v=ai(_s(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=Yl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Bs(e)}js(i)}function sl(i){i.g&&(ji(i),i.g.cancel(),i.g=null)}function Ui(i){sl(i),i.u&&(K.clearTimeout(i.u),i.u=null),yi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&K.clearTimeout(i.m),i.m=null)}function jo(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&hi(i)}function hi(i){rt(i.i)||i.m||(i.m=!0,sn(i.Ha,i),i.C=0)}function Hr(i,e){var n;n=e?e.m:i.V++;const o=_s(i.F);Br(o,"SID",i.J),Br(o,"RID",n),Br(o,"AID",i.U),Wo(i,o),i.o&&i.s&&io(o,i.o,i.s),n=new Dr(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=vl(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Kr(i.i,n),Ps(n,o,e)}function Wo(i,e){i.j&&cs({},function(n,o){Br(e,o,n)})}function vl(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Oe(i.j.Oa,i.j,i):null;e:{var l=i.l;let f=-1;for(;;){const v=["count="+n];-1==f?0<n?(f=l[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let A=!0;for(let W=0;W<n;W++){let Q=l[W].h;const ye=l[W].g;if(Q-=f,0>Q)f=Math.max(0,l[W].h-100),A=!1;else try{mi(ye,v,"req"+Q+"_")}catch{o&&o(ye)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Va(i){i.g||i.u||(i.Y=1,sn(i.Ga,i),i.A=0)}function Ma(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=gt(Oe(i.Ga,i),ua(i,i.A)),i.A++,0))}function ji(i){null!=i.B&&(K.clearTimeout(i.B),i.B=null)}function Ls(i){i.g=new Dr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=_s(i.oa);Br(e,"RID","rpc"),Br(e,"SID",i.J),Br(e,"CI",i.N?"0":"1"),Br(e,"AID",i.U),Wo(i,e),Br(e,"TYPE","xmlhttp"),i.o&&i.s&&io(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=ai(_s(e)),n.s=null,n.U=!0,Ts(n,i)}function yi(i){null!=i.v&&(K.clearTimeout(i.v),i.v=null)}function No(i,e){var n=null;if(i.g==e){yi(i),ji(i),i.g=null;var o=2}else{if(!qn(i.i,e))return;n=e.D,Fr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Dn(o=Vi(),new $e(o,n,e,l)),hi(i)}else Va(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Oi(i,e){return!(un(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=gt(Oe(i.Ha,i,e),ua(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ma(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Eo(i,5);break;case 4:Eo(i,10);break;case 3:Eo(i,6);break;default:Eo(i,2)}}function ua(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Eo(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Oe(i.jb,i);n||(n=new ys("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||vs(n,"https"),ai(n)),function Vt(i,e){const n=new Wr;if(K.Image){const o=new Image;o.onload=Lt(lr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Lt(lr,n,o,"TestLoadImage: error",!1,e),o.onabort=Lt(lr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Lt(lr,n,o,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Ye(2);i.G=0,i.j&&i.j.va(e),js(i),Ui(i)}function js(i){i.G=0,i.I=-1,i.j&&((0!=wr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,et(i.l),i.l.length=0),i.j.ua())}function Ua(i,e,n){let o=function X(i){return i instanceof ys?_s(i):new ys(i,void 0)}(n);if(""!=o.i)e&&Es(o,e+"."+o.i),$s(o,o.m);else{const l=K.location;o=function Y(i,e,n,o){var l=new ys(null,void 0);return i&&vs(l,i),e&&Es(l,e),n&&$s(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&lt(i.aa,function(l,f){Br(o,f,l)}),n=i.sa,(e=i.D)&&n&&Br(o,e,n),Br(o,"VER",i.ma),Wo(i,o),o}function Yl(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(n&&i.Ba&&!i.qa?new $i({ib:!0}):i.qa)).L=i.H,e}function El(){}function Ba(){if(Wn&&!(10<=Number(br)))throw Error("Environmental error: no available transport.")}function Qi(i,e){gn.call(this),this.g=new il(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Ue(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Go(this)}function bl(i){ht.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ol(){Wt.call(this),this.status=1}function Go(i){this.g=i}(Z=Di.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rn.g(),this.C=function _e(i){return i.h||(i.h=i.i())}(this.u?this.u:rn),this.g.onreadystatechange=Oe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void O(this,f)}i=n||"";const l=new ms(this.headers);o&&cs(o,function(f,v){l.set(v,f)}),o=function dt(i){e:{var e=F;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=K.FormData&&i instanceof K.FormData,!(0<=he(Aa,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ei(this),0<this.B&&((this.K=function $(i){return Wn&&function Fn(){return function En(i){var e=Yn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=pt(String(Cr)).split("."),n=pt("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==i&&v<o;v++){var l=e[v]||"",f=n[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=Ft(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Ft(0==l[2].length,0==f[2].length)||Ft(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.pa,this)):this.A=Un(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){O(this,f)}},Z.pa=function(){typeof oe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},Z.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Dn(this,"complete"),Dn(this,"abort"),hn(this))},Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hn(this,!0)),Di.Z.M.call(this)},Z.Fa=function(){this.s||(this.F||this.v||this.l?vt(this):this.cb())},Z.cb=function(){vt(this)},Z.ba=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},Z.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Z.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),vo(e)}},Z.Da=function(){return this.m},Z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=il.prototype).ma=8,Z.G=1,Z.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},Z.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Dr(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=Pt(f),wn(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vl(this,l,e),Br(n=_s(this.F),"RID",i),Br(n,"CVER",22),this.D&&Br(n,"X-HTTP-Session-Id",this.D),Wo(this,n),this.o&&f&&io(n,this.o,f),Kr(this.i,l),this.Ra&&Br(n,"TYPE","init"),this.ja?(Br(n,"$req",e),Br(n,"SID","null"),l.$=!0,Ps(l,n,null)):Ps(l,n,e),this.G=2}}else 3==this.G&&(i?Hr(this,i):0==this.l.length||rt(this.i)||Hr(this))},Z.Ga=function(){if(this.u=null,Ls(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=gt(Oe(this.bb,this),i)}},Z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ye(10),sl(this),Ls(this))},Z.ab=function(){null!=this.v&&(this.v=null,sl(this),Ma(this),Ye(19))},Z.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ye(2)):(this.h.info("Failed to ping google.com"),Ye(1))},(Z=El.prototype).xa=function(){},Z.wa=function(){},Z.va=function(){},Z.ua=function(){},Z.Oa=function(){},Ba.prototype.g=function(i,e){return new Qi(i,e)},Xe(Qi,gn),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),sn(Oe(i.hb,i,e))),Ye(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Ua(i,null,i.W),hi(i)},Qi.prototype.close=function(){$o(this.g)},Qi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,jo(this.g,e)}else this.v?((e={}).__data__=Ce(i),jo(this.g,e)):jo(this.g,i)},Qi.prototype.M=function(){this.g.j=null,delete this.j,$o(this.g),delete this.g,Qi.Z.M.call(this)},Xe(bl,ht),Xe(ol,Wt),Xe(Go,El),Go.prototype.xa=function(){Dn(this.g,"a")},Go.prototype.wa=function(i){Dn(this.g,new bl(i))},Go.prototype.va=function(i){Dn(this.g,new ol(i))},Go.prototype.ua=function(){Dn(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,$t.COMPLETE="complete",ct.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",gn.prototype.listen=gn.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.La,Di.prototype.getLastErrorCode=Di.prototype.Da,Di.prototype.getStatus=Di.prototype.ba,Di.prototype.getResponseJson=Di.prototype.Qa,Di.prototype.getResponseText=Di.prototype.ga,Di.prototype.send=Di.prototype.ea;var ca=te.createWebChannelTransport=function(){return new Ba},ko=te.getStatEventTarget=function(){return Vi()},bo=te.ErrorCode=St,Ha=te.EventType=$t,da=te.Event=Fi,bi=te.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kl=te.FetchXmlHttpFactory=$i,$a=te.WebChannel=ct,Ws=te.XhrIo=Di;const Lo="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let fo="9.9.1";const Gs=new fe.Yd("@firebase/firestore");function xa(){return Gs.logLevel}function al(i){Gs.setLogLevel(i)}function Kt(i,...e){if(Gs.logLevel<=fe.in.DEBUG){const n=e.map(Fs);Gs.debug(`Firestore (${fo}): ${i}`,...n)}}function ki(i,...e){if(Gs.logLevel<=fe.in.ERROR){const n=e.map(Fs);Gs.error(`Firestore (${fo}): ${i}`,...n)}}function hs(i,...e){if(Gs.logLevel<=fe.in.WARN){const n=e.map(Fs);Gs.warn(`Firestore (${fo}): ${i}`,...n)}}function Fs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Pn(i="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+i;throw ki(e),new Error(e)}function Xn(i,e){i||Pn()}function wl(i,e){i||Pn()}function fn(i,e){return i}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends j.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zo{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ko{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wi.UNAUTHENTICATED))}shutdown(){}}class ha{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fa{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const f=Q=>this.i!==l?(l=this.i,n(Q)):Promise.resolve();let v=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new _i,e.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const Q=v;e.enqueueRetryable((0,h.Z)(function*(){yield Q.promise,yield f(o.currentUser)}))},W=Q=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Q=>W(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?W(Q):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new _i)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Xn("string"==typeof o.accessToken),new zo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xn(null===e||"string"==typeof e),new wi(e)}}class pa{constructor(e,n,o){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Zo{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new pa(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ll{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ja{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=f=>{null!=f.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.p;return this.p=f.token,Kt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const l=f=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?l(f):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xn("string"==typeof n.token),this.p=n.token,new ll(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class qo{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Bi(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<n&&(o+=e.charAt(l[f]%e.length))}return o}}function Ir(i,e){return i<e?-1:i>e?1:0}function Ds(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function wo(i){return i+"\0"}class fi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new fi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ir(this.nanoseconds,e.nanoseconds):Ir(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class er{constructor(e){this.timestamp=e}static fromTimestamp(e){return new er(e)}static min(){return new er(new fi(0,0))}static max(){return new er(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xr{constructor(e,n,o){void 0===n?n=0:n>e.length&&Pn(),void 0===o?o=e.length-n:o>e.length-n&&Pn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===xr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const f=e.get(l),v=n.get(l);if(f<v)return-1;if(f>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fr extends xr{construct(e,n,o){return new fr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Nt(At.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new fr(n)}static emptyPath(){return new fr([])}}const rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends xr{construct(e,n,o){return new Ii(e,n,o)}static isValidIdentifier(e){return rs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const f=()=>{if(0===o.length)throw new Nt(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new Nt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new Nt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=W,l+=2}else"`"===A?(v=!v,l++):"."!==A||v?(o+=A,l++):(f(),l++)}if(f(),v)throw new Nt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(n)}static emptyPath(){return new Ii([])}}class en{constructor(e){this.path=e}static fromPath(e){return new en(fr.fromString(e))}static fromName(e){return new en(fr.fromString(e).popFirst(5))}static empty(){return new en(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new en(new fr(e.slice()))}}class Yo{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Wa(i){return i.fields.find(e=>2===e.kind)}function po(i){return i.fields.filter(e=>2!==e.kind)}Yo.UNKNOWN_ID=-1;class bs{constructor(e,n){this.fieldPath=e,this.kind=n}}class is{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new is(0,Ji.min())}}function Io(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=er.fromTimestamp(1e9===o?new fi(n+1,0):new fi(n,o));return new Ji(l,en.empty(),e)}function Pa(i){return new Ji(i.readTime,i.key,-1)}class Ji{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ji(er.min(),en.empty(),-1)}static max(){return new Ji(er.max(),en.empty(),-1)}}function Co(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=en.comparator(i.documentKey,e.documentKey),0!==n?n:Ir(i.largestBatchId,e.largestBatchId))}const Ll="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qr(i){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,h.Z)(function*(i){if(i.code!==At.FAILED_PRECONDITION||i.message!==Ll)throw i;Kt("LocalStore","Unexpectedly lost primary lease")}),Fl.apply(this,arguments)}class Ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ct((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(n,f).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ct?n:Ct.resolve(n)}catch(n){return Ct.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ct.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ct.reject(n)}static resolve(e){return new Ct((n,o)=>{n(e)})}static reject(e){return new Ct((n,o)=>{o(e)})}static waitFor(e){return new Ct((n,o)=>{let l=0,f=0,v=!1;e.forEach(A=>{++l,A.next(()=>{++f,v&&f===l&&n()},W=>o(W))}),v=!0,f===l&&n()})}static or(e){let n=Ct.resolve(!1);for(const o of e)n=n.next(l=>l?Ct.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,f)=>{o.push(n.call(this,l,f))}),this.waitFor(o)}static mapArray(e,n){return new Ct((o,l)=>{const f=e.length,v=new Array(f);let A=0;for(let W=0;W<f;W++){const Q=W;n(e[Q]).next(ye=>{v[Q]=ye,++A,A===f&&o(v)},ye=>l(ye))}})}static doWhile(e,n){return new Ct((o,l)=>{const f=()=>{!0===e()?n().next(()=>{f()},l):o()};f()})}}class Ga{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new _i,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new ul(e,n.error)):this.T.resolve()},this.transaction.onerror=o=>{const l=Xi(o.target.error);this.T.reject(new ul(e,l))}}static open(e,n,o,l){try{return new Ga(n,e.transaction(l,o))}catch(f){throw new ul(n,f)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new cl(n)}}class To{constructor(e,n,o){this.name=e,this.version=n,this.P=o,12.2===To.v((0,j.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),ga(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,j.hl)())return!1;if(To.S())return!0;const e=(0,j.z$)(),n=To.v(e),o=0<n&&n<10,l=To.D(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var n=this;return(0,h.Z)(function*(){return n.db||(Kt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const f=indexedDB.open(n.name,n.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{l(new ul(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const A=v.target.error;l("VersionError"===A.name?new Nt(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Nt(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new ul(e,A))},f.onupgradeneeded=v=>{Kt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.P.O(v.target.result,f.transaction,v.oldVersion,n.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.M&&(n.db.onversionchange=o=>n.M(o)),n.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var f=this;return(0,h.Z)(function*(){const v="readonly"===n;let A=0;for(;;){++A;try{f.db=yield f.k(e);const W=Ga.open(f.db,e,v?"readonly":"readwrite",o),Q=l(W).next(ye=>(W.R(),ye)).catch(ye=>(W.abort(ye),Ct.reject(ye))).toPromise();return Q.catch(()=>{}),yield W.A,Q}catch(W){const Q=W,ye="FirebaseError"!==Q.name&&A<3;if(Kt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ye),f.close(),!ye)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pu{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ga(this.$.delete())}}class ul extends Nt{constructor(e,n){super(At.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fo(i){return"IndexedDbTransactionError"===i.name}class cl{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Kt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ga(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),ga(this.store.add(e))}get(e){return ga(this.store.get(e)).next(n=>(void 0===n&&(n=null),Kt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),ga(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),ga(this.store.count())}K(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),f=[];return this.G(l,(v,A)=>{f.push(A)}).next(()=>f)}{const l=this.store.getAll(o.range);return new Ct((f,v)=>{l.onerror=A=>{v(A.target.error)},l.onsuccess=A=>{f(A.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new Ct((l,f)=>{o.onerror=v=>{f(v.target.error)},o.onsuccess=v=>{l(v.target.result)}})}W(e,n){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.H=!1;const l=this.cursor(o);return this.G(l,(f,v,A)=>A.delete())}J(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Y(e){const n=this.cursor({});return new Ct((o,l)=>{n.onerror=f=>{const v=Xi(f.target.error);l(v)},n.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}G(e,n){const o=[];return new Ct((l,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void l();const W=new pu(A),Q=n(A.primaryKey,A.value,W);if(Q instanceof Ct){const ye=Q.catch(We=>(W.done(),Ct.reject(We)));o.push(ye)}W.isDone?l():null===W.U?A.continue():A.continue(W.U)}}).next(()=>Ct.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ga(i){return new Ct((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Xi(o.target.error);n(l)}})}let gu=!1;function Xi(i){const e=To.v((0,j.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gu||(gu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Il{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var n=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){n.task=null;try{Kt("IndexBackiller",`Documents written: ${yield n.X.tt()}`)}catch(o){Fo(o)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield qr(o)}yield n.Z(1)}))}}class ma{constructor(e,n){this.localStore=e,this.persistence=n}tt(e=50){var n=this;return(0,h.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.et(o,e))})()}et(e,n){const o=new Set;let l=n,f=!0;return Ct.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return Kt("IndexBackiller",`Processing collection: ${v}`),this.nt(e,v,l).next(A=>{l-=A,o.add(v)});f=!1})).next(()=>n-l)}nt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.st(l,f)).next(A=>(Kt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,n,A))).next(()=>v.size)}))}st(e,n){let o=e;return n.changes.forEach((l,f)=>{const v=Pa(f);Co(v,o)>0&&(o=v)}),new Ji(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class zs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.it(o),this.rt=o=>n.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function za(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function so(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}zs.ot=-1;class Wi{constructor(e,n){this.comparator=e,this.root=n||C.EMPTY}insert(e,n){return new Wi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,C.BLACK,null,null))}remove(e){return new Wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T(this.root,e,this.comparator,!1)}getReverseIterator(){return new T(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T(this.root,e,this.comparator,!0)}}class T{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?o(e.key,n):1,n&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class C{constructor(e,n,o,l,f){this.key=e,this.value=n,this.color=o??C.RED,this.left=l??C.EMPTY,this.right=f??C.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,f){return new C(e??this.key,n??this.value,o??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===f?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return C.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return C.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,C.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,C.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}}C.EMPTY=null,C.RED=!0,C.BLACK=!1,C.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(i,e,n,o,l){return this}insert(i,e,n){return new C(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class w{constructor(e){this.comparator=e,this.data=new Wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P(this.data.getIterator())}getIteratorFrom(e){return new P(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof w)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new w(this.comparator);return n.data=e,n}}class P{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B(i){return i.hasNext()?i.getNext():void 0}class se{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new se([])}unionWith(e){let n=new w(Ii.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new se(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ee(){return typeof atob<"u"}class Me{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Me(n)}static fromUint8Array(e){const n=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Me(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ir(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Me.EMPTY_BYTE_STRING=new Me("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function on(i){if(Xn(!!i),"string"==typeof i){let e=0;const n=bt.exec(i);if(Xn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Mn(i.seconds),nanos:Mn(i.nanos)}}function Mn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Rn(i){return"string"==typeof i?Me.fromBase64String(i):Me.fromUint8Array(i)}function Qr(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ss(i){const e=i.mapValue.fields.__previous_value__;return Qr(e)?ss(e):e}function oo(i){const e=on(i.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}class Qo{constructor(e,n,o,l,f,v,A,W){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=W}}class os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new os("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof os&&e.projectId===this.projectId&&e.database===this.database}}function Jo(i){return null==i}function Ks(i){return 0===i&&1/i==-1/0}function ya(i){return"number"==typeof i&&Number.isInteger(i)&&!Ks(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ql={nullValue:"NULL_VALUE"};function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qr(i)?4:Tt(i)?9007199254740991:10:Pn()}function Do(i,e){if(i===e)return!0;const n=as(i);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return oo(i).isEqual(oo(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=on(o.timestampValue),v=on(l.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Rn(i.bytesValue).isEqual(Rn(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Mn(o.geoPointValue.latitude)===Mn(l.geoPointValue.latitude)&&Mn(o.geoPointValue.longitude)===Mn(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Mn(o.integerValue)===Mn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=Mn(o.doubleValue),v=Mn(l.doubleValue);return f===v?Ks(f)===Ks(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return Ds(i.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:return function(o,l){const f=o.mapValue.fields||{},v=l.mapValue.fields||{};if(za(f)!==za(v))return!1;for(const A in f)if(f.hasOwnProperty(A)&&(void 0===v[A]||!Do(f[A],v[A])))return!1;return!0}(i,e);default:return Pn()}var l}function ao(i,e){return void 0!==(i.values||[]).find(n=>Do(n,e))}function Xo(i,e){if(i===e)return 0;const n=as(i),o=as(e);if(n!==o)return Ir(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ir(i.booleanValue,e.booleanValue);case 2:return function(l,f){const v=Mn(l.integerValue||l.doubleValue),A=Mn(f.integerValue||f.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return Jl(i.timestampValue,e.timestampValue);case 4:return Jl(oo(i),oo(e));case 5:return Ir(i.stringValue,e.stringValue);case 6:return function(l,f){const v=Rn(l),A=Rn(f);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const v=l.split("/"),A=f.split("/");for(let W=0;W<v.length&&W<A.length;W++){const Q=Ir(v[W],A[W]);if(0!==Q)return Q}return Ir(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const v=Ir(Mn(l.latitude),Mn(f.latitude));return 0!==v?v:Ir(Mn(l.longitude),Mn(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const v=l.values||[],A=f.values||[];for(let W=0;W<v.length&&W<A.length;++W){const Q=Xo(v[W],A[W]);if(Q)return Q}return Ir(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===go.mapValue&&f===go.mapValue)return 0;if(l===go.mapValue)return 1;if(f===go.mapValue)return-1;const v=l.fields||{},A=Object.keys(v),W=f.fields||{},Q=Object.keys(W);A.sort(),Q.sort();for(let ye=0;ye<A.length&&ye<Q.length;++ye){const We=Ir(A[ye],Q[ye]);if(0!==We)return We;const Dt=Xo(v[A[ye]],W[Q[ye]]);if(0!==Dt)return Dt}return Ir(A.length,Q.length)}(i.mapValue,e.mapValue);default:throw Pn()}}function Jl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ir(i,e);const n=on(i),o=on(e),l=Ir(n.seconds,o.seconds);return 0!==l?l:Ir(n.nanos,o.nanos)}function _a(i){return Vl(i)}function Vl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=on(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Rn(i.bytesValue).toBase64():"referenceValue"in i?en.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const v of o.values||[])f?f=!1:l+=",",l+=Vl(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const A of l)v?v=!1:f+=",",f+=`${A}:${Vl(o.fields[A])}`;return f+"}"}(i.mapValue):Pn();var e}function So(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function va(i){return!!i&&"integerValue"in i}function R(i){return!!i&&"arrayValue"in i}function H(i){return!!i&&"nullValue"in i}function ae(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Te(i){return!!i&&"mapValue"in i}function it(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=it(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=it(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Tt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gt(i){return"nullValue"in i?Ql:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?So(os.empty(),en.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Pn()}function Cn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?So(os.empty(),en.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?go:Pn()}function ir(i,e){const n=Xo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function _r(i,e){const n=Xo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Te(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=it(n)}setAll(e){let n=Ii.emptyPath(),o={},l=[];e.forEach((v,A)=>{if(!n.isImmediateParentOf(A)){const W=this.getFieldsMap(n);this.applyChanges(W,o,l),o={},l=[],n=A.popLast()}v?o[A.lastSegment()]=it(v):l.push(A.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,o,l)}delete(e){const n=this.field(e.popLast());Te(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Te(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){es(n,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new zn(it(this.value))}}function tr(i){const e=[];return es(i.fields,(n,o)=>{const l=new Ii([n]);if(Te(o)){const f=tr(o.mapValue).fields;if(0===f.length)e.push(l);else for(const v of f)e.push(l.child(v))}else e.push(l)}),new se(e)}class vr{constructor(e,n,o,l,f,v){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=f,this.documentState=v}static newInvalidDocument(e){return new vr(e,0,er.min(),er.min(),zn.empty(),0)}static newFoundDocument(e,n,o){return new vr(e,1,n,er.min(),o,0)}static newNoDocument(e,n){return new vr(e,2,n,er.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,er.min(),zn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=er.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eo{constructor(e,n=null,o=[],l=[],f=null,v=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=v,this.endAt=A,this.ut=null}}function Ka(i,e=null,n=[],o=[],l=null,f=null,v=null){return new eo(i,e,n,o,l,f,v)}function Ss(i){const e=fn(i);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+_a(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Jo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>_a(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>_a(o)).join(",")),e.ut=n}return e.ut}function Ra(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!mc(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!Do(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ju(i.startAt,e.startAt)&&ju(i.endAt,e.endAt)}function Za(i){return en.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ba(i,e){return i.filters.filter(n=>n instanceof fs&&n.field.isEqual(e))}function mo(i,e,n){let o=Ql,l=!0;for(const f of ba(i,e)){let v=Ql,A=!0;switch(f.op){case"<":case"<=":v=Gt(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,A=!1;break;case"!=":case"not-in":v=Ql}ir({value:o,inclusive:l},{value:v,inclusive:A})<0&&(o=v,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=n.position[f];ir({value:o,inclusive:l},{value:v,inclusive:n.inclusive})<0&&(o=v,l=n.inclusive);break}return{value:o,inclusive:l}}function Ao(i,e,n){let o=go,l=!0;for(const f of ba(i,e)){let v=go,A=!0;switch(f.op){case">=":case">":v=Cn(f.value),A=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,A=!1;break;case"!=":case"not-in":v=go}_r({value:o,inclusive:l},{value:v,inclusive:A})>0&&(o=v,l=A)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=n.position[f];_r({value:o,inclusive:l},{value:v,inclusive:n.inclusive})>0&&(o=v,l=n.inclusive);break}return{value:o,inclusive:l}}class fs extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,o):new zd(e,n,o):"array-contains"===n?new Qc(e,o):"in"===n?new $u(e,o):"not-in"===n?new gc(e,o):"array-contains-any"===n?new mu(e,o):new fs(e,n,o)}static ct(e,n,o){return"in"===n?new pc(e,o):new Yc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(Xo(n,this.value)):null!==n&&as(this.value)===as(n)&&this.at(Xo(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zd extends fs{constructor(e,n,o){super(e,n,o),this.key=en.fromName(o.referenceValue)}matches(e){const n=en.comparator(e.key,this.key);return this.at(n)}}class pc extends fs{constructor(e,n){super(e,"in",n),this.keys=Hu(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yc extends fs{constructor(e,n){super(e,"not-in",n),this.keys=Hu(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hu(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>en.fromName(o.referenceValue))}class Qc extends fs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R(n)&&ao(n.arrayValue,this.value)}}class $u extends fs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ao(this.value.arrayValue,n)}}class gc extends fs{constructor(e,n){super(e,"not-in",n)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ao(this.value.arrayValue,n)}}class mu extends fs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>ao(this.value.arrayValue,o))}}class ea{constructor(e,n){this.position=e,this.inclusive=n}}class Ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function mc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Jc(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],v=i.position[l];if(o=f.field.isKeyField()?en.comparator(en.fromName(v.referenceValue),n.key):Xo(v,n.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function ju(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Do(i.position[n],e.position[n]))return!1;return!0}class dl{constructor(e,n=null,o=[],l=[],f=null,v="F",A=null,W=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=v,this.startAt=A,this.endAt=W,this.lt=null,this.ft=null}}function yu(i,e,n,o,l,f,v,A){return new dl(i,e,n,o,l,f,v,A)}function Bl(i){return new dl(i)}function hl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Xl(i){for(const e of i.filters)if(e.ht())return e.field;return null}function fl(i){return null!==i.collectionGroup}function Hl(i){const e=fn(i);if(null===e.lt){e.lt=[];const n=Xl(e),o=hl(e);if(null!==n&&null===o)n.isKeyField()||e.lt.push(new Ul(n)),e.lt.push(new Ul(Ii.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.lt.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Ul(Ii.keyField(),f))}}}return e.lt}function ta(i){const e=fn(i);if(!e.ft)if("F"===e.limitType)e.ft=Ka(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const f of Hl(e))n.push(new Ul(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new ea(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new ea(e.startAt.position,e.startAt.inclusive):null;e.ft=Ka(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.ft}function Xc(i,e,n){return new dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function qa(i,e){return Ra(ta(i),ta(e))&&i.limitType===e.limitType}function _u(i){return`${Ss(ta(i))}|lt:${i.limitType}`}function vu(i){return`Query(target=${function Ea(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${_a(o.value)}`;var o}).join(", ")}]`),Jo(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>_a(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>_a(n)).join(",")),`Target(${e})`}(ta(i))}; limitType=${i.limitType})`}function Eu(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):en.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,f,v){const A=Jc(l,f,v);return l.inclusive?A<=0:A<0}(n.startAt,Hl(n),o)||n.endAt&&!function(l,f,v){const A=Jc(l,f,v);return l.inclusive?A>=0:A>0}(n.endAt,Hl(n),o)));var n,o}function Wu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Na(i){return(e,n)=>{let o=!1;for(const l of Hl(i)){const f=ed(l,e,n);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function ed(i,e,n){const o=i.field.isKeyField()?en.comparator(e.key,n.key):function(l,f,v){const A=f.data.field(l),W=v.data.field(l);return null!==A&&null!==W?Xo(A,W):Pn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Pn()}}function bu(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function _c(i){return{integerValue:""+i}}function ws(i,e){return ya(e)?_c(e):bu(i,e)}class eu{constructor(){this._=void 0}}function wa(i,e,n){return i instanceof Tl?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof pl?zu(i,e):i instanceof Dl?vc(i,e):function(o,l){const f=Gu(o,l),v=g(f)+g(o._t);return va(f)&&va(o._t)?_c(v):bu(o.wt,v)}(i,e)}function Cl(i,e,n){return i instanceof pl?zu(i,e):i instanceof Dl?vc(i,e):n}function Gu(i,e){return i instanceof I?va(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Tl extends eu{}class pl extends eu{constructor(e){super(),this.elements=e}}function zu(i,e){const n=y(e);for(const o of i.elements)n.some(l=>Do(l,o))||n.push(o);return{arrayValue:{values:n}}}class Dl extends eu{constructor(e){super(),this.elements=e}}function vc(i,e){let n=y(e);for(const o of i.elements)n=n.filter(l=>!Do(l,o));return{arrayValue:{values:n}}}class I extends eu{constructor(e,n){super(),this.wt=e,this._t=n}}function g(i){return Mn(i.integerValue||i.doubleValue)}function y(i){return R(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class S{constructor(e,n){this.field=e,this.transform=n}}class me{constructor(e,n){this.version=e,this.transformResults=n}}class st{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new st}static exists(e){return new st(void 0,e)}static updateTime(e){return new st(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kt(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class An{}function Ln(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ka(i.key,st.none()):new Ya(i.key,i.data,st.none());{const n=i.data,o=zn.empty();let l=new w(Ii.comparator);for(let f of e.fields)if(!l.has(f)){let v=n.field(f);null===v&&f.length>1&&(f=f.popLast(),v=n.field(f)),null===v?o.delete(f):o.set(f,v),l=l.add(f)}return new Qa(i.key,o,new se(l.toArray()),st.none())}}function Vr(i,e,n){i instanceof Ya?function(o,l,f){const v=o.value.clone(),A=Sl(o.fieldTransforms,l,f.transformResults);v.setAll(A),l.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,n):i instanceof Qa?function(o,l,f){if(!kt(o.precondition,l))return void l.convertToUnknownDocument(f.version);const v=Sl(o.fieldTransforms,l,f.transformResults),A=l.data;A.setAll(Ec(o)),A.setAll(v),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pi(i,e,n,o){return i instanceof Ya?function(l,f,v,A){if(!kt(l.precondition,f))return v;const W=l.value.clone(),Q=tu(l.fieldTransforms,A,f);return W.setAll(Q),f.convertToFoundDocument(f.version,W).setHasLocalMutations(),null}(i,e,n,o):i instanceof Qa?function(l,f,v,A){if(!kt(l.precondition,f))return v;const W=tu(l.fieldTransforms,A,f),Q=f.data;return Q.setAll(Ec(l)),Q.setAll(W),f.convertToFoundDocument(f.version,Q).setHasLocalMutations(),null===v?null:v.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ye=>ye.field))}(i,e,n,o):(v=n,kt(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):v);var f,v}function Ia(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=Gu(o.transform,l||null);null!=f&&(null===n&&(n=zn.empty()),n.set(o.field,f))}return n||null}function na(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Ds(n,o,(l,f)=>function re(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pl&&o instanceof pl||n instanceof Dl&&o instanceof Dl?Ds(n.elements,o.elements,Do):n instanceof I&&o instanceof I?Do(n._t,o._t):n instanceof Tl&&o instanceof Tl);var n,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Ya extends An{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qa extends An{constructor(e,n,o,l,f=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Ec(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Sl(i,e,n){const o=new Map;Xn(i.length===n.length);for(let l=0;l<n.length;l++){const f=i[l],v=f.transform,A=e.data.field(f.field);o.set(f.field,Cl(v,A,n[l]))}return o}function tu(i,e,n){const o=new Map;for(const l of i){const f=l.transform,v=n.data.field(l.field);o.set(l.field,wa(f,v,e))}return o}class ka extends An{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ku extends An{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class td{constructor(e){this.count=e}}var ls,li;function nd(i){switch(i){default:return Pn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}function Zu(i){if(void 0===i)return ki("GRPC error has no .code"),At.UNKNOWN;switch(i){case ls.OK:return At.OK;case ls.CANCELLED:return At.CANCELLED;case ls.UNKNOWN:return At.UNKNOWN;case ls.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case ls.INTERNAL:return At.INTERNAL;case ls.UNAVAILABLE:return At.UNAVAILABLE;case ls.UNAUTHENTICATED:return At.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case ls.NOT_FOUND:return At.NOT_FOUND;case ls.ALREADY_EXISTS:return At.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return At.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case ls.ABORTED:return At.ABORTED;case ls.OUT_OF_RANGE:return At.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return At.UNIMPLEMENTED;case ls.DATA_LOSS:return At.DATA_LOSS;default:return Pn()}}(li=ls||(ls={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return so(this.inner)}size(){return this.innerSize}}const Yh=new Wi(en.comparator);function Mo(){return Yh}const Kd=new Wi(en.comparator);function wu(...i){let e=Kd;for(const n of i)e=e.insert(n.key,n);return e}function Qh(i){let e=Kd;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Li(){return bc()}function Zd(){return bc()}function bc(){return new Al(i=>i.toString(),(i,e)=>i.isEqual(e))}const qd=new Wi(en.comparator),Jh=new w(en.comparator);function ni(...i){let e=Jh;for(const n of i)e=e.add(n);return e}const ng=new w(Ir);function rd(){return ng}class wc{constructor(e,n,o,l,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n)),new wc(er.min(),o,rd(),Mo(),ni())}}class qu{constructor(e,n,o,l,f){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n){return new qu(Me.EMPTY_BYTE_STRING,n,ni(),ni(),ni())}}class id{constructor(e,n,o,l){this.gt=e,this.removedTargetIds=n,this.key=o,this.yt=l}}class Xh{constructor(e,n){this.targetId=e,this.It=n}}class Iu{constructor(e,n,o=Me.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class Ic{constructor(){this.Tt=0,this.Et=od(),this.At=Me.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ni(),n=ni(),o=ni();return this.Et.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:Pn()}}),new qu(this.At,this.Rt,e,n,o)}Dt(){this.bt=!1,this.Et=od()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Yd{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Mo(),this.Bt=sd(),this.Lt=new w(Ir)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const o=this.Qt(n);switch(e.state){case 0:this.jt(n)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),o.Vt(e.resumeToken));break;default:Pn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((o,l)=>{this.jt(l)&&n(l)})}zt(e){const n=e.targetId,o=e.It.count,l=this.Ht(n);if(l){const f=l.target;if(Za(f))if(0===o){const v=new en(f.path);this.Kt(n,v,vr.newNoDocument(v,er.min()))}else Xn(1===o);else this.Jt(n)!==o&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((f,v)=>{const A=this.Ht(v);if(A){if(f.current&&Za(A.target)){const W=new en(A.target.path);null!==this.$t.get(W)||this.Xt(v,W)||this.Kt(v,W,vr.newNoDocument(W,e))}f.vt&&(n.set(v,f.St()),f.Dt())}});let o=ni();this.Bt.forEach((f,v)=>{let A=!0;v.forEachWhile(W=>{const Q=this.Ht(W);return!Q||2===Q.purpose||(A=!1,!1)}),A&&(o=o.add(f))}),this.$t.forEach((f,v)=>v.setReadTime(e));const l=new wc(e,n,this.Lt,this.$t,o);return this.$t=Mo(),this.Bt=sd(),this.Lt=new w(Ir),l}qt(e,n){if(!this.jt(e))return;const o=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,o),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,o){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,n)?l.Ct(n,1):l.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),o&&(this.$t=this.$t.insert(n,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Ic,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new w(Ir),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||Kt("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Ic),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function sd(){return new Wi(en.comparator)}function od(){return new Wi(en.comparator)}const b={asc:"ASCENDING",desc:"DESCENDING"},m={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class d{constructor(e,n){this.databaseId=e,this.dt=n}}function _(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N(i,e){return i.dt?e.toBase64():e.toUint8Array()}function q(i,e){return _(i,e.toTimestamp())}function pe(i){return Xn(!!i),er.fromTimestamp(function(e){const n=on(e);return new fi(n.seconds,n.nanos)}(i))}function xe(i,e){return(n=i,new fr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ft(i){const e=fr.fromString(i);return Xn(dr(e)),e}function Rt(i,e){return xe(i.databaseId,e.path)}function cn(i,e){const n=ft(e);if(n.get(1)!==i.databaseId.projectId)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Nt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new en(pr(n))}function Vn(i,e){return xe(i.databaseId,e)}function Jr(i){const e=ft(i);return 4===e.length?fr.emptyPath():pr(e)}function Gr(i){return new fr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pr(i){return Xn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Sr(i,e,n){return{name:Rt(i,e),fields:n.value.mapValue.fields}}function ci(i,e,n){const o=cn(i,e.name),l=pe(e.updateTime),f=new zn({mapValue:{fields:e.fields}}),v=vr.newFoundDocument(o,l,f);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function to(i,e){let n;if(e instanceof Ya)n={update:Sr(i,e.key,e.value)};else if(e instanceof ka)n={delete:Rt(i,e.key)};else if(e instanceof Qa)n={update:Sr(i,e.key,e.data),updateMask:gr(e.fieldMask)};else{if(!(e instanceof Ku))return Pn();n={verify:Rt(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const v=f.transform;if(v instanceof Tl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Dl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof I)return{fieldPath:f.field.canonicalString(),increment:v._t};throw Pn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:q(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Pn()),n;var l}function no(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?st.updateTime(pe(l.updateTime)):void 0!==l.exists?st.exists(l.exists):st.none():st.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,v){let A=null;"setToServerValue"in v?(Xn("REQUEST_TIME"===v.setToServerValue),A=new Tl):"appendMissingElements"in v?A=new pl(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new Dl(v.removeAllFromArray.values||[]):"increment"in v?A=new I(f,v.increment):Pn();const W=Ii.fromServerFormat(v.fieldPath);return new S(W,A)}(i,l)):[];var l;if(e.update){const l=cn(i,e.update.name),f=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new se((e.updateMask.fieldPaths||[]).map(Q=>Ii.fromServerFormat(Q)));return new Qa(l,f,v,n,o)}return new Ya(l,f,n,o)}if(e.delete){const l=cn(i,e.delete);return new ka(l,n)}if(e.verify){const l=cn(i,e.verify);return new Ku(l,n)}return Pn()}function xo(i,e){return{documents:[Vn(i,e.path)]}}function Oo(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Vn(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vn(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(W){if(0===W.length)return;const Q=W.map(ye=>function(We){if("=="===We.op){if(ae(We.value))return{unaryFilter:{field:Ca(We.field),op:"IS_NAN"}};if(H(We.value))return{unaryFilter:{field:Ca(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(ae(We.value))return{unaryFilter:{field:Ca(We.field),op:"IS_NOT_NAN"}};if(H(We.value))return{unaryFilter:{field:Ca(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(We.field),op:Yu(We.op),value:We.value}}}(ye));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);l&&(n.structuredQuery.where=l);const f=function(W){if(0!==W.length)return W.map(Q=>{return{field:Ca((ye=Q).field),direction:Cc(ye.dir)};var ye})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const v=(Q=e.limit,i.dt||Jo(Q)?Q:{value:Q});var Q,A,W;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),n}function gl(i){let e=Jr(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Xn(1===o);const ye=n.from[0];ye.allDescendants?l=ye.collectionId:e=e.child(ye.collectionId)}let f=[];n.where&&(f=ml(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(ye=>{return new Ul(ru((We=ye).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let A=null;n.limit&&(A=function(ye){let We;return We="object"==typeof ye?ye.value:ye,Jo(We)?null:We}(n.limit));let W=null;var ye;n.startAt&&(W=new ea((ye=n.startAt).values||[],!!ye.before));let Q=null;return n.endAt&&(Q=function(ye){return new ea(ye.values||[],!ye.before)}(n.endAt)),yu(e,l,v,f,A,"F",W,Q)}function ml(i){return i?void 0!==i.unaryFilter?[Qn(i)]:void 0!==i.fieldFilter?[ad(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ml(e)).reduce((e,n)=>e.concat(n)):Pn():[]}function Cc(i){return b[i]}function Yu(i){return m[i]}function Ca(i){return{fieldPath:i.canonicalString()}}function ru(i){return Ii.fromServerFormat(i.fieldPath)}function ad(i){return fs.create(ru(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Qn(i){switch(i.unaryFilter.op){case"IS_NAN":const e=ru(i.unaryFilter.field);return fs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ru(i.unaryFilter.field);return fs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ru(i.unaryFilter.field);return fs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ru(i.unaryFilter.field);return fs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}function gr(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dr(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Pr(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vo(e)),e=Is(i.get(n),e);return Vo(e)}function Is(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const f=i.charAt(l);switch(f){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=f}}return n}function Vo(i){return i+"\x01\x01"}function As(i){const e=i.length;if(Xn(e>=2),2===e)return Xn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),fr.emptyPath();const n=e-2,o=[];let l="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>n)&&Pn(),i.charAt(v+1)){case"\x01":const A=i.substring(f,v);let W;0===l.length?W=A:(l+=A,W=l,l=""),o.push(W);break;case"\x10":l+=i.substring(f,v),l+="\0";break;case"\x11":l+=i.substring(f,v+1);break;default:Pn()}f=v+2}return new fr(o)}const $l=["userId","batchId"];function qi(i,e){return[i,Pr(e)]}function ld(i,e,n){return[i,Pr(e),n]}const ef={},Po=["prefixPath","collectionGroup","readTime","documentId"],jl=["prefixPath","collectionGroup","documentId"],Ta=["collectionGroup","readTime","prefixPath","documentId"],Cu=["canonicalId","targetId"],ud=["targetId","path"],Km=["path","targetId"],tf=["collectionId","parent"],R_=["indexId","uid"],N_=["uid","sequenceNumber"],nf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],k_=["indexId","uid","orderedDocumentKey"],L_=["userId","collectionPath","documentId"],F_=["userId","collectionPath","largestBatchId"],V_=["userId","collectionGroup","largestBatchId"],Zm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qm=[...Zm,"documentOverlays"],rf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qd=rf,rg=[...Qd,"indexConfiguration","indexState","indexEntries"];class sf extends Xs{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function yo(i,e){const n=fn(i);return To.N(n.ee,e)}class cd{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&Vr(f,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Pi(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Pi(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Zd();return this.mutations.forEach(l=>{const f=e.get(l.key),v=f.overlayedDocument;let A=this.applyToLocalView(v,f.mutatedFields);A=n.has(l.key)?null:A;const W=Ln(v,A);null!==W&&o.set(l.key,W),v.isValidDocument()||v.convertToNoDocument(er.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ni())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(n,o)=>na(n,o))&&Ds(this.baseMutations,e.baseMutations,(n,o)=>na(n,o))}}class af{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Xn(e.mutations.length===o.length);let l=qd;const f=e.mutations;for(let v=0;v<f.length;v++)l=l.insert(f[v].key,o[v].version);return new af(e,n,o,l)}}class dd{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(e,n,o,l,f=er.min(),v=er.min(),A=Me.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ig{constructor(e){this.ne=e}}function sg(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Rt(l=i.ne,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:_(l,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return Pn();o.unknownDocument={path:n.path.toArray(),version:Qu(e.version)}}var l,f;return o}function hd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ju(i){const e=new fi(i.seconds,i.nanoseconds);return er.fromTimestamp(e)}function Xu(i,e){const n=(e.baseMutations||[]).map(f=>no(i.ne,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>no(i.ne,f)),l=fi.fromMillis(e.localWriteTimeMs);return new cd(e.batchId,l,n,o)}function fd(i){const e=Ju(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ju(i.lastLimboFreeSnapshotVersion):er.min();let o;var l;return void 0!==i.query.documents?(Xn(1===(l=i.query).documents.length),o=ta(Bl(Jr(l.documents[0])))):o=ta(gl(i.query)),new yl(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Me.fromBase64String(i.resumeToken))}function Jd(i,e){const n=Qu(e.snapshotVersion),o=Qu(e.lastLimboFreeSnapshotVersion);let l;l=Za(e.target)?xo(i.ne,e.target):Oo(i.ne,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ss(e.target),readTime:n,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function lf(i){const e=gl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Xc(e,e.limit,"L"):e}function uf(i,e){return new dd(e.largestBatchId,no(i.ne,e.overlayMutation))}function og(i,e){const n=e.path.lastSegment();return[i,Pr(e.path.popLast()),n]}function cf(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Qu(o.readTime),documentKey:Pr(o.documentKey.path),largestBatchId:o.largestBatchId}}class Qm{getBundleMetadata(e,n){return ag(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Ju(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return ag(e).put({bundleId:(o=n).id,createTime:Qu(pe(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return ra(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:lf(l.bundledQuery),readTime:Ju(l.readTime)};var l})}saveNamedQuery(e,n){return ra(e).put({name:(o=n).name,readTime:Qu(pe(o.readTime)),bundledQuery:o.bundledQuery});var o}}function ag(i){return yo(i,"bundles")}function ra(i){return yo(i,"namedQueries")}class Tc{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){return new Tc(e,n.uid||"")}getOverlay(e,n){return Dc(e).get(og(this.userId,n)).next(o=>o?uf(this.wt,o):null)}getOverlays(e,n){const o=Li();return Ct.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((f,v)=>{const A=new dd(n,v);l.push(this.ie(e,A))}),Ct.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(v=>l.add(Pr(v.getCollectionPath())));const f=[];return l.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);f.push(Dc(e).W("collectionPathOverlayIndex",A))}),Ct.waitFor(f)}getOverlaysForCollection(e,n,o){const l=Li(),f=Pr(n),v=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Dc(e).K("collectionPathOverlayIndex",v).next(A=>{for(const W of A){const Q=uf(this.wt,W);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const f=Li();let v;const A=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Dc(e).J({index:"collectionGroupOverlayIndex",range:A},(W,Q,ye)=>{const We=uf(this.wt,Q);f.size()<l||We.largestBatchId===v?(f.set(We.getKey(),We),v=We.largestBatchId):ye.done()}).next(()=>f)}ie(e,n){return Dc(e).put(function(o,l,f){const[v,A,W]=og(l,f.mutation.key);return{userId:l,collectionPath:A,documentId:W,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:to(o.ne,f.mutation)}}(this.wt,this.userId,n))}}function Dc(i){return yo(i,"documentOverlays")}class iu{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(Mn(e.integerValue));else if("doubleValue"in e){const o=Mn(e.doubleValue);isNaN(o)?this.ce(n,13):(this.ce(n,15),Ks(o)?n.ae(0):n.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(n,20),"string"==typeof o?n.he(o):(n.he(`${o.seconds||""}`),n.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(Rn(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(n,45),n.ae(o.latitude||0),n.ae(o.longitude||0)}else"mapValue"in e?Tt(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):Pn()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const o=e.fields||{};this.ce(n,55);for(const l of Object.keys(o))this.le(l,n),this.oe(o[l],n)}me(e,n){const o=e.values||[];this.ce(n,50);for(const l of o)this.oe(l,n)}_e(e,n){this.ce(n,37),en.fromName(e).path.forEach(o=>{this.ce(n,60),this.ge(o,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}function ia(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Sc(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const f=ia(255&n[l]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}iu.ye=new iu;class df{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ie(o.value),o=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const l=n.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const l=n.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const n=this.Ve(e),o=Sc(n);this.Se(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}De(e){const n=this.Ve(e),o=Sc(n);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(l){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,l,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Ie(e){const n=255&e;0===n?(this.xe(0),this.xe(255)):255===n?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Jm{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Xm{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Ac{constructor(){this.Me=new df,this.Fe=new Jm(this.Me),this.$e=new Xm(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class ec{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Le(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,o)}}function Tu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=lg(i.arrayValue,e.arrayValue),0!==n?n:(n=lg(i.directionalValue,e.directionalValue),0!==n?n:en.comparator(i.documentKey,e.documentKey)))}function lg(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class ug{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const o=n;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const n=Wa(e);if(void 0!==n&&!this.Qe(n))return!1;const o=po(e);let l=0,f=0;for(;l<o.length&&this.Qe(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Ke){const v=o[l];if(!this.je(this.Ke,v)||!this.We(this.Ue[f++],v))return!1;++l}for(;l<o.length;++l){const v=o[l];if(f>=this.Ue.length||!this.We(this.Ue[f++],v))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class ey{constructor(){this.ze=new hf}addToCollectionParentIndex(e,n){return this.ze.add(n),Ct.resolve()}getCollectionParents(e,n){return Ct.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return Ct.resolve()}deleteFieldIndex(e,n){return Ct.resolve()}getDocumentsMatchingTarget(e,n){return Ct.resolve(null)}getIndexType(e,n){return Ct.resolve(0)}getFieldIndexes(e,n){return Ct.resolve([])}getNextCollectionGroupToUpdate(e){return Ct.resolve(null)}getMinOffset(e,n){return Ct.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return Ct.resolve(Ji.min())}updateCollectionGroup(e,n,o){return Ct.resolve()}updateIndexEntries(e,n){return Ct.resolve()}}class hf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new w(fr.comparator),f=!l.has(o);return this.index[n]=l.add(o),f}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new w(fr.comparator)).toArray()}}const Xd=new Uint8Array(0);class ty{constructor(e,n){this.user=e,this.databaseId=n,this.He=new hf,this.Je=new Al(o=>Ss(o),(o,l)=>Ra(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const f={collectionId:o,parent:Pr(l)};return cg(e).put(f)}return Ct.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[wo(n),""],!1,!0);return cg(e).K(l).next(f=>{for(const v of f){if(v.collectionId!==n)break;o.push(As(v.parent))}return o})}addFieldIndex(e,n){const o=su(e),l={indexId:(v=n).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var v;delete l.indexId;const f=o.add(l);if(n.indexState){const v=Ja(e);return f.next(A=>{v.put(cf(A,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return f.next()}deleteFieldIndex(e,n){const o=su(e),l=Ja(e),f=pd(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=pd(e);let l=!0;const f=new Map;return Ct.forEach(this.Ye(n),v=>this.Xe(e,v).next(A=>{l&&(l=!!A),f.set(v,A)})).next(()=>{if(l){let v=ni();const A=[];return Ct.forEach(f,(W,Q)=>{var ye;Kt("IndexedDbIndexManager",`Using index ${ye=W,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(ps=>`${ps.fieldPath}:${ps.kind}`).join(",")}`} to execute ${Ss(n)}`);const We=function(ps,oa){const lo=Wa(oa);if(void 0===lo)return null;for(const Ys of ba(ps,lo.fieldPath))switch(Ys.op){case"array-contains-any":return Ys.value.arrayValue.values||[];case"array-contains":return[Ys.value]}return null}(Q,W),Dt=function(ps,oa){const lo=new Map;for(const Ys of po(oa))for(const aa of ba(ps,Ys.fieldPath))switch(aa.op){case"==":case"in":lo.set(Ys.fieldPath.canonicalString(),aa.value);break;case"not-in":case"!=":return lo.set(Ys.fieldPath.canonicalString(),aa.value),Array.from(lo.values())}return null}(Q,W),Ut=function(ps,oa){const lo=[];let Ys=!0;for(const aa of po(oa)){const Uu=0===aa.kind?mo(ps,aa.fieldPath,ps.startAt):Ao(ps,aa.fieldPath,ps.startAt);lo.push(Uu.value),Ys&&(Ys=Uu.inclusive)}return new ea(lo,Ys)}(Q,W),Zt=function(ps,oa){const lo=[];let Ys=!0;for(const aa of po(oa)){const Uu=0===aa.kind?Ao(ps,aa.fieldPath,ps.endAt):mo(ps,aa.fieldPath,ps.endAt);lo.push(Uu.value),Ys&&(Ys=Uu.inclusive)}return new ea(lo,Ys)}(Q,W),Hn=this.Ze(W,Q,Ut),ur=this.Ze(W,Q,Zt),Gi=this.tn(W,Q,Dt),Cs=this.en(W.indexId,We,Hn,Ut.inclusive,ur,Zt.inclusive,Gi);return Ct.forEach(Cs,ps=>o.j(ps,n.limit).next(oa=>{oa.forEach(lo=>{const Ys=en.fromSegments(lo.documentKey);v.has(Ys)||(v=v.add(Ys),A.push(Ys))})}))}).next(()=>A)}return Ct.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,o,l,f,v,A){const W=(null!=n?n.length:1)*Math.max(o.length,f.length),Q=W/(null!=n?n.length:1),ye=[];for(let We=0;We<W;++We){const Dt=n?this.nn(n[We/Q]):Xd,Ut=this.sn(e,Dt,o[We%Q],l),Zt=this.rn(e,Dt,f[We%Q],v),Hn=A.map(ur=>this.sn(e,Dt,ur,!0));ye.push(...this.createRange(Ut,Zt,Hn))}return ye}sn(e,n,o,l){const f=new ec(e,en.empty(),n,o);return l?f:f.Le()}rn(e,n,o,l){const f=new ec(e,en.empty(),n,o);return l?f.Le():f}Xe(e,n){const o=new ug(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let v=null;for(const A of f)o.Ge(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(e,n){let o=2;return Ct.forEach(this.Ye(n),l=>this.Xe(e,l).next(f=>{f?0!==o&&f.fields.length<function(v){let A=new w(Ii.comparator),W=!1;for(const Q of v.filters){const ye=Q;ye.field.isKeyField()||("array-contains"===ye.op||"array-contains-any"===ye.op?W=!0:A=A.add(ye.field))}for(const Q of v.orderBy)Q.field.isKeyField()||(A=A.add(Q.field));return A.size+(W?1:0)}(l)&&(o=1):o=0})).next(()=>o)}on(e,n){const o=new Ac;for(const l of po(e)){const f=n.data.field(l.fieldPath);if(null==f)return null;const v=o.Be(l.kind);iu.ye.re(f,v)}return o.Oe()}nn(e){const n=new Ac;return iu.ye.re(e,n.Be(0)),n.Oe()}un(e,n){const o=new Ac;return iu.ye.re(So(this.databaseId,n),o.Be(function(l){const f=po(l);return 0===f.length?0:f[f.length-1].kind}(e))),o.Oe()}tn(e,n,o){if(null===o)return[];let l=[];l.push(new Ac);let f=0;for(const v of po(e)){const A=o[f++];for(const W of l)if(this.cn(n,v.fieldPath)&&R(A))l=this.an(l,v,A);else{const Q=W.Be(v.kind);iu.ye.re(A,Q)}}return this.hn(l)}Ze(e,n,o){return this.tn(e,n,o.position)}hn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Oe();return n}an(e,n,o){const l=[...e],f=[];for(const v of o.arrayValue.values||[])for(const A of l){const W=new Ac;W.seed(A.Oe()),iu.ye.re(v,W.Be(n.kind)),f.push(W)}return f}cn(e,n){return!!e.filters.find(o=>o instanceof fs&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=su(e),l=Ja(e);return(n?o.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.K()).next(f=>{const v=[];return Ct.forEach(f,A=>l.get([A.indexId,this.uid]).next(W=>{v.push(function(Q,ye){const We=ye?new is(ye.sequenceNumber,new Ji(Ju(ye.readTime),new en(As(ye.documentKey)),ye.largestBatchId)):is.empty(),Dt=Q.fields.map(([Ut,Zt])=>new bs(Ii.fromServerFormat(Ut),Zt));return new Yo(Q.indexId,Q.collectionGroup,Dt,We)}(A,W))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const f=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:Ir(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=su(e),f=Ja(e);return this.ln(e).next(v=>l.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(A=>Ct.forEach(A,W=>f.put(cf(W.indexId,this.user,v,o)))))}updateIndexEntries(e,n){const o=new Map;return Ct.forEach(n,(l,f)=>{const v=o.get(l.collectionGroup);return(v?Ct.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(A=>(o.set(l.collectionGroup,A),Ct.forEach(A,W=>this.fn(e,l,W).next(Q=>{const ye=this.dn(f,W);return Q.isEqual(ye)?Ct.resolve():this._n(e,f,W,Q,ye)}))))})}wn(e,n,o,l){return pd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(o,n.key),documentKey:n.key.path.toArray()})}mn(e,n,o,l){return pd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(o,n.key),n.key.path.toArray()])}fn(e,n,o){const l=pd(e);let f=new w(Tu);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,n)])},(v,A)=>{f=f.add(new ec(o.indexId,n,A.arrayValue,A.directionalValue))}).next(()=>f)}dn(e,n){let o=new w(Tu);const l=this.on(n,e);if(null==l)return o;const f=Wa(n);if(null!=f){const v=e.data.field(f.fieldPath);if(R(v))for(const A of v.arrayValue.values||[])o=o.add(new ec(n.indexId,e.key,this.nn(A),l))}else o=o.add(new ec(n.indexId,e.key,Xd,l));return o}_n(e,n,o,l,f){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(A,W,Q,ye,We){const Dt=A.getIterator(),Ut=W.getIterator();let Zt=B(Dt),Hn=B(Ut);for(;Zt||Hn;){let ur=!1,Gi=!1;if(Zt&&Hn){const Cs=Q(Zt,Hn);Cs<0?Gi=!0:Cs>0&&(ur=!0)}else null!=Zt?Gi=!0:ur=!0;ur?(ye(Hn),Hn=B(Ut)):Gi?(We(Zt),Zt=B(Dt)):(Zt=B(Dt),Hn=B(Ut))}}(l,f,Tu,A=>{v.push(this.wn(e,n,o,A))},A=>{v.push(this.mn(e,n,o,A))}),Ct.waitFor(v)}ln(e){let n=1;return Ja(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,f)=>{f.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,A)=>Tu(v,A)).filter((v,A,W)=>!A||0!==Tu(v,W[A-1]));const l=[];l.push(e);for(const v of o){const A=Tu(v,e),W=Tu(v,n);if(0===A)l[0]=e.Le();else if(A>0&&W<0)l.push(v),l.push(v.Le());else if(W>0)break}l.push(n);const f=[];for(let v=0;v<l.length;v+=2)f.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,Xd,[]],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,Xd,[]]));return f}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dg)}getMinOffset(e,n){return Ct.mapArray(this.Ye(n),o=>this.Xe(e,o).next(l=>l||Pn())).next(dg)}}function cg(i){return yo(i,"collectionParents")}function pd(i){return yo(i,"indexEntries")}function su(i){return yo(i,"indexConfiguration")}function Ja(i){return yo(i,"indexState")}function dg(i){Xn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Co(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Ji(e.readTime,e.documentKey,n)}const hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Xa(e,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ny(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),f=[],v=IDBKeyRange.only(n.batchId);let A=0;const W=o.J({range:v},(ye,We,Dt)=>(A++,Dt.delete()));f.push(W.next(()=>{Xn(1===A)}));const Q=[];for(const ye of n.mutations){const We=ld(e,ye.key.path,n.batchId);f.push(l.delete(We)),Q.push(ye.key)}return Ct.waitFor(f).next(()=>Q)}function gd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Pn();e=i.noDocument}return JSON.stringify(e).length}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(41943040,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class ff{constructor(e,n,o,l){this.userId=e,this.wt=n,this.indexManager=o,this.referenceDelegate=l,this.gn={}}static se(e,n,o,l){Xn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new ff(f,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wl(e).J({index:"userMutationsIndex",range:o},(l,f,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const f=Du(e),v=Wl(e);return v.add({}).next(A=>{Xn("number"==typeof A);const W=new cd(A,n,o,l),Q=function(Dt,Ut,Zt){const Hn=Zt.baseMutations.map(Gi=>to(Dt.ne,Gi)),ur=Zt.mutations.map(Gi=>to(Dt.ne,Gi));return{userId:Ut,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:Hn,mutations:ur}}(this.wt,this.userId,W),ye=[];let We=new w((Dt,Ut)=>Ir(Dt.canonicalString(),Ut.canonicalString()));for(const Dt of l){const Ut=ld(this.userId,Dt.key.path,A);We=We.add(Dt.key.path.popLast()),ye.push(v.put(Q)),ye.push(f.put(Ut,ef))}return We.forEach(Dt=>{ye.push(this.indexManager.addToCollectionParentIndex(e,Dt))}),e.addOnCommittedListener(()=>{this.gn[A]=W.keys()}),Ct.waitFor(ye).next(()=>W)})}lookupMutationBatch(e,n){return Wl(e).get(n).next(o=>o?(Xn(o.userId===this.userId),Xu(this.wt,o)):null)}yn(e,n){return this.gn[n]?Ct.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.gn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Wl(e).J({index:"userMutationsIndex",range:l},(v,A,W)=>{A.userId===this.userId&&(Xn(A.batchId>=o),f=Xu(this.wt,A)),W.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wl(e).J({index:"userMutationsIndex",range:n,reverse:!0},(l,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wl(e).K("userMutationsIndex",n).next(o=>o.map(l=>Xu(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=qi(this.userId,n.path),l=IDBKeyRange.lowerBound(o),f=[];return Du(e).J({range:l},(v,A,W)=>{const[Q,ye,We]=v,Dt=As(ye);if(Q===this.userId&&n.path.isEqual(Dt))return Wl(e).get(We).next(Ut=>{if(!Ut)throw Pn();Xn(Ut.userId===this.userId),f.push(Xu(this.wt,Ut))});W.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(Ir);const l=[];return n.forEach(f=>{const v=qi(this.userId,f.path),A=IDBKeyRange.lowerBound(v),W=Du(e).J({range:A},(Q,ye,We)=>{const[Dt,Ut,Zt]=Q,Hn=As(Ut);Dt===this.userId&&f.path.isEqual(Hn)?o=o.add(Zt):We.done()});l.push(W)}),Ct.waitFor(l).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,f=qi(this.userId,o),v=IDBKeyRange.lowerBound(f);let A=new w(Ir);return Du(e).J({range:v},(W,Q,ye)=>{const[We,Dt,Ut]=W,Zt=As(Dt);We===this.userId&&o.isPrefixOf(Zt)?Zt.length===l&&(A=A.add(Ut)):ye.done()}).next(()=>this.pn(e,A))}pn(e,n){const o=[],l=[];return n.forEach(f=>{l.push(Wl(e).get(f).next(v=>{if(null===v)throw Pn();Xn(v.userId===this.userId),o.push(Xu(this.wt,v))}))}),Ct.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return ny(e.ee,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),Ct.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Du(e).J({range:o},(f,v,A)=>{if(f[0]===this.userId){const W=As(f[1]);l.push(W)}else A.done()}).next(()=>{Xn(0===l.length)})})}containsKey(e,n){return xl(e,this.userId,n)}Tn(e){return fg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xl(i,e,n){const o=qi(e,n.path),l=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return Du(i).J({range:f,H:!0},(A,W,Q)=>{const[ye,We,Dt]=A;ye===e&&We===l&&(v=!0),Q.done()}).next(()=>v)}function Wl(i){return yo(i,"mutations")}function Du(i){return yo(i,"documentMutations")}function fg(i){return yo(i,"mutationQueues")}class Su{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Su(0)}static Rn(){return new Su(-1)}}class ry{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const o=new Su(n.highestTargetId);return n.highestTargetId=o.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>er.fromTimestamp(new fi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Pn(e,l)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(n,o),this.Pn(e,o))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Gl(e).delete(n.targetId)).next(()=>this.bn(e)).next(o=>(Xn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,n,o){let l=0;const f=[];return Gl(e).J((v,A)=>{const W=fd(A);W.sequenceNumber<=n&&null===o.get(W.targetId)&&(l++,f.push(this.removeTargetData(e,W)))}).next(()=>Ct.waitFor(f)).next(()=>l)}forEachTarget(e,n){return Gl(e).J((o,l)=>{const f=fd(l);n(f)})}bn(e){return pg(e).get("targetGlobalKey").next(n=>(Xn(null!==n),n))}Pn(e,n){return pg(e).put("targetGlobalKey",n)}vn(e,n){return Gl(e).put(Jd(this.wt,n))}Vn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Ss(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Gl(e).J({range:l,index:"queryTargetsIndex"},(v,A,W)=>{const Q=fd(A);Ra(n,Q.target)&&(f=Q,W.done())}).next(()=>f)}addMatchingKeys(e,n,o){const l=[],f=ou(e);return n.forEach(v=>{const A=Pr(v.path);l.push(f.put({targetId:o,path:A})),l.push(this.referenceDelegate.addReference(e,o,v))}),Ct.waitFor(l)}removeMatchingKeys(e,n,o){const l=ou(e);return Ct.forEach(n,f=>{const v=Pr(f.path);return Ct.waitFor([l.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,n){const o=ou(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=ou(e);let f=ni();return l.J({range:o,H:!0},(v,A,W)=>{const Q=As(v[1]),ye=new en(Q);f=f.add(ye)}).next(()=>f)}containsKey(e,n){const o=Pr(n.path),l=IDBKeyRange.bound([o],[wo(o)],!1,!0);let f=0;return ou(e).J({index:"documentTargetsIndex",H:!0,range:l},([v,A],W,Q)=>{0!==v&&(f++,Q.done())}).next(()=>f>0)}te(e,n){return Gl(e).get(n).next(o=>o?fd(o):null)}}function Gl(i){return yo(i,"targets")}function pg(i){return yo(i,"targetGlobal")}function ou(i){return yo(i,"targetDocuments")}function eh([i,e],[n,o]){const l=Ir(i,n);return 0===l?Ir(e,o):l}class pf{constructor(e){this.Sn=e,this.buffer=new w(eh),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();eh(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gg{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var n=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){n.Nn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Fo(o)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield qr(o)}yield n.kn(3e5)}))}}class U_{constructor(e,n){this.On=e,this.params=n}calculateTargetCount(e,n){return this.On.Mn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Ct.resolve(zs.ot);const o=new pf(n);return this.On.forEachTarget(e,l=>o.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>o.xn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.On.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.On.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),Ct.resolve(hg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hg):this.$n(e,n))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,n){let o,l,f,v,A,W,Q;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),l=this.params.maximumSequenceNumbersToCollect):l=We,v=Date.now(),this.nthSequenceNumber(e,l))).next(We=>(o=We,A=Date.now(),this.removeTargets(e,o,n))).next(We=>(f=We,W=Date.now(),this.removeOrphanedDocuments(e,o))).next(We=>(Q=Date.now(),xa()<=fe.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ye}ms\n\tDetermined least recently used ${l} in `+(A-v)+`ms\n\tRemoved ${f} targets in `+(W-A)+`ms\n\tRemoved ${We} documents in `+(Q-W)+`ms\nTotal Duration: ${Q-ye}ms`),Ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:We})))}}class Mc{constructor(e,n){this.db=e,this.garbageCollector=new U_(this,n)}Mn(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Bn(e){let n=0;return this.Fn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(o,l)=>n(l))}addReference(e,n,o){return xc(e,o)}removeReference(e,n,o){return xc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return xc(e,n)}Un(e,n){return function(o,l){let f=!1;return fg(o).Y(v=>xl(o,v,l).next(A=>(A&&(f=!0),Ct.resolve(!A)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Ln(e,(v,A)=>{if(A<=n){const W=this.Un(e,v).next(Q=>{if(!Q)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v,er.min()),ou(e).delete([0,Pr(v.path)])))});l.push(W)}}).next(()=>Ct.waitFor(l)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return xc(e,n)}Ln(e,n){const o=ou(e);let l,f=zs.ot;return o.J({index:"documentTargetsIndex"},([v,A],{path:W,sequenceNumber:Q})=>{0===v?(f!==zs.ot&&n(new en(As(l)),f),f=Q,l=W):f=zs.ot}).next(()=>{f!==zs.ot&&n(new en(As(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xc(i,e){return ou(i).put((o=i.currentSequenceNumber,{targetId:0,path:Pr(e.path),sequenceNumber:o}));var o}class gf{constructor(){this.changes=new Al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Ct.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iy{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return tc(e).put(o)}removeEntry(e,n,o){return tc(e).delete(function(l,f){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],hd(f),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.qn(e,o)))}getEntry(e,n){let o=vr.newInvalidDocument(n);return tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(l,f)=>{o=this.Kn(n,f)}).next(()=>o)}Gn(e,n){let o={size:0,document:vr.newInvalidDocument(n)};return tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(l,f)=>{o={document:this.Kn(n,f),size:gd(f)}}).next(()=>o)}getEntries(e,n){let o=Mo();return this.Qn(e,n,(l,f)=>{const v=this.Kn(l,f);o=o.insert(l,v)}).next(()=>o)}jn(e,n){let o=Mo(),l=new Wi(en.comparator);return this.Qn(e,n,(f,v)=>{const A=this.Kn(f,v);o=o.insert(f,A),l=l.insert(f,gd(v))}).next(()=>({documents:o,Wn:l}))}Qn(e,n,o){if(n.isEmpty())return Ct.resolve();let l=new w(_g);n.forEach(W=>l=l.add(W));const f=IDBKeyRange.bound(md(l.first()),md(l.last())),v=l.getIterator();let A=v.getNext();return tc(e).J({index:"documentKeyIndex",range:f},(W,Q,ye)=>{const We=en.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;A&&_g(A,We)<0;)o(A,null),A=v.getNext();A&&A.isEqual(We)&&(o(A,Q),A=v.hasNext()?v.getNext():null),A?ye.q(md(A)):ye.done()}).next(()=>{for(;A;)o(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),hd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).K(IDBKeyRange.bound(l,f,!0)).next(v=>{let A=Mo();for(const W of v){const Q=this.Kn(en.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);A=A.insert(Q.key,Q)}return A})}getAllFromCollectionGroup(e,n,o,l){let f=Mo();const v=yg(n,o),A=yg(n,Ji.max());return tc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(W,Q,ye)=>{const We=this.Kn(en.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(We.key,We),f.size===l&&ye.done()}).next(()=>f)}newChangeBuffer(e){return new sy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mg(e).get("remoteDocumentGlobalKey").next(n=>(Xn(!!n),n))}qn(e,n){return mg(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const o=function Ym(i,e){let n;if(e.document)n=ci(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=en.fromSegments(e.noDocument.path),l=Ju(e.noDocument.readTime);n=vr.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pn();{const o=en.fromSegments(e.unknownDocument.path),l=Ju(e.unknownDocument.version);n=vr.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new fi(o[0],o[1]);return er.fromTimestamp(l)}(e.readTime)),n}(this.wt,n);if(!o.isNoDocument()||!o.version.isEqual(er.min()))return o}return vr.newInvalidDocument(e)}}function th(i){return new iy(i)}class sy extends gf{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new Al(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new w((f,v)=>Ir(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const A=this.Hn.get(f);if(n.push(this.zn.removeEntry(e,f,A.readTime)),v.isValidDocument()){const W=sg(this.zn.wt,v);l=l.add(f.path.popLast()),o+=gd(W)-A.size,n.push(this.zn.addEntry(e,f,W))}else if(o-=A.size,this.trackRemovals){const W=sg(this.zn.wt,v.convertToNoDocument(er.min()));n.push(this.zn.addEntry(e,f,W))}}),l.forEach(f=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,f))}),n.push(this.zn.updateMetadata(e,o)),Ct.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(o=>(this.Hn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:o,Wn:l})=>(l.forEach((f,v)=>{this.Hn.set(f,{size:v,readTime:o.get(f).readTime})}),o))}}function mg(i){return yo(i,"remoteDocumentGlobal")}function tc(i){return yo(i,"remoteDocumentsV14")}function md(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yg(i,e){const n=e.documentKey.path.toArray();return[i,hd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _g(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let f=0;f<n.length-2&&f<o.length-2;++f)if(l=Ir(n[f],o[f]),l)return l;return l=Ir(n.length,o.length),l||(l=Ir(n[n.length-2],o[o.length-2]),l||Ir(n[n.length-1],o[o.length-1]))}class vg{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nh{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.getBaseDocument(e,n,o))).next(l=>(null!==o&&Pi(o.mutation,l,se.empty(),fi.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,ni()).next(()=>o))}getLocalViewOfDocuments(e,n,o=ni()){const l=Li();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(f=>{let v=wu();return f.forEach((A,W)=>{v=v.insert(A,W.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const o=Li();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,ni()))}populateOverlays(e,n,o){const l=[];return o.forEach(f=>{n.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((v,A)=>{n.set(v,A)})})}computeViews(e,n,o,l){let f=Mo();const v=bc(),A=bc();return n.forEach((W,Q)=>{const ye=o.get(Q.key);l.has(Q.key)&&(void 0===ye||ye.mutation instanceof Qa)?f=f.insert(Q.key,Q):void 0!==ye&&(v.set(Q.key,ye.mutation.getFieldMask()),Pi(ye.mutation,Q,ye.mutation.getFieldMask(),fi.now()))}),this.recalculateAndSaveOverlays(e,f).next(W=>(W.forEach((Q,ye)=>v.set(Q,ye)),n.forEach((Q,ye)=>{var We;return A.set(Q,new vg(ye,null!==(We=v.get(Q))&&void 0!==We?We:null))}),A))}recalculateAndSaveOverlays(e,n){const o=bc();let l=new Wi((v,A)=>v-A),f=ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const A of v)A.keys().forEach(W=>{const Q=n.get(W);if(null===Q)return;let ye=o.get(W)||se.empty();ye=A.applyToLocalView(Q,ye),o.set(W,ye);const We=(l.get(A.batchId)||ni()).add(W);l=l.insert(A.batchId,We)})}).next(()=>{const v=[],A=l.getReverseIterator();for(;A.hasNext();){const W=A.getNext(),Q=W.key,ye=W.value,We=Zd();ye.forEach(Dt=>{if(!f.has(Dt)){const Ut=Ln(n.get(Dt),o.get(Dt));null!==Ut&&We.set(Dt,Ut),f=f.add(Dt)}}),v.push(this.documentOverlayCache.saveOverlays(e,Q,We))}return Ct.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return en.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):fl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var l}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(f=>{const v=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-f.size):Ct.resolve(Li());let A=-1,W=f;return v.next(Q=>Ct.forEach(Q,(ye,We)=>(A<We.largestBatchId&&(A=We.largestBatchId),f.get(ye)?Ct.resolve():this.getBaseDocument(e,ye,We).next(Dt=>{W=W.insert(ye,Dt)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,W,Q,ni())).next(ye=>({batchId:A,changes:Qh(ye)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new en(n)).next(o=>{let l=wu();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const l=n.collectionGroup;let f=wu();return this.indexManager.getCollectionParents(e,l).next(v=>Ct.forEach(v,A=>{const W=(Q=n,ye=A.child(l),new dl(ye,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ye;return this.getDocumentsMatchingCollectionQuery(e,W,o).next(Q=>{Q.forEach((ye,We)=>{f=f.insert(ye,We)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(f=>(l=f,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(f=>{f.forEach((A,W)=>{const Q=W.getKey();null===l.get(Q)&&(l=l.insert(Q,vr.newInvalidDocument(Q)))});let v=wu();return l.forEach((A,W)=>{const Q=f.get(A);void 0!==Q&&Pi(Q.mutation,W,se.empty(),fi.now()),Eu(n,W)&&(v=v.insert(A,W))}),v})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Ct.resolve(vr.newInvalidDocument(n))}}class Eg{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return Ct.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var o;return this.Jn.set(n.id,{id:(o=n).id,version:o.version,createTime:pe(o.createTime)}),Ct.resolve()}getNamedQuery(e,n){return Ct.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(o=n).name,query:lf(o.bundledQuery),readTime:pe(o.readTime)}),Ct.resolve();var o}}class mf{constructor(){this.overlays=new Wi(en.comparator),this.Xn=new Map}getOverlay(e,n){return Ct.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Li();return Ct.forEach(n,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,f)=>{this.ie(e,n,f)}),Ct.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.Xn.get(o);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Xn.delete(o)),Ct.resolve()}getOverlaysForCollection(e,n,o){const l=Li(),f=n.length+1,v=new en(n.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const W=A.getNext().value,Q=W.getKey();if(!n.isPrefixOf(Q.path))break;Q.path.length===f&&W.largestBatchId>o&&l.set(W.getKey(),W)}return Ct.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let f=new Wi((Q,ye)=>Q-ye);const v=this.overlays.getIterator();for(;v.hasNext();){const Q=v.getNext().value;if(Q.getKey().getCollectionGroup()===n&&Q.largestBatchId>o){let ye=f.get(Q.largestBatchId);null===ye&&(ye=Li(),f=f.insert(Q.largestBatchId,ye)),ye.set(Q.getKey(),Q)}}const A=Li(),W=f.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((Q,ye)=>A.set(Q,ye)),!(A.size()>=l)););return Ct.resolve(A)}ie(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const v=this.Xn.get(l.largestBatchId).delete(o.key);this.Xn.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new dd(n,o));let f=this.Xn.get(n);void 0===f&&(f=ni(),this.Xn.set(n,f)),this.Xn.set(n,f.add(o.key))}}class yf{constructor(){this.Zn=new w(Ro.ts),this.es=new w(Ro.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const o=new Ro(e,n);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.rs(new Ro(e,n))}os(e,n){e.forEach(o=>this.removeReference(o,n))}us(e){const n=new en(new fr([])),o=new Ro(n,e),l=new Ro(n,e+1),f=[];return this.es.forEachInRange([o,l],v=>{this.rs(v),f.push(v.key)}),f}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new en(new fr([])),o=new Ro(n,e),l=new Ro(n,e+1);let f=ni();return this.es.forEachInRange([o,l],v=>{f=f.add(v.key)}),f}containsKey(e){const n=new Ro(e,0),o=this.Zn.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ro{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return en.comparator(e.key,n.key)||Ir(e.ls,n.ls)}static ns(e,n){return Ir(e.ls,n.ls)||en.comparator(e.key,n.key)}}class bg{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new w(Ro.ts)}checkEmpty(e){return Ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const f=this.fs;this.fs++;const v=new cd(f,n,o,l);this.mutationQueue.push(v);for(const A of l)this.ds=this.ds.add(new Ro(A.key,f)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Ct.resolve(v)}lookupMutationBatch(e,n){return Ct.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.ws(n+1),f=l<0?0:l;return Ct.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Ct.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ro(n,0),l=new Ro(n,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([o,l],v=>{const A=this._s(v.ls);f.push(A)}),Ct.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new w(Ir);return n.forEach(l=>{const f=new Ro(l,0),v=new Ro(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,v],A=>{o=o.add(A.ls)})}),Ct.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let f=o;en.isDocumentKey(f)||(f=f.child(""));const v=new Ro(new en(f),0);let A=new w(Ir);return this.ds.forEachWhile(W=>{const Q=W.key.path;return!!o.isPrefixOf(Q)&&(Q.length===l&&(A=A.add(W.ls)),!0)},v),Ct.resolve(this.gs(A))}gs(e){const n=[];return e.forEach(o=>{const l=this._s(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Xn(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Ct.forEach(n.mutations,l=>{const f=new Ro(l.key,n.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,n){const o=new Ro(n,0),l=this.ds.firstAfterOrEqual(o);return Ct.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Ct.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wg{constructor(e){this.ps=e,this.docs=new Wi(en.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),f=l?l.size:0,v=this.ps(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Ct.resolve(o?o.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let o=Mo();return n.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():vr.newInvalidDocument(l))}),Ct.resolve(o)}getAllFromCollection(e,n,o){let l=Mo();const f=new en(n.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:A,value:{document:W}}=v.getNext();if(!n.isPrefixOf(A.path))break;A.path.length>n.length+1||Co(Pa(W),o)<=0||(l=l.insert(W.key,W.mutableCopy()))}return Ct.resolve(l)}getAllFromCollectionGroup(e,n,o,l){Pn()}Is(e,n){return Ct.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new nc(this)}getSize(e){return Ct.resolve(this.size)}}class nc extends gf{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.zn.addEntry(e,l)):this.zn.removeEntry(o)}),Ct.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class Ig{constructor(e){this.persistence=e,this.Ts=new Al(n=>Ss(n),Ra),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.Es=0,this.As=new yf,this.targetCount=0,this.Rs=Su.An()}forEachTarget(e,n){return this.Ts.forEach((o,l)=>n(l)),Ct.resolve()}getLastRemoteSnapshotVersion(e){return Ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ct.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ct.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Es&&(this.Es=n),Ct.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Su(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,Ct.resolve()}updateTargetData(e,n){return this.vn(n),Ct.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,Ct.resolve()}removeTargets(e,n,o){let l=0;const f=[];return this.Ts.forEach((v,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Ts.delete(v),f.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),Ct.waitFor(f).next(()=>l)}getTargetCount(e){return Ct.resolve(this.targetCount)}getTargetData(e,n){const o=this.Ts.get(n)||null;return Ct.resolve(o)}addMatchingKeys(e,n,o){return this.As.ss(n,o),Ct.resolve()}removeMatchingKeys(e,n,o){this.As.os(n,o);const l=this.persistence.referenceDelegate,f=[];return l&&n.forEach(v=>{f.push(l.markPotentiallyOrphaned(e,v))}),Ct.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),Ct.resolve()}getMatchingKeysForTargetId(e,n){const o=this.As.hs(n);return Ct.resolve(o)}containsKey(e,n){return Ct.resolve(this.As.containsKey(n))}}class _f{constructor(e,n){this.bs={},this.overlays={},this.Ps=new zs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Ig(this),this.indexManager=new ey,this.remoteDocumentCache=new wg(o=>this.referenceDelegate.Ss(o)),this.wt=new ig(n),this.Ds=new Eg(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.bs[e.toKey()];return o||(o=new bg(n,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,o){Kt("MemoryPersistence","Starting transaction:",e);const l=new oy(this.Ps.next());return this.referenceDelegate.Cs(),o(l).next(f=>this.referenceDelegate.xs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ns(e,n){return Ct.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,n)))}}class oy extends Xs{constructor(e){super(),this.currentSequenceNumber=e}}class vf{constructor(e){this.persistence=e,this.ks=new yf,this.Os=null}static Ms(e){return new vf(e)}get Fs(){if(this.Os)return this.Os;throw Pn()}addReference(e,n,o){return this.ks.addReference(o,n),this.Fs.delete(o.toString()),Ct.resolve()}removeReference(e,n,o){return this.ks.removeReference(o,n),this.Fs.add(o.toString()),Ct.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),Ct.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(l=>this.Fs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(f=>this.Fs.add(f.toString()))}).next(()=>o.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ct.forEach(this.Fs,o=>{const l=en.fromPath(o);return this.$s(e,l).next(f=>{f||n.removeEntry(l,er.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(o=>{o?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return Ct.or([()=>Ct.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class rh{constructor(e){this.wt=e}O(e,n,o,l){const f=new Ga("createOrUpgrade",n);var A;o<1&&l>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$l,{unique:!0}),A.createObjectStore("documentMutations"),Cg(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=Ct.resolve();return o<3&&l>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Cg(e)),v=v.next(()=>function(A){const W=A.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:er.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",Q)}(f))),o<4&&l>=4&&(0!==o&&(v=v.next(()=>function(A,W){return W.store("mutations").K().next(Q=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$l,{unique:!0});const ye=W.store("mutations"),We=Q.map(Dt=>ye.put(Dt));return Ct.waitFor(We)})}(e,f))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(v=v.next(()=>this.Bs(f))),o<6&&l>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(f)))),o<7&&l>=7&&(v=v.next(()=>this.Us(f))),o<8&&l>=8&&(v=v.next(()=>this.qs(e,f))),o<9&&l>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(v=v.next(()=>this.Ks(f))),o<11&&l>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(v=v.next(()=>{!function(A){const W=A.createObjectStore("documentOverlays",{keyPath:L_});W.createIndex("collectionPathOverlayIndex",F_,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",V_,{unique:!1})}(e)})),o<13&&l>=13&&(v=v.next(()=>function(A){const W=A.createObjectStore("remoteDocumentsV14",{keyPath:Po});W.createIndex("documentKeyIndex",jl),W.createIndex("collectionGroupIndex",Ta)}(e)).next(()=>this.Gs(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(v=v.next(()=>this.Qs(e,f))),o<15&&l>=15&&(v=v.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:R_}).createIndex("sequenceNumberIndex",N_,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:nf}).createIndex("documentKeyIndex",k_,{unique:!1})}(e))),v}Ls(e){let n=0;return e.store("remoteDocuments").J((o,l)=>{n+=gd(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.K().next(l=>Ct.forEach(l,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",v).next(A=>Ct.forEach(A,W=>{Xn(W.userId===f.userId);const Q=Xu(this.wt,W);return ny(e,f.userId,Q).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return o.J((v,A)=>{const W=new fr(v),Q=[0,Pr(W)];f.push(n.get(Q).next(ye=>ye?Ct.resolve():n.put({targetId:0,path:Pr(W),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Ct.waitFor(f))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:tf});const o=n.store("collectionParents"),l=new hf,f=v=>{if(l.add(v)){const A=v.lastSegment(),W=v.popLast();return o.put({collectionId:A,parent:Pr(W)})}};return n.store("remoteDocuments").J({H:!0},(v,A)=>{const W=new fr(v);return f(W.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([v,A,W],Q)=>{const ye=As(A);return f(ye.popLast())}))}Ks(e){const n=e.store("targets");return n.J((o,l)=>{const f=fd(l),v=Jd(this.wt,f);return n.put(v)})}Gs(e,n){const o=n.store("remoteDocuments"),l=[];return o.J((f,v)=>{const A=n.store("remoteDocumentsV14"),W=(Q=v,Q.document?new en(fr.fromString(Q.document.name).popFirst(5)):Q.noDocument?en.fromSegments(Q.noDocument.path):Q.unknownDocument?en.fromSegments(Q.unknownDocument.path):Pn()).path.toArray();var Q;const ye={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(A.put(ye))}).next(()=>Ct.waitFor(l))}Qs(e,n){const o=n.store("mutations"),l=th(this.wt),f=new _f(vf.Ms,this.wt.ne);return o.K().next(v=>{const A=new Map;return v.forEach(W=>{var Q;let ye=null!==(Q=A.get(W.userId))&&void 0!==Q?Q:ni();Xu(this.wt,W).keys().forEach(We=>ye=ye.add(We)),A.set(W.userId,ye)}),Ct.forEach(A,(W,Q)=>{const ye=new wi(Q),We=Tc.se(this.wt,ye),Dt=f.getIndexManager(ye),Ut=ff.se(ye,this.wt,Dt,f.referenceDelegate);return new nh(l,Ut,We,Dt).recalculateAndSaveOverlaysForDocumentKeys(new sf(n,zs.ot),W).next()})})}}function Cg(i){i.createObjectStore("targetDocuments",{keyPath:ud}).createIndex("documentTargetsIndex",Km,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cu,{unique:!0}),i.createObjectStore("targetGlobal")}const ih="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sh{constructor(e,n,o,l,f,v,A,W,Q,ye,We=14){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.js=f,this.window=v,this.document=A,this.Ws=Q,this.zs=ye,this.Hs=We,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Dt=>Promise.resolve(),!sh.V())throw new Nt(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mc(this,l),this.ei=n+"main",this.wt=new ig(W),this.ni=new To(this.ei,this.Hs,new rh(this.wt)),this.Vs=new ry(this.referenceDelegate,this.wt),this.remoteDocumentCache=th(this.wt),this.Ds=new Qm,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ye&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(At.FAILED_PRECONDITION,ih);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new zs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var n=this;return this.ti=function(){var o=(0,h.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var n=(0,h.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(Fo(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Oc(e).get("owner").next(n=>Ct.resolve(this.di(n)))}_i(e){return Pc(e).delete(this.clientId)}wi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=yo(o,"clientMetadata");return l.K().next(f=>{const v=e.gi(f,18e5),A=f.filter(W=>-1===v.indexOf(W));return Ct.forEach(A,W=>l.delete(W.clientId)).next(()=>A)})}).catch(()=>[]);if(e.si)for(const o of n)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ct.resolve(!0):Oc(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new Nt(At.FAILED_PRECONDITION,ih);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pc(e).K().next(o=>void 0===this.gi(o,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,A=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&A)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Kt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new sf(n,zs.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,n){return e.filter(o=>this.mi(o.updateTimeMs,n)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Pc(e).K().next(n=>this.gi(n,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return ff.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ty(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Tc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,o){Kt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",f=15===(v=this.Hs)?rg:14===v?Qd:13===v?rf:12===v?qm:11===v?Zm:void Pn();var v;let A;return this.ni.runTransaction(e,l,f,W=>(A=new sf(W,this.Ps?this.Ps.next():zs.ot),"readwrite-primary"===n?this.ai(A).next(Q=>!!Q||this.hi(A)).next(Q=>{if(!Q)throw ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Nt(At.FAILED_PRECONDITION,Ll);return o(A)}).next(Q=>this.fi(A).next(()=>Q)):this.bi(A).next(()=>o(A)))).then(W=>(A.raiseOnCommittedEvent(),W))}bi(e){return Oc(e).get("owner").next(n=>{if(null!==n&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Nt(At.FAILED_PRECONDITION,ih)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Oc(e).put("owner",n)}static V(){return To.V()}li(e){const n=Oc(e);return n.get("owner").next(o=>this.di(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ct.resolve())}mi(e,n){const o=Date.now();return!(e<o-n||e>o&&(ki(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,j.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const o=null!==(null===(n=this.si)||void 0===n?void 0:n.getItem(this.yi(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ki("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ki("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Oc(i){return yo(i,"owner")}function Pc(i){return yo(i,"clientMetadata")}function oh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Rc{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Pi=o,this.vi=l}static Vi(e,n){let o=ni(),l=ni();for(const f of n.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Rc(e,n.fromCache,o,l)}}class yd{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,o,l){return this.Ci(e,n).next(f=>f||this.xi(e,n,l,o)).next(f=>f||this.Ni(e,n))}Ci(e,n){return Ct.resolve(null)}xi(e,n,o,l){return function yc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||l.isEqual(er.min())?this.Ni(e,n):this.Di.getDocuments(e,o).next(f=>{const v=this.ki(n,f);return this.Oi(n,v,o,l)?this.Ni(e,n):(xa()<=fe.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vu(n)),this.Mi(e,v,n,Io(l,-1)))})}ki(e,n){let o=new w(Na(e));return n.forEach((l,f)=>{Eu(e,f)&&(o=o.add(f))}),o}Oi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Ni(e,n){return xa()<=fe.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",vu(n)),this.Di.getDocumentsMatchingQuery(e,n,Ji.min())}Mi(e,n,o,l){return this.Di.getDocumentsMatchingQuery(e,o,l).next(f=>(n.forEach(v=>{f=f.insert(v.key,v)}),f))}}class Tg{constructor(e,n,o,l){this.persistence=e,this.Fi=n,this.wt=l,this.$i=new Wi(Ir),this.Bi=new Al(f=>Ss(f),Ra),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function ah(i,e,n,o){return new Tg(i,e,n,o)}function Ef(i,e){return _d.apply(this,arguments)}function _d(){return _d=(0,h.Z)(function*(i,e){const n=fn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(f=>(l=f,n.qi(e),n.mutationQueue.getAllMutationBatches(o))).next(f=>{const v=[],A=[];let W=ni();for(const Q of l){v.push(Q.batchId);for(const ye of Q.mutations)W=W.add(ye.key)}for(const Q of f){A.push(Q.batchId);for(const ye of Q.mutations)W=W.add(ye.key)}return n.localDocuments.getDocuments(o,W).next(Q=>({Ki:Q,removedBatchIds:v,addedBatchIds:A}))})})}),_d.apply(this,arguments)}function vd(i,e){const n=fn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=n.Ui.newChangeBuffer({trackRemovals:!0});return function(v,A,W,Q){const ye=W.batch,We=ye.keys();let Dt=Ct.resolve();return We.forEach(Ut=>{Dt=Dt.next(()=>Q.getEntry(A,Ut)).next(Zt=>{const Hn=W.docVersions.get(Ut);Xn(null!==Hn),Zt.version.compareTo(Hn)<0&&(ye.applyToRemoteDocument(Zt,W),Zt.isValidDocument()&&(Zt.setReadTime(W.commitVersion),Q.addEntry(Zt)))})}),Dt.next(()=>v.mutationQueue.removeMutationBatch(A,ye))}(n,o,e,f).next(()=>f.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let A=ni();for(let W=0;W<v.mutationResults.length;++W)v.mutationResults[W].transformResults.length>0&&(A=A.add(v.batch.mutations[W].key));return A}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}function Dg(i){const e=fn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Sg(i,e){const n=fn(i),o=e.snapshotVersion;let l=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=n.Ui.newChangeBuffer({trackRemovals:!0});l=n.$i;const A=[];e.targetChanges.forEach((ye,We)=>{const Dt=l.get(We);if(!Dt)return;A.push(n.Vs.removeMatchingKeys(f,ye.removedDocuments,We).next(()=>n.Vs.addMatchingKeys(f,ye.addedDocuments,We)));let Ut=Dt.withSequenceNumber(f.currentSequenceNumber);var Zt,Hn,ur;e.targetMismatches.has(We)?Ut=Ut.withResumeToken(Me.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):ye.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ye.resumeToken,o)),l=l.insert(We,Ut),Hn=Ut,ur=ye,(0===(Zt=Dt).resumeToken.approximateByteSize()||Hn.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||ur.addedDocuments.size+ur.modifiedDocuments.size+ur.removedDocuments.size>0)&&A.push(n.Vs.updateTargetData(f,Ut))});let W=Mo(),Q=ni();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(f,ye))}),A.push(Ag(f,v,e.documentUpdates).next(ye=>{W=ye.Gi,Q=ye.Qi})),!o.isEqual(er.min())){const ye=n.Vs.getLastRemoteSnapshotVersion(f).next(We=>n.Vs.setTargetsMetadata(f,f.currentSequenceNumber,o));A.push(ye)}return Ct.waitFor(A).next(()=>v.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,W,Q)).next(()=>W)}).then(f=>(n.$i=l,f))}function Ag(i,e,n){let o=ni(),l=ni();return n.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let v=Mo();return n.forEach((A,W)=>{const Q=f.get(A);W.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(A)),W.isNoDocument()&&W.version.isEqual(er.min())?(e.removeEntry(A,W.readTime),v=v.insert(A,W)):!Q.isValidDocument()||W.version.compareTo(Q.version)>0||0===W.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(W),v=v.insert(A,W)):Kt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Q.version," Watch version:",W.version)}),{Gi:v,Qi:l}})}function ay(i,e){const n=fn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function rc(i,e){const n=fn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Vs.getTargetData(o,e).next(f=>f?(l=f,Ct.resolve(l)):n.Vs.allocateTargetId(o).next(v=>(l=new yl(e,v,0,o.currentSequenceNumber),n.Vs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.$i.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.$i=n.$i.insert(o.targetId,o),n.Bi.set(e,o.targetId)),o})}function Au(i,e,n){return lh.apply(this,arguments)}function lh(){return lh=(0,h.Z)(function*(i,e,n){const o=fn(i),l=o.$i.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!Fo(v))throw v;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.$i=o.$i.remove(e),o.Bi.delete(l.target)}),lh.apply(this,arguments)}function bf(i,e,n){const o=fn(i);let l=er.min(),f=ni();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,W,Q){const ye=fn(A),We=ye.Bi.get(Q);return void 0!==We?Ct.resolve(ye.$i.get(We)):ye.Vs.getTargetData(W,Q)}(o,v,ta(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(v,A.targetId).next(W=>{f=W})}).next(()=>o.Fi.getDocumentsMatchingQuery(v,e,n?l:er.min(),n?f:ni())).next(A=>(If(o,Wu(e),A),{documents:A,ji:f})))}function wf(i,e){const n=fn(i),o=fn(n.Vs),l=n.$i.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",f=>o.te(f,e).next(v=>v?v.target:null))}function Mg(i,e){const n=fn(i),o=n.Li.get(e)||er.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Ui.getAllFromCollectionGroup(l,e,Io(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(If(n,e,l),l))}function If(i,e,n){let o=er.min();n.forEach((l,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Li.set(e,o)}function Cf(){return Cf=(0,h.Z)(function*(i,e,n,o){const l=fn(i);let f=ni(),v=Mo();for(const Q of n){const ye=e.Wi(Q.metadata.name);Q.document&&(f=f.add(ye));const We=e.zi(Q);We.setReadTime(e.Hi(Q.metadata.readTime)),v=v.insert(ye,We)}const A=l.Ui.newChangeBuffer({trackRemovals:!0}),W=yield rc(l,(Q=o,ta(Bl(fr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Ag(Q,A,v).next(ye=>(A.apply(Q),ye)).next(ye=>l.Vs.removeMatchingKeysForTargetId(Q,W.targetId).next(()=>l.Vs.addMatchingKeys(Q,f,W.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,ye.Gi,ye.Qi)).next(()=>ye.Gi)))}),Cf.apply(this,arguments)}function Ol(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,h.Z)(function*(i,e,n=ni()){const o=yield rc(i,ta(lf(e.bundledQuery))),l=fn(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const v=pe(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return l.Ds.saveNamedQuery(f,e);const A=o.withResumeToken(Me.EMPTY_BYTE_STRING,v);return l.$i=l.$i.insert(A.targetId,A),l.Vs.updateTargetData(f,A).next(()=>l.Vs.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>l.Vs.addMatchingKeys(f,n,o.targetId)).next(()=>l.Ds.saveNamedQuery(f,e))})}),Tf.apply(this,arguments)}function Df(i,e){return`firestore_clients_${i}_${e}`}function xg(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Sf(i,e){return`firestore_targets_${i}_${e}`}class uh{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Ji(e,n,o){const l=JSON.parse(o);let f,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(f=new Nt(l.error.code,l.error.message))),v?new uh(e,n,l.state,f):(ki("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ed{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let l,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(l=new Nt(o.error.code,o.error.message))),f?new Ed(e,o.state,l):(ki("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,f=rd();for(let v=0;l&&v<o.activeTargetIds.length;++v)l=ya(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return l?new bd(e,f):(ki("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Af{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Af(n.clientId,n.onlineState):(ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Mf{constructor(){this.activeTargetIds=rd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xf{constructor(e,n,o,l,f){this.window=e,this.js=n,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Wi(Ir),this.started=!1,this.ir=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.rr=Df(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Mf),this.cr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.Ri();for(const l of n){if(l===e.tr)continue;const f=e.getItem(Df(e.persistenceKey,l));if(f){const v=bd.Ji(l,f);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Sf(this.persistenceKey,e));if(o){const l=Ed.Ji(e,o);l&&(n=l.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sf(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Kt("SharedClientState","READ",e,n),n}setItem(e,n){Kt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const l=n.Rr(o.key);return n.br(l,null)}{const l=n.Pr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.ar.test(o.key)){if(null!==o.newValue){const l=n.vr(o.key,o.newValue);if(l)return n.Vr(l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.Sr(o.key,o.newValue);if(l)return n.Dr(l)}}else if(o.key===n.lr){if(null!==o.newValue){const l=n.wr(o.newValue);if(l)return n.mr(l)}}else if(o.key===n.ur){const l=function(f){let v=zs.ot;if(null!=f)try{const A=JSON.parse(f);Xn("number"==typeof A),v=A}catch(A){ki("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);l!==zs.ot&&n.sequenceNumberHandler(l)}else if(o.key===n.dr){const l=n.Cr(o.newValue);yield Promise.all(l.map(f=>n.syncEngine.Nr(f)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const l=new uh(this.currentUser,e,n,o),f=xg(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Yi())}pr(e){const n=xg(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const l=Sf(this.persistenceKey,e),f=new Ed(e,n,o);this.setItem(l,f.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return bd.Ji(o,n)}vr(e,n){const o=this.ar.exec(e),l=Number(o[1]);return uh.Ji(new wi(void 0!==o[2]?o[2]:null),l,n)}Sr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return Ed.Ji(l,n)}wr(e){return Af.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),l=this.gr(this.sr),f=this.gr(o),v=[],A=[];return f.forEach(W=>{l.has(W)||v.push(W)}),l.forEach(W=>{f.has(W)||A.push(W)}),this.syncEngine.Mr(v,A).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=rd();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Zr{constructor(){this.Fr=new Mf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Mf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Og{Br(e){}shutdown(){}}class Of{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class uy{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class cy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,l,f){const v=this.oo(e,n);Kt("RestConnection","Sending: ",v,o);const A={};return this.uo(A,l,f),this.co(e,v,A,o).then(W=>(Kt("RestConnection","Received: ",W),W),W=>{throw hs("RestConnection",`${e} failed with error: `,W,"url: ",v,"request:",o),W})}ao(e,n,o,l,f,v){return this.ro(e,n,o,l,f)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}oo(e,n){return`${this.so}/v1/${n}:${Pg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,l){return new Promise((f,v)=>{const A=new Ws;A.listenOnce(Ha.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case bo.NO_ERROR:const Q=A.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(Q)),f(Q);break;case bo.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),v(new Nt(At.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:const ye=A.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",A.getResponseText()),ye>0){const We=A.getResponseJson().error;if(We&&We.status&&We.message){const Dt=function(Ut){const Zt=Ut.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(Zt)>=0?Zt:At.UNKNOWN}(We.status);v(new Nt(Dt,We.message))}else v(new Nt(At.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new Nt(At.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(l);A.send(n,"POST",W,o,15)})}ho(e,n,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ca(),v=ko(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new kl({})),this.uo(A.initMessageHeaders,n,o),(0,j.uI)()||(0,j.b$)()||(0,j.d)()||(0,j.w1)()||(0,j.Mn)()||(0,j.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const W=l.join("");Kt("Connection","Creating WebChannel: "+W,A);const Q=f.createWebChannel(W,A);let ye=!1,We=!1;const Dt=new uy({jr:Zt=>{We?Kt("Connection","Not sending because WebChannel is closed:",Zt):(ye||(Kt("Connection","Opening WebChannel transport."),Q.open(),ye=!0),Kt("Connection","WebChannel sending:",Zt),Q.send(Zt))},Wr:()=>Q.close()}),Ut=(Zt,Hn,ur)=>{Zt.listen(Hn,Gi=>{try{ur(Gi)}catch(Cs){setTimeout(()=>{throw Cs},0)}})};return Ut(Q,$a.EventType.OPEN,()=>{We||Kt("Connection","WebChannel transport opened.")}),Ut(Q,$a.EventType.CLOSE,()=>{We||(We=!0,Kt("Connection","WebChannel transport closed"),Dt.eo())}),Ut(Q,$a.EventType.ERROR,Zt=>{We||(We=!0,hs("Connection","WebChannel transport errored:",Zt),Dt.eo(new Nt(At.UNAVAILABLE,"The operation could not be completed")))}),Ut(Q,$a.EventType.MESSAGE,Zt=>{var Hn;if(!We){const ur=Zt.data[0];Xn(!!ur);const Gi=ur,Cs=Gi.error||(null===(Hn=Gi[0])||void 0===Hn?void 0:Hn.error);if(Cs){Kt("Connection","WebChannel received error:",Cs);const ps=Cs.status;let oa=function(Ys){const aa=ls[Ys];if(void 0!==aa)return Zu(aa)}(ps),lo=Cs.message;void 0===oa&&(oa=At.INTERNAL,lo="Unknown error status: "+ps+" with message "+Cs.message),We=!0,Dt.eo(new Nt(oa,lo)),Q.close()}else Kt("Connection","WebChannel received:",ur),Dt.no(ur)}}),Ut(v,da.STAT_EVENT,Zt=>{Zt.stat===bi.PROXY?Kt("Connection","Detected buffering proxy"):Zt.stat===bi.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Dt.Zr()},0),Dt}}function Pf(){return typeof window<"u"?window:null}function ch(){return typeof document<"u"?document:null}function Nc(i){return new d(i,!0)}class Rf{constructor(e,n,o=1e3,l=1.5,f=6e4){this.js=e,this.timerId=n,this.lo=o,this.fo=l,this._o=f,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,n-o);l>0&&Kt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Rg{constructor(e,n,o,l,f,v,A,W){this.js=e,this.Ao=o,this.Ro=l,this.bo=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=W,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Rf(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,h.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,h.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var o=this;return(0,h.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===At.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===At.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===n&&this.Uo(o,l)},o=>{e(()=>{const l=new Nt(At.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,h.Z)(function*(){e.state=0,e.start()}))}qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B_ extends Rg{constructor(e,n,o,l,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,v),this.wt=f}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Zs(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Pn(),l=e.targetChange.targetIds||[],f=function(W,Q){return W.dt?(Xn(void 0===Q||"string"==typeof Q),Me.fromBase64String(Q||"")):(Xn(void 0===Q||Q instanceof Uint8Array),Me.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(W){const Q=void 0===W.code?At.UNKNOWN:Zu(W.code);return new Nt(Q,W.message||"")}(v);n=new Iu(o,l,f,A||null)}else if("documentChange"in e){const o=e.documentChange,l=cn(i,o.document.name),f=pe(o.document.updateTime),v=new zn({mapValue:{fields:o.document.fields}}),A=vr.newFoundDocument(l,f,v);n=new id(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,l=cn(i,o.document),f=o.readTime?pe(o.readTime):er.min(),v=vr.newNoDocument(l,f);n=new id([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,l=cn(i,o.document);n=new id([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Pn();{const o=e.filter,f=new td(o.count||0);n=new Xh(o.targetId,f)}}var W;return n}(this.wt,e),o=function(l){if(!("targetChange"in l))return er.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?er.min():f.readTime?pe(f.readTime):er.min()}(e);return this.listener.Go(n,o)}Qo(e){const n={};n.database=Gr(this.wt),n.addTarget=function(l,f){let v;const A=f.target;return v=Za(A)?{documents:xo(l,A)}:{query:Oo(l,A)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=N(l,f.resumeToken):f.snapshotVersion.compareTo(er.min())>0&&(v.readTime=_(l,f.snapshotVersion.toTimestamp())),v}(this.wt,e);const o=function Ml(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Mo(n)}jo(e){const n={};n.database=Gr(this.wt),n.removeTarget=e,this.Mo(n)}}class Ng extends Rg{constructor(e,n,o,l,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,v),this.wt=f,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function nu(i,e){return i&&i.length>0?(Xn(void 0!==e),i.map(n=>function(o,l){let f=pe(o.updateTime?o.updateTime:l);return f.isEqual(er.min())&&(f=pe(l)),new me(f,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=pe(e.commitTime);return this.listener.Jo(o,n)}return Xn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Gr(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>to(this.wt,o))};this.Mo(n)}}class kg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.bo.ro(e,n,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(At.UNKNOWN,l.toString())})}ao(e,n,o,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.bo.ao(e,n,o,f,v,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Nt(At.UNKNOWN,f.toString())})}terminate(){this.Zo=!0}}class ic{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ki(n),this.su=!1):Kt("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dy{constructor(e,n,o,l,f){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=f,this.du.Br(A=>{o.enqueueAndForget((0,h.Z)(function*(){var W;el(v)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,h.Z)(function*(Q){const ye=fn(Q);ye.lu.add(4),yield kc(ye),ye._u.set("Unknown"),ye.lu.delete(4),yield sc(ye)}),function(Q){return W.apply(this,arguments)})(v))}))}),this._u=new ic(o,l)}}function sc(i){return wd.apply(this,arguments)}function wd(){return wd=(0,h.Z)(function*(i){if(el(i))for(const e of i.fu)yield e(!0)}),wd.apply(this,arguments)}function kc(i){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,h.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Lg.apply(this,arguments)}function Nf(i,e){const n=fn(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Ff(n)?Fg(n):xu(n).Co()&&kf(n,e))}function dh(i,e){const n=fn(i),o=xu(n);n.hu.delete(e),o.Co()&&Lf(n,e),0===n.hu.size&&(o.Co()?o.ko():el(n)&&n._u.set("Unknown"))}function kf(i,e){i.wu.Nt(e.targetId),xu(i).Qo(e)}function Lf(i,e){i.wu.Nt(e),xu(i).jo(e)}function Fg(i){i.wu=new Yd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),xu(i).start(),i._u.iu()}function Ff(i){return el(i)&&!xu(i).Do()&&i.hu.size>0}function el(i){return 0===fn(i).lu.size}function Vg(i){i.wu=void 0}function Ug(i){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,h.Z)(function*(i){i.hu.forEach((e,n)=>{kf(i,e)})}),Lc.apply(this,arguments)}function hy(i,e){return hh.apply(this,arguments)}function hh(){return hh=(0,h.Z)(function*(i,e){Vg(i),Ff(i)?(i._u.uu(e),Fg(i)):i._u.set("Unknown")}),hh.apply(this,arguments)}function fy(i,e,n){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,h.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof Iu&&2===e.state&&e.cause)try{yield(o=(0,h.Z)(function*(l,f){const v=f.cause;for(const A of f.targetIds)l.hu.has(A)&&(yield l.remoteSyncer.rejectListen(A,v),l.hu.delete(A),l.wu.removeTarget(A))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield fh(i,o)}else if(e instanceof id?i.wu.Ut(e):e instanceof Xh?i.wu.zt(e):i.wu.Gt(e),!n.isEqual(er.min()))try{const o=yield Dg(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const v=l.wu.Yt(f);return v.targetChanges.forEach((A,W)=>{if(A.resumeToken.approximateByteSize()>0){const Q=l.hu.get(W);Q&&l.hu.set(W,Q.withResumeToken(A.resumeToken,f))}}),v.targetMismatches.forEach(A=>{const W=l.hu.get(A);if(!W)return;l.hu.set(A,W.withResumeToken(Me.EMPTY_BYTE_STRING,W.snapshotVersion)),Lf(l,A);const Q=new yl(W.target,A,1,W.sequenceNumber);kf(l,Q)}),l.remoteSyncer.applyRemoteEvent(v)}(i,n))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield fh(i,o)}var o}),Vf.apply(this,arguments)}function fh(i,e,n){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,h.Z)(function*(i,e,n){if(!Fo(e))throw e;i.lu.add(1),yield kc(i),i._u.set("Offline"),n||(n=()=>Dg(i.localStore)),i.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield sc(i)}))}),Uf.apply(this,arguments)}function Bg(i,e){return e().catch(n=>fh(i,n,e))}function oc(i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,h.Z)(function*(i){const e=fn(i),n=au(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Hg(e);)try{const l=yield ay(e.localStore,o);if(null===l){0===e.au.length&&n.ko();break}o=l.batchId,$g(e,l)}catch(l){yield fh(e,l)}ph(e)&&py(e)}),Bf.apply(this,arguments)}function Hg(i){return el(i)&&i.au.length<10}function $g(i,e){i.au.push(e);const n=au(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function ph(i){return el(i)&&!au(i).Do()&&i.au.length>0}function py(i){au(i).start()}function Hf(i){return $f.apply(this,arguments)}function $f(){return $f=(0,h.Z)(function*(i){au(i).Xo()}),$f.apply(this,arguments)}function H_(i){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,h.Z)(function*(i){const e=au(i);for(const n of i.au)e.Ho(n.mutations)}),Mu.apply(this,arguments)}function jg(i,e,n){return gh.apply(this,arguments)}function gh(){return gh=(0,h.Z)(function*(i,e,n){const o=i.au.shift(),l=af.from(o,e,n);yield Bg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield oc(i)}),gh.apply(this,arguments)}function mh(i,e){return tl.apply(this,arguments)}function tl(){return tl=(0,h.Z)(function*(i,e){var n;e&&au(i).zo&&(yield(n=(0,h.Z)(function*(o,l){if(nd(f=l.code)&&f!==At.ABORTED){const v=o.au.shift();au(o).No(),yield Bg(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield oc(o)}var f}),function(o,l){return n.apply(this,arguments)})(i,e)),ph(i)&&py(i)}),tl.apply(this,arguments)}function jf(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,h.Z)(function*(i,e){const n=fn(i);n.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=el(n);n.lu.add(3),yield kc(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield sc(n)}),Wf.apply(this,arguments)}function Id(i,e){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,h.Z)(function*(i,e){const n=fn(i);e?(n.lu.delete(2),yield sc(n)):e||(n.lu.add(2),yield kc(n),n._u.set("Unknown"))}),Pl.apply(this,arguments)}function xu(i){return i.mu||(i.mu=function(e,n,o){const l=fn(e);return l.tu(),new B_(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:Ug.bind(null,i),Jr:hy.bind(null,i),Go:fy.bind(null,i)}),i.fu.push(function(){var e=(0,h.Z)(function*(n){n?(i.mu.No(),Ff(i)?Fg(i):i._u.set("Unknown")):(yield i.mu.stop(),Vg(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function au(i){return i.gu||(i.gu=function(e,n,o){const l=fn(e);return l.tu(),new Ng(n,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(i.datastore,i.asyncQueue,{zr:Hf.bind(null,i),Jr:mh.bind(null,i),Yo:H_.bind(null,i),Jo:jg.bind(null,i)}),i.fu.push(function(){var e=(0,h.Z)(function*(n){n?(i.gu.No(),yield oc(i)):(yield i.gu.stop(),i.au.length>0&&(Kt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class Cd{constructor(e,n,o,l,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,l,f){const v=Date.now()+o,A=new Cd(e,n,v,l,f);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(i,e){if(ki("AsyncQueue",`${e}: ${i}`),Fo(i))return new Nt(At.UNAVAILABLE,`${e}: ${i}`);throw i}class ac{constructor(e){this.comparator=e?(n,o)=>e(n,o)||en.comparator(n.key,o.key):(n,o)=>en.comparator(n.key,o.key),this.keyedMap=wu(),this.sortedSet=new Wi(this.comparator)}static emptySet(e){return new ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ac;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class gy{constructor(){this.yu=new Wi(en.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):Pn():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class lu{constructor(e,n,o,l,f,v,A,W){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=W}static fromInitialDocuments(e,n,o,l){const f=[];return n.forEach(v=>{f.push({type:0,doc:v})}),new lu(e,n,ac.emptySet(n),f,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class yh{constructor(){this.Iu=void 0,this.listeners=[]}}class Gf{constructor(){this.queries=new Al(e=>_u(e),qa),this.onlineState="Unknown",this.Tu=new Set}}function Dd(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,h.Z)(function*(i,e){const n=fn(i),o=e.query;let l=!1,f=n.queries.get(o);if(f||(l=!0,f=new yh),l)try{f.Iu=yield n.onListen(o)}catch(v){const A=Td(v,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,f),f.listeners.push(e),e.Eu(n.onlineState),f.Iu&&e.Au(f.Iu)&&Kf(n)}),Sd.apply(this,arguments)}function Wg(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,h.Z)(function*(i,e){const n=fn(i),o=e.query;let l=!1;const f=n.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),l=0===f.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),zf.apply(this,arguments)}function my(i,e){const n=fn(i);let o=!1;for(const l of e){const v=n.queries.get(l.query);if(v){for(const A of v.listeners)A.Au(l)&&(o=!0);v.Iu=l}}o&&Kf(n)}function yy(i,e,n){const o=fn(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(n);o.queries.delete(e)}function Kf(i){i.Tu.forEach(e=>{e.next()})}class _h{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new lu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class $_{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class Gg{constructor(e){this.wt=e}Wi(e){return cn(this.wt,e)}zi(e){return e.metadata.exists?ci(this.wt,e.document,!1):vr.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return pe(e)}}class j_{constructor(e,n,o){this.xu=e,this.localStore=n,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zf(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=fr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new Gg(this.wt);for(const l of e)if(l.metadata.queries){const f=o.Wi(l.metadata.name);for(const v of l.metadata.queries){const A=(n.get(v)||ni()).add(f);n.set(v,A)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function ly(i,e,n,o){return Cf.apply(this,arguments)}(e.localStore,new Gg(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Ol(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:n}})()}}function Zf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class qf{constructor(e){this.key=e}}class zg{constructor(e){this.key=e}}class vh{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ni(),this.mutatedKeys=ni(),this.Lu=Na(e),this.Uu=new ac(this.Lu)}get qu(){return this.Fu}Ku(e,n){const o=n?n.Gu:new gy,l=n?n.Uu:this.Uu;let f=n?n.mutatedKeys:this.mutatedKeys,v=l,A=!1;const W="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ye,We)=>{const Dt=l.get(ye),Ut=Eu(this.query,We)?We:null,Zt=!!Dt&&this.mutatedKeys.has(Dt.key),Hn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let ur=!1;Dt&&Ut?Dt.data.isEqual(Ut.data)?Zt!==Hn&&(o.track({type:3,doc:Ut}),ur=!0):this.Qu(Dt,Ut)||(o.track({type:2,doc:Ut}),ur=!0,(W&&this.Lu(Ut,W)>0||Q&&this.Lu(Ut,Q)<0)&&(A=!0)):!Dt&&Ut?(o.track({type:0,doc:Ut}),ur=!0):Dt&&!Ut&&(o.track({type:1,doc:Dt}),ur=!0,(W||Q)&&(A=!0)),ur&&(Ut?(v=v.add(Ut),f=Hn?f.add(ye):f.delete(ye)):(v=v.delete(ye),f=f.delete(ye)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ye="F"===this.query.limitType?v.last():v.first();v=v.delete(ye.key),f=f.delete(ye.key),o.track({type:1,doc:ye})}return{Uu:v,Gu:o,Oi:A,mutatedKeys:f}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const f=e.Gu.pu();f.sort((Q,ye)=>function(We,Dt){const Ut=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return Ut(We)-Ut(Dt)}(Q.type,ye.type)||this.Lu(Q.doc,ye.doc)),this.ju(o);const v=n?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,W=A!==this.$u;return this.$u=A,0!==f.length||W?{snapshot:new lu(this.query,e.Uu,l,f,e.mutatedKeys,0===A,W,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new gy,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ni(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new zg(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new qf(o))}),n}Ju(e){this.Fu=e.ji,this.Bu=ni();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return lu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class W_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class G_{constructor(e){this.key=e,this.Xu=!1}}class z_{constructor(e,n,o,l,f,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Zu={},this.tc=new Al(A=>_u(A),qa),this.ec=new Map,this.nc=new Set,this.sc=new Wi(en.comparator),this.ic=new Map,this.rc=new yf,this.oc={},this.uc=new Map,this.cc=Su.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function K_(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,h.Z)(function*(i,e){const n=nm(i);let o,l;const f=n.tc.get(e);if(f)o=f.targetId,n.sharedClientState.addLocalQueryTarget(o),l=f.view.Yu();else{const v=yield rc(n.localStore,ta(e));n.isPrimaryClient&&Nf(n.remoteStore,v);const A=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,l=yield Zg(n,e,o,"current"===A)}return l}),Kg.apply(this,arguments)}function Zg(i,e,n,o){return qg.apply(this,arguments)}function qg(){return qg=(0,h.Z)(function*(i,e,n,o){i.hc=(ye,We,Dt)=>{return(Ut=(0,h.Z)(function*(Zt,Hn,ur,Gi){let Cs=Hn.view.Ku(ur);Cs.Oi&&(Cs=yield bf(Zt.localStore,Hn.query,!1).then(({documents:lo})=>Hn.view.Ku(lo,Cs)));const ps=Gi&&Gi.targetChanges.get(Hn.targetId),oa=Hn.view.applyChanges(Cs,Zt.isPrimaryClient,ps);return Vc(Zt,Hn.targetId,oa.zu),oa.snapshot}),function(Zt,Hn,ur,Gi){return Ut.apply(this,arguments)})(i,ye,We,Dt);var Ut};const l=yield bf(i.localStore,e,!0),f=new vh(e,l.ji),v=f.Ku(l.documents),A=qu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),W=f.applyChanges(v,i.isPrimaryClient,A);Vc(i,n,W.zu);const Q=new W_(e,n,f);return i.tc.set(e,Q),i.ec.has(n)?i.ec.get(n).push(e):i.ec.set(n,[e]),W.snapshot}),qg.apply(this,arguments)}function Z_(i,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,h.Z)(function*(i,e){const n=fn(i),o=n.tc.get(e),l=n.ec.get(o.targetId);if(l.length>1)return n.ec.set(o.targetId,l.filter(f=>!qa(f,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Au(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),dh(n.remoteStore,o.targetId),Fc(n,o.targetId)}).catch(qr))):(Fc(n,o.targetId),yield Au(n.localStore,o.targetId,!0))}),Yg.apply(this,arguments)}function zl(){return zl=(0,h.Z)(function*(i,e,n){const o=dp(i);try{const l=yield function(f,v){const A=fn(f),W=fi.now(),Q=v.reduce((Dt,Ut)=>Dt.add(Ut.key),ni());let ye,We;return A.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Ut=Mo(),Zt=ni();return A.Ui.getEntries(Dt,Q).next(Hn=>{Ut=Hn,Ut.forEach((ur,Gi)=>{Gi.isValidDocument()||(Zt=Zt.add(ur))})}).next(()=>A.localDocuments.getOverlayedDocuments(Dt,Ut)).next(Hn=>{ye=Hn;const ur=[];for(const Gi of v){const Cs=Ia(Gi,ye.get(Gi.key).overlayedDocument);null!=Cs&&ur.push(new Qa(Gi.key,Cs,tr(Cs.value.mapValue),st.exists(!0)))}return A.mutationQueue.addMutationBatch(Dt,W,ur,v)}).next(Hn=>{We=Hn;const ur=Hn.applyToLocalDocumentSet(ye,Zt);return A.documentOverlayCache.saveOverlays(Dt,Hn.batchId,ur)})}).then(()=>({batchId:We.batchId,changes:Qh(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,v,A){let W=f.oc[f.currentUser.toKey()];W||(W=new Wi(Ir)),W=W.insert(v,A),f.oc[f.currentUser.toKey()]=W}(o,l.batchId,n),yield La(o,l.changes),yield oc(o.remoteStore)}catch(l){const f=Td(l,"Failed to persist write");n.reject(f)}}),zl.apply(this,arguments)}function Eh(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,h.Z)(function*(i,e){const n=fn(i);try{const o=yield Sg(n.localStore,e);e.targetChanges.forEach((l,f)=>{const v=n.ic.get(f);v&&(Xn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Xu=!0:l.modifiedDocuments.size>0?Xn(v.Xu):l.removedDocuments.size>0&&(Xn(v.Xu),v.Xu=!1))}),yield La(n,o,e)}catch(o){yield qr(o)}}),Yf.apply(this,arguments)}function Qf(i,e,n){const o=fn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.tc.forEach((f,v)=>{const A=v.view.Eu(e);A.snapshot&&l.push(A.snapshot)}),function(f,v){const A=fn(f);A.onlineState=v;let W=!1;A.queries.forEach((Q,ye)=>{for(const We of ye.listeners)We.Eu(v)&&(W=!0)}),W&&Kf(A)}(o.eventManager,e),l.length&&o.Zu.Go(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Jf(i,e,n){return bh.apply(this,arguments)}function bh(){return bh=(0,h.Z)(function*(i,e,n){const o=fn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ic.get(e),f=l&&l.key;if(f){let v=new Wi(en.comparator);v=v.insert(f,vr.newNoDocument(f,er.min()));const A=ni().add(f),W=new wc(er.min(),new Map,new w(Ir),v,A);yield Eh(o,W),o.sc=o.sc.remove(f),o.ic.delete(e),Md(o)}else yield Au(o.localStore,e,!1).then(()=>Fc(o,e,n)).catch(qr)}),bh.apply(this,arguments)}function Xf(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,h.Z)(function*(i,e){const n=fn(i),o=e.batch.batchId;try{const l=yield vd(n.localStore,e);Ih(n,o,null),tp(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield La(n,l)}catch(l){yield qr(l)}}),ep.apply(this,arguments)}function Ou(i,e,n){return wh.apply(this,arguments)}function wh(){return wh=(0,h.Z)(function*(i,e,n){const o=fn(i);try{const l=yield function(f,v){const A=fn(f);return A.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let Q;return A.mutationQueue.lookupMutationBatch(W,v).next(ye=>(Xn(null!==ye),Q=ye.keys(),A.mutationQueue.removeMutationBatch(W,ye))).next(()=>A.mutationQueue.performConsistencyCheck(W)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(W,Q,v)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,Q)).next(()=>A.localDocuments.getDocuments(W,Q))})}(o.localStore,e);Ih(o,e,n),tp(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield La(o,l)}catch(l){yield qr(l)}}),wh.apply(this,arguments)}function Ad(){return Ad=(0,h.Z)(function*(i,e){const n=fn(i);el(n.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=fn(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.mutationQueue.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(-1===o)return void e.resolve();const l=n.uc.get(o)||[];l.push(e),n.uc.set(o,l)}catch(o){const l=Td(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Ad.apply(this,arguments)}function tp(i,e){(i.uc.get(e)||[]).forEach(n=>{n.resolve()}),i.uc.delete(e)}function Ih(i,e,n){const o=fn(i);let l=o.oc[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(n?f.reject(n):f.resolve(),l=l.remove(e)),o.oc[o.currentUser.toKey()]=l}}function Fc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),n&&i.Zu.lc(o,n);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||Qg(i,o)})}function Qg(i,e){i.nc.delete(e.path.canonicalString());const n=i.sc.get(e);null!==n&&(dh(i.remoteStore,n),i.sc=i.sc.remove(e),i.ic.delete(n),Md(i))}function Vc(i,e,n){for(const o of n)o instanceof qf?(i.rc.addReference(o.key,e),Uc(i,o)):o instanceof zg?(Kt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||Qg(i,o.key)):Pn()}function Uc(i,e){const n=e.key,o=n.path.canonicalString();i.sc.get(n)||i.nc.has(o)||(Kt("SyncEngine","New document in limbo: "+n),i.nc.add(o),Md(i))}function Md(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const n=new en(fr.fromString(e)),o=i.cc.next();i.ic.set(o,new G_(n)),i.sc=i.sc.insert(n,o),Nf(i.remoteStore,new yl(ta(Bl(n.path)),o,2,zs.ot))}}function La(i,e,n){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,h.Z)(function*(i,e,n){const o=fn(i),l=[],f=[],v=[];var A;o.tc.isEmpty()||(o.tc.forEach((A,W)=>{v.push(o.hc(W,e,n).then(Q=>{if(Q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(W.targetId,Q.fromCache?"not-current":"current"),l.push(Q);const ye=Rc.Vi(W.targetId,Q);f.push(ye)}}))}),yield Promise.all(v),o.Zu.Go(l),yield(A=(0,h.Z)(function*(W,Q){const ye=fn(W);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>Ct.forEach(Q,Dt=>Ct.forEach(Dt.Pi,Ut=>ye.persistence.referenceDelegate.addReference(We,Dt.targetId,Ut)).next(()=>Ct.forEach(Dt.vi,Ut=>ye.persistence.referenceDelegate.removeReference(We,Dt.targetId,Ut)))))}catch(We){if(!Fo(We))throw We;Kt("LocalStore","Failed to update sequence numbers: "+We)}for(const We of Q){const Dt=We.targetId;if(!We.fromCache){const Ut=ye.$i.get(Dt),Hn=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);ye.$i=ye.$i.insert(Dt,Hn)}}}),function(W,Q){return A.apply(this,arguments)})(o.localStore,f))}),Bc.apply(this,arguments)}function xd(i,e){return np.apply(this,arguments)}function np(){return np=(0,h.Z)(function*(i,e){const n=fn(i);if(!n.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield Ef(n.localStore,e);n.currentUser=e,(l=n).uc.forEach(v=>{v.forEach(A=>{A.reject(new Nt(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield La(n,o.Ki)}var l}),np.apply(this,arguments)}function Jg(i,e){const n=fn(i),o=n.ic.get(e);if(o&&o.Xu)return ni().add(o.key);{let l=ni();const f=n.ec.get(e);if(!f)return l;for(const v of f){const A=n.tc.get(v);l=l.unionWith(A.view.qu)}return l}}function Xg(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,h.Z)(function*(i,e){const n=fn(i),o=yield bf(n.localStore,e.query,!0),l=e.view.Ju(o);return n.isPrimaryClient&&Vc(n,e.targetId,l.zu),l}),Od.apply(this,arguments)}function rp(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,h.Z)(function*(i,e){const n=fn(i);return Mg(n.localStore,e).then(o=>La(n,o))}),Ch.apply(this,arguments)}function ip(i,e,n,o){return sp.apply(this,arguments)}function sp(){return sp=(0,h.Z)(function*(i,e,n,o){const l=fn(i),f=yield function(v,A){const W=fn(v),Q=fn(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ye=>Q.yn(ye,A).next(We=>We?W.localDocuments.getDocuments(ye,We):Ct.resolve(null)))}(l.localStore,e);var A;null!==f?("pending"===n?yield oc(l.remoteStore):"acknowledged"===n||"rejected"===n?(Ih(l,e,o||null),tp(l,e),A=e,fn(fn(l.localStore).mutationQueue).In(A)):Pn(),yield La(l,f)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),sp.apply(this,arguments)}function op(){return op=(0,h.Z)(function*(i,e){const n=fn(i);if(nm(n),dp(n),!0===e&&!0!==n.ac){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield ap(n,o.toArray());n.ac=!0,yield Id(n.remoteStore,!0);for(const f of l)Nf(n.remoteStore,f)}else if(!1===e&&!1!==n.ac){const o=[];let l=Promise.resolve();n.ec.forEach((f,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):l=l.then(()=>(Fc(n,v),Au(n.localStore,v,!0))),dh(n.remoteStore,v)}),yield l,yield ap(n,o),function(f){const v=fn(f);v.ic.forEach((A,W)=>{dh(v.remoteStore,W)}),v.rc.cs(),v.ic=new Map,v.sc=new Wi(en.comparator)}(n),n.ac=!1,yield Id(n.remoteStore,!1)}}),op.apply(this,arguments)}function ap(i,e,n){return lp.apply(this,arguments)}function lp(){return lp=(0,h.Z)(function*(i,e,n){const o=fn(i),l=[],f=[];for(const v of e){let A;const W=o.ec.get(v);if(W&&0!==W.length){A=yield rc(o.localStore,ta(W[0]));for(const Q of W){const ye=o.tc.get(Q),We=yield Xg(o,ye);We.snapshot&&f.push(We.snapshot)}}else{const Q=yield wf(o.localStore,v);A=yield rc(o.localStore,Q),yield Zg(o,up(Q),v,!1)}l.push(A)}return o.Zu.Go(f),l}),lp.apply(this,arguments)}function up(i){return yu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function em(i){const e=fn(i);return fn(fn(e.localStore).persistence).Ri()}function vy(i,e,n,o){return Da.apply(this,arguments)}function Da(){return Da=(0,h.Z)(function*(i,e,n,o){const l=fn(i);if(l.ac)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const f=l.ec.get(e);if(f&&f.length>0)switch(n){case"current":case"not-current":{const v=yield Mg(l.localStore,Wu(f[0])),A=wc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield La(l,v,A);break}case"rejected":yield Au(l.localStore,e,!0),Fc(l,e,o);break;default:Pn()}}),Da.apply(this,arguments)}function tm(i,e,n){return cp.apply(this,arguments)}function cp(){return cp=(0,h.Z)(function*(i,e,n){const o=nm(i);if(o.ac){for(const l of e){if(o.ec.has(l)){Kt("SyncEngine","Adding an already active target "+l);continue}const f=yield wf(o.localStore,l),v=yield rc(o.localStore,f);yield Zg(o,up(f),v.targetId,!1),Nf(o.remoteStore,v)}for(const l of n)o.ec.has(l)&&(yield Au(o.localStore,l,!1).then(()=>{dh(o.remoteStore,l),Fc(o,l)}).catch(qr))}}),cp.apply(this,arguments)}function nm(i){const e=fn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jf.bind(null,e),e.Zu.Go=my.bind(null,e.eventManager),e.Zu.lc=yy.bind(null,e.eventManager),e}function dp(i){const e=fn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ou.bind(null,e),e}class fp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.wt=Nc(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return ah(this.persistence,new yd,e.initialUser,this.wt)}_c(e){return new _f(vf.Ms,this.wt)}dc(e){return new Zr}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rm extends fp{constructor(e,n,o){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e),yield o.yc.initialize(o,e),yield dp(o.yc.syncEngine),yield oc(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return ah(this.persistence,new yd,e.initialUser,this.wt)}mc(e,n){return new gg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}gc(e,n){const o=new ma(n,this.persistence);return new Il(e.asyncQueue,o)}_c(e){const n=oh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new sh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Pf(),ch(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new Zr}}class Ey extends rm{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e);const l=o.yc.syncEngine;o.sharedClientState instanceof xf&&(o.sharedClientState.syncEngine={kr:ip.bind(null,l),Or:vy.bind(null,l),Mr:tm.bind(null,l),Ri:em.bind(null,l),Nr:rp.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var f=(0,h.Z)(function*(v){yield function Y_(i,e){return op.apply(this,arguments)}(o.yc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}dc(e){const n=Pf();if(!xf.V(n))throw new Nt(At.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=oh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xf(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class pp{initialize(e,n){var o=this;return(0,h.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Qf(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=xd.bind(null,o.syncEngine),yield Id(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gf}createDatastore(e){const n=Nc(e.databaseInfo.databaseId),o=new cy(e.databaseInfo);return new kg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,f=A=>Qf(this.syncEngine,A,0),v=Of.V()?new Of:new Og,new dy(n,o,l,f,v);var n,o,l,f,v}createSyncEngine(e,n){return function(o,l,f,v,A,W,Q){const ye=new z_(o,l,f,v,A,W);return Q&&(ye.ac=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(n){const o=fn(n);Kt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield kc(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function gp(i,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class im{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new _i,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,h.Z)(function*(){const n=yield e.bc();if(null===n)return null;const o=e.Ac.decode(n),l=Number(o);isNaN(l)&&e.Pc(`length string (${o}) is not valid number`);const f=yield e.vc(l);return new $_(JSON.parse(f),n.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,h.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const n=e.Vc();n<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}vc(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.Sc())&&n.Pc("Reached the end of bundle when more is expected.");const o=n.Ac.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ec.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class by{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Nt(At.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,h.Z)(function*(f,v){const A=fn(f),W=Gr(A.wt)+"/documents",Q={documents:v.map(Ut=>Rt(A.wt,Ut))},ye=yield A.ao("BatchGetDocuments",W,Q,v.length),We=new Map;ye.forEach(Ut=>{const Zt=function Zi(i,e){return"found"in e?function(n,o){Xn(!!o.found);const l=cn(n,o.found.name),f=pe(o.found.updateTime),v=new zn({mapValue:{fields:o.found.fields}});return vr.newFoundDocument(l,f,v)}(i,e):"missing"in e?function(n,o){Xn(!!o.missing),Xn(!!o.readTime);const l=cn(n,o.missing),f=pe(o.readTime);return vr.newNoDocument(l,f)}(i,e):Pn()}(A.wt,Ut);We.set(Zt.key.toString(),Zt)});const Dt=[];return v.forEach(Ut=>{const Zt=We.get(Ut.toString());Xn(!!Zt),Dt.push(Zt)}),Dt}),function(f,v){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const f=en.fromPath(l);e.mutations.push(new Ku(f,e.precondition(f)))}),yield(o=(0,h.Z)(function*(l,f){const v=fn(l),A=Gr(v.wt)+"/documents",W={writes:f.map(Q=>to(v.wt,Q))};yield v.ro("Commit",A,W)}),function(l,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Pn();n=er.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Nt(At.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?st.updateTime(n):st.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(er.min()))throw new Nt(At.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return st.updateTime(n)}return st.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wy{constructor(e,n,o,l,f){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=f,this.Dc=o.maxAttempts,this.So=new Rf(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,h.Z)(function*(){const n=new by(e.datastore),o=e.xc(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.Nc(f)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const n=this.updateFunction(e);return!Jo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!nd(n)}return!1}}class sm{constructor(e,n,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=wi.UNAUTHENTICATED,this.clientId=qo.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,h.Z)(function*(A){Kt("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Kt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Td(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function mp(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,h.Z)(function*(f){o.isEqual(f)||(yield Ef(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),yp.apply(this,arguments)}function Rl(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield _p(i);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>jf(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>jf(e.remoteStore,f)),i.onlineComponents=e}),Pd.apply(this,arguments)}function _p(i){return vp.apply(this,arguments)}function vp(){return vp=(0,h.Z)(function*(i){return i.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield mp(i,new fp)),i.offlineComponents}),vp.apply(this,arguments)}function Ep(i){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,h.Z)(function*(i){return i.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield Rl(i,new pp)),i.onlineComponents}),Dh.apply(this,arguments)}function om(i){return _p(i).then(e=>e.persistence)}function bp(i){return _p(i).then(e=>e.localStore)}function am(i){return Ep(i).then(e=>e.remoteStore)}function Rd(i){return Ep(i).then(e=>e.syncEngine)}function Hc(i){return wp.apply(this,arguments)}function wp(){return wp=(0,h.Z)(function*(i){const e=yield Ep(i),n=e.eventManager;return n.onListen=K_.bind(null,e.syncEngine),n.onUnlisten=Z_.bind(null,e.syncEngine),n}),wp.apply(this,arguments)}function Cp(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,f,v,A,W){const Q=new Th({next:We=>{f.enqueueAndForget(()=>Wg(l,ye));const Dt=We.docs.has(v);!Dt&&We.fromCache?W.reject(new Nt(At.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&We.fromCache&&A&&"server"===A.source?W.reject(new Nt(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(We)},error:We=>W.reject(We)}),ye=new _h(Bl(v.path),Q,{includeMetadataChanges:!0,Du:!0});return Dd(l,ye)}(yield Hc(i),i.asyncQueue,e,n,o)})),o.promise}function Dp(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,f,v,A,W){const Q=new Th({next:We=>{f.enqueueAndForget(()=>Wg(l,ye)),We.fromCache&&"server"===A.source?W.reject(new Nt(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(We)},error:We=>W.reject(We)}),ye=new _h(v,Q,{includeMetadataChanges:!0,Du:!0});return Dd(l,ye)}(yield Hc(i),i.asyncQueue,e,n,o)})),o.promise}const lm=new Map;function Ah(i,e,n){if(!n)throw new Nt(At.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ap(i,e,n,o){if(!0===e&&!0===o)throw new Nt(At.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Mp(i){if(!en.isDocumentKey(i))throw new Nt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xp(i){if(en.isDocumentKey(i))throw new Nt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $c(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Pn()}function Xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$c(i);throw new Nt(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Nd(i,e){if(e<=0)throw new Nt(At.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class kd{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ap("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uu{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1,e instanceof os?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Nt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(l.options.projectId)}(e))}get app(){if(!this._app)throw new Nt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ko;switch(n.type){case"gapi":const o=n.client;return Xn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Zo(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Nt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=lm.get(e);n&&(Kt("ComponentProvider","Removing Datastore"),lm.delete(e),n.terminate())}(this),Promise.resolve()}}function Cy(i,e,n,o={}){var l;const f=(i=Xr(i,uu))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&hs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=wi.MOCK_USER;else{v=(0,j.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new Nt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new wi(W)}i._authCredentials=new ha(new zo(v,A))}}class Ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Uo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Kl extends Uo{constructor(e,n,o){super(e,n,Bl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new en(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function Ty(i,e,...n){if(i=(0,j.m9)(i),Ah("collection","path",e),i instanceof uu){const o=fr.fromString(e,...n);return xp(o),new Kl(i,null,o)}{if(!(i instanceof Ms||i instanceof Kl))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...n));return xp(o),new Kl(i.firestore,null,o)}}function Ld(i,e){if(i=Xr(i,uu),Ah("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(At.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(i,null,(n=e,new dl(fr.emptyPath(),n)));var n}function um(i,e,...n){if(i=(0,j.m9)(i),1===arguments.length&&(e=qo.I()),Ah("doc","path",e),i instanceof uu){const o=fr.fromString(e,...n);return Mp(o),new Ms(i,null,new en(o))}{if(!(i instanceof Ms||i instanceof Kl))throw new Nt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fr.fromString(e,...n));return Mp(o),new Ms(i.firestore,i instanceof Kl?i.converter:null,new en(o))}}function ev(i,e){return i=(0,j.m9)(i),e=(0,j.m9)(e),(i instanceof Ms||i instanceof Kl)&&(e instanceof Ms||e instanceof Kl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function cm(i,e){return i=(0,j.m9)(i),e=(0,j.m9)(e),i instanceof Uo&&e instanceof Uo&&i.firestore===e.firestore&&qa(i._query,e._query)&&i.converter===e.converter}class tv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Rf(this,"async_queue_retry"),this.Kc=()=>{const n=ch();n&&Kt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=ch();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new _i;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,h.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(n){if(!Fo(n))throw n;Kt("AsyncQueue","Operation failed with retryable error: "+n)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,ki("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=n,n}enqueueAfterDelay(e,n,o){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const l=Cd.createAndSchedule(this,e,n,o,f=>this.Wc(f));return this.$c.push(l),l}Gc(){this.Bc&&Pn()}verifyOperationInProgress(){}zc(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.Oc,yield n}while(n!==e.Oc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function Op(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Dy{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Sy=-1;class xs extends uu{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new tv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hm(this),this._firestoreClient.terminate()}}function dm(i=(0,u.getApp)()){return(0,u._getProvider)(i,"firestore").getImmediate()}function qs(i){return i._firestoreClient||hm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function hm(i){var e;const n=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Qo(i._databaseId,f,i._persistenceKey,(A=n).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var f,A;i._firestoreClient=new sm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Pp(i,e){jc(i=Xr(i,xs));const n=qs(i),o=i._freezeSettings(),l=new pp;return fm(n,l,new rm(l,o.cacheSizeBytes,e?.forceOwnership))}function Ay(i){jc(i=Xr(i,xs));const e=qs(i),n=i._freezeSettings(),o=new pp;return fm(e,o,new Ey(o,n.cacheSizeBytes))}function fm(i,e,n){const o=new _i;return i.asyncQueue.enqueue((0,h.Z)(function*(){try{yield mp(i,n),yield Rl(i,e),o.resolve()}catch(l){const f=l;if(!("FirebaseError"===(v=f).name?v.code===At.FAILED_PRECONDITION||v.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var v})).then(()=>o.promise)}function My(i){if(i._initialized&&!i._terminated)throw new Nt(At.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return i._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(o){if(!To.V())return Promise.resolve();const l=o+"main";yield To.delete(l)}),function(o){return n.apply(this,arguments)})(oh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function xy(i){return function(e){const n=new _i;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function _y(i,e){return Ad.apply(this,arguments)}(yield Rd(e),n)})),n.promise}(qs(i=Xr(i,xs)))}function Oy(i){return function Sh(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield om(i),n=yield am(i);return e.setNetworkEnabled(!0),function(o){const l=fn(o);return l.lu.delete(0),sc(l)}(n)}))}(qs(i=Xr(i,xs)))}function Py(i){return function Ip(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield om(i),n=yield am(i);return e.setNetworkEnabled(!1),(o=(0,h.Z)(function*(l){const f=fn(l);f.lu.add(0),yield kc(f),f._u.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(qs(i=Xr(i,xs)))}function lc(i,e){const n=qs(i=Xr(i,xs)),o=new Dy;return function Sp(i,e,n,o){const l=function(f,v){let A;return A="string"==typeof f?(new TextEncoder).encode(f):f,W=function(W,Q){if(W instanceof Uint8Array)return gp(W,Q);if(W instanceof ArrayBuffer)return gp(new Uint8Array(W),Q);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new im(W,v);var W}(n,Nc(e));i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function hp(i,e,n){const o=fn(i);var l;(l=(0,h.Z)(function*(f,v,A){try{const W=yield v.getMetadata();if(yield function(Dt,Ut){const Zt=fn(Dt),Hn=pe(Ut.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",ur=>Zt.Ds.getBundleMetadata(ur,Ut.id)).then(ur=>!!ur&&ur.createTime.compareTo(Hn)>=0)}(f.localStore,W))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(Dt=W).totalDocuments,bytesLoaded:Dt.totalBytes,totalDocuments:Dt.totalDocuments,totalBytes:Dt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Zf(W));const Q=new j_(W,f.localStore,v.wt);let ye=yield v.fc();for(;ye;){const Dt=yield Q.Nu(ye);Dt&&A._updateProgress(Dt),ye=yield v.fc()}const We=yield Q.complete();return yield La(f,We.Mu,void 0),yield function(Dt,Ut){const Zt=fn(Dt);return Zt.persistence.runTransaction("Save bundle","readwrite",Hn=>Zt.Ds.saveBundleMetadata(Hn,Ut))}(f.localStore,W),A._completeWith(We.progress),Promise.resolve(We.Ou)}catch(W){return hs("SyncEngine",`Loading bundle failed with ${W}`),A._failWith(W),Promise.resolve(new Set)}var Dt}),function(f,v,A){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Rd(i),l,o)}))}(n,i._databaseId,e,o),o}function nv(i,e){return function X_(i,e){return i.asyncQueue.enqueue((0,h.Z)(function*(){return function(n,o){const l=fn(n);return l.persistence.runTransaction("Get named query","readonly",f=>l.Ds.getNamedQuery(f,o))}(yield bp(i),e)}))}(qs(i=Xr(i,xs)),e).then(n=>n?new Uo(i,null,n.query):null)}function jc(i){if(i._initialized||i._terminated)throw new Nt(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Nt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Me.fromBase64String(e))}catch(n){throw new Nt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zl(Me.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class uc{constructor(e){this._methodName=e}}class nl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Nt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Nt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ir(this._lat,e._lat)||Ir(this._long,e._long)}}const Fd=/^__.*__$/;class sa{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ya(e,this.data,n,this.fieldTransforms)}}class Ru{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class Sa{constructor(e,n,o,l,f,v){this.settings=e,this.databaseId=n,this.wt=o,this.ignoreUndefinedProperties=l,void 0===f&&this.Xc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Sa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.sa(e),l}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.ta({path:o,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Ph(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Vd(this.Zc)&&Fd.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Np{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=o||Nc(e)}aa(e,n,o,l=!1){return new Sa({Zc:e,methodName:n,ca:o,path:Ii.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function _l(i){const e=i._freezeSettings(),n=Nc(i._databaseId);return new Np(i._databaseId,!!e.ignoreUndefinedProperties,n)}function cu(i,e,n,o,l,f={}){const v=i.aa(f.merge||f.mergeFields?2:0,e,n,l);xh("Data must be an object, but it was:",v,o);const A=Lp(o,v);let W,Q;if(f.merge)W=new se(v.fieldMask),Q=v.fieldTransforms;else if(f.mergeFields){const ye=[];for(const We of f.mergeFields){const Dt=Oh(e,We,n);if(!v.contains(Dt))throw new Nt(At.INVALID_ARGUMENT,`Field '${Dt}' is specified in your field mask but missing from your input data.`);gm(ye,Dt)||ye.push(Dt)}W=new se(ye),Q=v.fieldTransforms.filter(We=>W.covers(We.field))}else W=null,Q=v.fieldTransforms;return new sa(new zn(A),W,Q)}class ql extends uc{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ql}}function cc(i,e,n){return new Sa({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Nu extends uc{_toFieldTransform(e){return new S(e.path,new Tl)}isEqual(e){return e instanceof Nu}}class Wc extends uc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=cc(this,e,!0),o=this.ha.map(f=>Lu(f,n)),l=new pl(o);return new S(e.path,l)}isEqual(e){return this===e}}class Gc extends uc{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=cc(this,e,!0),o=this.ha.map(f=>Lu(f,n)),l=new Dl(o);return new S(e.path,l)}isEqual(e){return this===e}}class zc extends uc{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new I(e.wt,ws(e.wt,this.la));return new S(e.path,n)}isEqual(e){return this===e}}function ku(i,e,n,o){const l=i.aa(1,e,n);xh("Data must be an object, but it was:",l,o);const f=[],v=zn.empty();es(o,(W,Q)=>{const ye=Ud(e,W,n);Q=(0,j.m9)(Q);const We=l.ia(ye);if(Q instanceof ql)f.push(ye);else{const Dt=Lu(Q,We);null!=Dt&&(f.push(ye),v.set(ye,Dt))}});const A=new se(f);return new Ru(v,A,l.fieldTransforms)}function Mh(i,e,n,o,l,f){const v=i.aa(1,e,n),A=[Oh(e,o,n)],W=[l];if(f.length%2!=0)throw new Nt(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Dt=0;Dt<f.length;Dt+=2)A.push(Oh(e,f[Dt])),W.push(f[Dt+1]);const Q=[],ye=zn.empty();for(let Dt=A.length-1;Dt>=0;--Dt)if(!gm(Q,A[Dt])){const Ut=A[Dt];let Zt=W[Dt];Zt=(0,j.m9)(Zt);const Hn=v.ia(Ut);if(Zt instanceof ql)Q.push(Ut);else{const ur=Lu(Zt,Hn);null!=ur&&(Q.push(Ut),ye.set(Ut,ur))}}const We=new se(Q);return new Ru(ye,We,v.fieldTransforms)}function kp(i,e,n,o=!1){return Lu(n,i.aa(o?4:3,e))}function Lu(i,e){if(Fp(i=(0,j.m9)(i)))return xh("Unsupported field value:",e,i),Lp(i,e);if(i instanceof uc)return function(n,o){if(!Vd(o.Zc))throw o.oa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,o){const l=[];let f=0;for(const v of n){let A=Lu(v,o.ra(f));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),f++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,j.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return ws(o.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=fi.fromDate(n);return{timestampValue:_(o.wt,l)}}if(n instanceof fi){const l=new fi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_(o.wt,l)}}if(n instanceof nl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zl)return{bytesValue:N(o.wt,n._byteString)};if(n instanceof Ms){const l=o.databaseId,f=n.firestore._databaseId;if(!f.isEqual(l))throw o.oa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xe(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.oa(`Unsupported field value: ${$c(n)}`)}(i,e)}function Lp(i,e){const n={};return so(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(o,l)=>{const f=Lu(l,e.ea(o));null!=f&&(n[o]=f)}),{mapValue:{fields:n}}}function Fp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof fi||i instanceof nl||i instanceof Zl||i instanceof Ms||i instanceof uc)}function xh(i,e,n){if(!Fp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=$c(n);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Oh(i,e,n){if((e=(0,j.m9)(e))instanceof Pu)return e._internalPath;if("string"==typeof e)return Ud(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const pm=new RegExp("[~\\*/\\[\\]]");function Ud(i,e,n){if(e.search(pm)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pu(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,o,l){const f=o&&!o.isEmpty(),v=void 0!==l;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let W="";return(f||v)&&(W+=" (found",f&&(W+=` in field ${o}`),v&&(W+=` in document ${l}`),W+=")"),new Nt(At.INVALID_ARGUMENT,A+i+W)}function gm(i,e){return i.some(n=>n.isEqual(e))}class Bd{constructor(e,n,o,l,f){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class mm extends Bd{data(){return super.data()}}function Rh(i,e){return"string"==typeof e?Ud(i,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}class Fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class du extends Bd{constructor(e,n,o,l,f,v){super(e,n,o,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Rh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class dc extends du{data(e={}){return super.data(e)}}class hc{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Fu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new dc(this._firestore,this._userDataWriter,o.key,o,new Fu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new dc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Fu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const A=new dc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Fu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let W=-1,Q=-1;return 0!==v.type&&(W=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),Q=f.indexOf(v.doc.key)),{type:Nh(v.type),doc:A,oldIndex:W,newIndex:Q}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Nh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}function kh(i,e){return i instanceof du&&e instanceof du?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof hc&&e instanceof hc&&i._firestore===e._firestore&&cm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Lh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}function Fh(i,...e){for(const n of e)i=n._apply(i);return i}class Vh extends Hd{constructor(e,n,o){super(),this.fa=e,this.da=n,this._a=o,this.type="where"}_apply(e){const n=_l(e.firestore),o=function(l,f,v,A,W,Q,ye){let We;if(W.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Gp(ye,Q);const Ut=[];for(const Zt of ye)Ut.push(Wp(A,l,Zt));We={arrayValue:{values:Ut}}}else We=Wp(A,l,ye)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Gp(ye,Q),We=kp(v,"where",ye,"in"===Q||"not-in"===Q);const Dt=fs.create(W,Q,We);return function(Ut,Zt){if(Zt.ht()){const ur=Xl(Ut);if(null!==ur&&!ur.isEqual(Zt.field))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ur.toString()}' and '${Zt.field.toString()}'`);const Gi=hl(Ut);null!==Gi&&Uh(0,Zt.field,Gi)}const Hn=function(ur,Gi){for(const Cs of ur.filters)if(Gi.indexOf(Cs.op)>=0)return Cs.op;return null}(Ut,function(ur){switch(ur){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Zt.op));if(null!==Hn)throw new Nt(At.INVALID_ARGUMENT,Hn===Zt.op?`Invalid query. You cannot use more than one '${Zt.op.toString()}' filter.`:`Invalid query. You cannot use '${Zt.op.toString()}' filters with '${Hn.toString()}' filters.`)}(l,Dt),Dt}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new Uo(e.firestore,e.converter,function(l,f){const v=l.filters.concat([f]);return new dl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function Vp(i,e,n){const o=e,l=Rh("where",i);return new Vh(l,o,n)}class ym extends Hd{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(o,l,f){if(null!==o.startAt)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Ul(l,f);return function(A,W){if(null===hl(A)){const Q=Xl(A);null!==Q&&Uh(0,Q,W.field)}}(o,v),v}(e._query,this.fa,this.wa);return new Uo(e.firestore,e.converter,function(o,l){const f=o.explicitOrderBy.concat([l]);return new dl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Up(i,e="asc"){const n=e,o=Rh("orderBy",i);return new ym(o,n)}class Bp extends Hd{constructor(e,n,o){super(),this.type=e,this.ma=n,this.ga=o}_apply(e){return new Uo(e.firestore,e.converter,Xc(e._query,this.ma,this.ga))}}function _m(i){return Nd("limit",i),new Bp("limit",i,"F")}function Hp(i){return Nd("limitToLast",i),new Bp("limitToLast",i,"L")}class $p extends Hd{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=wm(e,this.type,this.ya,this.pa);return new Uo(e.firestore,e.converter,(l=n,new dl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function Ry(...i){return new $p("startAt",i,!0)}function vm(...i){return new $p("startAfter",i,!1)}class jp extends Hd{constructor(e,n,o){super(),this.type=e,this.ya=n,this.pa=o}_apply(e){const n=wm(e,this.type,this.ya,this.pa);return new Uo(e.firestore,e.converter,(l=n,new dl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Em(...i){return new jp("endBefore",i,!1)}function bm(...i){return new jp("endAt",i,!0)}function wm(i,e,n,o){if(n[0]=(0,j.m9)(n[0]),n[0]instanceof Bd)return function(l,f,v,A,W){if(!A)throw new Nt(At.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const Q=[];for(const ye of Hl(l))if(ye.field.isKeyField())Q.push(So(f,A.key));else{const We=A.data.field(ye.field);if(Qr(We))throw new Nt(At.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const Dt=ye.field.canonicalString();throw new Nt(At.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}Q.push(We)}return new ea(Q,W)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=_l(i.firestore);return function(f,v,A,W,Q,ye){const We=f.explicitOrderBy;if(Q.length>We.length)throw new Nt(At.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let Ut=0;Ut<Q.length;Ut++){const Zt=Q[Ut];if(We[Ut].field.isKeyField()){if("string"!=typeof Zt)throw new Nt(At.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Zt}`);if(!fl(f)&&-1!==Zt.indexOf("/"))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Zt}' contains a slash.`);const Hn=f.path.child(fr.fromString(Zt));if(!en.isDocumentKey(Hn))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Hn}' is not because it contains an odd number of segments.`);const ur=new en(Hn);Dt.push(So(v,ur))}else{const Hn=kp(A,W,Zt);Dt.push(Hn)}}return new ea(Dt,ye)}(i._query,i.firestore._databaseId,l,e,n,o)}}function Wp(i,e,n){if("string"==typeof(n=(0,j.m9)(n))){if(""===n)throw new Nt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fl(e)&&-1!==n.indexOf("/"))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(fr.fromString(n));if(!en.isDocumentKey(o))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return So(i,new en(o))}if(n instanceof Ms)return So(i,n._key);throw new Nt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(n)}.`)}function Gp(i,e){if(!Array.isArray(i)||0===i.length)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Nt(At.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Uh(i,e,n){if(!n.isEqual(e))throw new Nt(At.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const zp={maxAttempts:5};class Bh{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pn()}}convertObject(e,n){const o={};return es(e.fields,(l,f)=>{o[l]=this.convertValue(f,n)}),o}convertGeoPoint(e){return new nl(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ss(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const n=on(e);return new fi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=fr.fromString(e);Xn(dr(o));const l=new os(o.get(1),o.get(3)),f=new en(o.popFirst(5));return l.isEqual(n)||ki(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function $d(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Im extends Bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}class Kp{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_l(e)}set(e,n,o){this._verifyNotCommitted();const l=hu(e,this._firestore),f=$d(l.converter,n,o),v=cu(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,o);return this._mutations.push(v.toMutation(l._key,st.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const f=hu(e,this._firestore);let v;return v="string"==typeof(n=(0,j.m9)(n))||n instanceof Pu?Mh(this._dataReader,"WriteBatch.update",f._key,n,o,l):ku(this._dataReader,"WriteBatch.update",f._key,n),this._mutations.push(v.toMutation(f._key,st.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hu(e,this._firestore);return this._mutations=this._mutations.concat(new ka(n._key,st.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(At.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hu(i,e){if((i=(0,j.m9)(i)).firestore!==e)throw new Nt(At.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Cm(i){i=Xr(i,Ms);const e=Xr(i.firestore,xs);return Cp(qs(e),i._key).then(n=>Hh(e,i,n))}class Vu extends Bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function Tm(i){i=Xr(i,Ms);const e=Xr(i.firestore,xs),n=qs(e),o=new Vu(e);return function Iy(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,f,v){try{const A=yield function(W,Q){const ye=fn(W);return ye.persistence.runTransaction("read document","readonly",We=>ye.localDocuments.getDocument(We,Q))}(l,f);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new Nt(At.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const W=Td(A,`Failed to get document '${f} from cache`);v.reject(W)}}),function(l,f,v){return o.apply(this,arguments)})(yield bp(i),e,n);var o})),n.promise}(n,i._key).then(l=>new du(e,o,i._key,l,new Fu(null!==l&&l.hasLocalMutations,!0),i.converter))}function iv(i){i=Xr(i,Ms);const e=Xr(i.firestore,xs);return Cp(qs(e),i._key,{source:"server"}).then(n=>Hh(e,i,n))}function Ny(i){i=Xr(i,Uo);const e=Xr(i.firestore,xs),n=qs(e),o=new Vu(e);return Lh(i._query),Dp(n,i._query).then(l=>new hc(e,o,i,l))}function ky(i){i=Xr(i,Uo);const e=Xr(i.firestore,xs),n=qs(e),o=new Vu(e);return function Tp(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,f,v){try{const A=yield bf(l,f,!0),W=new vh(f,A.ji),Q=W.Ku(A.documents),ye=W.applyChanges(Q,!1);v.resolve(ye.snapshot)}catch(A){const W=Td(A,`Failed to execute query '${f} against cache`);v.reject(W)}}),function(l,f,v){return o.apply(this,arguments)})(yield bp(i),e,n);var o})),n.promise}(n,i._query).then(l=>new hc(e,o,i,l))}function Dm(i){i=Xr(i,Uo);const e=Xr(i.firestore,xs),n=qs(e),o=new Vu(e);return Dp(n,i._query,{source:"server"}).then(l=>new hc(e,o,i,l))}function Ly(i,e,n){i=Xr(i,Ms);const o=Xr(i.firestore,xs),l=$d(i.converter,e,n);return Kc(o,[cu(_l(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,st.none())])}function _o(i,e,n,...o){i=Xr(i,Ms);const l=Xr(i.firestore,xs),f=_l(l);let v;return v="string"==typeof(e=(0,j.m9)(e))||e instanceof Pu?Mh(f,"updateDoc",i._key,e,n,o):ku(f,"updateDoc",i._key,e),Kc(l,[v.toMutation(i._key,st.exists(!0))])}function Sm(i){return Kc(Xr(i.firestore,xs),[new ka(i._key,st.none())])}function Fy(i,e){const n=Xr(i.firestore,xs),o=um(i),l=$d(i.converter,e);return Kc(n,[cu(_l(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,st.exists(!1))]).then(()=>o)}function Vy(i,...e){var n,o,l;i=(0,j.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Op(e[v])||(f=e[v],v++);const A={includeMetadataChanges:f.includeMetadataChanges};if(Op(e[v])){const We=e[v];e[v]=null===(n=We.next)||void 0===n?void 0:n.bind(We),e[v+1]=null===(o=We.error)||void 0===o?void 0:o.bind(We),e[v+2]=null===(l=We.complete)||void 0===l?void 0:l.bind(We)}let W,Q,ye;if(i instanceof Ms)Q=Xr(i.firestore,xs),ye=Bl(i._key.path),W={next:We=>{e[v]&&e[v](Hh(Q,i,We))},error:e[v+1],complete:e[v+2]};else{const We=Xr(i,Uo);Q=Xr(We.firestore,xs),ye=We._query;const Dt=new Vu(Q);W={next:Ut=>{e[v]&&e[v](new hc(Q,Dt,We,Ut))},error:e[v+1],complete:e[v+2]},Lh(i._query)}return function(We,Dt,Ut,Zt){const Hn=new Th(Zt),ur=new _h(Dt,Hn,Ut);return We.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Dd(yield Hc(We),ur)})),()=>{Hn.Tc(),We.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Wg(yield Hc(We),ur)}))}}(qs(Q),ye,A,W)}function Am(i,e){return function Q_(i,e){const n=new Th(e);return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield Hc(i),l=n,fn(o).Tu.add(l),void l.next();var o,l})),()=>{n.Tc(),i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield Hc(i),l=n,void fn(o).Tu.delete(l);var o,l}))}}(qs(i=Xr(i,xs)),Op(e)?e:{next:e})}function Kc(i,e){return function(n,o){const l=new _i;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function q_(i,e,n){return zl.apply(this,arguments)}(yield Rd(n),o,l)})),l.promise}(qs(i),e)}function Hh(i,e,n){const o=n.docs.get(e._key),l=new Vu(i);return new du(i,l,e._key,o,new Fu(n.hasPendingWrites,n.fromCache),e.converter)}class Mm extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=_l(e)}get(e){const n=hu(e,this._firestore),o=new Im(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Pn();const f=l[0];if(f.isFoundDocument())return new Bd(this._firestore,o,f.key,f,n.converter);if(f.isNoDocument())return new Bd(this._firestore,o,n._key,null,n.converter);throw Pn()})}set(e,n,o){const l=hu(e,this._firestore),f=$d(l.converter,n,o),v=cu(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,o);return this._transaction.set(l._key,v),this}update(e,n,o,...l){const f=hu(e,this._firestore);let v;return v="string"==typeof(n=(0,j.m9)(n))||n instanceof Pu?Mh(this._dataReader,"Transaction.update",f._key,n,o,l):ku(this._dataReader,"Transaction.update",f._key,n),this._transaction.update(f._key,v),this}delete(e){const n=hu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=hu(e,this._firestore),o=new Vu(this._firestore);return super.get(e).then(l=>new du(this._firestore,o,n._key,l._document,new Fu(!1,!1),n.converter))}}function Zc(i,e,n){i=Xr(i,xs);const o=Object.assign(Object.assign({},zp),n);return function(l){if(l.maxAttempts<1)throw new Nt(At.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function J_(i,e,n){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const l=yield(f=i,Ep(f).then(v=>v.datastore));var f;new wy(i.asyncQueue,l,n,e,o).run()})),o.promise}(qs(i),l=>e(new Mm(i,l)),o)}function Uy(){return new ql("deleteField")}function By(){return new Nu("serverTimestamp")}function xm(...i){return new Wc("arrayUnion",i)}function Hy(...i){return new Gc("arrayRemove",i)}function Om(i){return new zc("increment",i)}!function(i,e=!0){fo=u.SDK_VERSION,(0,u._registerComponent)(new k.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),f=new xs(l,new fa(n.getProvider("auth-internal")),new ja(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,u.registerVersion)(Lo,"3.4.13",i),(0,u.registerVersion)(Lo,"3.4.13","esm2017")}()},6961:(jt,Ke,M)=>{M.d(Ke,{$Y:()=>Wr,B0:()=>Ho,FN:()=>ri,IX:()=>Ye,Jt:()=>Hi,UJ:()=>Jt,Ym:()=>ms,a1:()=>Es,aF:()=>Ki,bm:()=>Fn,cF:()=>vs,g6:()=>_s,gE:()=>Ue,gH:()=>he,iH:()=>ys,oq:()=>Hs,pb:()=>Yi,qm:()=>xn,sd:()=>cs,y4:()=>dt});var h=M(5861),u=M(9681),k=M(2090),fe=M(4859);const j="firebasestorage.googleapis.com",J="storageBucket";class oe extends k.ZR{constructor(Y,we){super(K(Y),`Firebase Storage: ${we} (${K(Y)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oe.prototype)}_codeEquals(Y){return K(Y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Y){this.customData.serverResponse=Y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function K(X){return"storage/"+X}function ne(){return new oe("unknown","An unknown error occurred, please check the error payload for server response.")}function Ne(){return new oe("canceled","User canceled the upload/download.")}function de(){return new oe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function he(X){return new oe("invalid-argument",X)}function ze(){return new oe("app-deleted","The Firebase app was deleted.")}function dt(X){return new oe("invalid-root-operation","The operation '"+X+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Be(X,Y){return new oe("invalid-format","String does not match format '"+X+"': "+Y)}function et(X){throw new oe("internal-error","Internal error: "+X)}class Ue{constructor(Y,we){this.bucket=Y,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Y=encodeURIComponent;return"/b/"+Y(this.bucket)+"/o/"+Y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Y,we){let Ve;try{Ve=Ue.makeFromUrl(Y,we)}catch{return new Ue(Y,"")}if(""===Ve.path)return Ve;throw function Lt(X){return new oe("invalid-default-bucket","Invalid default bucket '"+X+"'.")}(Y)}static makeFromUrl(Y,we){let Ve=null;const ut="([A-Za-z0-9.\\-_]+)",mn=new RegExp("^gs://"+ut+"(/(.*))?$","i");function Bn(rt){rt.path_=decodeURIComponent(rt.path)}const yr=we.replace(/[.]/g,"\\."),_t=[{regex:mn,indices:{bucket:1,path:3},postModify:function yt(rt){"/"===rt.path.charAt(rt.path.length-1)&&(rt.path_=rt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yr}/v[A-Za-z0-9_]+/b/${ut}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Bn},{regex:new RegExp(`^https?://${we===j?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${ut}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Bn}];for(let rt=0;rt<_t.length;rt++){const un=_t[rt],qn=un.regex.exec(Y);if(qn){let Fr=qn[un.indices.path];Fr||(Fr=""),Ve=new Ue(qn[un.indices.bucket],Fr),un.postModify(Ve);break}}if(null==Ve)throw function Oe(X){return new oe("invalid-url","Invalid URL '"+X+"'.")}(Y);return Ve}}class pt{constructor(Y){this.promise_=Promise.reject(Y)}getPromise(){return this.promise_}cancel(Y=!1){}}function lt(X){return"string"==typeof X||X instanceof String}function Pt(X){return _n()&&X instanceof Blob}function _n(){return typeof Blob<"u"}function wn(X,Y,we,Ve){if(Ve<Y)throw he(`Invalid value for '${X}'. Expected ${Y} or greater.`);if(Ve>we)throw he(`Invalid value for '${X}'. Expected ${we} or less.`)}function pn(X,Y,we){let Ve=Y;return null==we&&(Ve=`https://${Y}`),`${we}://${Ve}/v0${X}`}function En(X){const Y=encodeURIComponent;let we="?";for(const Ve in X)X.hasOwnProperty(Ve)&&(we=we+(Y(Ve)+"=")+Y(X[Ve])+"&");return we=we.slice(0,-1),we}var bn=(()=>{return(X=bn||(bn={}))[X.NO_ERROR=0]="NO_ERROR",X[X.NETWORK_ERROR=1]="NETWORK_ERROR",X[X.ABORT=2]="ABORT",bn;var X})();class Wn{constructor(Y,we,Ve,ut,yt,an,mn,yn,Bn,ar,yr){this.url_=Y,this.method_=we,this.headers_=Ve,this.body_=ut,this.successCodes_=yt,this.additionalRetryCodes_=an,this.callback_=mn,this.errorCallback_=yn,this.timeout_=Bn,this.progressCallback_=ar,this.connectionFactory_=yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ti,Lr)=>{this.resolve_=ti,this.reject_=Lr,this.start_()})}start_(){const we=(Ve,ut)=>{const yt=this.resolve_,an=this.reject_,mn=ut.connection;if(ut.wasSuccessCode)try{const yn=this.callback_(mn,mn.getResponse());!function at(X){return void 0!==X}(yn)?yt():yt(yn)}catch(yn){an(yn)}else if(null!==mn){const yn=ne();yn.serverResponse=mn.getErrorText(),an(this.errorCallback_?this.errorCallback_(mn,yn):yn)}else an(ut.canceled?this.appDelete_?ze():Ne():function tt(){return new oe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new Ar(!1,null,!0)):this.backoffId_=function nt(X,Y,we){let Ve=1,ut=null,yt=null,an=!1,mn=0;function yn(){return 2===mn}let Bn=!1;function ar(...U){Bn||(Bn=!0,Y.apply(null,U))}function yr(U){ut=setTimeout(()=>{ut=null,X(Lr,yn())},U)}function ti(){yt&&clearTimeout(yt)}function Lr(U,...ce){if(Bn)return void ti();if(U)return ti(),void ar.call(null,U,...ce);if(yn()||an)return ti(),void ar.call(null,U,...ce);let _t;Ve<64&&(Ve*=2),1===mn?(mn=2,_t=0):_t=1e3*(Ve+Math.random()),yr(_t)}let V=!1;function ie(U){V||(V=!0,ti(),!Bn&&(null!==ut?(U||(mn=2),clearTimeout(ut),yr(0)):U||(mn=1)))}return yr(0),yt=setTimeout(()=>{an=!0,ie(!0)},we),ie}((Ve,ut)=>{if(ut)return void Ve(!1,new Ar(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const an=mn=>{null!==this.progressCallback_&&this.progressCallback_(mn.loaded,mn.lengthComputable?mn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(an),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(an),this.pendingConnection_=null;const mn=yt.getErrorCode()===bn.NO_ERROR,yn=yt.getStatus();if(!mn||this.isRetryStatusCode_(yn)){const ar=yt.getErrorCode()===bn.ABORT;return void Ve(!1,new Ar(!1,null,ar))}const Bn=-1!==this.successCodes_.indexOf(yn);Ve(!0,new Ar(Bn,yt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(Y){this.canceled_=!0,this.appDelete_=Y||!1,null!==this.backoffId_&&function Ft(X){X(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(Y){const we=Y>=500&&Y<600,ut=-1!==[408,429].indexOf(Y),yt=-1!==this.additionalRetryCodes_.indexOf(Y);return we||ut||yt}}class Ar{constructor(Y,we,Ve){this.wasSuccessCode=Y,this.connection=we,this.canceled=!!Ve}}function sr(...X){const Y=function Jn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Y){const we=new Y;for(let Ve=0;Ve<X.length;Ve++)we.append(X[Ve]);return we.getBlob()}if(_n())return new Blob(X);throw new oe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vn{constructor(Y,we){this.data=Y,this.contentType=we||null}}function xn(X,Y){switch(X){case Fn.RAW:return new vn(br(Y));case Fn.BASE64:case Fn.BASE64URL:return new vn(Zn(X,Y));case Fn.DATA_URL:return new vn(function oi(X){const Y=new Tr(X);return Y.base64?Zn(Fn.BASE64,Y.rest):function zr(X){let Y;try{Y=decodeURIComponent(X)}catch{throw Be(Fn.DATA_URL,"Malformed data URL.")}return br(Y)}(Y.rest)}(Y),function kn(X){return new Tr(X).contentType}(Y))}throw ne()}function br(X){const Y=[];for(let we=0;we<X.length;we++){let Ve=X.charCodeAt(we);Ve<=127?Y.push(Ve):Ve<=2047?Y.push(192|Ve>>6,128|63&Ve):55296==(64512&Ve)?we<X.length-1&&56320==(64512&X.charCodeAt(we+1))?(Ve=65536|(1023&Ve)<<10|1023&X.charCodeAt(++we),Y.push(240|Ve>>18,128|Ve>>12&63,128|Ve>>6&63,128|63&Ve)):Y.push(239,191,189):56320==(64512&Ve)?Y.push(239,191,189):Y.push(224|Ve>>12,128|Ve>>6&63,128|63&Ve)}return new Uint8Array(Y)}function Zn(X,Y){switch(X){case Fn.BASE64:{const ut=-1!==Y.indexOf("-"),yt=-1!==Y.indexOf("_");if(ut||yt)throw Be(X,"Invalid character '"+(ut?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const ut=-1!==Y.indexOf("+"),yt=-1!==Y.indexOf("/");if(ut||yt)throw Be(X,"Invalid character '"+(ut?"+":"/")+"' found: is it base64 encoded?");Y=Y.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function Yn(X){return atob(X)}(Y)}catch{throw Be(X,"Invalid character found")}const Ve=new Uint8Array(we.length);for(let ut=0;ut<we.length;ut++)Ve[ut]=we.charCodeAt(ut);return Ve}class Tr{constructor(Y){this.base64=!1,this.contentType=null;const we=Y.match(/^data:([^,]+)?,/);if(null===we)throw Be(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ve=we[1]||null;null!=Ve&&(this.base64=function qt(X,Y){return X.length>=Y.length&&X.substring(X.length-Y.length)===Y}(Ve,";base64"),this.contentType=this.base64?Ve.substring(0,Ve.length-7):Ve),this.rest=Y.substring(Y.indexOf(",")+1)}}class Jt{constructor(Y,we){let Ve=0,ut="";Pt(Y)?(this.data_=Y,Ve=Y.size,ut=Y.type):Y instanceof ArrayBuffer?(we?this.data_=new Uint8Array(Y):(this.data_=new Uint8Array(Y.byteLength),this.data_.set(new Uint8Array(Y))),Ve=this.data_.length):Y instanceof Uint8Array&&(we?this.data_=Y:(this.data_=new Uint8Array(Y.length),this.data_.set(Y)),Ve=Y.length),this.size_=Ve,this.type_=ut}size(){return this.size_}type(){return this.type_}slice(Y,we){if(Pt(this.data_)){const ut=function nn(X,Y,we){return X.webkitSlice?X.webkitSlice(Y,we):X.mozSlice?X.mozSlice(Y,we):X.slice?X.slice(Y,we):null}(this.data_,Y,we);return null===ut?null:new Jt(ut)}{const Ve=new Uint8Array(this.data_.buffer,Y,we-Y);return new Jt(Ve,!0)}}static getBlob(...Y){if(_n()){const we=Y.map(Ve=>Ve instanceof Jt?Ve.data_:Ve);return new Jt(sr.apply(null,we))}{const we=Y.map(an=>lt(an)?xn(Fn.RAW,an).data:an.data_);let Ve=0;we.forEach(an=>{Ve+=an.byteLength});const ut=new Uint8Array(Ve);let yt=0;return we.forEach(an=>{for(let mn=0;mn<an.length;mn++)ut[yt++]=an[mn]}),new Jt(ut,!0)}}uploadData(){return this.data_}}function $r(X){let Y;try{Y=JSON.parse(X)}catch{return null}return function Et(X){return"object"==typeof X&&!Array.isArray(X)}(Y)?Y:null}function Mr(X){const Y=X.lastIndexOf("/",X.length-2);return-1===Y?X:X.slice(Y+1)}function or(X,Y){return Y}class Yt{constructor(Y,we,Ve,ut){this.server=Y,this.local=we||Y,this.writable=!!Ve,this.xform=ut||or}}let jn=null;function Pe(){if(jn)return jn;const X=[];X.push(new Yt("bucket")),X.push(new Yt("generation")),X.push(new Yt("metageneration")),X.push(new Yt("name","fullPath",!0));const we=new Yt("name");we.xform=function Y(yt,an){return function Ur(X){return!lt(X)||X.length<2?X:Mr(X)}(an)},X.push(we);const ut=new Yt("size");return ut.xform=function Ve(yt,an){return void 0!==an?Number(an):an},X.push(ut),X.push(new Yt("timeCreated")),X.push(new Yt("updated")),X.push(new Yt("md5Hash",null,!0)),X.push(new Yt("cacheControl",null,!0)),X.push(new Yt("contentDisposition",null,!0)),X.push(new Yt("contentEncoding",null,!0)),X.push(new Yt("contentLanguage",null,!0)),X.push(new Yt("contentType",null,!0)),X.push(new Yt("metadata","customMetadata",!0)),jn=X,jn}function L(X,Y,we){const Ve=$r(Y);return null===Ve?null:function ee(X,Y,we){const Ve={type:"file"},ut=we.length;for(let yt=0;yt<ut;yt++){const an=we[yt];Ve[an.local]=an.xform(Ve,Y[an.server])}return function ke(X,Y){Object.defineProperty(X,"ref",{get:function we(){const yt=new Ue(X.bucket,X.fullPath);return Y._makeStorageReference(yt)}})}(Ve,X),Ve}(X,Ve,we)}function De(X,Y){const we={},Ve=Y.length;for(let ut=0;ut<Ve;ut++){const yt=Y[ut];yt.writable&&(we[yt.server]=X[yt.local])}return JSON.stringify(we)}const ot="prefixes";class Dn{constructor(Y,we,Ve,ut){this.url=Y,this.method=we,this.handler=Ve,this.timeout=ut,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qe(X){if(!X)throw ne()}function Ce(X,Y){return function we(Ve,ut){const yt=L(X,ut,Y);return qe(null!==yt),yt}}function Bt(X){return function Y(we,Ve){let ut;return ut=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function Qe(){return new oe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ae(){return new oe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function Ge(X){return new oe("quota-exceeded","Quota for bucket '"+X+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(X.bucket):403===we.getStatus()?function wt(X){return new oe("unauthorized","User does not have permission to access '"+X+"'.")}(X.path):Ve,ut.serverResponse=Ve.serverResponse,ut}}function In(X){const Y=Bt(X);return function we(Ve,ut){let yt=Y(Ve,ut);return 404===Ve.getStatus()&&(yt=function ge(X){return new oe("object-not-found","Object '"+X+"' does not exist.")}(X.path)),yt.serverResponse=ut.serverResponse,yt}}function Mt(X,Y,we){const ut=pn(Y.fullServerUrl(),X.host,X._protocol),an=X.maxOperationRetryTime,mn=new Dn(ut,"GET",Ce(X,we),an);return mn.errorHandler=In(Y),mn}function sn(X,Y,we,Ve,ut){const yt={};yt.prefix=Y.isRoot?"":Y.path+"/",we&&we.length>0&&(yt.delimiter=we),Ve&&(yt.pageToken=Ve),ut&&(yt.maxResults=ut);const mn=pn(Y.bucketOnlyServerUrl(),X.host,X._protocol),Bn=X.maxOperationRetryTime,ar=new Dn(mn,"GET",function Se(X,Y){return function we(Ve,ut){const yt=function gn(X,Y,we){const Ve=$r(we);return null===Ve?null:function On(X,Y,we){const Ve={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[ot])for(const ut of we[ot]){const yt=ut.replace(/\/$/,""),an=X._makeStorageReference(new Ue(Y,yt));Ve.prefixes.push(an)}if(we.items)for(const ut of we.items){const yt=X._makeStorageReference(new Ue(Y,ut.name));Ve.items.push(yt)}return Ve}(X,Y,Ve)}(X,Y,ut);return qe(null!==yt),yt}}(X,Y.bucket),Bn);return ar.urlParams=yt,ar.errorHandler=Bt(Y),ar}function Xt(X,Y,we){const Ve=Object.assign({},we);return Ve.fullPath=X.path,Ve.size=Y.size(),Ve.contentType||(Ve.contentType=function xt(X,Y){return X&&X.contentType||Y&&Y.type()||"application/octet-stream"}(null,Y)),Ve}class Un{constructor(Y,we,Ve,ut){this.current=Y,this.total=we,this.finalized=!!Ve,this.metadata=ut||null}}function Sn(X,Y){let we=null;try{we=X.getResponseHeader("X-Goog-Upload-Status")}catch{qe(!1)}return qe(!!we&&-1!==(Y||["active"]).indexOf(we)),we}const ri={STATE_CHANGED:"state_changed"},Wr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ai(X){switch(X){case"running":case"pausing":case"canceling":return Wr.RUNNING;case"paused":return Wr.PAUSED;case"success":return Wr.SUCCESS;case"canceled":return Wr.CANCELED;default:return Wr.ERROR}}class ei{constructor(Y,we,Ve){if(function Ot(X){return"function"==typeof X}(Y)||null!=we||null!=Ve)this.next=Y,this.error=we??void 0,this.complete=Ve??void 0;else{const yt=Y;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function di(X){return(...Y)=>{Promise.resolve().then(()=>X(...Y))}}class Fi extends class kr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bn.NO_ERROR,this.sendPromise_=new Promise(Y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bn.ABORT,Y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bn.NETWORK_ERROR,Y()}),this.xhr_.addEventListener("load",()=>{Y()})})}send(Y,we,Ve,ut){if(this.sent_)throw et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,Y,!0),void 0!==ut)for(const yt in ut)ut.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,ut[yt].toString());return void 0!==Ve?this.xhr_.send(Ve):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Y){return this.xhr_.getResponseHeader(Y)}addUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Y)}removeUploadProgressListener(Y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Y)}}{initXhr(){this.xhr_.responseType="text"}}function Mi(){return new Fi}class Ye{constructor(Y,we,Ve=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Y,this._blob=we,this._metadata=Ve,this._mappings=Pe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ut=>{this._request=void 0,this._chunkMultiplier=1,ut._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ut,this._transition("error"))},this._metadataErrorHandler=ut=>{this._request=void 0,ut._codeEquals("canceled")?this.completeTransitions_():(this._error=ut,this._transition("error"))},this._promise=new Promise((ut,yt)=>{this._resolve=ut,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const Y=this._transferred;return we=>this._updateProgress(Y+we)}_shouldDoResumable(Y){return Y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(Y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Ve])=>{switch(this._state){case"running":Y(we,Ve);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Y,we)=>{const Ve=function jr(X,Y,we,Ve,ut){const yt=Y.bucketOnlyServerUrl(),an=Xt(Y,Ve,ut),mn={name:an.fullPath},yn=pn(yt,X.host,X._protocol),ar={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ve.size()}`,"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},yr=De(an,we),V=new Dn(yn,"POST",function Lr(ie){let U;Sn(ie);try{U=ie.getResponseHeader("X-Goog-Upload-URL")}catch{qe(!1)}return qe(lt(U)),U},X.maxUploadRetryTime);return V.urlParams=mn,V.headers=ar,V.body=yr,V.errorHandler=Bt(Y),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ve,Mi,Y,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Y=this._uploadUrl;this._resolveToken((we,Ve)=>{const ut=function pi(X,Y,we,Ve){const yn=new Dn(we,"POST",function yt(Bn){const ar=Sn(Bn,["active","final"]);let yr=null;try{yr=Bn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qe(!1)}yr||qe(!1);const ti=Number(yr);return qe(!isNaN(ti)),new Un(ti,Ve.size(),"final"===ar)},X.maxUploadRetryTime);return yn.headers={"X-Goog-Upload-Command":"query"},yn.errorHandler=Bt(Y),yn}(this._ref.storage,this._ref._location,Y,this._blob),yt=this._ref.storage._makeRequest(ut,Mi,we,Ve);this._request=yt,yt.getPromise().then(an=>{this._request=void 0,this._updateProgress(an.current),this._needToFetchStatus=!1,an.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Y=262144*this._chunkMultiplier,we=new Un(this._transferred,this._blob.size()),Ve=this._uploadUrl;this._resolveToken((ut,yt)=>{let an;try{an=function zi(X,Y,we,Ve,ut,yt,an,mn){const yn=new Un(0,0);if(an?(yn.current=an.current,yn.total=an.total):(yn.current=0,yn.total=Ve.size()),Ve.size()!==yn.total)throw function Ze(){return new oe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Bn=yn.total-yn.current;let ar=Bn;ut>0&&(ar=Math.min(ar,ut));const yr=yn.current,V={"X-Goog-Upload-Command":ar===Bn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${yn.current}`},ie=Ve.slice(yr,yr+ar);if(null===ie)throw de();const _t=new Dn(we,"POST",function U(rt,un){const qn=Sn(rt,["active","final"]),Kr=yn.current+ar,Fr=Ve.size();let wr;return wr="final"===qn?Ce(Y,yt)(rt,un):null,new Un(Kr,Fr,"final"===qn,wr)},Y.maxUploadRetryTime);return _t.headers=V,_t.body=ie.uploadData(),_t.progressCallback=mn||null,_t.errorHandler=Bt(X),_t}(this._ref._location,this._ref.storage,Ve,this._blob,Y,this._mappings,we,this._makeProgressCallback())}catch(yn){return this._error=yn,void this._transition("error")}const mn=this._ref.storage._makeRequest(an,Mi,ut,yt);this._request=mn,mn.getPromise().then(yn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(yn.current),yn.finalized?(this._metadata=yn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Y,we)=>{const Ve=Mt(this._ref.storage,this._ref._location,this._mappings),ut=this._ref.storage._makeRequest(Ve,Mi,Y,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Y,we)=>{const Ve=function Gn(X,Y,we,Ve,ut){const yt=Y.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},yn=function mn(){let _t="";for(let rt=0;rt<2;rt++)_t+=Math.random().toString().slice(2);return _t}();an["Content-Type"]="multipart/related; boundary="+yn;const Bn=Xt(Y,Ve,ut),ar=De(Bn,we),Lr=Jt.getBlob("--"+yn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ar+"\r\n--"+yn+"\r\nContent-Type: "+Bn.contentType+"\r\n\r\n",Ve,"\r\n--"+yn+"--");if(null===Lr)throw de();const V={name:Bn.fullPath},ie=pn(yt,X.host,X._protocol),ce=X.maxUploadRetryTime,He=new Dn(ie,"POST",Ce(X,we),ce);return He.urlParams=V,He.headers=an,He.body=Lr.uploadData(),He.errorHandler=Bt(Y),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(Ve,Mi,Y,we);this._request=ut,ut.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Y){const we=this._transferred;this._transferred=Y,this._transferred!==we&&this._notifyObservers()}_transition(Y){if(this._state!==Y)switch(Y){case"canceling":case"pausing":this._state=Y,void 0!==this._request&&this._request.cancel();break;case"running":const we="paused"===this._state;this._state=Y,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Y,this._notifyObservers();break;case"canceled":this._error=Ne(),this._state=Y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Y=Ai(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Y,metadata:this._metadata,task:this,ref:this._ref}}on(Y,we,Ve,ut){const yt=new ei(we||void 0,Ve||void 0,ut||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(Y,we){return this._promise.then(Y,we)}catch(Y){return this.then(null,Y)}_addObserver(Y){this._observers.push(Y),this._notifyObserver(Y)}_removeObserver(Y){const we=this._observers.indexOf(Y);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let Y=!0;switch(Ai(this._state)){case Wr.SUCCESS:di(this._resolve.bind(null,this.snapshot))();break;case Wr.CANCELED:case Wr.ERROR:di(this._reject.bind(null,this._error))();break;default:Y=!1}Y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Y){switch(Ai(this._state)){case Wr.RUNNING:case Wr.PAUSED:Y.next&&di(Y.next.bind(Y,this.snapshot))();break;case Wr.SUCCESS:Y.complete&&di(Y.complete.bind(Y))();break;default:Y.error&&di(Y.error.bind(Y,this._error))()}}resume(){const Y="paused"===this._state||"pausing"===this._state;return Y&&this._transition("running"),Y}pause(){const Y="running"===this._state;return Y&&this._transition("pausing"),Y}cancel(){const Y="running"===this._state||"pausing"===this._state;return Y&&this._transition("canceling"),Y}}class $e{constructor(Y,we){this._service=Y,this._location=we instanceof Ue?we:Ue.makeFromUrl(we,Y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Y,we){return new $e(Y,we)}get root(){const Y=new Ue(this._location.bucket,"");return this._newRef(this._service,Y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mr(this._location.path)}get storage(){return this._service}get parent(){const Y=function Nr(X){if(0===X.length)return null;const Y=X.lastIndexOf("/");return-1===Y?"":X.slice(0,Y)}(this._location.path);if(null===Y)return null;const we=new Ue(this._location.bucket,Y);return new $e(this._service,we)}_throwIfRoot(Y){if(""===this._location.path)throw dt(Y)}}function je(X,Y,we){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(X,Y,we){const ut=yield Wt(X,{pageToken:we});Y.prefixes.push(...ut.prefixes),Y.items.push(...ut.items),null!=ut.nextPageToken&&(yield je(X,Y,ut.nextPageToken))})).apply(this,arguments)}function Wt(X,Y){null!=Y&&"number"==typeof Y.maxResults&&wn("options.maxResults",1,1e3,Y.maxResults);const we=Y||{},Ve=sn(X.storage,X._location,"/",we.pageToken,we.maxResults);return X.storage.makeRequestWithTokens(Ve,Mi)}function Dr(X){X._throwIfRoot("getDownloadURL");const Y=function Re(X,Y,we){const ut=pn(Y.fullServerUrl(),X.host,X._protocol),an=X.maxOperationRetryTime,mn=new Dn(ut,"GET",function It(X,Y){return function we(Ve,ut){const yt=L(X,ut,Y);return qe(null!==yt),function z(X,Y,we,Ve){const ut=$r(Y);if(null===ut||!lt(ut.downloadTokens))return null;const yt=ut.downloadTokens;if(0===yt.length)return null;const an=encodeURIComponent;return yt.split(",").map(Bn=>{const yr=X.fullPath;return pn("/b/"+an(X.bucket)+"/o/"+an(yr),we,Ve)+En({alt:"media",token:Bn})})[0]}(yt,ut,X.host,X._protocol)}}(X,we),an);return mn.errorHandler=In(Y),mn}(X.storage,X._location,Pe());return X.storage.makeRequestWithTokens(Y,Mi).then(we=>{if(null===we)throw function Ie(){return new oe("no-download-url","The given file does not have any download URLs.")}();return we})}function Ti(X,Y){const we=function Tn(X,Y){const we=Y.split("/").filter(Ve=>Ve.length>0).join("/");return 0===X.length?we:X+"/"+we}(X._location.path,Y),Ve=new Ue(X._location.bucket,we);return new $e(X.storage,Ve)}function Ps(X,Y){if(X instanceof gs){const we=X;if(null==we._bucket)throw function Xe(){return new oe("no-default-bucket","No default bucket found. Did you set the '"+J+"' property when initializing the app?")}();const Ve=new $e(we,we._bucket);return null!=Y?Ps(Ve,Y):Ve}return void 0!==Y?Ti(X,Y):X}function Ts(X,Y){if(Y&&function hr(X){return/^[A-Za-z]+:\/\//.test(X)}(Y)){if(X instanceof gs)return function ui(X,Y){return new $e(X,Y)}(X,Y);throw he("To use ref(service, url), the first argument must be a Storage instance.")}return Ps(X,Y)}function Rs(X,Y){const we=Y?.[J];return null==we?null:Ue.makeFromBucketSpec(we,X)}class gs{constructor(Y,we,Ve,ut,yt){this.app=Y,this._authProvider=we,this._appCheckProvider=Ve,this._url=ut,this._firebaseVersion=yt,this._bucket=null,this._host=j,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ut?Ue.makeFromBucketSpec(ut,this._host):Rs(this._host,this.app.options)}get host(){return this._host}set host(Y){this._host=Y,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,Y):Rs(Y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Y){wn("time",0,Number.POSITIVE_INFINITY,Y),this._maxUploadRetryTime=Y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Y){wn("time",0,Number.POSITIVE_INFINITY,Y),this._maxOperationRetryTime=Y}_getAuthToken(){var Y=this;return(0,h.Z)(function*(){if(Y._overrideAuthToken)return Y._overrideAuthToken;const we=Y._authProvider.getImmediate({optional:!0});if(we){const Ve=yield we.getToken();if(null!==Ve)return Ve.accessToken}return null})()}_getAppCheckToken(){var Y=this;return(0,h.Z)(function*(){const we=Y._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Y=>Y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Y){return new $e(this,Y)}_makeRequest(Y,we,Ve,ut){if(this._deleted)return new pt(ze());{const yt=function Cr(X,Y,we,Ve,ut,yt){const an=En(X.urlParams),mn=X.url+an,yn=Object.assign({},X.headers);return function Yr(X,Y){Y&&(X["X-Firebase-GMPID"]=Y)}(yn,Y),function cr(X,Y){null!==Y&&Y.length>0&&(X.Authorization="Firebase "+Y)}(yn,we),function tn(X,Y){X["X-Firebase-Storage-Version"]="webjs/"+(Y??"AppManager")}(yn,yt),function $n(X,Y){null!==Y&&(X["X-Firebase-AppCheck"]=Y)}(yn,Ve),new Wn(mn,X.method,yn,X.body,X.successCodes,X.additionalRetryCodes,X.handler,X.errorHandler,X.timeout,X.progressCallback,ut)}(Y,this._appId,Ve,ut,we,this._firebaseVersion);return this._requests.add(yt),yt.getPromise().then(()=>this._requests.delete(yt),()=>this._requests.delete(yt)),yt}}makeRequestWithTokens(Y,we){var Ve=this;return(0,h.Z)(function*(){const[ut,yt]=yield Promise.all([Ve._getAuthToken(),Ve._getAppCheckToken()]);return Ve._makeRequest(Y,we,ut,yt).getPromise()})()}}const Bs="@firebase/storage",Ns="storage";function Ho(X,Y,we){return function dn(X,Y,we){return X._throwIfRoot("uploadBytesResumable"),new Ye(X,new Jt(Y),we)}(X=(0,k.m9)(X),Y,we)}function cs(X){return function rn(X){X._throwIfRoot("getMetadata");const Y=Mt(X.storage,X._location,Pe());return X.storage.makeRequestWithTokens(Y,Mi)}(X=(0,k.m9)(X))}function ms(X,Y){return function rr(X,Y){X._throwIfRoot("updateMetadata");const we=function ve(X,Y,we,Ve){const yt=pn(Y.fullServerUrl(),X.host,X._protocol),mn=De(we,Ve),Bn=X.maxOperationRetryTime,ar=new Dn(yt,"PATCH",Ce(X,Ve),Bn);return ar.headers={"Content-Type":"application/json; charset=utf-8"},ar.body=mn,ar.errorHandler=In(Y),ar}(X.storage,X._location,Y,Pe());return X.storage.makeRequestWithTokens(we,Mi)}(X=(0,k.m9)(X),Y)}function Yi(X,Y){return Wt(X=(0,k.m9)(X),Y)}function Ki(X){return function ct(X){const Y={prefixes:[],items:[]};return je(X,Y).then(()=>Y)}(X=(0,k.m9)(X))}function Hi(X){return Dr(X=(0,k.m9)(X))}function Hs(X){return function mr(X){X._throwIfRoot("deleteObject");const Y=function Fe(X,Y){const Ve=pn(Y.fullServerUrl(),X.host,X._protocol),mn=new Dn(Ve,"DELETE",function an(yn,Bn){},X.maxOperationRetryTime);return mn.successCodes=[200,204],mn.errorHandler=In(Y),mn}(X.storage,X._location);return X.storage.makeRequestWithTokens(Y,Mi)}(X=(0,k.m9)(X))}function ys(X,Y){return Ts(X=(0,k.m9)(X),Y)}function _s(X,Y){return Ti(X,Y)}function vs(X=(0,u.getApp)(),Y){return X=(0,k.m9)(X),(0,u._getProvider)(X,Ns).getImmediate({identifier:Y})}function Es(X,Y,we,Ve={}){!function Us(X,Y,we,Ve={}){X.host=`${Y}:${we}`,X._protocol="http";const{mockUserToken:ut}=Ve;ut&&(X._overrideAuthToken="string"==typeof ut?ut:(0,k.Sg)(ut,X.app.options.projectId))}(X,Y,we,Ve)}function Br(X,{instanceIdentifier:Y}){const we=X.getProvider("app").getImmediate(),Ve=X.getProvider("auth-internal"),ut=X.getProvider("app-check-internal");return new gs(we,Ve,ut,Y,u.SDK_VERSION)}!function ai(){(0,u._registerComponent)(new fe.wA(Ns,Br,"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(Bs,"0.9.9",""),(0,u.registerVersion)(Bs,"0.9.9","esm2017")}()},2090:(jt,Ke,M)=>{M.d(Ke,{$s:()=>or,BH:()=>Ge,G6:()=>he,L:()=>Z,LL:()=>nt,Mn:()=>Ze,Sg:()=>Ae,UG:()=>tt,US:()=>J,ZB:()=>ne,ZR:()=>pt,b$:()=>Lt,d:()=>Xe,eu:()=>dt,hl:()=>ze,jU:()=>Ne,m9:()=>Ur,ne:()=>nn,pd:()=>Jn,r3:()=>En,ru:()=>Oe,tV:()=>oe,uI:()=>wt,vZ:()=>cr,w1:()=>de,xO:()=>$n,xb:()=>Wn,z$:()=>Qe,zI:()=>Be,zd:()=>Cr});const fe=function(Pe){const ke=[];let ee=0;for(let L=0;L<Pe.length;L++){let z=Pe.charCodeAt(L);z<128?ke[ee++]=z:z<2048?(ke[ee++]=z>>6|192,ke[ee++]=63&z|128):55296==(64512&z)&&L+1<Pe.length&&56320==(64512&Pe.charCodeAt(L+1))?(z=65536+((1023&z)<<10)+(1023&Pe.charCodeAt(++L)),ke[ee++]=z>>18|240,ke[ee++]=z>>12&63|128,ke[ee++]=z>>6&63|128,ke[ee++]=63&z|128):(ke[ee++]=z>>12|224,ke[ee++]=z>>6&63|128,ke[ee++]=63&z|128)}return ke},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,ke){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let z=0;z<Pe.length;z+=3){const De=Pe[z],ot=z+1<Pe.length,zt=ot?Pe[z+1]:0,On=z+2<Pe.length,gn=On?Pe[z+2]:0;let Ce=(15&zt)<<2|gn>>6,Se=63&gn;On||(Se=64,ot||(Ce=64)),L.push(ee[De>>2],ee[(3&De)<<4|zt>>4],ee[Ce],ee[Se])}return L.join("")},encodeString(Pe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?btoa(Pe):this.encodeByteArray(fe(Pe),ke)},decodeString(Pe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?atob(Pe):function(Pe){const ke=[];let ee=0,L=0;for(;ee<Pe.length;){const z=Pe[ee++];if(z<128)ke[L++]=String.fromCharCode(z);else if(z>191&&z<224){const De=Pe[ee++];ke[L++]=String.fromCharCode((31&z)<<6|63&De)}else if(z>239&&z<365){const On=((7&z)<<18|(63&Pe[ee++])<<12|(63&Pe[ee++])<<6|63&Pe[ee++])-65536;ke[L++]=String.fromCharCode(55296+(On>>10)),ke[L++]=String.fromCharCode(56320+(1023&On))}else{const De=Pe[ee++],ot=Pe[ee++];ke[L++]=String.fromCharCode((15&z)<<12|(63&De)<<6|63&ot)}}return ke.join("")}(this.decodeStringToByteArray(Pe,ke))},decodeStringToByteArray(Pe,ke){this.init_();const ee=ke?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let z=0;z<Pe.length;){const De=ee[Pe.charAt(z++)],zt=z<Pe.length?ee[Pe.charAt(z)]:0;++z;const gn=z<Pe.length?ee[Pe.charAt(z)]:64;++z;const qe=z<Pe.length?ee[Pe.charAt(z)]:64;if(++z,null==De||null==zt||null==gn||null==qe)throw Error();L.push(De<<2|zt>>4),64!==gn&&(L.push(zt<<4&240|gn>>2),64!==qe&&L.push(gn<<6&192|qe))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}},Z=function(Pe){return function(Pe){const ke=fe(Pe);return J.encodeByteArray(ke,!0)}(Pe).replace(/\./g,"")},oe=function(Pe){try{return J.decodeString(Pe,!0)}catch(ke){console.error("base64Decode failed: ",ke)}return null};function ne(Pe,ke){if(!(ke instanceof Object))return ke;switch(ke.constructor){case Date:return new Date(ke.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return ke}for(const ee in ke)!ke.hasOwnProperty(ee)||!ge(ee)||(Pe[ee]=ne(Pe[ee],ke[ee]));return Pe}function ge(Pe){return"__proto__"!==Pe}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ke,ee)=>{this.resolve=ke,this.reject=ee})}wrapCallback(ke){return(ee,L)=>{ee?this.reject(ee):this.resolve(L),"function"==typeof ke&&(this.promise.catch(()=>{}),1===ke.length?ke(ee):ke(ee,L))}}}function Ae(Pe,ke){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=ke||"demo-project",z=Pe.iat||0,De=Pe.sub||Pe.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:z,exp:z+3600,auth_time:z,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(ot)),""].join(".")}function Qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function tt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function Oe(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return Qe().indexOf("Electron/")>=0}function de(){const Pe=Qe();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Ze(){return Qe().indexOf("MSAppHost/")>=0}function he(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function dt(){return new Promise((Pe,ke)=>{try{let ee=!0;const L="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(L);z.onsuccess=()=>{z.result.close(),ee||self.indexedDB.deleteDatabase(L),Pe(!0)},z.onupgradeneeded=()=>{ee=!1},z.onerror=()=>{var De;ke((null===(De=z.error)||void 0===De?void 0:De.message)||"")}}catch(ee){ke(ee)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(ke,ee,L){super(ee),this.code=ke,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(ke,ee,L){this.service=ke,this.serviceName=ee,this.errors=L}create(ke,...ee){const L=ee[0]||{},z=`${this.service}/${ke}`,De=this.errors[ke],ot=De?function Ft(Pe,ke){return Pe.replace(at,(ee,L)=>{const z=ke[L];return null!=z?String(z):`<${L}?>`})}(De,L):"Error";return new pt(z,`${this.serviceName}: ${ot} (${z}).`,L)}}const at=/\{\$([^}]+)}/g;function En(Pe,ke){return Object.prototype.hasOwnProperty.call(Pe,ke)}function Wn(Pe){for(const ke in Pe)if(Object.prototype.hasOwnProperty.call(Pe,ke))return!1;return!0}function cr(Pe,ke){if(Pe===ke)return!0;const ee=Object.keys(Pe),L=Object.keys(ke);for(const z of ee){if(!L.includes(z))return!1;const De=Pe[z],ot=ke[z];if(tn(De)&&tn(ot)){if(!cr(De,ot))return!1}else if(De!==ot)return!1}for(const z of L)if(!ee.includes(z))return!1;return!0}function tn(Pe){return null!==Pe&&"object"==typeof Pe}function $n(Pe){const ke=[];for(const[ee,L]of Object.entries(Pe))Array.isArray(L)?L.forEach(z=>{ke.push(encodeURIComponent(ee)+"="+encodeURIComponent(z))}):ke.push(encodeURIComponent(ee)+"="+encodeURIComponent(L));return ke.length?"&"+ke.join("&"):""}function Cr(Pe){const ke={};return Pe.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[z,De]=L.split("=");ke[decodeURIComponent(z)]=decodeURIComponent(De)}}),ke}function Jn(Pe){const ke=Pe.indexOf("?");if(!ke)return"";const ee=Pe.indexOf("#",ke);return Pe.substring(ke,ee>0?ee:void 0)}function nn(Pe,ke){const ee=new Yn(Pe,ke);return ee.subscribe.bind(ee)}class Yn{constructor(ke,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{ke(this)}).catch(L=>{this.error(L)})}next(ke){this.forEachObserver(ee=>{ee.next(ke)})}error(ke){this.forEachObserver(ee=>{ee.error(ke)}),this.close(ke)}complete(){this.forEachObserver(ke=>{ke.complete()}),this.close()}subscribe(ke,ee,L){let z;if(void 0===ke&&void 0===ee&&void 0===L)throw new Error("Missing Observer.");z=function vn(Pe,ke){if("object"!=typeof Pe||null===Pe)return!1;for(const ee of ke)if(ee in Pe&&"function"==typeof Pe[ee])return!0;return!1}(ke,["next","error","complete"])?ke:{next:ke,error:ee,complete:L},void 0===z.next&&(z.next=xn),void 0===z.error&&(z.error=xn),void 0===z.complete&&(z.complete=xn);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),De}unsubscribeOne(ke){void 0===this.observers||void 0===this.observers[ke]||(delete this.observers[ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ke){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,ke)}sendOne(ke,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ke])try{ee(this.observers[ke])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(ke){this.finalized||(this.finalized=!0,void 0!==ke&&(this.finalError=ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function or(Pe,ke=1e3,ee=2){const L=ke*Math.pow(ee,Pe),z=Math.round(.5*L*(Math.random()-.5)*2);return Math.min(144e5,L+z)}function Ur(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},8737:(jt,Ke,M)=>{M.d(Ke,{D:()=>h});var h=(()=>{return(u=h||(h={})).Cat="Cat",u.Dog="Dog",u.Bird="Bird",u.Fish="Fish",h;var u})()},6981:(jt,Ke,M)=>{M.d(Ke,{H:()=>u,P:()=>h});var h=(()=>{return(k=h||(h={})).Supplies="Supplies",k.Accessories="Accessories",k.Toys="Toys",k.Litter="Litter",k.Grooming="Grooming",h;var k})(),u=(()=>{return(k=u||(u={})).Josera="Josera",k.RoyalCanin="Royal Canin",k.Belcando="Belcando",k.OmniGuard="Omni Guard",k.Bewi="Bewi",k.PetMatter="Pet Matters",k.Nunbell="Nunbell",k.Alpha="Alpha",k.Perfecto="Perfecto",k.Quiko="Quiko",k.Georplast="Georplast",k.GiGwi="GiGwi",k.Ariika="Ariika",k.PetsRepublic="Pets Republic",k.WonderCat="Wonder Cat",k.RoseFishFood="Rose Fish Food",u;var k})()},7556:(jt,Ke,M)=>{M.d(Ke,{e:()=>J});var h=M(4004),u=M(4382),k=M(4650),fe=M(1205),j=M(6185);let J=(()=>{class te{constructor(oe,K){this._fireAuth=oe,this._fireStore=K}register(oe,K){return this._fireAuth.createUserWithEmailAndPassword(oe,K)}saveUserToFireStore(oe){return this._fireStore.collection(u.X.Users).doc(oe.id).set(oe)}removeUserFromFireStore(oe){return this._fireStore.collection(u.X.Users).doc(oe).delete()}removeUser(){return this._fireAuth.currentUser.then(oe=>oe?.delete())}changePassword(oe){return this._fireAuth.sendPasswordResetEmail(oe)}fetchUserProfile(oe){return this._fireStore.collection(u.X.Users).doc(oe).snapshotChanges().pipe((0,h.U)(K=>K.payload.data()))}login(oe,K){return this._fireAuth.signInWithEmailAndPassword(oe,K)}logout(){return new Promise((oe,K)=>{this._fireAuth.signOut().then(ne=>oe(ne),ne=>K(ne))})}}return te.\u0275fac=function(oe){return new(oe||te)(k.LFG(fe.zQ),k.LFG(j.ST))},te.\u0275prov=k.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},4382:(jt,Ke,M)=>{M.d(Ke,{X:()=>j,k:()=>fe});var h=M(3266),u=M(4650),k=M(6185);let fe=(()=>{class J{constructor(Z){this._fireStore=Z}generateID(){return this._fireStore.createId()}fetchAllStoreItems(){return this._fireStore.collection(j.Store).snapshotChanges()}fetchBlogPosts(){return this._fireStore.collection(j.Blog).snapshotChanges()}fetchAllAnimals(){return this._fireStore.collection(j.Pets).snapshotChanges()}fetchAllWishlistItems(Z){return this._fireStore.collection(j.Wishlist).doc(Z).snapshotChanges()}fetchUserCart(Z){return this._fireStore.collection(j.Cart).doc(Z).snapshotChanges()}checkWishlistDocExist(Z){return this._fireStore.collection(j.Wishlist).doc(Z).get()}checkCartDocExist(Z){return this._fireStore.collection(j.Cart).doc(Z).get()}addToWishlist(Z,oe,K){return K?this._fireStore.collection(j.Wishlist).doc(Z).update({[oe.id]:oe}):this._fireStore.collection(j.Wishlist).doc(Z).set({[oe.id]:oe})}removeFromWishlist(Z,oe){return this._fireStore.collection(j.Wishlist).doc(Z).update({[oe]:(0,h.AK)()})}addToCart(Z,oe,K){return K?this._fireStore.collection(j.Cart).doc(Z).update({[oe.id]:oe}):this._fireStore.collection(j.Cart).doc(Z).set({[oe.id]:oe})}removeFromCart(Z,oe){return this._fireStore.collection(j.Cart).doc(Z).update({[oe]:(0,h.AK)()})}updateCartItem(Z,oe){return this._fireStore.collection(j.Cart).doc(Z).update({[oe.id]:oe})}emptyCart(Z){return this._fireStore.collection(j.Cart).doc(Z).delete()}addAnimal(Z){return this._fireStore.collection(j.Pets).doc(Z.id).set(Z)}addReviewToProductItem(Z){return this._fireStore.collection(j.Store).doc(Z.id).update({reviews:Z.reviews})}}return J.\u0275fac=function(Z){return new(Z||J)(u.LFG(k.ST))},J.\u0275prov=u.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();var j=(()=>{return(J=j||(j={})).Users="/Users",J.Store="/Store",J.Blog="/Blog",J.Wishlist="/Wishlist",J.Cart="/Cart",J.Pets="/Pets",j;var J})()},4458:(jt,Ke,M)=>{M.d(Ke,{AW:()=>J,GC:()=>fe,Mw:()=>Z,N_:()=>k,Ut:()=>te,Xq:()=>K,_M:()=>oe,bd:()=>ge,h2:()=>ne,s3:()=>j,s9:()=>Ge,sL:()=>u});var h=M(6897);const u=(0,h.PH)("FILL_PRODUCTS",(0,h.Ky)()),k=(0,h.PH)("ADD_REVIEW",(0,h.Ky)()),fe=(0,h.PH)("RESET_PRODUCTS"),j=(0,h.PH)("ADD_TO_WISHLIST",(0,h.Ky)()),J=(0,h.PH)("REMOVE_FROM_WISHLIST",(0,h.Ky)()),te=(0,h.PH)("FILL_WISHLIST",(0,h.Ky)()),Z=(0,h.PH)("RESET_WISH_LIST"),oe=(0,h.PH)("FILL_CART",(0,h.Ky)()),K=(0,h.PH)("ADD_TO_CART",(0,h.Ky)()),ne=(0,h.PH)("REMOVE_FROM_CART",(0,h.Ky)()),ge=(0,h.PH)("UPDATE_CART_ITEM",(0,h.Ky)()),Ge=(0,h.PH)("RESET_CART")},7638:(jt,Ke,M)=>{var h=M(1481),u=M(4650),k=M(7340);function j(b){return new u.vHH(3e3,!1)}function En(){return typeof window<"u"&&typeof window.document<"u"}function bn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wn(b){switch(b.length){case 0:return new k.ZN;case 1:return b[0];default:return new k.ZE(b)}}function Ar(b,m,d,_,N=new Map,q=new Map){const pe=[],xe=[];let ft=-1,Rt=null;if(_.forEach(cn=>{const Vn=cn.get("offset"),Jr=Vn==ft,Gr=Jr&&Rt||new Map;cn.forEach((pr,Sr)=>{let ci=Sr,Zi=pr;if("offset"!==Sr)switch(ci=m.normalizePropertyName(ci,pe),Zi){case k.k1:Zi=N.get(Sr);break;case k.l3:Zi=q.get(Sr);break;default:Zi=m.normalizeStyleValue(Sr,ci,Zi,pe)}Gr.set(ci,Zi)}),Jr||xe.push(Gr),Rt=Gr,ft=Vn}),pe.length)throw function et(b){return new u.vHH(3502,!1)}();return xe}function cr(b,m,d,_){switch(m){case"start":b.onStart(()=>_(d&&tn(d,"start",b)));break;case"done":b.onDone(()=>_(d&&tn(d,"done",b)));break;case"destroy":b.onDestroy(()=>_(d&&tn(d,"destroy",b)))}}function tn(b,m,d){const q=Yr(b.element,b.triggerName,b.fromState,b.toState,m||b.phaseName,d.totalTime??b.totalTime,!!d.disabled),pe=b._data;return null!=pe&&(q._data=pe),q}function Yr(b,m,d,_,N="",q=0,pe){return{element:b,triggerName:m,fromState:d,toState:_,phaseName:N,totalTime:q,disabled:!!pe}}function $n(b,m,d){let _=b.get(m);return _||b.set(m,_=d),_}function Cr(b){const m=b.indexOf(":");return[b.substring(1,m),b.slice(m+1)]}let Jn=(b,m)=>!1,sr=(b,m,d)=>[],nn=null;function Yn(b){const m=b.parentNode||b.host;return m===nn?null:m}(bn()||typeof Element<"u")&&(En()?(nn=(()=>document.documentElement)(),Jn=(b,m)=>{for(;m;){if(m===b)return!0;m=Yn(m)}return!1}):Jn=(b,m)=>b.contains(m),sr=(b,m,d)=>{if(d)return Array.from(b.querySelectorAll(m));const _=b.querySelector(m);return _?[_]:[]});let xn=null,br=!1;const oi=Jn,kn=sr;let Jt=(()=>{class b{validateStyleProperty(d){return function zr(b){xn||(xn=function Tr(){return typeof document<"u"?document.body:null}()||{},br=!!xn.style&&"WebkitAppearance"in xn.style);let m=!0;return xn.style&&!function vn(b){return"ebkit"==b.substring(1,6)}(b)&&(m=b in xn.style,!m&&br&&(m="Webkit"+b.charAt(0).toUpperCase()+b.slice(1)in xn.style)),m}(d)}matchesElement(d,_){return!1}containsElement(d,_){return oi(d,_)}getParentElement(d){return Yn(d)}query(d,_,N){return kn(d,_,N)}computeStyle(d,_,N){return N||""}animate(d,_,N,q,pe,xe=[],ft){return new k.ZN(N,q)}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),$r=(()=>{class b{}return b.NOOP=new Jt,b})();const or="ng-enter",Yt="ng-leave",jn="ng-trigger",Ur=".ng-trigger",Pe="ng-animating",ke=".ng-animating";function ee(b){if("number"==typeof b)return b;const m=b.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:L(parseFloat(m[1]),m[2])}function L(b,m){return"s"===m?1e3*b:b}function z(b,m,d){return b.hasOwnProperty("duration")?b:function De(b,m,d){let N,q=0,pe="";if("string"==typeof b){const xe=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xe)return m.push(j()),{duration:0,delay:0,easing:""};N=L(parseFloat(xe[1]),xe[2]);const ft=xe[3];null!=ft&&(q=L(parseFloat(ft),xe[4]));const Rt=xe[5];Rt&&(pe=Rt)}else N=b;if(!d){let xe=!1,ft=m.length;N<0&&(m.push(function J(){return new u.vHH(3100,!1)}()),xe=!0),q<0&&(m.push(function te(){return new u.vHH(3101,!1)}()),xe=!0),xe&&m.splice(ft,0,j())}return{duration:N,delay:q,easing:pe}}(b,m,d)}function ot(b,m={}){return Object.keys(b).forEach(d=>{m[d]=b[d]}),m}function zt(b){const m=new Map;return Object.keys(b).forEach(d=>{m.set(d,b[d])}),m}function Dn(b,m=new Map,d){if(d)for(let[_,N]of d)m.set(_,N);for(let[_,N]of b)m.set(_,N);return m}function qe(b,m,d){return d?m+":"+d+";":""}function Ce(b){let m="";for(let d=0;d<b.style.length;d++){const _=b.style.item(d);m+=qe(0,_,b.style.getPropertyValue(_))}for(const d in b.style)b.style.hasOwnProperty(d)&&!d.startsWith("_")&&(m+=qe(0,xt(d),b.style[d]));b.setAttribute("style",m)}function Se(b,m,d){b.style&&(m.forEach((_,N)=>{const q=Fe(N);d&&!d.has(N)&&d.set(N,b.style[q]),b.style[q]=_}),bn()&&Ce(b))}function It(b,m){b.style&&(m.forEach((d,_)=>{const N=Fe(_);b.style[N]=""}),bn()&&Ce(b))}function Bt(b){return Array.isArray(b)?1==b.length?b[0]:(0,k.vP)(b):b}const Mt=new RegExp("{{\\s*(.+?)\\s*}}","g");function sn(b){let m=[];if("string"==typeof b){let d;for(;d=Mt.exec(b);)m.push(d[1]);Mt.lastIndex=0}return m}function Le(b,m,d){const _=b.toString(),N=_.replace(Mt,(q,pe)=>{let xe=m[pe];return null==xe&&(d.push(function oe(b){return new u.vHH(3003,!1)}()),xe=""),xe.toString()});return N==_?b:N}function Re(b){const m=[];let d=b.next();for(;!d.done;)m.push(d.value),d=b.next();return m}const ve=/-+([a-z0-9])/g;function Fe(b){return b.replace(ve,(...m)=>m[1].toUpperCase())}function xt(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Un(b,m,d){switch(m.type){case 7:return b.visitTrigger(m,d);case 0:return b.visitState(m,d);case 1:return b.visitTransition(m,d);case 2:return b.visitSequence(m,d);case 3:return b.visitGroup(m,d);case 4:return b.visitAnimate(m,d);case 5:return b.visitKeyframes(m,d);case 6:return b.visitStyle(m,d);case 8:return b.visitReference(m,d);case 9:return b.visitAnimateChild(m,d);case 10:return b.visitAnimateRef(m,d);case 11:return b.visitQuery(m,d);case 12:return b.visitStagger(m,d);default:throw function K(b){return new u.vHH(3004,!1)}()}}function Sn(b,m){return window.getComputedStyle(b)[m]}function di(b,m){const d=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(_=>function gi(b,m,d){if(":"==b[0]){const ft=function kr(b,m){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,_)=>parseFloat(_)>parseFloat(d);case":decrement":return(d,_)=>parseFloat(_)<parseFloat(d);default:return m.push(function he(b){return new u.vHH(3016,!1)}()),"* => *"}}(b,d);if("function"==typeof ft)return void m.push(ft);b=ft}const _=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return d.push(function Ie(b){return new u.vHH(3015,!1)}()),m;const N=_[1],q=_[2],pe=_[3];m.push(Vi(N,pe));"<"==q[0]&&!("*"==N&&"*"==pe)&&m.push(Vi(pe,N))}(_,d,m)):d.push(b),d}const Fi=new Set(["true","1"]),Mi=new Set(["false","0"]);function Vi(b,m){const d=Fi.has(b)||Mi.has(b),_=Fi.has(m)||Mi.has(m);return(N,q)=>{let pe="*"==b||b==N,xe="*"==m||m==q;return!pe&&d&&"boolean"==typeof N&&(pe=N?Fi.has(b):Mi.has(b)),!xe&&_&&"boolean"==typeof q&&(xe=q?Fi.has(m):Mi.has(m)),pe&&xe}}const Ci=new RegExp("s*:selfs*,?","g");function Ri(b,m,d,_){return new $e(b).build(m,d,_)}class $e{constructor(m){this._driver=m}build(m,d,_){const N=new $t(d);return this._resetContextStyleTimingState(N),Un(this,Bt(m),N)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,d){let _=d.queryCount=0,N=d.depCount=0;const q=[],pe=[];return"@"==m.name.charAt(0)&&d.errors.push(function ge(){return new u.vHH(3006,!1)}()),m.definitions.forEach(xe=>{if(this._resetContextStyleTimingState(d),0==xe.type){const ft=xe,Rt=ft.name;Rt.toString().split(/\s*,\s*/).forEach(cn=>{ft.name=cn,q.push(this.visitState(ft,d))}),ft.name=Rt}else if(1==xe.type){const ft=this.visitTransition(xe,d);_+=ft.queryCount,N+=ft.depCount,pe.push(ft)}else d.errors.push(function Ge(){return new u.vHH(3007,!1)}())}),{type:7,name:m.name,states:q,transitions:pe,queryCount:_,depCount:N,options:null}}visitState(m,d){const _=this.visitStyle(m.styles,d),N=m.options&&m.options.params||null;if(_.containsDynamicStyles){const q=new Set,pe=N||{};_.styles.forEach(xe=>{xe instanceof Map&&xe.forEach(ft=>{sn(ft).forEach(Rt=>{pe.hasOwnProperty(Rt)||q.add(Rt)})})}),q.size&&(Re(q.values()),d.errors.push(function Ae(b,m){return new u.vHH(3008,!1)}()))}return{type:0,name:m.name,style:_,options:N?{params:N}:null}}visitTransition(m,d){d.queryCount=0,d.depCount=0;const _=Un(this,Bt(m.animation),d);return{type:1,matchers:di(m.expr,d.errors),animation:_,queryCount:d.queryCount,depCount:d.depCount,options:ct(m.options)}}visitSequence(m,d){return{type:2,steps:m.steps.map(_=>Un(this,_,d)),options:ct(m.options)}}visitGroup(m,d){const _=d.currentTime;let N=0;const q=m.steps.map(pe=>{d.currentTime=_;const xe=Un(this,pe,d);return N=Math.max(N,d.currentTime),xe});return d.currentTime=N,{type:3,steps:q,options:ct(m.options)}}visitAnimate(m,d){const _=function _e(b,m){if(b.hasOwnProperty("duration"))return b;if("number"==typeof b)return je(z(b,m).duration,0,"");const d=b;if(d.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=je(0,0,"");return q.dynamic=!0,q.strValue=d,q}const N=z(d,m);return je(N.duration,N.delay,N.easing)}(m.timings,d.errors);d.currentAnimateTimings=_;let N,q=m.styles?m.styles:(0,k.oB)({});if(5==q.type)N=this.visitKeyframes(q,d);else{let pe=m.styles,xe=!1;if(!pe){xe=!0;const Rt={};_.easing&&(Rt.easing=_.easing),pe=(0,k.oB)(Rt)}d.currentTime+=_.duration+_.delay;const ft=this.visitStyle(pe,d);ft.isEmptyStep=xe,N=ft}return d.currentAnimateTimings=null,{type:4,timings:_,style:N,options:null}}visitStyle(m,d){const _=this._makeStyleAst(m,d);return this._validateStyleAst(_,d),_}_makeStyleAst(m,d){const _=[],N=Array.isArray(m.styles)?m.styles:[m.styles];for(let xe of N)"string"==typeof xe?xe===k.l3?_.push(xe):d.errors.push(new u.vHH(3002,!1)):_.push(zt(xe));let q=!1,pe=null;return _.forEach(xe=>{if(xe instanceof Map&&(xe.has("easing")&&(pe=xe.get("easing"),xe.delete("easing")),!q))for(let ft of xe.values())if(ft.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:_,easing:pe,offset:m.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(m,d){const _=d.currentAnimateTimings;let N=d.currentTime,q=d.currentTime;_&&q>0&&(q-=_.duration+_.delay),m.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((xe,ft)=>{const Rt=d.collectedStyles.get(d.currentQuerySelector),cn=Rt.get(ft);let Vn=!0;cn&&(q!=N&&q>=cn.startTime&&N<=cn.endTime&&(d.errors.push(function tt(b,m,d,_,N){return new u.vHH(3010,!1)}()),Vn=!1),q=cn.startTime),Vn&&Rt.set(ft,{startTime:q,endTime:N}),d.options&&function In(b,m,d){const _=m.params||{},N=sn(b);N.length&&N.forEach(q=>{_.hasOwnProperty(q)||d.push(function Z(b){return new u.vHH(3001,!1)}())})}(xe,d.options,d.errors)})})}visitKeyframes(m,d){const _={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Ne(){return new u.vHH(3011,!1)}()),_;let q=0;const pe=[];let xe=!1,ft=!1,Rt=0;const cn=m.steps.map(Zi=>{const Zs=this._makeStyleAst(Zi,d);let to=null!=Zs.offset?Zs.offset:function dn(b){if("string"==typeof b)return null;let m=null;if(Array.isArray(b))b.forEach(d=>{if(d instanceof Map&&d.has("offset")){const _=d;m=parseFloat(_.get("offset")),_.delete("offset")}});else if(b instanceof Map&&b.has("offset")){const d=b;m=parseFloat(d.get("offset")),d.delete("offset")}return m}(Zs.styles),no=0;return null!=to&&(q++,no=Zs.offset=to),ft=ft||no<0||no>1,xe=xe||no<Rt,Rt=no,pe.push(no),Zs});ft&&d.errors.push(function Oe(){return new u.vHH(3012,!1)}()),xe&&d.errors.push(function Lt(){return new u.vHH(3200,!1)}());const Vn=m.steps.length;let Jr=0;q>0&&q<Vn?d.errors.push(function Xe(){return new u.vHH(3202,!1)}()):0==q&&(Jr=1/(Vn-1));const Gr=Vn-1,pr=d.currentTime,Sr=d.currentAnimateTimings,ci=Sr.duration;return cn.forEach((Zi,Zs)=>{const to=Jr>0?Zs==Gr?1:Jr*Zs:pe[Zs],no=to*ci;d.currentTime=pr+Sr.delay+no,Sr.duration=no,this._validateStyleAst(Zi,d),Zi.offset=to,_.styles.push(Zi)}),_}visitReference(m,d){return{type:8,animation:Un(this,Bt(m.animation),d),options:ct(m.options)}}visitAnimateChild(m,d){return d.depCount++,{type:9,options:ct(m.options)}}visitAnimateRef(m,d){return{type:10,animation:this.visitReference(m.animation,d),options:ct(m.options)}}visitQuery(m,d){const _=d.currentQuerySelector,N=m.options||{};d.queryCount++,d.currentQuery=m;const[q,pe]=function gt(b){const m=!!b.split(/\s*,\s*/).find(d=>":self"==d);return m&&(b=b.replace(Ci,"")),b=b.replace(/@\*/g,Ur).replace(/@\w+/g,d=>Ur+"-"+d.slice(1)).replace(/:animating/g,ke),[b,m]}(m.selector);d.currentQuerySelector=_.length?_+" "+q:q,$n(d.collectedStyles,d.currentQuerySelector,new Map);const xe=Un(this,Bt(m.animation),d);return d.currentQuery=null,d.currentQuerySelector=_,{type:11,selector:q,limit:N.limit||0,optional:!!N.optional,includeSelf:pe,animation:xe,originalSelector:m.selector,options:ct(m.options)}}visitStagger(m,d){d.currentQuery||d.errors.push(function de(){return new u.vHH(3013,!1)}());const _="full"===m.timings?{duration:0,delay:0,easing:"full"}:z(m.timings,d.errors,!0);return{type:12,animation:Un(this,Bt(m.animation),d),timings:_,options:null}}}class $t{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ct(b){return b?(b=ot(b)).params&&(b.params=function St(b){return b?ot(b):null}(b.params)):b={},b}function je(b,m,d){return{duration:b,delay:m,easing:d}}function ht(b,m,d,_,N,q,pe=null,xe=!1){return{type:1,element:b,keyframes:m,preStyleProps:d,postStyleProps:_,duration:N,delay:q,totalTime:N+q,easing:pe,subTimeline:xe}}class Wt{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,d){let _=this._map.get(m);_||this._map.set(m,_=[]),_.push(...d)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Dr=new RegExp(":enter","g"),Ti=new RegExp(":leave","g");function hr(b,m,d,_,N,q=new Map,pe=new Map,xe,ft,Rt=[]){return(new ui).buildKeyframes(b,m,d,_,N,q,pe,xe,ft,Rt)}class ui{buildKeyframes(m,d,_,N,q,pe,xe,ft,Rt,cn=[]){Rt=Rt||new Wt;const Vn=new Ts(m,d,Rt,N,q,cn,[]);Vn.options=ft;const Jr=ft.delay?ee(ft.delay):0;Vn.currentTimeline.delayNextStep(Jr),Vn.currentTimeline.setStyles([pe],null,Vn.errors,ft),Un(this,_,Vn);const Gr=Vn.timelines.filter(pr=>pr.containsAnimation());if(Gr.length&&xe.size){let pr;for(let Sr=Gr.length-1;Sr>=0;Sr--){const ci=Gr[Sr];if(ci.element===d){pr=ci;break}}pr&&!pr.allowOnlyTimelineStyles()&&pr.setStyles([xe],null,Vn.errors,ft)}return Gr.length?Gr.map(pr=>pr.buildKeyframes()):[ht(d,[],[],[],0,Jr,"",!1)]}visitTrigger(m,d){}visitState(m,d){}visitTransition(m,d){}visitAnimateChild(m,d){const _=d.subInstructions.get(d.element);if(_){const N=d.createSubContext(m.options),q=d.currentTimeline.currentTime,pe=this._visitSubInstructions(_,N,N.options);q!=pe&&d.transformIntoNewTimeline(pe)}d.previousNode=m}visitAnimateRef(m,d){const _=d.createSubContext(m.options);_.transformIntoNewTimeline(),this.visitReference(m.animation,_),d.transformIntoNewTimeline(_.currentTimeline.currentTime),d.previousNode=m}_visitSubInstructions(m,d,_){let q=d.currentTimeline.currentTime;const pe=null!=_.duration?ee(_.duration):null,xe=null!=_.delay?ee(_.delay):null;return 0!==pe&&m.forEach(ft=>{const Rt=d.appendInstructionToTimeline(ft,pe,xe);q=Math.max(q,Rt.duration+Rt.delay)}),q}visitReference(m,d){d.updateOptions(m.options,!0),Un(this,m.animation,d),d.previousNode=m}visitSequence(m,d){const _=d.subContextCount;let N=d;const q=m.options;if(q&&(q.params||q.delay)&&(N=d.createSubContext(q),N.transformIntoNewTimeline(),null!=q.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Ps);const pe=ee(q.delay);N.delayNextStep(pe)}m.steps.length&&(m.steps.forEach(pe=>Un(this,pe,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>_&&N.transformIntoNewTimeline()),d.previousNode=m}visitGroup(m,d){const _=[];let N=d.currentTimeline.currentTime;const q=m.options&&m.options.delay?ee(m.options.delay):0;m.steps.forEach(pe=>{const xe=d.createSubContext(m.options);q&&xe.delayNextStep(q),Un(this,pe,xe),N=Math.max(N,xe.currentTimeline.currentTime),_.push(xe.currentTimeline)}),_.forEach(pe=>d.currentTimeline.mergeTimelineCollectedStyles(pe)),d.transformIntoNewTimeline(N),d.previousNode=m}_visitTiming(m,d){if(m.dynamic){const _=m.strValue;return z(d.params?Le(_,d.params,d.errors):_,d.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,d){const _=d.currentAnimateTimings=this._visitTiming(m.timings,d),N=d.currentTimeline;_.delay&&(d.incrementTime(_.delay),N.snapshotCurrentStyles());const q=m.style;5==q.type?this.visitKeyframes(q,d):(d.incrementTime(_.duration),this.visitStyle(q,d),N.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=m}visitStyle(m,d){const _=d.currentTimeline,N=d.currentAnimateTimings;!N&&_.hasCurrentStyleProperties()&&_.forwardFrame();const q=N&&N.easing||m.easing;m.isEmptyStep?_.applyEmptyStep(q):_.setStyles(m.styles,q,d.errors,d.options),d.previousNode=m}visitKeyframes(m,d){const _=d.currentAnimateTimings,N=d.currentTimeline.duration,q=_.duration,xe=d.createSubContext().currentTimeline;xe.easing=_.easing,m.styles.forEach(ft=>{xe.forwardTime((ft.offset||0)*q),xe.setStyles(ft.styles,ft.easing,d.errors,d.options),xe.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(xe),d.transformIntoNewTimeline(N+q),d.previousNode=m}visitQuery(m,d){const _=d.currentTimeline.currentTime,N=m.options||{},q=N.delay?ee(N.delay):0;q&&(6===d.previousNode.type||0==_&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Ps);let pe=_;const xe=d.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!N.optional,d.errors);d.currentQueryTotal=xe.length;let ft=null;xe.forEach((Rt,cn)=>{d.currentQueryIndex=cn;const Vn=d.createSubContext(m.options,Rt);q&&Vn.delayNextStep(q),Rt===d.element&&(ft=Vn.currentTimeline),Un(this,m.animation,Vn),Vn.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,Vn.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(pe),ft&&(d.currentTimeline.mergeTimelineCollectedStyles(ft),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=m}visitStagger(m,d){const _=d.parentContext,N=d.currentTimeline,q=m.timings,pe=Math.abs(q.duration),xe=pe*(d.currentQueryTotal-1);let ft=pe*d.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":ft=xe-ft;break;case"full":ft=_.currentStaggerTime}const cn=d.currentTimeline;ft&&cn.delayNextStep(ft);const Vn=cn.currentTime;Un(this,m.animation,d),d.previousNode=m,_.currentStaggerTime=N.currentTime-Vn+(N.startTime-_.currentTimeline.startTime)}}const Ps={};class Ts{constructor(m,d,_,N,q,pe,xe,ft){this._driver=m,this.element=d,this.subInstructions=_,this._enterClassName=N,this._leaveClassName=q,this.errors=pe,this.timelines=xe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ps,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ft||new Rs(this._driver,d,0),xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,d){if(!m)return;const _=m;let N=this.options;null!=_.duration&&(N.duration=ee(_.duration)),null!=_.delay&&(N.delay=ee(_.delay));const q=_.params;if(q){let pe=N.params;pe||(pe=this.options.params={}),Object.keys(q).forEach(xe=>{(!d||!pe.hasOwnProperty(xe))&&(pe[xe]=Le(q[xe],pe,this.errors))})}}_copyOptions(){const m={};if(this.options){const d=this.options.params;if(d){const _=m.params={};Object.keys(d).forEach(N=>{_[N]=d[N]})}}return m}createSubContext(m=null,d,_){const N=d||this.element,q=new Ts(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,_||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(m),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(m){return this.previousNode=Ps,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,d,_){const N={duration:d??m.duration,delay:this.currentTimeline.currentTime+(_??0)+m.delay,easing:""},q=new Us(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,N,m.stretchStartingKeyframe);return this.timelines.push(q),N}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,d,_,N,q,pe){let xe=[];if(N&&xe.push(this.element),m.length>0){m=(m=m.replace(Dr,"."+this._enterClassName)).replace(Ti,"."+this._leaveClassName);let Rt=this._driver.query(this.element,m,1!=_);0!==_&&(Rt=_<0?Rt.slice(Rt.length+_,Rt.length):Rt.slice(0,_)),xe.push(...Rt)}return!q&&0==xe.length&&pe.push(function Ze(b){return new u.vHH(3014,!1)}()),xe}}class Rs{constructor(m,d,_,N){this._driver=m,this.element=d,this.startTime=_,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+m),d&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,d){return this.applyStylesToKeyframe(),new Rs(this._driver,m,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,d){this._localTimelineStyles.set(m,d),this._globalTimelineStyles.set(m,d),this._styleSummary.set(m,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[d,_]of this._globalTimelineStyles)this._backFill.set(d,_||k.l3),this._currentKeyframe.set(d,k.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,d,_,N){d&&this._previousKeyframe.set("easing",d);const q=N&&N.params||{},pe=function Bs(b,m){const d=new Map;let _;return b.forEach(N=>{if("*"===N){_=_||m.keys();for(let q of _)d.set(q,k.l3)}else Dn(N,d)}),d}(m,this._globalTimelineStyles);for(let[xe,ft]of pe){const Rt=Le(ft,q,_);this._pendingStyles.set(xe,Rt),this._localTimelineStyles.has(xe)||this._backFill.set(xe,this._globalTimelineStyles.get(xe)??k.l3),this._updateStyle(xe,Rt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,d)=>{this._currentKeyframe.set(d,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,m)}))}snapshotCurrentStyles(){for(let[m,d]of this._localTimelineStyles)this._pendingStyles.set(m,d),this._updateStyle(m,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let d in this._currentKeyframe)m.push(d);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((d,_)=>{const N=this._styleSummary.get(_);(!N||d.time>N.time)&&this._updateStyle(_,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,d=new Set,_=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((xe,ft)=>{const Rt=Dn(xe,new Map,this._backFill);Rt.forEach((cn,Vn)=>{cn===k.k1?m.add(Vn):cn===k.l3&&d.add(Vn)}),_||Rt.set("offset",ft/this.duration),N.push(Rt)});const q=m.size?Re(m.values()):[],pe=d.size?Re(d.values()):[];if(_){const xe=N[0],ft=new Map(xe);xe.set("offset",0),ft.set("offset",1),N=[xe,ft]}return ht(this.element,N,q,pe,this.duration,this.startTime,this.easing,!1)}}class Us extends Rs{constructor(m,d,_,N,q,pe,xe=!1){super(m,d,pe.delay),this.keyframes=_,this.preStyleProps=N,this.postStyleProps=q,this._stretchStartingKeyframe=xe,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:d,duration:_,easing:N}=this.timings;if(this._stretchStartingKeyframe&&d){const q=[],pe=_+d,xe=d/pe,ft=Dn(m[0]);ft.set("offset",0),q.push(ft);const Rt=Dn(m[0]);Rt.set("offset",gs(xe)),q.push(Rt);const cn=m.length-1;for(let Vn=1;Vn<=cn;Vn++){let Jr=Dn(m[Vn]);const Gr=Jr.get("offset");Jr.set("offset",gs((d+Gr*_)/pe)),q.push(Jr)}_=pe,d=0,N="",m=q}return ht(this.element,m,this.preStyleProps,this.postStyleProps,_,d,N,!0)}}function gs(b,m=3){const d=Math.pow(10,m-1);return Math.round(b*d)/d}class Ns{}const xi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class co extends Ns{normalizePropertyName(m,d){return Fe(m)}normalizeStyleValue(m,d,_,N){let q="";const pe=_.toString().trim();if(xi.has(d)&&0!==_&&"0"!==_)if("number"==typeof _)q="px";else{const xe=_.match(/^[+-]?[\d\.]+([a-z]*)$/);xe&&0==xe[1].length&&N.push(function ne(b,m){return new u.vHH(3005,!1)}())}return pe+q}}function Ho(b,m,d,_,N,q,pe,xe,ft,Rt,cn,Vn,Jr){return{type:0,element:b,triggerName:m,isRemovalTransition:N,fromState:d,fromStyles:q,toState:_,toStyles:pe,timelines:xe,queriedElements:ft,preStyleProps:Rt,postStyleProps:cn,totalTime:Vn,errors:Jr}}const cs={};class ms{constructor(m,d,_){this._triggerName=m,this.ast=d,this._stateStyles=_}match(m,d,_,N){return function Ki(b,m,d,_,N){return b.some(q=>q(m,d,_,N))}(this.ast.matchers,m,d,_,N)}buildStyles(m,d,_){let N=this._stateStyles.get("*");return void 0!==m&&(N=this._stateStyles.get(m?.toString())||N),N?N.buildStyles(d,_):new Map}build(m,d,_,N,q,pe,xe,ft,Rt,cn){const Vn=[],Jr=this.ast.options&&this.ast.options.params||cs,pr=this.buildStyles(_,xe&&xe.params||cs,Vn),Sr=ft&&ft.params||cs,ci=this.buildStyles(N,Sr,Vn),Zi=new Set,Zs=new Map,to=new Map,no="void"===N,nu={params:Hi(Sr,Jr),delay:this.ast.options?.delay},xo=cn?[]:hr(m,d,this.ast.animation,q,pe,pr,ci,nu,Rt,Vn);let Oo=0;if(xo.forEach(Ml=>{Oo=Math.max(Ml.duration+Ml.delay,Oo)}),Vn.length)return Ho(d,this._triggerName,_,N,no,pr,ci,[],[],Zs,to,Oo,Vn);xo.forEach(Ml=>{const ml=Ml.element,Cc=$n(Zs,ml,new Set);Ml.preStyleProps.forEach(Ca=>Cc.add(Ca));const Yu=$n(to,ml,new Set);Ml.postStyleProps.forEach(Ca=>Yu.add(Ca)),ml!==d&&Zi.add(ml)});const gl=Re(Zi.values());return Ho(d,this._triggerName,_,N,no,pr,ci,xo,gl,Zs,to,Oo)}}function Hi(b,m){const d=ot(m);for(const _ in b)b.hasOwnProperty(_)&&null!=b[_]&&(d[_]=b[_]);return d}class Hs{constructor(m,d,_){this.styles=m,this.defaultParams=d,this.normalizer=_}buildStyles(m,d){const _=new Map,N=ot(this.defaultParams);return Object.keys(m).forEach(q=>{const pe=m[q];null!==pe&&(N[q]=pe)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((pe,xe)=>{pe&&(pe=Le(pe,N,d));const ft=this.normalizer.normalizePropertyName(xe,d);pe=this.normalizer.normalizeStyleValue(xe,ft,pe,d),_.set(ft,pe)})}),_}}class _s{constructor(m,d,_){this.name=m,this.ast=d,this._normalizer=_,this.transitionFactories=[],this.states=new Map,d.states.forEach(N=>{this.states.set(N.name,new Hs(N.style,N.options&&N.options.params||{},_))}),Es(this.states,"true","1"),Es(this.states,"false","0"),d.transitions.forEach(N=>{this.transitionFactories.push(new ms(m,N,this.states))}),this.fallbackTransition=function vs(b,m,d){return new ms(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,xe)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,d,_,N){return this.transitionFactories.find(pe=>pe.match(m,d,_,N))||null}matchStyles(m,d,_){return this.fallbackTransition.buildStyles(m,d,_)}}function Es(b,m,d){b.has(m)?b.has(d)||b.set(d,b.get(m)):b.has(d)&&b.set(m,b.get(d))}const $s=new Wt;class Qs{constructor(m,d,_){this.bodyNode=m,this._driver=d,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,d){const _=[],q=Ri(this._driver,d,_,[]);if(_.length)throw function Ue(b){return new u.vHH(3503,!1)}();this._animations.set(m,q)}_buildPlayer(m,d,_){const N=m.element,q=Ar(0,this._normalizer,0,m.keyframes,d,_);return this._driver.animate(N,q,m.duration,m.delay,m.easing,[],!0)}create(m,d,_={}){const N=[],q=this._animations.get(m);let pe;const xe=new Map;if(q?(pe=hr(this._driver,d,q,or,Yt,new Map,new Map,_,$s,N),pe.forEach(cn=>{const Vn=$n(xe,cn.element,new Map);cn.postStyleProps.forEach(Jr=>Vn.set(Jr,null))})):(N.push(function pt(){return new u.vHH(3300,!1)}()),pe=[]),N.length)throw function nt(b){return new u.vHH(3504,!1)}();xe.forEach((cn,Vn)=>{cn.forEach((Jr,Gr)=>{cn.set(Gr,this._driver.computeStyle(Vn,Gr,k.l3))})});const Rt=Wn(pe.map(cn=>{const Vn=xe.get(cn.element);return this._buildPlayer(cn,new Map,Vn)}));return this._playersById.set(m,Rt),Rt.onDestroy(()=>this.destroy(m)),this.players.push(Rt),Rt}destroy(m){const d=this._getPlayer(m);d.destroy(),this._playersById.delete(m);const _=this.players.indexOf(d);_>=0&&this.players.splice(_,1)}_getPlayer(m){const d=this._playersById.get(m);if(!d)throw function Ft(b){return new u.vHH(3301,!1)}();return d}listen(m,d,_,N){const q=Yr(d,"","","");return cr(this._getPlayer(m),_,q,N),()=>{}}command(m,d,_,N){if("register"==_)return void this.register(m,N[0]);if("create"==_)return void this.create(m,d,N[0]||{});const q=this._getPlayer(m);switch(_){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(m)}}}const Br="ng-animate-queued",X="ng-animate-disabled",ut=[],yt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},an={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mn="__ng_removed";class yn{constructor(m,d=""){this.namespaceId=d;const _=m&&m.hasOwnProperty("value");if(this.value=function ie(b){return b??null}(_?m.value:m),_){const q=ot(m);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const d=m.params;if(d){const _=this.options.params;Object.keys(d).forEach(N=>{null==_[N]&&(_[N]=d[N])})}}}const Bn="void",ar=new yn(Bn);class yr{constructor(m,d,_){this.id=m,this.hostElement=d,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,un(d,this._hostClassName)}listen(m,d,_,N){if(!this._triggers.has(d))throw function at(b,m){return new u.vHH(3302,!1)}();if(null==_||0==_.length)throw function Ot(b){return new u.vHH(3303,!1)}();if(!function ce(b){return"start"==b||"done"==b}(_))throw function Et(b,m){return new u.vHH(3400,!1)}();const q=$n(this._elementListeners,m,[]),pe={name:d,phase:_,callback:N};q.push(pe);const xe=$n(this._engine.statesByElement,m,new Map);return xe.has(d)||(un(m,jn),un(m,jn+"-"+d),xe.set(d,ar)),()=>{this._engine.afterFlush(()=>{const ft=q.indexOf(pe);ft>=0&&q.splice(ft,1),this._triggers.has(d)||xe.delete(d)})}}register(m,d){return!this._triggers.has(m)&&(this._triggers.set(m,d),!0)}_getTrigger(m){const d=this._triggers.get(m);if(!d)throw function lt(b){return new u.vHH(3401,!1)}();return d}trigger(m,d,_,N=!0){const q=this._getTrigger(d),pe=new Lr(this.id,d,m);let xe=this._engine.statesByElement.get(m);xe||(un(m,jn),un(m,jn+"-"+d),this._engine.statesByElement.set(m,xe=new Map));let ft=xe.get(d);const Rt=new yn(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&ft&&Rt.absorbOptions(ft.options),xe.set(d,Rt),ft||(ft=ar),Rt.value!==Bn&&ft.value===Rt.value){if(!function vi(b,m){const d=Object.keys(b),_=Object.keys(m);if(d.length!=_.length)return!1;for(let N=0;N<d.length;N++){const q=d[N];if(!m.hasOwnProperty(q)||b[q]!==m[q])return!1}return!0}(ft.params,Rt.params)){const Sr=[],ci=q.matchStyles(ft.value,ft.params,Sr),Zi=q.matchStyles(Rt.value,Rt.params,Sr);Sr.length?this._engine.reportError(Sr):this._engine.afterFlush(()=>{It(m,ci),Se(m,Zi)})}return}const Jr=$n(this._engine.playersByElement,m,[]);Jr.forEach(Sr=>{Sr.namespaceId==this.id&&Sr.triggerName==d&&Sr.queued&&Sr.destroy()});let Gr=q.matchTransition(ft.value,Rt.value,m,Rt.params),pr=!1;if(!Gr){if(!N)return;Gr=q.fallbackTransition,pr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:d,transition:Gr,fromState:ft,toState:Rt,player:pe,isFallbackTransition:pr}),pr||(un(m,Br),pe.onStart(()=>{qn(m,Br)})),pe.onDone(()=>{let Sr=this.players.indexOf(pe);Sr>=0&&this.players.splice(Sr,1);const ci=this._engine.playersByElement.get(m);if(ci){let Zi=ci.indexOf(pe);Zi>=0&&ci.splice(Zi,1)}}),this.players.push(pe),Jr.push(pe),pe}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(d=>d.delete(m)),this._elementListeners.forEach((d,_)=>{this._elementListeners.set(_,d.filter(N=>N.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const d=this._engine.playersByElement.get(m);d&&(d.forEach(_=>_.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,d){const _=this._engine.driver.query(m,Ur,!0);_.forEach(N=>{if(N[mn])return;const q=this._engine.fetchNamespacesByElement(N);q.size?q.forEach(pe=>pe.triggerLeaveAnimation(N,d,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(m,d,_,N){const q=this._engine.statesByElement.get(m),pe=new Map;if(q){const xe=[];if(q.forEach((ft,Rt)=>{if(pe.set(Rt,ft.value),this._triggers.has(Rt)){const cn=this.trigger(m,Rt,Bn,N);cn&&xe.push(cn)}}),xe.length)return this._engine.markElementAsRemoved(this.id,m,!0,d,pe),_&&Wn(xe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const d=this._elementListeners.get(m),_=this._engine.statesByElement.get(m);if(d&&_){const N=new Set;d.forEach(q=>{const pe=q.name;if(N.has(pe))return;N.add(pe);const ft=this._triggers.get(pe).fallbackTransition,Rt=_.get(pe)||ar,cn=new yn(Bn),Vn=new Lr(this.id,pe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:pe,transition:ft,fromState:Rt,toState:cn,player:Vn,isFallbackTransition:!0})})}}removeNode(m,d){const _=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,d),this.triggerLeaveAnimation(m,d,!0))return;let N=!1;if(_.totalAnimations){const q=_.players.length?_.playersByQueriedElement.get(m):[];if(q&&q.length)N=!0;else{let pe=m;for(;pe=pe.parentNode;)if(_.statesByElement.get(pe)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(m),N)_.markElementAsRemoved(this.id,m,!1,d);else{const q=m[mn];(!q||q===yt)&&(_.afterFlush(()=>this.clearElementCache(m)),_.destroyInnerAnimations(m),_._onRemovalComplete(m,d))}}insertNode(m,d){un(m,this._hostClassName)}drainQueuedTransitions(m){const d=[];return this._queue.forEach(_=>{const N=_.player;if(N.destroyed)return;const q=_.element,pe=this._elementListeners.get(q);pe&&pe.forEach(xe=>{if(xe.name==_.triggerName){const ft=Yr(q,_.triggerName,_.fromState.value,_.toState.value);ft._data=m,cr(_.player,xe.phase,ft,xe.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):d.push(_)}),this._queue=[],d.sort((_,N)=>{const q=_.transition.ast.depCount,pe=N.transition.ast.depCount;return 0==q||0==pe?q-pe:this._engine.driver.containsElement(_.element,N.element)?1:-1})}destroy(m){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let d=!1;return this._elementListeners.has(m)&&(d=!0),d=!!this._queue.find(_=>_.element===m)||d,d}}class ti{constructor(m,d,_){this.bodyNode=m,this.driver=d,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,q)=>{}}_onRemovalComplete(m,d){this.onRemovalComplete(m,d)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(d=>{d.players.forEach(_=>{_.queued&&m.push(_)})}),m}createNamespace(m,d){const _=new yr(m,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(_,d):(this.newHostElements.set(d,_),this.collectEnterElement(d)),this._namespaceLookup[m]=_}_balanceNamespaceList(m,d){const _=this._namespaceList,N=this.namespacesByHostElement;if(_.length-1>=0){let pe=!1,xe=this.driver.getParentElement(d);for(;xe;){const ft=N.get(xe);if(ft){const Rt=_.indexOf(ft);_.splice(Rt+1,0,m),pe=!0;break}xe=this.driver.getParentElement(xe)}pe||_.unshift(m)}else _.push(m);return N.set(d,m),m}register(m,d){let _=this._namespaceLookup[m];return _||(_=this.createNamespace(m,d)),_}registerTrigger(m,d,_){let N=this._namespaceLookup[m];N&&N.register(d,_)&&this.totalAnimations++}destroy(m,d){if(!m)return;const _=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[m];const N=this._namespaceList.indexOf(_);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>_.destroy(d))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const d=new Set,_=this.statesByElement.get(m);if(_)for(let N of _.values())if(N.namespaceId){const q=this._fetchNamespace(N.namespaceId);q&&d.add(q)}return d}trigger(m,d,_,N){if(U(d)){const q=this._fetchNamespace(m);if(q)return q.trigger(d,_,N),!0}return!1}insertNode(m,d,_,N){if(!U(d))return;const q=d[mn];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(d);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(m){const pe=this._fetchNamespace(m);pe&&pe.insertNode(d,_)}N&&this.collectEnterElement(d)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,d){d?this.disabledNodes.has(m)||(this.disabledNodes.add(m),un(m,X)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),qn(m,X))}removeNode(m,d,_,N){if(U(d)){const q=m?this._fetchNamespace(m):null;if(q?q.removeNode(d,N):this.markElementAsRemoved(m,d,!1,N),_){const pe=this.namespacesByHostElement.get(d);pe&&pe.id!==m&&pe.removeNode(d,N)}}else this._onRemovalComplete(d,N)}markElementAsRemoved(m,d,_,N,q){this.collectedLeaveElements.push(d),d[mn]={namespaceId:m,setForRemoval:N,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:q}}listen(m,d,_,N,q){return U(d)?this._fetchNamespace(m).listen(d,_,N,q):()=>{}}_buildInstruction(m,d,_,N,q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,_,N,m.fromState.options,m.toState.options,d,q)}destroyInnerAnimations(m){let d=this.driver.query(m,Ur,!0);d.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(m,ke,!0),d.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(m){const d=this.playersByElement.get(m);d&&d.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(m){const d=this.playersByQueriedElement.get(m);d&&d.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Wn(this.players).onDone(()=>m());m()})}processLeaveNode(m){const d=m[mn];if(d&&d.setForRemoval){if(m[mn]=yt,d.namespaceId){this.destroyInnerAnimations(m);const _=this._fetchNamespace(d.namespaceId);_&&_.clearElementCache(m)}this._onRemovalComplete(m,d.setForRemoval)}m.classList?.contains(X)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(m=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,N)=>this._balanceNamespaceList(_,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)un(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{d=this._flushAnimations(_,m)}finally{for(let N=0;N<_.length;N++)_[N]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],d.length?Wn(d).onDone(()=>{_.forEach(N=>N())}):_.forEach(N=>N())}}reportError(m){throw function Pt(b){return new u.vHH(3402,!1)}()}_flushAnimations(m,d){const _=new Wt,N=[],q=new Map,pe=[],xe=new Map,ft=new Map,Rt=new Map,cn=new Set;this.disabledNodes.forEach(Qn=>{cn.add(Qn);const gr=this.driver.query(Qn,".ng-animate-queued",!0);for(let dr=0;dr<gr.length;dr++)cn.add(gr[dr])});const Vn=this.bodyNode,Jr=Array.from(this.statesByElement.keys()),Gr=rt(Jr,this.collectedEnterElements),pr=new Map;let Sr=0;Gr.forEach((Qn,gr)=>{const dr=or+Sr++;pr.set(gr,dr),Qn.forEach(Pr=>un(Pr,dr))});const ci=[],Zi=new Set,Zs=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const gr=this.collectedLeaveElements[Qn],dr=gr[mn];dr&&dr.setForRemoval&&(ci.push(gr),Zi.add(gr),dr.hasAnimation?this.driver.query(gr,".ng-star-inserted",!0).forEach(Pr=>Zi.add(Pr)):Zs.add(gr))}const to=new Map,no=rt(Jr,Array.from(Zi));no.forEach((Qn,gr)=>{const dr=Yt+Sr++;to.set(gr,dr),Qn.forEach(Pr=>un(Pr,dr))}),m.push(()=>{Gr.forEach((Qn,gr)=>{const dr=pr.get(gr);Qn.forEach(Pr=>qn(Pr,dr))}),no.forEach((Qn,gr)=>{const dr=to.get(gr);Qn.forEach(Pr=>qn(Pr,dr))}),ci.forEach(Qn=>{this.processLeaveNode(Qn)})});const nu=[],xo=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(d).forEach(dr=>{const Pr=dr.player,Is=dr.element;if(nu.push(Pr),this.collectedEnterElements.length){const Po=Is[mn];if(Po&&Po.setForMove){if(Po.previousTriggersValues&&Po.previousTriggersValues.has(dr.triggerName)){const jl=Po.previousTriggersValues.get(dr.triggerName),Ta=this.statesByElement.get(dr.element);if(Ta&&Ta.has(dr.triggerName)){const Cu=Ta.get(dr.triggerName);Cu.value=jl,Ta.set(dr.triggerName,Cu)}}return void Pr.destroy()}}const Vo=!Vn||!this.driver.containsElement(Vn,Is),As=to.get(Is),$l=pr.get(Is),qi=this._buildInstruction(dr,_,$l,As,Vo);if(qi.errors&&qi.errors.length)return void xo.push(qi);if(Vo)return Pr.onStart(()=>It(Is,qi.fromStyles)),Pr.onDestroy(()=>Se(Is,qi.toStyles)),void N.push(Pr);if(dr.isFallbackTransition)return Pr.onStart(()=>It(Is,qi.fromStyles)),Pr.onDestroy(()=>Se(Is,qi.toStyles)),void N.push(Pr);const ld=[];qi.timelines.forEach(Po=>{Po.stretchStartingKeyframe=!0,this.disabledNodes.has(Po.element)||ld.push(Po)}),qi.timelines=ld,_.append(Is,qi.timelines),pe.push({instruction:qi,player:Pr,element:Is}),qi.queriedElements.forEach(Po=>$n(xe,Po,[]).push(Pr)),qi.preStyleProps.forEach((Po,jl)=>{if(Po.size){let Ta=ft.get(jl);Ta||ft.set(jl,Ta=new Set),Po.forEach((Cu,ud)=>Ta.add(ud))}}),qi.postStyleProps.forEach((Po,jl)=>{let Ta=Rt.get(jl);Ta||Rt.set(jl,Ta=new Set),Po.forEach((Cu,ud)=>Ta.add(ud))})});if(xo.length){const Qn=[];xo.forEach(gr=>{Qn.push(function wn(b,m){return new u.vHH(3505,!1)}())}),nu.forEach(gr=>gr.destroy()),this.reportError(Qn)}const Oo=new Map,gl=new Map;pe.forEach(Qn=>{const gr=Qn.element;_.has(gr)&&(gl.set(gr,gr),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Oo))}),N.forEach(Qn=>{const gr=Qn.element;this._getPreviousPlayers(gr,!1,Qn.namespaceId,Qn.triggerName,null).forEach(Pr=>{$n(Oo,gr,[]).push(Pr),Pr.destroy()})});const Ml=ci.filter(Qn=>ii(Qn,ft,Rt)),ml=new Map;_t(ml,this.driver,Zs,Rt,k.l3).forEach(Qn=>{ii(Qn,ft,Rt)&&Ml.push(Qn)});const Yu=new Map;Gr.forEach((Qn,gr)=>{_t(Yu,this.driver,new Set(Qn),ft,k.k1)}),Ml.forEach(Qn=>{const gr=ml.get(Qn),dr=Yu.get(Qn);ml.set(Qn,new Map([...Array.from(gr?.entries()??[]),...Array.from(dr?.entries()??[])]))});const Ca=[],ru=[],ad={};pe.forEach(Qn=>{const{element:gr,player:dr,instruction:Pr}=Qn;if(_.has(gr)){if(cn.has(gr))return dr.onDestroy(()=>Se(gr,Pr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(Pr.totalTime),void N.push(dr);let Is=ad;if(gl.size>1){let As=gr;const $l=[];for(;As=As.parentNode;){const qi=gl.get(As);if(qi){Is=qi;break}$l.push(As)}$l.forEach(qi=>gl.set(qi,Is))}const Vo=this._buildAnimation(dr.namespaceId,Pr,Oo,q,Yu,ml);if(dr.setRealPlayer(Vo),Is===ad)Ca.push(dr);else{const As=this.playersByElement.get(Is);As&&As.length&&(dr.parentPlayer=Wn(As)),N.push(dr)}}else It(gr,Pr.fromStyles),dr.onDestroy(()=>Se(gr,Pr.toStyles)),ru.push(dr),cn.has(gr)&&N.push(dr)}),ru.forEach(Qn=>{const gr=q.get(Qn.element);if(gr&&gr.length){const dr=Wn(gr);Qn.setRealPlayer(dr)}}),N.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<ci.length;Qn++){const gr=ci[Qn],dr=gr[mn];if(qn(gr,Yt),dr&&dr.hasAnimation)continue;let Pr=[];if(xe.size){let Vo=xe.get(gr);Vo&&Vo.length&&Pr.push(...Vo);let As=this.driver.query(gr,ke,!0);for(let $l=0;$l<As.length;$l++){let qi=xe.get(As[$l]);qi&&qi.length&&Pr.push(...qi)}}const Is=Pr.filter(Vo=>!Vo.destroyed);Is.length?Kr(this,gr,Is):this.processLeaveNode(gr)}return ci.length=0,Ca.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const gr=this.players.indexOf(Qn);this.players.splice(gr,1)}),Qn.play()}),Ca}elementContainsData(m,d){let _=!1;const N=d[mn];return N&&N.setForRemoval&&(_=!0),this.playersByElement.has(d)&&(_=!0),this.playersByQueriedElement.has(d)&&(_=!0),this.statesByElement.has(d)&&(_=!0),this._fetchNamespace(m).elementContainsData(d)||_}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,d,_,N,q){let pe=[];if(d){const xe=this.playersByQueriedElement.get(m);xe&&(pe=xe)}else{const xe=this.playersByElement.get(m);if(xe){const ft=!q||q==Bn;xe.forEach(Rt=>{Rt.queued||!ft&&Rt.triggerName!=N||pe.push(Rt)})}}return(_||N)&&(pe=pe.filter(xe=>!(_&&_!=xe.namespaceId||N&&N!=xe.triggerName))),pe}_beforeAnimationBuild(m,d,_){const q=d.element,pe=d.isRemovalTransition?void 0:m,xe=d.isRemovalTransition?void 0:d.triggerName;for(const ft of d.timelines){const Rt=ft.element,cn=Rt!==q,Vn=$n(_,Rt,[]);this._getPreviousPlayers(Rt,cn,pe,xe,d.toState).forEach(Gr=>{const pr=Gr.getRealPlayer();pr.beforeDestroy&&pr.beforeDestroy(),Gr.destroy(),Vn.push(Gr)})}It(q,d.fromStyles)}_buildAnimation(m,d,_,N,q,pe){const xe=d.triggerName,ft=d.element,Rt=[],cn=new Set,Vn=new Set,Jr=d.timelines.map(pr=>{const Sr=pr.element;cn.add(Sr);const ci=Sr[mn];if(ci&&ci.removedBeforeQueried)return new k.ZN(pr.duration,pr.delay);const Zi=Sr!==ft,Zs=function Fr(b){const m=[];return wr(b,m),m}((_.get(Sr)||ut).map(Oo=>Oo.getRealPlayer())).filter(Oo=>!!Oo.element&&Oo.element===Sr),to=q.get(Sr),no=pe.get(Sr),nu=Ar(0,this._normalizer,0,pr.keyframes,to,no),xo=this._buildPlayer(pr,nu,Zs);if(pr.subTimeline&&N&&Vn.add(Sr),Zi){const Oo=new Lr(m,xe,Sr);Oo.setRealPlayer(xo),Rt.push(Oo)}return xo});Rt.forEach(pr=>{$n(this.playersByQueriedElement,pr.element,[]).push(pr),pr.onDone(()=>function V(b,m,d){let _=b.get(m);if(_){if(_.length){const N=_.indexOf(d);_.splice(N,1)}0==_.length&&b.delete(m)}return _}(this.playersByQueriedElement,pr.element,pr))}),cn.forEach(pr=>un(pr,Pe));const Gr=Wn(Jr);return Gr.onDestroy(()=>{cn.forEach(pr=>qn(pr,Pe)),Se(ft,d.toStyles)}),Vn.forEach(pr=>{$n(N,pr,[]).push(Gr)}),Gr}_buildPlayer(m,d,_){return d.length>0?this.driver.animate(m.element,d,m.duration,m.delay,m.easing,_):new k.ZN(m.duration,m.delay)}}class Lr{constructor(m,d,_){this.namespaceId=m,this.triggerName=d,this.element=_,this._player=new k.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((d,_)=>{d.forEach(N=>cr(m,_,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const d=this._player;d.triggerCallback&&m.onStart(()=>d.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,d){$n(this._queuedCallbacks,m,[]).push(d)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const d=this._player;d.triggerCallback&&d.triggerCallback(m)}}function U(b){return b&&1===b.nodeType}function He(b,m){const d=b.style.display;return b.style.display=m??"none",d}function _t(b,m,d,_,N){const q=[];d.forEach(ft=>q.push(He(ft)));const pe=[];_.forEach((ft,Rt)=>{const cn=new Map;ft.forEach(Vn=>{const Jr=m.computeStyle(Rt,Vn,N);cn.set(Vn,Jr),(!Jr||0==Jr.length)&&(Rt[mn]=an,pe.push(Rt))}),b.set(Rt,cn)});let xe=0;return d.forEach(ft=>He(ft,q[xe++])),pe}function rt(b,m){const d=new Map;if(b.forEach(xe=>d.set(xe,[])),0==m.length)return d;const N=new Set(m),q=new Map;function pe(xe){if(!xe)return 1;let ft=q.get(xe);if(ft)return ft;const Rt=xe.parentNode;return ft=d.has(Rt)?Rt:N.has(Rt)?1:pe(Rt),q.set(xe,ft),ft}return m.forEach(xe=>{const ft=pe(xe);1!==ft&&d.get(ft).push(xe)}),d}function un(b,m){b.classList?.add(m)}function qn(b,m){b.classList?.remove(m)}function Kr(b,m,d){Wn(d).onDone(()=>b.processLeaveNode(m))}function wr(b,m){for(let d=0;d<b.length;d++){const _=b[d];_ instanceof k.ZE?wr(_.players,m):m.push(_)}}function ii(b,m,d){const _=d.get(b);if(!_)return!1;let N=m.get(b);return N?_.forEach(q=>N.add(q)):m.set(b,_),d.delete(b),!0}class mi{constructor(m,d,_){this.bodyNode=m,this._driver=d,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(N,q)=>{},this._transitionEngine=new ti(m,d,_),this._timelineEngine=new Qs(m,d,_),this._transitionEngine.onRemovalComplete=(N,q)=>this.onRemovalComplete(N,q)}registerTrigger(m,d,_,N,q){const pe=m+"-"+N;let xe=this._triggerCache[pe];if(!xe){const ft=[],cn=Ri(this._driver,q,ft,[]);if(ft.length)throw function Be(b,m){return new u.vHH(3404,!1)}();xe=function ys(b,m,d){return new _s(b,m,d)}(N,cn,this._normalizer),this._triggerCache[pe]=xe}this._transitionEngine.registerTrigger(d,N,xe)}register(m,d){this._transitionEngine.register(m,d)}destroy(m,d){this._transitionEngine.destroy(m,d)}onInsert(m,d,_,N){this._transitionEngine.insertNode(m,d,_,N)}onRemove(m,d,_,N){this._transitionEngine.removeNode(m,d,N||!1,_)}disableAnimations(m,d){this._transitionEngine.markElementAsDisabled(m,d)}process(m,d,_,N){if("@"==_.charAt(0)){const[q,pe]=Cr(_);this._timelineEngine.command(q,d,pe,N)}else this._transitionEngine.trigger(m,d,_,N)}listen(m,d,_,N,q){if("@"==_.charAt(0)){const[pe,xe]=Cr(_);return this._timelineEngine.listen(pe,d,xe,q)}return this._transitionEngine.listen(m,d,_,N,q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lr=(()=>{class b{constructor(d,_,N){this._element=d,this._startStyles=_,this._endStyles=N,this._state=0;let q=b.initialStylesByElement.get(d);q||b.initialStylesByElement.set(d,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&Se(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Se(this._element,this._initialStyles),this._endStyles&&(Se(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&(It(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),Se(this._element,this._initialStyles),this._state=3)}}return b.initialStylesByElement=new WeakMap,b})();function $i(b){let m=null;return b.forEach((d,_)=>{(function ds(b){return"display"===b||"position"===b})(_)&&(m=m||new Map,m.set(_,d))}),m}class si{constructor(m,d,_,N){this.element=m,this.keyframes=d,this.options=_,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const d=[];return m.forEach(_=>{d.push(Object.fromEntries(_))}),d}_triggerWebAnimation(m,d,_){return m.animate(this._convertKeyframesToObject(d),_)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,N)=>{"offset"!==N&&m.set(N,this._finished?_:Sn(this.element,N))}),this.currentSnapshot=m}triggerCallback(m){const d="start"===m?this._onStartFns:this._onDoneFns;d.forEach(_=>_()),d.length=0}}class ho{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,d){return!1}containsElement(m,d){return oi(m,d)}getParentElement(m){return Yn(m)}query(m,d,_){return kn(m,d,_)}computeStyle(m,d,_){return window.getComputedStyle(m)[d]}animate(m,d,_,N,q,pe=[]){const ft={duration:_,delay:N,fill:0==N?"both":"forwards"};q&&(ft.easing=q);const Rt=new Map,cn=pe.filter(Gr=>Gr instanceof si);(function Xt(b,m){return 0===b||0===m})(_,N)&&cn.forEach(Gr=>{Gr.currentSnapshot.forEach((pr,Sr)=>Rt.set(Sr,pr))});let Vn=function On(b){return b.length?b[0]instanceof Map?b:b.map(m=>zt(m)):[]}(d).map(Gr=>Dn(Gr));Vn=function Gn(b,m,d){if(d.size&&m.length){let _=m[0],N=[];if(d.forEach((q,pe)=>{_.has(pe)||N.push(pe),_.set(pe,q)}),N.length)for(let q=1;q<m.length;q++){let pe=m[q];N.forEach(xe=>pe.set(xe,Sn(b,xe)))}}return m}(m,Vn,Rt);const Jr=function Vt(b,m){let d=null,_=null;return Array.isArray(m)&&m.length?(d=$i(m[0]),m.length>1&&(_=$i(m[m.length-1]))):m instanceof Map&&(d=$i(m)),d||_?new lr(b,d,_):null}(m,Vn);return new si(m,Vn,ft,Jr)}}var nr=M(6895);let ns=(()=>{class b extends k._j{constructor(d,_){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(_.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(d){const _=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(d)?(0,k.vP)(d):d;return la(this._renderer,null,_,"register",[N]),new vo(_,this._renderer)}}return b.\u0275fac=function(d){return new(d||b)(u.LFG(u.FYo),u.LFG(nr.K0))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})();class vo extends k.LC{constructor(m,d){super(),this._id=m,this._renderer=d}create(m,d){return new Di(this._id,m,d||{},this._renderer)}}class Di{constructor(m,d,_,N){this.id=m,this.element=d,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(m,d){return this._renderer.listen(this.element,`@@${this.id}:${m}`,d)}_command(m,...d){return la(this._renderer,this.element,this.id,m,d)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function la(b,m,d,_,N){return b.setProperty(m,`@@${d}:${_}`,N)}const Aa="@.disabled";let $=(()=>{class b{constructor(d,_,N){this.delegate=d,this.engine=_,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=(q,pe)=>{const xe=pe?.parentNode(q);xe&&pe.removeChild(xe,q)}}createRenderer(d,_){const q=this.delegate.createRenderer(d,_);if(!(d&&_&&_.data&&_.data.animation)){let cn=this._rendererCache.get(q);return cn||(cn=new F("",q,this.engine),this._rendererCache.set(q,cn)),cn}const pe=_.id,xe=_.id+"-"+this._currentId;this._currentId++,this.engine.register(xe,d);const ft=cn=>{Array.isArray(cn)?cn.forEach(ft):this.engine.registerTrigger(pe,xe,d,cn.name,cn)};return _.data.animation.forEach(ft),new O(this,xe,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,_,N){d>=0&&d<this._microtaskId?this._zone.run(()=>_(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[pe,xe]=q;pe(xe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return b.\u0275fac=function(d){return new(d||b)(u.LFG(u.FYo),u.LFG(mi),u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})();class F{constructor(m,d,_){this.namespaceId=m,this.delegate=d,this.engine=_,this.destroyNode=this.delegate.destroyNode?N=>d.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,d){return this.delegate.createElement(m,d)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,d){this.delegate.appendChild(m,d),this.engine.onInsert(this.namespaceId,d,m,!1)}insertBefore(m,d,_,N=!0){this.delegate.insertBefore(m,d,_),this.engine.onInsert(this.namespaceId,d,m,N)}removeChild(m,d,_){this.engine.onRemove(this.namespaceId,d,this.delegate,_)}selectRootElement(m,d){return this.delegate.selectRootElement(m,d)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,d,_,N){this.delegate.setAttribute(m,d,_,N)}removeAttribute(m,d,_){this.delegate.removeAttribute(m,d,_)}addClass(m,d){this.delegate.addClass(m,d)}removeClass(m,d){this.delegate.removeClass(m,d)}setStyle(m,d,_,N){this.delegate.setStyle(m,d,_,N)}removeStyle(m,d,_){this.delegate.removeStyle(m,d,_)}setProperty(m,d,_){"@"==d.charAt(0)&&d==Aa?this.disableAnimations(m,!!_):this.delegate.setProperty(m,d,_)}setValue(m,d){this.delegate.setValue(m,d)}listen(m,d,_){return this.delegate.listen(m,d,_)}disableAnimations(m,d){this.engine.disableAnimations(m,d)}}class O extends F{constructor(m,d,_,N){super(d,_,N),this.factory=m,this.namespaceId=d}setProperty(m,d,_){"@"==d.charAt(0)?"."==d.charAt(1)&&d==Aa?this.disableAnimations(m,_=void 0===_||!!_):this.engine.process(this.namespaceId,m,d.slice(1),_):this.delegate.setProperty(m,d,_)}listen(m,d,_){if("@"==d.charAt(0)){const N=function ue(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(m);let q=d.slice(1),pe="";return"@"!=q.charAt(0)&&([q,pe]=function vt(b){const m=b.indexOf(".");return[b.substring(0,m),b.slice(m+1)]}(q)),this.engine.listen(this.namespaceId,N,q,pe,xe=>{this.factory.scheduleListenerCallback(xe._data||-1,_,xe)})}return this.delegate.listen(m,d,_)}}const Js=[{provide:k._j,useClass:ns},{provide:Ns,useFactory:function Ei(){return new co}},{provide:mi,useClass:(()=>{class b extends mi{constructor(d,_,N,q){super(d.body,_,N)}ngOnDestroy(){this.flush()}}return b.\u0275fac=function(d){return new(d||b)(u.LFG(nr.K0),u.LFG($r),u.LFG(Ns),u.LFG(u.z2F))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})()},{provide:u.FYo,useFactory:function Ni(b,m,d){return new $(b,m,d)},deps:[h.se,mi,u.R0b]}],ro=[{provide:$r,useFactory:()=>new ho},{provide:u.QbO,useValue:"BrowserAnimations"},...Js],io=[{provide:$r,useClass:Jt},{provide:u.QbO,useValue:"NoopAnimations"},...Js];let ks=(()=>{class b{static withConfig(d){return{ngModule:b,providers:d.disableAnimations?io:ro}}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({providers:ro,imports:[h.b2]}),b})();var Ui=M(1441);let jo=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-not-found"]],decls:2,vars:0,template:function(d,_){1&d&&(u.TgZ(0,"p"),u._uU(1,"not-found works!"),u.qZA())}}),b})();var hi=M(8737),Oi=M(6981),Hr=M(6897),Wo=M(5593);const Va=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class b{constructor(d,_,N,q){this._router=d,this._productStore=_,this._blogStore=N,this._animalStore=q,this.quantity=1,this.articles=[],this.animals=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}],this.products=[{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]},{animalType:hi.D.Cat,brand:Oi.H.Alpha,category:Oi.P.Accessories,price:50,title:"ABC",images:[""],id:"",rate:5,description:"",wishList:!1,reviews:[]}]}ngOnInit(){}onShopNowClick(){this._router.navigate(["/store/products"])}onTypeClick(d){switch(d){case"cats":this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Cat}});break;case"dogs":this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Dog}})}}onWhatWeCanDoCardsClick(d){switch(d){case"store":this._router.navigate(["/store/products"]);break;case"adoption":this._router.navigate(["/adoption"]);break;case"blog":this._router.navigate(["/blog"])}}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(Ui.F0),u.Y36(Hr.yh),u.Y36(Hr.yh),u.Y36(Hr.yh))},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-home"]],decls:73,vars:0,consts:[[1,"home"],[1,"heroo","container","d-lg-flex","d-block","mb-5"],[1,"d-flex","justify-content-center"],["src","assets/images/pets.png","alt","image"],[1,"d-flex","justify-content-center","align-items-center","flex-column","pe-lg-5"],[1,"hero-content"],[1,"hero__content__para","fs-3","mt-lg-2","text-center"],[1,"text-center"],["styleClass","card__addToCart mt-1 rounded-5 ","label","Shop Now","icon","pi pi-shopping-bag",3,"onClick"],[1,"imageSectionContainer","d-flex","justify-content-center","align-items-center"],[1,"imageSectionContainer__title","flex-grow-1"],[1,"hero__content__text","text-center","p-md-4"],[1,"hero__content__text","text-center"],[1,"type","container","py-5"],[1,"text-center","mb-5","fw-bold","fs-1"],[1,"typesButtons","d-lg-flex","justify-content-center","my-5","d-block"],[1,"CategoryRouter","text-center","my-5","mx-3","col-lg-5"],[3,"click"],[1,"CategoryRouter__content","d-lg-flex","border","rounded-5","p-2"],["src","assets/images/catcard.png","alt","Cat Image"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center",2,"color","var(--dark-grey-color)"],[1,"m-0","fs-2"],["src","assets/images/bg-dog.png","alt","Dog Image"],[1,"services","container","my-5"],[1,"services__text","my-5"],[1,"text-center","fs-1","mb-4","fw-bold"],[1,"text-center","pb-4","m-auto","fs-4"],[1,"services__container","container","d-lg-flex","my-5","justify-content-center","align-items-center;"],[1,"services__card","m-4","col-lg-4","col-md-12","p-5","shadow",3,"click"],[1,"icon-container","m-auto","shadow","d-flex"],[1,"fa-solid","fa-store","m-auto","fs-2"],[1,"text-center","fs-3","m-4","fw-bold"],[1,"text-center","fs-6","px-4"],[1,"services__card","col-lg-4","col-md-12","m-4","p-5","shadow",3,"click"],[1,"fa-solid","fa-paw","m-auto","fs-1"],[1,"fa-solid","fa-blog","m-auto","fs-1"]],template:function(d,_){1&d&&(u.TgZ(0,"Section",0)(1,"div",1)(2,"figure",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5)(6,"p",6),u._uU(7," Let us treat your pet like our own family with best services and packages. "),u.qZA(),u.TgZ(8,"div",7)(9,"p-button",8),u.NdJ("onClick",function(){return _.onShopNowClick()}),u.qZA()()()()(),u.TgZ(10,"div",9)(11,"div",10)(12,"p",11)(13,"b"),u._uU(14,"Your Pet is Part"),u.qZA()(),u.TgZ(15,"p",12)(16,"b"),u._uU(17,"of Your Family"),u.qZA()()(),u._uU(18," > "),u.qZA(),u.TgZ(19,"div",13)(20,"h3",14),u._uU(21,"Shop By Pet"),u.qZA(),u.TgZ(22,"div",15)(23,"div",16)(24,"a",17),u.NdJ("click",function(){return _.onTypeClick("cats")}),u.TgZ(25,"div",18),u._UZ(26,"img",19),u.TgZ(27,"div",20)(28,"p",21)(29,"b"),u._uU(30,"Cats"),u.qZA()(),u.TgZ(31,"p",21)(32,"b"),u._uU(33,"Shop"),u.qZA()()()()()(),u.TgZ(34,"div",16)(35,"a",17),u.NdJ("click",function(){return _.onTypeClick("dogs")}),u.TgZ(36,"div",18),u._UZ(37,"img",22),u.TgZ(38,"div",20)(39,"p",21)(40,"b"),u._uU(41,"Dogs"),u.qZA()(),u.TgZ(42,"p",21)(43,"b"),u._uU(44,"Shop"),u.qZA()()()()()()()(),u.TgZ(45,"div",23)(46,"div",24)(47,"h2",25),u._uU(48,"What We Can Do"),u.qZA(),u.TgZ(49,"p",26),u._uU(50," We look after your pet, we ensure that we will give the best treatment for your pet. "),u.qZA()(),u.TgZ(51,"div",27)(52,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("store")}),u.TgZ(53,"div",29),u._UZ(54,"i",30),u.qZA(),u.TgZ(55,"p",31),u._uU(56,"Store"),u.qZA(),u.TgZ(57,"p",32),u._uU(58," You can find Supplies, Accessories, Toys all stuff for your pet. "),u.qZA()(),u.TgZ(59,"div",33),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("adoption")}),u.TgZ(60,"div",29),u._UZ(61,"i",34),u.qZA(),u.TgZ(62,"p",31),u._uU(63,"Adoption"),u.qZA(),u.TgZ(64,"p",32),u._uU(65," You can add a new member of your family or find someone to adopt your pet. "),u.qZA()(),u.TgZ(66,"div",28),u.NdJ("click",function(){return _.onWhatWeCanDoCardsClick("blog")}),u.TgZ(67,"div",29),u._UZ(68,"i",35),u.qZA(),u.TgZ(69,"p",31),u._uU(70,"Blog"),u.qZA(),u.TgZ(71,"p",32),u._uU(72," You can find very useful articals about pets and know more about its health and food. "),u.qZA()()()()())},dependencies:[Wo.zx],styles:["section[_ngcontent-%COMP%]{background-color:#fbf8f8;color:var(--dark-grey-color)}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{margin-top:200px;margin-bottom:200px;background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:800px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;opacity:.7;font-size:6rem}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-bottom:150px!important;background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem;height:15rem;border-radius:10px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]{cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]{background-color:#ffcdd2}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter__content[_ngcontent-%COMP%]:hover{box-shadow:5px 10px 18px #888!important;cursor:pointer}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .typesButtons[_ngcontent-%COMP%]   .CategoryRouter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:10% 100%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;border-radius:40px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{border-radius:50%;background-color:#ecada6;width:100px;height:100px}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover{background-color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#fff}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ecada6}section[_ngcontent-%COMP%]   .services__card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]{margin-top:10rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 25%;background-position:top right,bottom left;margin-top:8rem}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:1rem;text-align:center;padding:2rem 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__instock[_ngcontent-%COMP%]{background-color:#c8e6c9;opacity:.8;color:#256029;width:5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}section[_ngcontent-%COMP%]   .Carousels[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .card__actions__outofstock[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737;opacity:.8;width:6.5rem;text-align:center;border-radius:10px;margin:auto 0;font-size:1rem;padding:3px 0}[_nghost-%COMP%]     .p-button{background:#999999;border:1px solid #999999}[_nghost-%COMP%]     .p-button:enabled:hover{background:#ecada6;color:#fff;border-color:#ffcdd2}[_nghost-%COMP%]     .p-button:focus{background-color:none;box-shadow:0 0 0 .1rem transparent!important}[_nghost-%COMP%]     .p-button:enabled:focus{box-shadow:0 0 0 .2rem!important;border-color:none!important}[_nghost-%COMP%]     .p-button{border:none!important}[_nghost-%COMP%]     .p-button.p-button-icon-only .p-button-icon-left, .p-button.p-button-icon-only[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight .p-button-icon-left, .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:#ecada6}[_nghost-%COMP%]     .p-button.p-button-icon-only{padding:.4rem!important;background-color:transparent;color:transparent}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight{background:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight:hover{background-color:transparent!important;border-color:transparent!important;color:#fff}[_nghost-%COMP%]     .p-togglebutton.p-button:not(.p-disabled):not(.p-highlight):hover{background:transparent!important;border-color:transparent!important;color:#495057}[_nghost-%COMP%]     .p-carousel .p-carousel-indicators .p-carousel-indicator.p-highlight button{background-color:var(--pink-color)}@media only screen and (max-width: 1200px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{display:block!important}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:800px;height:500px}}@media only screen and (max-width: 992px){section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:12% 12%;background-position:top right,bottom left}}@media only screen and (max-width: 768px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 15%;background-position:top left,bottom right}section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;height:400px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:500px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:5rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 70%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}@media only screen and (max-width: 600px){section[_ngcontent-%COMP%]   .heroo[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px}section[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}section[_ngcontent-%COMP%]   .imageSectionContainer[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.527),rgba(0,0,0,.5)),url(bg2.e9f662485a45849f.jpg);height:400px;width:100%;background-position:center;background-repeat:no-repeat;background-size:100% 100%;border-radius:5px}section[_ngcontent-%COMP%]   .imageSectionContainer__title[_ngcontent-%COMP%]{color:#fff;font-size:3rem}section[_ngcontent-%COMP%]   .services__text[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png);background-size:20% 90%;background-repeat:no-repeat;border-radius:20px;background-position:center;background-color:transparent}section[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{background-image:url(paw.56b742d738b6a594.png),url(paw.56b742d738b6a594.png);background-repeat:no-repeat;background-size:10% 10%;background-position:top right,bottom left}}"]}),b})()},{path:"auth",loadChildren:()=>Promise.all([M.e(722),M.e(493),M.e(549)]).then(M.bind(M,7549)).then(b=>b.AuthModuleModule)},{path:"store",loadChildren:()=>Promise.all([M.e(722),M.e(592),M.e(927)]).then(M.bind(M,5927)).then(b=>b.StoreModuleModule)},{path:"blog",loadChildren:()=>M.e(10).then(M.bind(M,1010)).then(b=>b.BlogModuleModule)},{path:"adoption",loadChildren:()=>Promise.all([M.e(493),M.e(592),M.e(252)]).then(M.bind(M,252)).then(b=>b.AdoptionModuleModule)},{path:"**",component:jo}];let Ma=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[Ui.Bz.forRoot(Va),Ui.Bz]}),b})();var ji=M(9770),Ls=M(2843),yi=M(8421),No=M(9751),ua=M(5577),Eo=M(1144),js=M(576),Ua=M(3268);const Yl=["addListener","removeListener"],El=["addEventListener","removeEventListener"],Ba=["on","off"];function Qi(b,m,d,_){if((0,js.m)(d)&&(_=d,d=void 0),_)return Qi(b,m,d).pipe((0,Ua.Z)(_));const[N,q]=function ca(b){return(0,js.m)(b.addEventListener)&&(0,js.m)(b.removeEventListener)}(b)?El.map(pe=>xe=>b[pe](m,xe,d)):function ol(b){return(0,js.m)(b.addListener)&&(0,js.m)(b.removeListener)}(b)?Yl.map(bl(b,m)):function Go(b){return(0,js.m)(b.on)&&(0,js.m)(b.off)}(b)?Ba.map(bl(b,m)):[];if(!N&&(0,Eo.z)(b))return(0,ua.z)(pe=>Qi(pe,m,d))((0,yi.Xf)(b));if(!N)throw new TypeError("Invalid event target");return new No.y(pe=>{const xe=(...ft)=>pe.next(1<ft.length?ft:ft[0]);return N(xe),()=>q(xe)})}function bl(b,m){return d=>_=>b[d](m,_)}var ko=M(9646),bo=M(7272),Ha=M(7579),da=M(5032);const bi=new No.y(da.Z);var $a=M(6451),Ws=M(4004),Lo=M(9300),wi=M(3900),fo=M(4033),Gs=M(4482);const al={connector:()=>new Ha.x};function Kt(b,m=al){const{connector:d}=m;return(0,Gs.e)((_,N)=>{const q=d();(0,yi.Xf)(b(function xa(b){return new No.y(m=>b.subscribe(m))}(q))).subscribe(N),N.add(_.subscribe(q))})}var Fs=M(5698),Pn=M(8505),Xn=M(4986),wl=M(5403),At=M(9718);function Nt(b,m){return m?d=>(0,bo.z)(m.pipe((0,Fs.q)(1),function fn(){return(0,Gs.e)((b,m)=>{b.subscribe((0,wl.x)(m,da.Z))})}()),d.pipe(Nt(b))):(0,ua.z)((d,_)=>b(d,_).pipe((0,Fs.q)(1),(0,At.h)(d)))}var _i=M(3532);const fa="Service workers are disabled or not supported by this browser";class Zo{constructor(m){if(this.serviceWorker=m,m){const _=Qi(m,"controllerchange").pipe((0,Ws.U)(()=>m.controller)),N=(0,ji.P)(()=>(0,ko.of)(m.controller)),q=(0,bo.z)(N,_);this.worker=q.pipe((0,Lo.h)(cn=>!!cn)),this.registration=this.worker.pipe((0,wi.w)(()=>m.getRegistration()));const Rt=Qi(m,"message").pipe((0,Ws.U)(cn=>cn.data)).pipe((0,Lo.h)(cn=>cn&&cn.type)).pipe(function hs(b){return b?m=>Kt(b)(m):m=>function ki(b,m){const d=(0,js.m)(b)?b:()=>b;return(0,js.m)(m)?Kt(m,{connector:d}):_=>new fo.c(_,d)}(new Ha.x)(m)}());Rt.connect(),this.events=Rt}else this.worker=this.events=this.registration=function pa(b){return(0,ji.P)(()=>(0,Ls._)(new Error(b)))}(fa)}postMessage(m,d){return this.worker.pipe((0,Fs.q)(1),(0,Pn.b)(_=>{_.postMessage({action:m,...d})})).toPromise().then(()=>{})}postMessageWithOperation(m,d,_){const N=this.waitForOperationCompleted(_),q=this.postMessage(m,d);return Promise.all([q,N]).then(([,pe])=>pe)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(m){let d;return d="string"==typeof m?_=>_.type===m:_=>m.includes(_.type),this.events.pipe((0,Lo.h)(d))}nextEventOfType(m){return this.eventsOfType(m).pipe((0,Fs.q)(1))}waitForOperationCompleted(m){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Lo.h)(d=>d.nonce===m),(0,Fs.q)(1),(0,Ws.U)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ll=(()=>{class b{constructor(d){if(this.sw=d,this.subscriptionChanges=new Ha.x,!d.isEnabled)return this.messages=bi,this.notificationClicks=bi,void(this.subscription=bi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ws.U)(N=>N.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ws.U)(N=>N.data)),this.pushManager=this.sw.registration.pipe((0,Ws.U)(N=>N.pushManager));const _=this.pushManager.pipe((0,wi.w)(N=>N.getSubscription()));this.subscription=(0,$a.T)(_,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(d){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const _={userVisibleOnly:!0};let N=this.decodeBase64(d.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),q=new Uint8Array(new ArrayBuffer(N.length));for(let pe=0;pe<N.length;pe++)q[pe]=N.charCodeAt(pe);return _.applicationServerKey=q,this.pushManager.pipe((0,wi.w)(pe=>pe.subscribe(_)),(0,Fs.q)(1)).toPromise().then(pe=>(this.subscriptionChanges.next(pe),pe))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Fs.q)(1),(0,wi.w)(_=>{if(null===_)throw new Error("Not subscribed to push notifications.");return _.unsubscribe().then(N=>{if(!N)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fa))}decodeBase64(d){return atob(d)}}return b.\u0275fac=function(d){return new(d||b)(u.LFG(Zo))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),ja=(()=>{class b{constructor(d){if(this.sw=d,!d.isEnabled)return this.versionUpdates=bi,this.available=bi,this.activated=bi,void(this.unrecoverable=bi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Lo.h)(_=>"VERSION_READY"===_.type),(0,Ws.U)(_=>({type:"UPDATE_AVAILABLE",current:_.currentVersion,available:_.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:d},d)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:d},d)}}return b.\u0275fac=function(d){return new(d||b)(u.LFG(Zo))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})();class Oa{}const Bi=new u.OlP("NGSW_REGISTER_SCRIPT");function qo(b,m,d,_){return()=>{if(!(0,nr.NF)(_)||!("serviceWorker"in navigator)||!1===d.enabled)return;let q;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof d.registrationStrategy)q=d.registrationStrategy();else{const[xe,...ft]=(d.registrationStrategy||"registerWhenStable:30000").split(":");switch(xe){case"registerImmediately":q=(0,ko.of)(null);break;case"registerWithDelay":q=Ir(+ft[0]||0);break;case"registerWhenStable":q=ft[0]?(0,$a.T)(Ds(b),Ir(+ft[0])):Ds(b);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${d.registrationStrategy}`)}}b.get(u.R0b).runOutsideAngular(()=>q.pipe((0,Fs.q)(1)).subscribe(()=>navigator.serviceWorker.register(m,{scope:d.scope}).catch(xe=>console.error("Service worker registration failed with:",xe))))}}function Ir(b){return(0,ko.of)(null).pipe(function ha(b,m=Xn.z){const d=function Ko(b=0,m,d=Xn.P){let _=-1;return null!=m&&((0,_i.K)(m)?d=m:_=m),new No.y(N=>{let q=function zo(b){return b instanceof Date&&!isNaN(b)}(b)?+b-d.now():b;q<0&&(q=0);let pe=0;return d.schedule(function(){N.closed||(N.next(pe++),0<=_?this.schedule(void 0,_):N.complete())},q)})}(b,m);return Nt(()=>d)}(b))}function Ds(b){return b.get(u.z2F).isStable.pipe((0,Lo.h)(d=>d))}function wo(b,m){return new Zo((0,nr.NF)(m)&&!1!==b.enabled?navigator.serviceWorker:void 0)}let fi=(()=>{class b{static register(d,_={}){return{ngModule:b,providers:[{provide:Bi,useValue:d},{provide:Oa,useValue:_},{provide:Zo,useFactory:wo,deps:[Oa,u.Lbi]},{provide:u.ip1,useFactory:qo,deps:[u.zs3,Bi,Oa,u.Lbi],multi:!0}]}}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({providers:[ll,ja]}),b})();const er={firebase:{projectId:"happypaws-621b1",appId:"1:957404999094:web:38ded4e2bb534d0ace2517",storageBucket:"happypaws-621b1.appspot.com",locationId:"europe-west",apiKey:"AIzaSyChst9Uo1po9_nMuuK4rN21r5MRbfZlRus",authDomain:"happypaws-621b1.firebaseapp.com",messagingSenderId:"957404999094"},production:!0};var xr=M(9592),fr=M(1795),rs=M(982),Ii=M(3608),en=M(805);const Yo=["sublist"],Wa=function(b){return{"p-hidden":b}};function po(b,m){if(1&b&&u._UZ(0,"li",5),2&b){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,Wa,!1===d.visible))}}function bs(b,m){if(1&b&&u._UZ(0,"span",17),2&b){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.icon)("ngStyle",d.iconStyle)}}function is(b,m){if(1&b&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&b){const d=u.oxw(3).$implicit;u.xp6(1),u.Oqu(d.label)}}function Io(b,m){if(1&b&&u._UZ(0,"span",19),2&b){const d=u.oxw(3).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function Pa(b,m){if(1&b&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&b){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.badgeStyleClass),u.xp6(1),u.Oqu(d.badge)}}function Ji(b,m){1&b&&u._UZ(0,"span",21)}const Co=function(b){return{"p-menuitem-link":!0,"p-disabled":b}};function Ll(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemKeyDown(N,q))})("click",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemClick(N,q))})("mouseenter",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemMouseEnter(N,q))}),u.YNc(1,bs,1,2,"span",12),u.YNc(2,is,2,1,"span",13),u.YNc(3,Io,1,1,"ng-template",null,14,u.W1O),u.YNc(5,Pa,2,2,"span",15),u.YNc(6,Ji,1,0,"span",16),u.qZA()}if(2&b){const d=u.MAs(4),_=u.oxw(2).$implicit,N=u.oxw();u.Q6J("target",_.target)("ngClass",u.VKq(14,Co,_.disabled)),u.uIk("href",_.url,u.LSH)("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0")("aria-haspopup",null!=N.item.items)("aria-expanded",N.item===N.activeItem),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function Xs(b,m){if(1&b&&u._UZ(0,"span",17),2&b){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.icon)("ngStyle",d.iconStyle)}}function qr(b,m){if(1&b&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&b){const d=u.oxw(3).$implicit;u.xp6(1),u.Oqu(d.label)}}function Fl(b,m){if(1&b&&u._UZ(0,"span",19),2&b){const d=u.oxw(3).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function Ct(b,m){if(1&b&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&b){const d=u.oxw(3).$implicit;u.Q6J("ngClass",d.badgeStyleClass),u.xp6(1),u.Oqu(d.badge)}}function Ga(b,m){1&b&&u._UZ(0,"span",21)}const To=function(){return{exact:!1}};function pu(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"a",22),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemKeyDown(N,q))})("click",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemClick(N,q))})("mouseenter",function(N){u.CHM(d);const q=u.oxw(2).$implicit,pe=u.oxw();return u.KtG(pe.onItemMouseEnter(N,q))}),u.YNc(1,Xs,1,2,"span",12),u.YNc(2,qr,2,1,"span",13),u.YNc(3,Fl,1,1,"ng-template",null,23,u.W1O),u.YNc(5,Ct,2,2,"span",15),u.YNc(6,Ga,1,0,"span",16),u.qZA()}if(2&b){const d=u.MAs(4),_=u.oxw(2).$implicit;u.Q6J("routerLink",_.routerLink)("queryParams",_.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.routerLinkActiveOptions||u.DdM(21,To))("target",_.target)("ngClass",u.VKq(22,Co,_.disabled))("fragment",_.fragment)("queryParamsHandling",_.queryParamsHandling)("preserveFragment",_.preserveFragment)("skipLocationChange",_.skipLocationChange)("replaceUrl",_.replaceUrl)("state",_.state),u.uIk("data-automationid",_.automationId)("title",_.title)("id",_.id)("tabindex",_.disabled?null:"0"),u.xp6(1),u.Q6J("ngIf",_.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.badge),u.xp6(1),u.Q6J("ngIf",_.items)}}function ul(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"p-tieredMenuSub",24),u.NdJ("keydownItem",function(N){u.CHM(d);const q=u.oxw(3);return u.KtG(q.onChildItemKeyDown(N))})("leafClick",function(){u.CHM(d);const N=u.oxw(3);return u.KtG(N.onLeafClick())}),u.qZA()}if(2&b){const d=u.oxw(2).$implicit,_=u.oxw();u.Q6J("parentActive",d===_.activeItem)("item",d)("mobileActive",_.mobileActive)("autoDisplay",_.autoDisplay)("popup",_.popup)}}const Fo=function(b,m){return{"p-menuitem":!0,"p-menuitem-active":b,"p-hidden":m}};function cl(b,m){if(1&b&&(u.TgZ(0,"li",6,7),u.YNc(2,Ll,7,16,"a",8),u.YNc(3,pu,7,24,"a",9),u.YNc(4,ul,1,5,"p-tieredMenuSub",10),u.qZA()),2&b){const d=u.oxw().$implicit,_=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.WLB(8,Fo,d===_.activeItem,!1===d.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions),u.xp6(2),u.Q6J("ngIf",!d.routerLink),u.xp6(1),u.Q6J("ngIf",d.routerLink),u.xp6(1),u.Q6J("ngIf",d.items)}}function ga(b,m){if(1&b&&(u.YNc(0,po,1,3,"li",3),u.YNc(1,cl,5,11,"li",4)),2&b){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}const gu=function(b){return{"p-submenu-list":b}},Xi=function(b){return{"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":b}},Il=function(b,m){return{showTransitionParams:b,hideTransitionParams:m}},ma=function(b){return{value:"visible",params:b}};function zs(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"div",1),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationEnd(N))}),u.TgZ(1,"p-tieredMenuSub",2),u.NdJ("leafClick",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.onLeafClick())}),u.qZA()()}if(2&b){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.VKq(12,Xi,d.popup))("ngStyle",d.style)("@overlayAnimation",u.VKq(17,ma,u.WLB(14,Il,d.showTransitionOptions,d.hideTransitionOptions)))("@.disabled",!0!==d.popup),u.xp6(1),u.Q6J("item",d.model)("parentActive",d.parentActive)("baseZIndex",d.baseZIndex)("autoZIndex",d.autoZIndex)("autoDisplay",d.autoDisplay)("popup",d.popup)}}let za=(()=>{class b{constructor(d,_,N){this.el=d,this.renderer=_,this.cd=N,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new u.vpe,this.keydownItem=new u.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(d){this.root||(this._parentActive=d,d?this.positionSubmenu():this.activeItem=null)}onItemClick(d,_){_.disabled?d.preventDefault():(!_.url&&!_.routerLink&&d.preventDefault(),_.command&&_.command({originalEvent:d,item:_}),_.items&&(this.activeItem&&_===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=_,this.root&&this.bindDocumentClickListener())),_.items||this.onLeafClick())}onItemMouseEnter(d,_){_.disabled||this.mobileActive?d.preventDefault():this.root?(this.activeItem||this.autoDisplay||this.popup)&&(this.activeItem=_,this.bindDocumentClickListener()):(this.activeItem=_,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}onItemKeyDown(d,_){let N=d.currentTarget.parentElement;switch(d.key){case"ArrowDown":const q=this.findNextItem(N);q&&q.children[0].focus(),d.preventDefault();break;case"ArrowUp":const pe=this.findPrevItem(N);pe&&pe.children[0].focus(),d.preventDefault();break;case"ArrowRight":_.items&&(this.activeItem=_,this.root&&this.bindDocumentClickListener(),setTimeout(()=>{N.children[1].children[0].children[0].children[0].focus()},50)),d.preventDefault();break;case"Enter":_.routerLink||this.onItemClick(d,_)}this.keydownItem.emit({originalEvent:d,element:N})}positionSubmenu(){let d=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(d){const _=d.parentElement.parentElement,N=xr.p.getOffset(_),q=xr.p.getViewport(),pe=d.offsetParent?d.offsetWidth:xr.p.getHiddenElementOuterWidth(d),xe=xr.p.getOuterWidth(_.children[0]);parseInt(N.left,10)+xe+pe>q.width-xr.p.calculateScrollbarWidth()&&xr.p.addClass(d,"p-submenu-list-flipped")}}findNextItem(d){let _=d.nextElementSibling;return _?xr.p.hasClass(_,"p-disabled")||!xr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?xr.p.hasClass(_,"p-disabled")||!xr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}onChildItemKeyDown(d){"ArrowLeft"===d.originalEvent.key&&(this.activeItem=null,this.root&&this.unbindDocumentClickListener(),d.element.parentElement.parentElement.parentElement.children[0].focus())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=d=>{this.el&&!this.el.nativeElement.contains(d.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO))},b.\u0275cmp=u.Xpm({type:b,selectors:[["p-tieredMenuSub"]],viewQuery:function(d,_){if(1&d&&u.Gf(Yo,5),2&d){let N;u.iGM(N=u.CRH())&&(_.sublistViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",popup:"popup",parentActive:"parentActive"},outputs:{leafClick:"leafClick",keydownItem:"keydownItem"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["pRipple","",3,"target","ngClass","keydown","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","keydown","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick"]],template:function(d,_){1&d&&(u.TgZ(0,"ul",0,1),u.YNc(2,ga,2,2,"ng-template",2),u.qZA()),2&d&&(u.Q6J("ngClass",u.VKq(2,gu,!_.root)),u.xp6(2),u.Q6J("ngForOf",_.root?_.item:_.item.items))},dependencies:[nr.mk,nr.sg,nr.O5,nr.PC,Ui.yS,Ui.Od,fr.H,Ii.u,b],encapsulation:2}),b})(),es=(()=>{class b{constructor(d,_,N,q,pe){this.el=d,this.renderer=_,this.cd=N,this.config=q,this.overlayService=pe,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}toggle(d){this.visible?this.hide():this.show(d),this.preventDocumentDefault=!0}show(d){this.target=d.currentTarget,this.relativeAlign=d.relativeAlign,this.visible=!0,this.parentActive=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(d){this.popup&&this.overlayService.add({originalEvent:d,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(d){switch(d.toState){case"visible":this.popup&&(this.container=d.element,this.moveOnTop(),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide()}}alignOverlay(){this.relativeAlign?xr.p.relativePosition(this.container,this.target):xr.p.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(d){"void"===d.toState&&rs.P9.clear(d.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):xr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&rs.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.parentActive=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!xr.p.isTouchDevice()&&this.hide()}onLeafClick(){this.popup&&this.hide(),this.unbindDocumentClickListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{!this.preventDocumentDefault&&this.popup&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&rs.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(en.b4),u.Y36(en.F0))},b.\u0275cmp=u.Xpm({type:b,selectors:[["p-tieredMenu"]],hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["root","root",3,"item","parentActive","baseZIndex","autoZIndex","autoDisplay","popup","leafClick"]],template:function(d,_){1&d&&u.YNc(0,zs,2,19,"div",0),2&d&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[nr.mk,nr.O5,nr.PC,za],styles:[".p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),b})(),so=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[nr.ez,Ui.Bz,fr.T,Ii.z,Ui.Bz,Ii.z]}),b})();const Wi=["pMenuItemContent",""];function T(b,m){if(1&b&&u._UZ(0,"span",7),2&b){const d=u.oxw(2);u.Tol(d.item.iconClass),u.Q6J("ngClass",d.item.icon)("ngStyle",d.item.iconStyle)}}function C(b,m){if(1&b&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&b){const d=u.oxw(2);u.xp6(1),u.Oqu(d.item.label)}}function w(b,m){if(1&b&&u._UZ(0,"span",9),2&b){const d=u.oxw(2);u.Q6J("innerHTML",d.item.label,u.oJD)}}function P(b,m){if(1&b&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&b){const d=u.oxw(2);u.Q6J("ngClass",d.item.badgeStyleClass),u.xp6(1),u.Oqu(d.item.badge)}}const B=function(b){return{"p-disabled":b}};function se(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"a",2),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onItemKeyDown(N))})("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.menu.itemClick(N,q.item))}),u.YNc(1,T,1,4,"span",3),u.YNc(2,C,2,1,"span",4),u.YNc(3,w,1,1,"ng-template",null,5,u.W1O),u.YNc(5,P,2,2,"span",6),u.qZA()}if(2&b){const d=u.MAs(4),_=u.oxw();u.Q6J("target",_.item.target)("ngClass",u.VKq(12,B,_.item.disabled))("target",_.item.target),u.uIk("href",_.item.url||null,u.LSH)("tabindex",_.item.disabled?null:"0")("data-automationid",_.item.automationId)("title",_.item.title)("id",_.item.id),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}function Ee(b,m){if(1&b&&u._UZ(0,"span",14),2&b){const d=u.oxw(2);u.Q6J("ngClass",d.item.icon)}}function Me(b,m){if(1&b&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&b){const d=u.oxw(2);u.xp6(1),u.Oqu(d.item.label)}}function bt(b,m){if(1&b&&u._UZ(0,"span",9),2&b){const d=u.oxw(2);u.Q6J("innerHTML",d.item.label,u.oJD)}}function on(b,m){if(1&b&&(u.TgZ(0,"span",10),u._uU(1),u.qZA()),2&b){const d=u.oxw(2);u.Q6J("ngClass",d.item.badgeStyleClass),u.xp6(1),u.Oqu(d.item.badge)}}const Mn=function(){return{exact:!1}};function Rn(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"a",11),u.NdJ("keydown",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onItemKeyDown(N))})("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.menu.itemClick(N,q.item))}),u.YNc(1,Ee,1,1,"span",12),u.YNc(2,Me,2,1,"span",4),u.YNc(3,bt,1,1,"ng-template",null,13,u.W1O),u.YNc(5,on,2,2,"span",6),u.qZA()}if(2&b){const d=u.MAs(4),_=u.oxw();u.Q6J("routerLink",_.item.routerLink)("queryParams",_.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",_.item.routerLinkActiveOptions||u.DdM(20,Mn))("target",_.item.target)("ngClass",u.VKq(21,B,_.item.disabled))("fragment",_.item.fragment)("queryParamsHandling",_.item.queryParamsHandling)("preserveFragment",_.item.preserveFragment)("skipLocationChange",_.item.skipLocationChange)("replaceUrl",_.item.replaceUrl)("state",_.item.state),u.uIk("data-automationid",_.item.automationId)("id",_.item.id)("tabindex",_.item.disabled?null:"0")("title",_.item.title),u.xp6(1),u.Q6J("ngIf",_.item.icon),u.xp6(1),u.Q6J("ngIf",!1!==_.item.escape)("ngIfElse",d),u.xp6(3),u.Q6J("ngIf",_.item.badge)}}const Qr=["container"],ss=function(b){return{"p-hidden":b}};function oo(b,m){if(1&b&&u._UZ(0,"li",8),2&b){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,ss,!1===d.visible))}}function Qo(b,m){if(1&b&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&b){const d=u.oxw(2).$implicit;u.xp6(1),u.Oqu(d.label)}}function os(b,m){if(1&b&&u._UZ(0,"span",12),2&b){const d=u.oxw(2).$implicit;u.Q6J("innerHTML",d.label,u.oJD)}}function Jo(b,m){if(1&b&&(u.TgZ(0,"li",9),u.YNc(1,Qo,2,1,"span",10),u.YNc(2,os,1,1,"ng-template",null,11,u.W1O),u.qZA()),2&b){const d=u.MAs(3),_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(5,ss,!1===_.visible))("tooltipOptions",_.tooltipOptions),u.uIk("data-automationid",_.automationId),u.xp6(1),u.Q6J("ngIf",!1!==_.escape)("ngIfElse",d)}}function Ks(b,m){if(1&b&&u._UZ(0,"li",8),2&b){const d=u.oxw().$implicit,_=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,ss,!1===d.visible||!1===_.visible))}}function ya(b,m){if(1&b&&u._UZ(0,"li",14),2&b){const d=u.oxw().$implicit,_=u.oxw().$implicit;u.Tol(d.styleClass),u.Q6J("pMenuItemContent",d)("ngClass",u.VKq(6,ss,!1===d.visible||!1===_.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions)}}function go(b,m){if(1&b&&(u.YNc(0,Ks,1,3,"li",6),u.YNc(1,ya,1,8,"li",13)),2&b){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}function Ql(b,m){if(1&b&&(u.YNc(0,oo,1,3,"li",6),u.YNc(1,Jo,4,7,"li",7),u.YNc(2,go,2,2,"ng-template",5)),2&b){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator),u.xp6(1),u.Q6J("ngForOf",d.items)}}function as(b,m){if(1&b&&u.YNc(0,Ql,3,3,"ng-template",5),2&b){const d=u.oxw(2);u.Q6J("ngForOf",d.model)}}function Do(b,m){if(1&b&&u._UZ(0,"li",8),2&b){const d=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,ss,!1===d.visible))}}function ao(b,m){if(1&b&&u._UZ(0,"li",14),2&b){const d=u.oxw().$implicit;u.Tol(d.styleClass),u.Q6J("pMenuItemContent",d)("ngClass",u.VKq(6,ss,!1===d.visible))("ngStyle",d.style)("tooltipOptions",d.tooltipOptions)}}function Xo(b,m){if(1&b&&(u.YNc(0,Do,1,3,"li",6),u.YNc(1,ao,1,8,"li",13)),2&b){const d=m.$implicit;u.Q6J("ngIf",d.separator),u.xp6(1),u.Q6J("ngIf",!d.separator)}}function Jl(b,m){if(1&b&&u.YNc(0,Xo,2,2,"ng-template",5),2&b){const d=u.oxw(2);u.Q6J("ngForOf",d.model)}}const _a=function(b){return{"p-menu p-component":!0,"p-menu-overlay":b}},Vl=function(b,m){return{showTransitionParams:b,hideTransitionParams:m}},So=function(b){return{value:"visible",params:b}};function va(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayClick(N))})("@overlayAnimation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationStart(N))})("@overlayAnimation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onOverlayAnimationEnd(N))}),u.TgZ(2,"ul",3),u.YNc(3,as,1,1,null,4),u.YNc(4,Jl,1,1,null,4),u.qZA()()}if(2&b){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("ngClass",u.VKq(8,_a,d.popup))("ngStyle",d.style)("@overlayAnimation",u.VKq(13,So,u.WLB(10,Vl,d.showTransitionOptions,d.hideTransitionOptions)))("@.disabled",!0!==d.popup),u.xp6(3),u.Q6J("ngIf",d.hasSubMenu()),u.xp6(1),u.Q6J("ngIf",!d.hasSubMenu())}}let R=(()=>{class b{constructor(d){this.menu=d}onItemKeyDown(d){let _=d.currentTarget.parentElement;switch(d.code){case"ArrowDown":var N=this.findNextItem(_);N&&N.children[0].focus(),d.preventDefault();break;case"ArrowUp":var q=this.findPrevItem(_);q&&q.children[0].focus(),d.preventDefault();break;case"Space":case"Enter":_&&!xr.p.hasClass(_,"p-disabled")&&_.children[0].click(),d.preventDefault()}}findNextItem(d){let _=d.nextElementSibling;return _?xr.p.hasClass(_,"p-disabled")||!xr.p.hasClass(_,"p-menuitem")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?xr.p.hasClass(_,"p-disabled")||!xr.p.hasClass(_,"p-menuitem")?this.findPrevItem(_):_:null}}return b.\u0275fac=function(d){return new(d||b)(u.Y36((0,u.Gpc)(()=>H)))},b.\u0275cmp=u.Xpm({type:b,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:Wi,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(d,_){1&d&&(u.YNc(0,se,6,14,"a",0),u.YNc(1,Rn,6,23,"a",1)),2&d&&(u.Q6J("ngIf",!_.item.routerLink),u.xp6(1),u.Q6J("ngIf",_.item.routerLink))},dependencies:[nr.mk,nr.O5,nr.PC,Ui.yS,Ui.Od,fr.H],encapsulation:2}),b})(),H=(()=>{class b{constructor(d,_,N,q,pe){this.el=d,this.renderer=_,this.cd=N,this.config=q,this.overlayService=pe,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new u.vpe,this.onHide=new u.vpe}toggle(d){this.visible?this.hide():this.show(d),this.preventDocumentDefault=!0}show(d){this.target=d.currentTarget,this.relativeAlign=d.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(d){switch(d.toState){case"visible":this.popup&&(this.container=d.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(d){"void"===d.toState&&this.autoZIndex&&rs.P9.clear(d.element)}alignOverlay(){this.relativeAlign?xr.p.relativePosition(this.container,this.target):xr.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):xr.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&rs.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!xr.p.isTouchDevice()&&this.hide()}itemClick(d,_){_.disabled?d.preventDefault():(!_.url&&!_.routerLink&&d.preventDefault(),_.command&&_.command({originalEvent:d,item:_}),this.popup&&this.hide())}onOverlayClick(d){this.popup&&this.overlayService.add({originalEvent:d,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xr.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&rs.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var d of this.model)if(d.items)return!0;return!1}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(en.b4),u.Y36(en.F0))},b.\u0275cmp=u.Xpm({type:b,selectors:[["p-menu"]],viewQuery:function(d,_){if(1&d&&u.Gf(Qr,5),2&d){let N;u.iGM(N=u.CRH())&&(_.containerViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(d,_){1&d&&u.YNc(0,va,5,15,"div",0),2&d&&u.Q6J("ngIf",!_.popup||_.visible)},dependencies:[nr.mk,nr.sg,nr.O5,nr.PC,Ii.u,R],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{display:flex;align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),b})(),ae=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[nr.ez,Ui.Bz,fr.T,Ii.z,Ui.Bz,Ii.z]}),b})();const Te=function(b,m){return{showTransitionParams:b,hideTransitionParams:m}},it=function(b){return{value:"open",params:b}};function Tt(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"button",1),u.NdJ("@animation.start",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onEnter(N))})("@animation.done",function(N){u.CHM(d);const q=u.oxw();return u.KtG(q.onLeave(N))})("click",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.onClick())}),u._UZ(1,"span",2),u.qZA()}if(2&b){const d=u.oxw();u.Tol(d.styleClass),u.Q6J("@animation",u.VKq(11,it,u.WLB(8,Te,d.showTransitionOptions,d.hideTransitionOptions)))("ngClass",d.containerClass())("ngStyle",d.style),u.xp6(1),u.Tol(d.icon),u.Q6J("ngClass","p-scrolltop-icon")}}let Gt=(()=>{class b{constructor(d,_,N){this.el=d,this.cd=_,this.config=N,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(d){switch(d.toState){case"open":this.overlay=d.element,rs.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(d){"void"===d.toState&&rs.P9.clear(d.element)}checkVisibility(d){this.visible=d>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(xr.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(rs.P9.clear(this.overlay),this.overlay=null)}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(en.b4))},b.\u0275cmp=u.Xpm({type:b,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(d,_){1&d&&u.YNc(0,Tt,2,13,"button",0),2&d&&u.Q6J("ngIf",_.visible)},dependencies:[nr.mk,nr.O5,nr.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,k.X$)("animation",[(0,k.SB)("void",(0,k.oB)({opacity:0})),(0,k.SB)("open",(0,k.oB)({opacity:1})),(0,k.eR)("void => open",(0,k.jt)("{{showTransitionParams}}")),(0,k.eR)("open => void",(0,k.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),b})(),Cn=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[nr.ez]}),b})();var ir=M(5700),_r=M(1167),zn=M(433);const tr=["headerchkbox"],vr=["filter"];function eo(b,m){1&b&&u.GkF(0)}function Ka(b,m){if(1&b&&(u.TgZ(0,"div",6),u.Hsn(1),u.YNc(2,eo,1,0,"ng-container",7),u.qZA()),2&b){const d=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",d.headerTemplate)}}const Ss=function(b){return{"p-checkbox-disabled":b}},Ea=function(b,m,d){return{"p-highlight":b,"p-focus":m,"p-disabled":d}},Ra=function(b){return{"pi pi-check":b}};function Za(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"div",11)(1,"div",12)(2,"input",13),u.NdJ("focus",function(){u.CHM(d);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxFocus())})("blur",function(){u.CHM(d);const N=u.oxw(2);return u.KtG(N.onHeaderCheckboxBlur())})("keydown.space",function(N){u.CHM(d);const q=u.oxw(2);return u.KtG(q.toggleAll(N))}),u.qZA()(),u.TgZ(3,"div",14,15),u.NdJ("click",function(N){u.CHM(d);const q=u.oxw(2);return u.KtG(q.toggleAll(N))}),u._UZ(5,"span",16),u.qZA()()}if(2&b){const d=u.oxw(2);u.Q6J("ngClass",u.VKq(5,Ss,d.disabled||d.toggleAllDisabled)),u.xp6(2),u.Q6J("checked",d.allChecked)("disabled",d.disabled||d.toggleAllDisabled),u.xp6(1),u.Q6J("ngClass",u.kEZ(7,Ea,d.allChecked,d.headerCheckboxFocus,d.disabled||d.toggleAllDisabled)),u.xp6(2),u.Q6J("ngClass",u.VKq(11,Ra,d.allChecked))}}function ba(b,m){1&b&&u.GkF(0)}const mo=function(b){return{options:b}};function Ao(b,m){if(1&b&&(u.ynx(0),u.YNc(1,ba,1,0,"ng-container",17),u.BQk()),2&b){const d=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",d.filterTemplate)("ngTemplateOutletContext",u.VKq(2,mo,d.filterOptions))}}function fs(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"div",19)(1,"input",20,21),u.NdJ("input",function(N){u.CHM(d);const q=u.oxw(3);return u.KtG(q.onFilter(N))}),u.qZA(),u._UZ(3,"span",22),u.qZA()}if(2&b){const d=u.oxw(3);u.xp6(1),u.Q6J("value",d.filterValue||"")("disabled",d.disabled),u.uIk("placeholder",d.filterPlaceHolder)("aria-label",d.ariaFilterLabel)}}function zd(b,m){if(1&b&&u.YNc(0,fs,4,4,"div",18),2&b){const d=u.oxw(2);u.Q6J("ngIf",d.filter)}}function pc(b,m){if(1&b&&(u.TgZ(0,"div",6),u.YNc(1,Za,6,13,"div",8),u.YNc(2,Ao,2,4,"ng-container",9),u.YNc(3,zd,1,1,"ng-template",null,10,u.W1O),u.qZA()),2&b){const d=u.MAs(4),_=u.oxw();u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll),u.xp6(1),u.Q6J("ngIf",_.filterTemplate)("ngIfElse",d)}}function Yc(b,m){if(1&b&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&b){const d=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionGroupLabel(d)||"empty")}}function Hu(b,m){1&b&&u.GkF(0)}function Qc(b,m){1&b&&u.GkF(0)}const $u=function(b){return{$implicit:b}};function gc(b,m){if(1&b&&(u.TgZ(0,"li",24),u.YNc(1,Yc,2,1,"span",3),u.YNc(2,Hu,1,0,"ng-container",17),u.qZA(),u.YNc(3,Qc,1,0,"ng-container",17)),2&b){const d=m.$implicit,_=u.oxw(2),N=u.MAs(8);u.xp6(1),u.Q6J("ngIf",!_.groupTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",_.groupTemplate)("ngTemplateOutletContext",u.VKq(5,$u,d)),u.xp6(1),u.Q6J("ngTemplateOutlet",N)("ngTemplateOutletContext",u.VKq(7,$u,_.getOptionGroupChildren(d)))}}function mu(b,m){if(1&b&&(u.ynx(0),u.YNc(1,gc,4,9,"ng-template",23),u.BQk()),2&b){const d=u.oxw();u.xp6(1),u.Q6J("ngForOf",d.optionsToRender)}}function ea(b,m){1&b&&u.GkF(0)}function Ul(b,m){if(1&b&&(u.ynx(0),u.YNc(1,ea,1,0,"ng-container",17),u.BQk()),2&b){const d=u.oxw(),_=u.MAs(8);u.xp6(1),u.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",u.VKq(2,$u,d.optionsToRender))}}const mc=function(b){return{"p-highlight":b}};function Jc(b,m){if(1&b&&(u.TgZ(0,"div",11)(1,"div",28),u._UZ(2,"span",16),u.qZA()()),2&b){const d=u.oxw().$implicit,_=u.oxw(2);u.Q6J("ngClass",u.VKq(3,Ss,_.disabled||_.isOptionDisabled(d))),u.xp6(1),u.Q6J("ngClass",u.VKq(5,mc,_.isSelected(d))),u.xp6(1),u.Q6J("ngClass",u.VKq(7,Ra,_.isSelected(d)))}}function ju(b,m){if(1&b&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&b){const d=u.oxw().$implicit,_=u.oxw(2);u.xp6(1),u.Oqu(_.getOptionLabel(d))}}function dl(b,m){1&b&&u.GkF(0)}const yu=function(b,m){return{"p-listbox-item":!0,"p-highlight":b,"p-disabled":m}},Bl=function(b,m){return{$implicit:b,index:m}};function yc(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"li",27),u.NdJ("click",function(N){const pe=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionClick(N,pe))})("dblclick",function(N){const pe=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionDoubleClick(N,pe))})("touchend",function(){const q=u.CHM(d).$implicit,pe=u.oxw(2);return u.KtG(pe.onOptionTouchEnd(q))})("keydown",function(N){const pe=u.CHM(d).$implicit,xe=u.oxw(2);return u.KtG(xe.onOptionKeyDown(N,pe))}),u.YNc(1,Jc,3,9,"div",8),u.YNc(2,ju,2,1,"span",3),u.YNc(3,dl,1,0,"ng-container",17),u.qZA()}if(2&b){const d=m.$implicit,_=m.index,N=u.oxw(2);u.Q6J("ngClass",u.WLB(8,yu,N.isSelected(d),N.isOptionDisabled(d))),u.uIk("tabindex",N.disabled||N.isOptionDisabled(d)?null:"0")("aria-label",N.getOptionLabel(d))("aria-selected",N.isSelected(d)),u.xp6(1),u.Q6J("ngIf",N.checkbox&&N.multiple),u.xp6(1),u.Q6J("ngIf",!N.itemTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",N.itemTemplate)("ngTemplateOutletContext",u.WLB(11,Bl,d,_))}}function hl(b,m){if(1&b&&(u.ynx(0),u._uU(1),u.BQk()),2&b){const d=u.oxw(3);u.xp6(1),u.hij(" ",d.emptyFilterMessageLabel," ")}}function Xl(b,m){1&b&&u.GkF(0,null,30)}function fl(b,m){if(1&b&&(u.TgZ(0,"li",29),u.YNc(1,hl,2,1,"ng-container",9),u.YNc(2,Xl,2,0,"ng-container",7),u.qZA()),2&b){const d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!d.emptyFilterTemplate&&!d.emptyTemplate)("ngIfElse",d.emptyFilter),u.xp6(1),u.Q6J("ngTemplateOutlet",d.emptyFilterTemplate||d.emptyTemplate)}}function Hl(b,m){if(1&b&&(u.ynx(0),u._uU(1),u.BQk()),2&b){const d=u.oxw(3);u.xp6(1),u.hij(" ",d.emptyMessageLabel," ")}}function ta(b,m){1&b&&u.GkF(0,null,31)}function Xc(b,m){if(1&b&&(u.TgZ(0,"li",29),u.YNc(1,Hl,2,1,"ng-container",9),u.YNc(2,ta,2,0,"ng-container",7),u.qZA()),2&b){const d=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!d.emptyTemplate)("ngIfElse",d.empty),u.xp6(1),u.Q6J("ngTemplateOutlet",d.emptyTemplate)}}function qa(b,m){if(1&b&&(u.YNc(0,yc,4,14,"li",25),u.YNc(1,fl,3,3,"li",26),u.YNc(2,Xc,3,3,"li",26)),2&b){const d=m.$implicit,_=u.oxw();u.Q6J("ngForOf",d),u.xp6(1),u.Q6J("ngIf",_.hasFilter()&&_.isEmpty(d)),u.xp6(1),u.Q6J("ngIf",!_.hasFilter()&&_.isEmpty(d))}}function _u(b,m){1&b&&u.GkF(0)}function vu(b,m){if(1&b&&(u.TgZ(0,"div",32),u.Hsn(1,1),u.YNc(2,_u,1,0,"ng-container",7),u.qZA()),2&b){const d=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",d.footerTemplate)}}const Eu=[[["p-header"]],[["p-footer"]]],Wu=function(b){return{"p-listbox p-component":!0,"p-disabled":b}},Na=["p-header","p-footer"],ed={provide:zn.JU,useExisting:(0,u.Gpc)(()=>bu),multi:!0};let bu=(()=>{class b{constructor(d,_,N,q){this.el=d,this.cd=_,this.filterService=N,this.config=q,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new u.vpe,this.onClick=new u.vpe,this.onDblClick=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(d){this._options=d,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(d){this._filterValue=d,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:d=>this.onFilter(d),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(d=>{switch(d.getType()){case"item":default:this.itemTemplate=d.template;break;case"group":this.groupTemplate=d.template;break;case"header":this.headerTemplate=d.template;break;case"filter":this.filterTemplate=d.template;break;case"footer":this.footerTemplate=d.template;break;case"empty":this.emptyTemplate=d.template;break;case"emptyfilter":this.emptyFilterTemplate=d.template}})}getOptionLabel(d){return this.optionLabel?rs.gb.resolveFieldData(d,this.optionLabel):null!=d.label?d.label:d}getOptionGroupChildren(d){return this.optionGroupChildren?rs.gb.resolveFieldData(d,this.optionGroupChildren):d.items}getOptionGroupLabel(d){return this.optionGroupLabel?rs.gb.resolveFieldData(d,this.optionGroupLabel):null!=d.label?d.label:d}getOptionValue(d){return this.optionValue?rs.gb.resolveFieldData(d,this.optionValue):this.optionLabel||void 0===d.value?d:d.value}isOptionDisabled(d){return this.optionDisabled?rs.gb.resolveFieldData(d,this.optionDisabled):void 0!==d.disabled&&d.disabled}writeValue(d){this.value=d,this.cd.markForCheck()}registerOnChange(d){this.onModelChange=d}registerOnTouched(d){this.onModelTouched=d}setDisabledState(d){this.disabled=d,this.cd.markForCheck()}onOptionClick(d,_){this.disabled||this.isOptionDisabled(_)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(d,_):this.onOptionClickMultiple(d,_):this.onOptionClickSingle(d,_),this.onClick.emit({originalEvent:d,option:_,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(d){this.disabled||this.isOptionDisabled(d)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(d,_){this.disabled||this.isOptionDisabled(_)||this.readonly||this.onDblClick.emit({originalEvent:d,option:_,value:this.value})}onOptionClickSingle(d,_){let N=this.isSelected(_),q=!1;if(!this.optionTouched&&this.metaKeySelection){let xe=d.metaKey||d.ctrlKey;N?xe&&(this.value=null,q=!0):(this.value=this.getOptionValue(_),q=!0)}else this.value=N?null:this.getOptionValue(_),q=!0;q&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}onOptionClickMultiple(d,_){let N=this.isSelected(_),q=!1;if(!this.optionTouched&&this.metaKeySelection){let xe=d.metaKey||d.ctrlKey;N?(xe?this.removeOption(_):this.value=[this.getOptionValue(_)],q=!0):(this.value=xe&&this.value||[],this.value=[...this.value,this.getOptionValue(_)],q=!0)}else N?this.removeOption(_):this.value=[...this.value||[],this.getOptionValue(_)],q=!0;q&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}onOptionClickCheckbox(d,_){this.disabled||this.readonly||(this.isSelected(_)?this.removeOption(_):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(_)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}))}removeOption(d){this.value=this.value.filter(_=>!rs.gb.equals(_,this.getOptionValue(d),this.dataKey))}isSelected(d){let _=!1,N=this.getOptionValue(d);if(this.multiple){if(this.value)for(let q of this.value)if(rs.gb.equals(q,N,this.dataKey)){_=!0;break}}else _=rs.gb.equals(this.value,N,this.dataKey);return _}get allChecked(){let d=this.optionsToRender;if(!d||0===d.length)return!1;{let _=0,N=0,q=0,pe=this.group?0:this.optionsToRender.length;for(let xe of d)if(this.group)for(let ft of this.getOptionGroupChildren(xe)){let Rt=this.isOptionDisabled(ft),cn=this.isSelected(ft);if(Rt)cn?_++:N++;else{if(!cn)return!1;q++}pe++}else{let ft=this.isOptionDisabled(xe),Rt=this.isSelected(xe);if(ft)Rt?_++:N++;else{if(!Rt)return!1;q++}}return pe===_||pe===q||q&&pe===q+N+_}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(en.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(en.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(d){return!d||d&&0===d.length}onFilter(d){this._filterValue=d.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let d=(this.filterBy||this.optionLabel||"label").split(","),_=[];for(let N of this.options){let q=this.filterService.filter(this.getOptionGroupChildren(N),d,this.filterValue,this.filterMatchMode,this.filterLocale);q&&q.length&&_.push({...N,[this.optionGroupChildren]:q})}this._filteredOptions=_}else this._filteredOptions=this._options.filter(d=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(d),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let d=this.optionsToRender;if(!d||0===d.length)return!0;for(let _ of d)if(!this.isOptionDisabled(_))return!1;return!0}toggleAll(d){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:d,value:this.value}),d.preventDefault())}checkAll(){let _=[];this.optionsToRender.forEach(N=>{if(this.group){let q=this.getOptionGroupChildren(N);q&&q.forEach(pe=>{let xe=this.isOptionDisabled(pe);(!xe||xe&&this.isSelected(pe))&&_.push(this.getOptionValue(pe))})}else{let q=this.isOptionDisabled(N);(!q||q&&this.isSelected(N))&&_.push(this.getOptionValue(N))}}),this.value=_}uncheckAll(){let _=[];this.optionsToRender.forEach(N=>{this.group?N.items&&N.items.forEach(q=>{this.isOptionDisabled(q)&&this.isSelected(q)&&_.push(this.getOptionValue(q))}):this.isOptionDisabled(N)&&this.isSelected(N)&&_.push(this.getOptionValue(N))}),this.value=_}onOptionKeyDown(d,_){if(this.readonly)return;let N=d.currentTarget;switch(d.which){case 40:var q=this.findNextItem(N);q&&q.focus(),d.preventDefault();break;case 38:var pe=this.findPrevItem(N);pe&&pe.focus(),d.preventDefault();break;case 13:this.onOptionClick(d,_),d.preventDefault()}}findNextItem(d){let _=d.nextElementSibling;return _?xr.p.hasClass(_,"p-disabled")||xr.p.isHidden(_)||xr.p.hasClass(_,"p-listbox-item-group")?this.findNextItem(_):_:null}findPrevItem(d){let _=d.previousElementSibling;return _?xr.p.hasClass(_,"p-disabled")||xr.p.isHidden(_)||xr.p.hasClass(_,"p-listbox-item-group")?this.findPrevItem(_):_:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(en.iZ),u.Y36(en.b4))},b.\u0275cmp=u.Xpm({type:b,selectors:[["p-listbox"]],contentQueries:function(d,_,N){if(1&d&&(u.Suo(N,en.h4,5),u.Suo(N,en.$_,5),u.Suo(N,en.jx,4)),2&d){let q;u.iGM(q=u.CRH())&&(_.headerFacet=q.first),u.iGM(q=u.CRH())&&(_.footerFacet=q.first),u.iGM(q=u.CRH())&&(_.templates=q)}},viewQuery:function(d,_){if(1&d&&(u.Gf(tr,5),u.Gf(vr,5)),2&d){let N;u.iGM(N=u.CRH())&&(_.headerCheckboxViewChild=N.first),u.iGM(N=u.CRH())&&(_.filterViewChild=N.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[u._Bn([ed])],ngContentSelectors:Na,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(d,_){1&d&&(u.F$t(Eu),u.TgZ(0,"div",0),u.YNc(1,Ka,3,1,"div",1),u.YNc(2,pc,5,3,"div",1),u.TgZ(3,"div",0)(4,"ul",2),u.YNc(5,mu,2,1,"ng-container",3),u.YNc(6,Ul,2,4,"ng-container",3),u.YNc(7,qa,3,3,"ng-template",null,4,u.W1O),u.qZA()(),u.YNc(9,vu,3,1,"div",5),u.qZA()),2&d&&(u.Tol(_.styleClass),u.Q6J("ngClass",u.VKq(13,Wu,_.disabled))("ngStyle",_.style),u.xp6(1),u.Q6J("ngIf",_.headerFacet||_.headerTemplate),u.xp6(1),u.Q6J("ngIf",_.checkbox&&_.multiple&&_.showToggleAll||_.filter),u.xp6(1),u.Tol(_.listStyleClass),u.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",_.listStyle),u.xp6(2),u.Q6J("ngIf",_.group),u.xp6(1),u.Q6J("ngIf",!_.group),u.xp6(3),u.Q6J("ngIf",_.footerFacet||_.footerTemplate))},dependencies:[nr.mk,nr.sg,nr.O5,nr.tP,nr.PC,fr.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),b})(),_c=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({imports:[nr.ez,en.m8,fr.T,en.m8]}),b})();var ws=M(4458);const eu=(0,Hr.PH)("FILL_BLOG",(0,Hr.Ky)()),wa=(0,Hr.PH)("RESET_BLOG"),Cl=(0,Hr.PH)("FILL_ADOPTION",(0,Hr.Ky)()),Gu=(0,Hr.PH)("RESET_ADOPTION");var Tl=M(4382),pl=M(7556);const zu=function(){return{exact:!1}};let Dl=(()=>{class b{constructor(d,_){this._router=d,this._authService=_,this.storeMenuItems=[{label:"Cat",icon:"fa-solid fa-cat",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Cat},fragment:"anchor"})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Cat,category:Oi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Cat,category:Oi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Cat,category:Oi.P.Grooming}})}}]},{label:"Dog",icon:"fa-solid fa-dog",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Dog}})},items:[{label:"Dry Food",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Dog,category:Oi.P.Supplies}})}},{label:"Litter",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Dog,category:Oi.P.Litter}})}},{label:"Grooming",command:()=>{this._router.navigate(["/store/products"],{queryParams:{animalType:hi.D.Dog,category:Oi.P.Grooming}})}}]}],this.userMenuItems=[]}ngOnInit(){this.userMenuItems=[{items:this.getUserItems()}]}getUserItems(){let d=[];return d=localStorage.getItem("token")?[{label:"Profile",icon:"pi pi-user",command:()=>{this._router.navigate(["/auth/profile"])}},{label:"Cart",icon:"pi pi-shopping-cart",command:()=>{this._router.navigate(["/store/cart"])}},{label:"Wishlist",icon:"pi pi-heart-fill",command:()=>{this._router.navigate(["/store/wishlist"])}},{label:"Logout",icon:"pi pi-sign-out",command:()=>{this.logout()}}]:[{label:"Sign In",icon:"pi pi-sign-in",command:()=>{this._router.navigate(["/auth/login"])}},{label:"Sign Up",icon:"pi pi-user-plus",command:()=>{this._router.navigate(["/auth/register"])}}],d}logout(){this._authService.logout().then(d=>{if(localStorage.clear(),window.location.href.includes("github")){let _=window.location.href,N=_.substring(0,_.indexOf("io/")+3),q=_.replace(N,"");window.location.href=N+q.substring(0,q.indexOf("/")+1)}else window.location.href="/"})}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(Ui.F0),u.Y36(pl.e))},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-nav-bar"]],decls:46,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light","sticky-top","d-flex","flex-column"],[1,"container"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-2","navbar__logo-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mx-3","mx-lg-0","mt-3","mt-lg-0","justify-content-end"],[1,"nav-item","mx-2","d-lg-flex","justify-content-center","align-items-center","d-none"],["pButton","","pRipple","","type","button","icon","fa-solid fa-user",1,"p-button-rounded","p-button","navbar__user-btn",3,"click"],[3,"popup","model"],["userMenu",""],[1,"nav-item","mx-2","d-lg-none","my-lg-3","pt-2","pt-lg-0"],["type","button","pButton","",1,"navbar__store-btn","p-0",3,"click"],["btn",""],[1,"pi","pi-user","me-2"],[1,"pi","pi-angle-down","ms-3"],["styleClass","mt-2",3,"popup","model"],["smallUserMenu",""],[1,"container","my-lg-3"],["id","navbarSupportedContent",1,"navbar__links","collapse","navbar-collapse"],[1,"navbar-nav","mb-2","mb-lg-0","mx-3","d-lg-flex","justify-content-center","w-100"],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/home",1,"nav-link"],[1,"fa-solid","fa-house","me-1"],["routerLinkActive","active",1,"nav-item","d-lg-flex","justify-content-center","align-items-center","px-lg-3","px-2",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-bag-shopping","me-2"],[1,"pi","pi-angle-down","ms-2"],["styleClass","mt-2",3,"model","popup"],["storeMenu",""],["routerLinkActive","active",1,"nav-item","px-2","d-lg-flex","justify-content-center","align-items-center"],["routerLink","/adoption",1,"nav-link"],[1,"fa-solid","fa-hand-holding-heart","me-1"],["routerLink","/blog",1,"nav-link"],[1,"fa-solid","fa-newspaper"]],template:function(d,_){if(1&d){const N=u.EpF();u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"figure",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"p",5)(6,"b"),u._uU(7,"Happy Paws"),u.qZA()()(),u.TgZ(8,"button",6),u._UZ(9,"span",7),u.qZA(),u.TgZ(10,"div",8)(11,"div",9)(12,"button",10),u.NdJ("click",function(pe){u.CHM(N);const xe=u.MAs(14);return u.KtG(xe.toggle(pe))}),u.qZA(),u._UZ(13,"p-menu",11,12),u.qZA(),u.TgZ(15,"div",13)(16,"button",14,15),u.NdJ("click",function(pe){u.CHM(N);const xe=u.MAs(22);return u.KtG(xe.toggle(pe))}),u._UZ(18,"i",16),u._uU(19," User "),u._UZ(20,"i",17),u.qZA(),u._UZ(21,"p-menu",18,19),u.qZA()()(),u.TgZ(23,"div",20)(24,"div",21)(25,"ul",22)(26,"li",23)(27,"a",24),u._UZ(28,"i",25),u._uU(29," Home"),u.qZA()(),u.TgZ(30,"li",26)(31,"button",14,15),u.NdJ("click",function(pe){u.CHM(N);const xe=u.MAs(37);return u.KtG(xe.toggle(pe))}),u._UZ(33,"i",27),u._uU(34," Store "),u._UZ(35,"i",28),u.qZA(),u._UZ(36,"p-tieredMenu",29,30),u.qZA(),u.TgZ(38,"li",31)(39,"a",32),u._UZ(40,"i",33),u._uU(41," Adoption"),u.qZA()(),u.TgZ(42,"li",31)(43,"a",34),u._UZ(44,"i",35),u._uU(45," Blog"),u.qZA()()()()()()}2&d&&(u.xp6(13),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(8),u.Q6J("popup",!0)("model",_.userMenuItems),u.xp6(5),u.Q6J("routerLinkActiveOptions",u.DdM(8,zu)),u.xp6(4),u.Q6J("routerLinkActiveOptions",u.DdM(9,zu)),u.xp6(6),u.Q6J("model",_.storeMenuItems)("popup",!0))},dependencies:[H,Ui.yS,Ui.Od,Wo.Hq,es],styles:[".navbar[_ngcontent-%COMP%]{background-color:var(--auth-background)}.navbar[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{font-size:0;width:20%}.navbar[_ngcontent-%COMP%]   .navbar__logo-text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--dark-grey-color);font-family:Pattaya,sans-serif;font-size:1.6rem}.navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--pink-color)}[_nghost-%COMP%]     .p-button-label{display:none}[_nghost-%COMP%]     .p-menu .p-submenu-header{display:none}[_nghost-%COMP%]     .navbar__user-btn{background-color:#fff;color:var(--dark-grey-color);border:1px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover, [_nghost-%COMP%]     .navbar__user-btn:active{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:hover:active, [_nghost-%COMP%]     .navbar__user-btn:hover:focus{background-color:var(--pink-color);color:#fff;border:2px solid var(--pink-color)}[_nghost-%COMP%]     .navbar__user-btn:focus{outline:var(--pink-color);box-shadow:0 0 0 2px #fff,0 0 0 4px var(--pink-color),0 1px 2px #000;color:var(--grey-color)}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link{background:#e9ecef}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-text, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-menuitem-icon, [_nghost-%COMP%]     .p-tieredmenu .p-menuitem.p-menuitem-active>.p-menuitem-link .p-submenu-icon{color:#495057}[_nghost-%COMP%]     .p-tieredmenu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .p-menu .p-menuitem-link:focus{box-shadow:none}[_nghost-%COMP%]     .navbar__store-btn{background-color:transparent;border:transparent;color:#0000008c;margin:.5rem 0}[_nghost-%COMP%]     .navbar__store-btn:hover{background-color:transparent;border:transparent}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#000}@media (min-width: 992px){.navbar__links[_ngcontent-%COMP%]{border-radius:20px;background-color:var(--grey-color)}.navbar__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus, .navbar__links[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:var(--pink-color)}[_nghost-%COMP%]     .navbar__store-btn{color:#fff}[_nghost-%COMP%]     .navbar__store-btn:focus{outline:none;box-shadow:none;color:#fff}}"]}),b})();function vc(b,m){1&b&&(u.TgZ(0,"div",13)(1,"li",14)(2,"a",30),u._uU(3,"LogIn"),u.qZA()(),u.TgZ(4,"li",31)(5,"a",32),u._uU(6,"Register"),u.qZA()()())}function I(b,m){if(1&b){const d=u.EpF();u.TgZ(0,"div",13)(1,"li",14)(2,"a",33),u.NdJ("click",function(){u.CHM(d);const N=u.oxw();return u.KtG(N.logout())}),u._uU(3,"Logout"),u.qZA()(),u.TgZ(4,"li",14)(5,"a",34),u._uU(6,"Profile"),u.qZA()(),u.TgZ(7,"li",14)(8,"a",35),u._uU(9,"Cart"),u.qZA()(),u.TgZ(10,"li",31)(11,"a",36),u._uU(12,"Wishlist"),u.qZA()()()}}const g=function(b){return{animalType:b}};let y=(()=>{class b{constructor(d){this._authService=d,this.loggedIn="",this.cat=hi.D.Cat,this.dog=hi.D.Dog}ngOnInit(){this.loggedIn=localStorage.getItem("token")}logout(){this._authService.logout().then(()=>{if(localStorage.clear(),window.location.href.includes("github")){let d=window.location.href,_=d.substring(0,d.indexOf("io/")+3),N=d.replace(_,"");window.location.href=_+N.substring(0,N.indexOf("/")+1)}else window.location.href="/"})}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(pl.e))},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-footer"]],decls:52,vars:8,consts:[[1,"bg-footer","text-white"],[1,"container","py-2"],[1,"logo"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","mx-auto","mt-3"],[1,"d-inline-block","m-0"],["src","assets/icons/icon-72x72.png","alt","logo-image",1,"img-fluid"],[1,"d-inline-block","my-0","ms-3","text-light","fs-3","login__logo-text"],[1,"infoContainer","d-md-flex","justify-content-between","mt-3"],[1,"important-links","ms-5","px-4"],[1,"fs-4","m-1"],[1,"p-0"],[3,"ngIf","ngIfElse"],["elseBlock",""],[1,"ms-3"],[1,"mb-2"],["routerLink","/store",3,"queryParams"],[1,"important-links","me-lg-5","ms-5","ms-lg-0","px-4"],["routerLink","/blog"],["routerLink","/adoption"],[1,"socialMedia","d-flex","justify-content-center"],["href","https://www.facebook.com/","target","_blank"],[1,"pi","pi-facebook"],["href","https://www.instagram.com/","target","_blank"],[1,"pi","pi-instagram"],["href","https://www.youtube.com/","target","_blank"],["target","_blank",1,"pi","pi-youtube"],["href","https://twitter.com/","target","_blank"],["target","_blank",1,"pi","pi-twitter"],[1,"copyrights","text-center","m-3"],[1,"__copyrights"],["routerLink","/auth/login"],[1,""],["routerLink","/auth/register"],["routerLink","",3,"click"],["routerLink","/auth/profile"],["routerLink","/store/cart"],["routerLink","/store/wishlist"]],template:function(d,_){if(1&d&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"figure",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"h1",6)(7,"b"),u._uU(8,"Happy Paws"),u.qZA()()()(),u.TgZ(9,"div",7)(10,"div",8)(11,"p",9),u._uU(12,"Account"),u.qZA(),u.TgZ(13,"ul",10),u.YNc(14,vc,7,0,"ng-template",11),u.YNc(15,I,13,0,"ng-template",null,12,u.W1O),u.qZA()(),u.TgZ(17,"div",8)(18,"p",9),u._uU(19,"Store"),u.qZA(),u.TgZ(20,"ul",10)(21,"div",13)(22,"li",14)(23,"a",15),u._uU(24,"Cat"),u.qZA()(),u.TgZ(25,"li")(26,"a",15),u._uU(27,"Dog"),u.qZA()()()()(),u.TgZ(28,"div",16)(29,"p",9),u._uU(30,"Others"),u.qZA(),u.TgZ(31,"ul",10)(32,"div",13)(33,"li",14)(34,"a",17),u._uU(35,"Blog"),u.qZA()(),u.TgZ(36,"li")(37,"a",18),u._uU(38,"Adoption"),u.qZA()()()()()(),u._UZ(39,"hr"),u.TgZ(40,"div",19)(41,"a",20),u._UZ(42,"i",21),u.qZA(),u.TgZ(43,"a",22),u._UZ(44,"i",23),u.qZA(),u.TgZ(45,"a",24),u._UZ(46,"i",25),u.qZA(),u.TgZ(47,"a",26),u._UZ(48,"i",27),u.qZA()(),u.TgZ(49,"div",28)(50,"p",29),u._uU(51,"\xa9Copyright All rights reserved 2022"),u.qZA()()()()),2&d){const N=u.MAs(16);u.xp6(14),u.Q6J("ngIf",""===_.loggedIn)("ngIfElse",N),u.xp6(9),u.Q6J("queryParams",u.VKq(4,g,_.cat)),u.xp6(3),u.Q6J("queryParams",u.VKq(6,g,_.dog))}},dependencies:[Ui.yS,nr.O5],styles:["footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#a9a9a9}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:Pattaya,sans-serif}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:30px}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .footerText[_ngcontent-%COMP%]{color:#a9a9a9}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px}footer[_ngcontent-%COMP%]   .socialMedia[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#fff}footer[_ngcontent-%COMP%]   .copyrights[_ngcontent-%COMP%]   .__copyrights[_ngcontent-%COMP%]{font-size:.75rem;color:#a9a9a9}.bg-footer[_ngcontent-%COMP%]{background-color:var(--dark-grey-color)}"]}),b})();function S(b,m){1&b&&u._UZ(0,"app-nav-bar")}function re(b,m){1&b&&u._UZ(0,"app-footer")}let me=(()=>{class b{constructor(d,_,N,q){this._router=d,this._primengConfig=_,this._firestoreService=N,this._store=q,this._subscription=[],this.title="Happy Paws",this.showNavbarFooter=!1}ngOnInit(){this._primengConfig.ripple=!0,this.activeRoute(),this.fetchAllAnimals(),this.fetchAllBlogArticles(),this.fetchAllProducts(),localStorage.getItem("userID")&&(this.fetchAllCartItems(),this.fetchAllWishlist())}ngOnDestroy(){this._subscription.forEach(d=>{d.unsubscribe()})}activeRoute(){this._subscription.push(this._router.events.subscribe(d=>{void 0!==d.url&&1===d.type&&(this.showNavbarFooter=!d.url.includes("login")&&!d.url.includes("register"))}))}fetchAllAnimals(){this._subscription.push(this._firestoreService.fetchAllAnimals().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{this._store.dispatch(Cl({payload:d}))}))}fetchAllProducts(){this._subscription.push(this._firestoreService.fetchAllStoreItems().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{this._store.dispatch((0,ws.sL)({payload:d}))}))}fetchAllBlogArticles(){this._subscription.push(this._firestoreService.fetchBlogPosts().pipe((0,Ws.U)(d=>d.map(_=>_.payload.doc.data()))).subscribe(d=>{this._store.dispatch(eu({payload:d}))}))}fetchAllCartItems(){this._subscription.push(this._firestoreService.fetchUserCart(localStorage.getItem("userID")).pipe((0,Ws.U)(d=>d.payload.data())).subscribe(d=>{if(d){this._store.dispatch((0,ws.s9)());let N=Object.values(d);this._store.dispatch((0,ws._M)({payload:N}))}}))}fetchAllWishlist(){this._subscription.push(this._firestoreService.fetchAllWishlistItems(localStorage.getItem("userID")).pipe((0,Ws.U)(d=>d.payload.data())).subscribe(d=>{this._store.dispatch((0,ws.Mw)());let N=Object.values(d);this._store.dispatch((0,ws.Ut)({payload:N}))})),this._subscription.push(this._store.select("store").pipe((0,Fs.q)(3)).subscribe(d=>{if(d.wishList.length>0){let _=[...d.products],N=[...d.wishList];for(let q=0;q<_.length;q++)for(let pe=0;pe<N.length;pe++)_[q].id==N[pe].id&&(_[q].wishList=!0);this._store.dispatch((0,ws.GC)()),this._store.dispatch((0,ws.sL)({payload:_}))}}))}}return b.\u0275fac=function(d){return new(d||b)(u.Y36(Ui.F0),u.Y36(en.b4),u.Y36(Tl.k),u.Y36(Hr.yh))},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-root"]],decls:5,vars:3,consts:[[4,"ngIf"],[1,"main"],["icon","fa-solid fa-circle-arrow-up","styleClass","floating-btn",3,"threshold"]],template:function(d,_){1&d&&(u.YNc(0,S,1,0,"app-nav-bar",0),u.TgZ(1,"main",1),u._UZ(2,"router-outlet"),u.qZA(),u.YNc(3,re,1,0,"app-footer",0),u._UZ(4,"p-scrollTop",2)),2&d&&(u.Q6J("ngIf",_.showNavbarFooter),u.xp6(3),u.Q6J("ngIf",_.showNavbarFooter),u.xp6(1),u.Q6J("threshold",100))},dependencies:[Gt,Ui.lC,nr.O5,Dl,y],styles:[".main[_ngcontent-%COMP%]{background-color:#fbf8f8;display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]     .floating-btn{width:3.5rem;height:3.5rem;border-radius:50%;background-color:transparent}[_nghost-%COMP%]     .floating-btn:hover{background-color:#fff}[_nghost-%COMP%]     .floating-btn:hover .p-scrolltop-icon{color:#ecada6}[_nghost-%COMP%]     .floating-btn .p-scrolltop-icon{font-size:2.5rem;color:#999}"]}),b})();var st=M(3692),kt=M(7667),An=M(3266),Ln=M(6351),Vr=M(5867),Pi=M(7128),Ia=M(6961);class na{constructor(m){return m}}const Ya="storage",Sl=new u.OlP("angularfire2.storage-instances");function ka(b){return(m,d)=>{const _=m.runOutsideAngular(()=>b(d));return new na(_)}}const Ku={provide:class Qa{constructor(){return(0,Ln.vb)(Ya)}},deps:[[new u.FiY,Sl]]},td={provide:na,useFactory:function tu(b,m){const d=(0,Ln.JM)(Ya,b,m);return d&&new na(d)},deps:[[new u.FiY,Sl],st.Ot]};let ls=(()=>{class b{constructor(){(0,Vr.KN)("angularfire",Ln.q4.full,"gcs")}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({providers:[td,Ku]}),b})();function li(b,...m){return{ngModule:ls,providers:[{provide:Sl,useFactory:ka(b),multi:!0,deps:[u.R0b,u.zs3,Ln.HU,st.z6,[new u.FiY,kt.dh],[new u.FiY,Pi.nm],...m]}]}}const Li=(0,Ln.u3)(Ia.cF,!0);var qu=M(2011);const Xh=(0,Hr.Lq)({products:[],wishList:[],cart:[]},(0,Hr.on)(ws.sL,(b,m)=>({...b,products:[...b.products,...m.payload]})),(0,Hr.on)(ws.GC,(b,m)=>({...b,products:[]})),(0,Hr.on)(ws.N_,(b,m)=>{let d=[...b.products],_=d.findIndex(N=>N.id===m.payload.id);if(-1===_)throw new Error("Item not found, check item id");return d[_]={...d[_],reviews:[...d[_].reviews,m.payload.review]},{...b,products:d}}),(0,Hr.on)(ws.s3,(b,m)=>{let d=[...b.products],_=d.findIndex(N=>N.id===m.payload.id);if(-1===_)throw new Error("Item not found, check item id");return d[_]={...m.payload},{...b,wishList:[...b.wishList,m.payload],products:d}}),(0,Hr.on)(ws.AW,(b,m)=>{let d=[...b.products],_=d.findIndex(N=>N.id===m.payload.id);if(-1===_)throw new Error("Item not found, check item id");return d[_]={...m.payload},{...b,wishList:[...b.wishList.filter(N=>N.id!==m.payload.id)],products:d}}),(0,Hr.on)(ws.Ut,(b,m)=>({...b,wishList:[...b.wishList,...m.payload]})),(0,Hr.on)(ws.Mw,(b,m)=>({...b,wishList:[]})),(0,Hr.on)(ws._M,(b,m)=>({...b,cart:[...b.cart,...m.payload]})),(0,Hr.on)(ws.Xq,(b,m)=>void 0===b.cart.find(_=>_.id===m.payload.id)?{...b,cart:[...b.cart,m.payload]}:{...b}),(0,Hr.on)(ws.h2,(b,m)=>({...b,cart:b.cart.filter(d=>d.id!==m.payload.id)})),(0,Hr.on)(ws.bd,(b,m)=>{let d=[...b.cart],_=d.findIndex(N=>N.id===m.payload.id);if(-1===_)throw new Error("Item not found, check item id");return d[_]={...m.payload},{...b,cart:d}}),(0,Hr.on)(ws.s9,(b,m)=>({...b,cart:[]}))),Ic=(0,Hr.Lq)({blog:[]},(0,Hr.on)(eu,(b,m)=>({...b,blog:m.payload})),(0,Hr.on)(wa,(b,m)=>({...b,blog:[]}))),sd=(0,Hr.Lq)({animals:[]},(0,Hr.on)(Cl,(b,m)=>({...b,animals:m.payload})),(0,Hr.on)(Gu,(b,m)=>({...b,animals:[]})));let od=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275mod=u.oAB({type:b,bootstrap:[me]}),b.\u0275inj=u.cJS({providers:[{provide:qu.Dh,useValue:er.firebase}],imports:[Cn,ae,Wo.hJ,so,h.b2,Ma,ir.b,_r.KZ,_c,ks,Hr.Aw.forRoot({store:Xh,blog:Ic,adoption:sd}),fi.register("ngsw-worker.js",{enabled:er.production,registrationStrategy:"registerWhenStable:2000"}),(0,st.hX)(()=>(0,st.ZF)(er.firebase)),(0,kt.AR)(()=>(0,kt.v0)()),(0,An.Cm)(()=>(0,An.ad)()),li(()=>Li())]}),b})();er.production&&(0,u.G48)(),h.q6().bootstrapModule(od).catch(b=>console.error(b))},5867:(jt,Ke,M)=>{M.d(Ke,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=M(9681);(0,h.registerVersion)("firebase","9.9.1","app")},127:(jt,Ke,M)=>{M.d(Ke,{Z:()=>h.Z});var h=M(3942);h.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(jt,Ke,M)=>{M.r(Ke);var h=M(5861),u=M(3942),k=M(6457),fe=M(2090),te=(M(9681),M(1877),M(4859));function Z(){return window}function ne(){return(ne=(0,h.Z)(function*(qe,Ce,Se){var It;const{BuildInfo:Bt}=Z();(0,k.aq)(Ce.sessionId,"AuthEvent did not contain a session ID");const In=yield Ne(Ce.sessionId),Mt={};return(0,k.ar)()?Mt.ibi=Bt.packageName:(0,k.as)()?Mt.apn=Bt.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),Bt.displayName&&(Mt.appDisplayName=Bt.displayName),Mt.sessionId=In,(0,k.au)(qe,Se,Ce.type,void 0,null!==(It=Ce.eventId)&&void 0!==It?It:void 0,Mt)})).apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(qe){const{BuildInfo:Ce}=Z(),Se={};(0,k.ar)()?Se.iosBundleId=Ce.packageName:(0,k.as)()?Se.androidPackageName=Ce.packageName:(0,k.at)(qe,"operation-not-supported-in-this-environment"),yield(0,k.av)(qe,Se)})).apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(qe,Ce,Se){const{cordova:It}=Z();let Bt=()=>{};try{yield new Promise((In,Mt)=>{let sn=null;function Le(){var Fe;In();const xt=null===(Fe=It.plugins.browsertab)||void 0===Fe?void 0:Fe.close;"function"==typeof xt&&xt(),"function"==typeof Se?.close&&Se.close()}function Re(){sn||(sn=window.setTimeout(()=>{Mt((0,k.aw)(qe,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&Re()}Ce.addPassiveListener(Le),document.addEventListener("resume",Re,!1),(0,k.as)()&&document.addEventListener("visibilitychange",ve,!1),Bt=()=>{Ce.removePassiveListener(Le),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",ve,!1),sn&&window.clearTimeout(sn)}})}finally{Bt()}})).apply(this,arguments)}function Ne(qe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(qe){const Ce=Lt(qe),Se=yield crypto.subtle.digest("SHA-256",Ce);return Array.from(new Uint8Array(Se)).map(Bt=>Bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Lt(qe){if((0,k.aq)(/[0-9a-zA-Z]+/.test(qe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(qe);const Ce=new ArrayBuffer(qe.length),Se=new Uint8Array(Ce);for(let It=0;It<qe.length;It++)Se[It]=qe.charCodeAt(It);return Se}class de extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ce=>{this.resolveInialized=Ce})}addPassiveListener(Ce){this.passiveListeners.add(Ce)}removePassiveListener(Ce){this.passiveListeners.delete(Ce)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ce){return this.resolveInialized(),this.passiveListeners.forEach(Se=>Se(Ce)),super.onEvent(Ce)}initialized(){var Ce=this;return(0,h.Z)(function*(){yield Ce.initPromise})()}}function he(qe){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(qe){const Ce=yield et()._get(Ue(qe));return Ce&&(yield et()._remove(Ue(qe))),Ce})).apply(this,arguments)}function Be(){const qe=[],Ce="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Se=0;Se<20;Se++){const It=Math.floor(Math.random()*Ce.length);qe.push(Ce.charAt(It))}return qe.join("")}function et(){return(0,k.ay)(k.b)}function Ue(qe){return(0,k.az)("authEvent",qe.config.apiKey,qe.name)}function Ft(qe){if(!qe?.includes("?"))return{};const[Ce,...Se]=qe.split("?");return(0,fe.zd)(Se.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function En(){var qe;return(null===(qe=self?.location)||void 0===qe?void 0:qe.protocol)||null}function Wn(qe=(0,fe.z$)()){return!("file:"!==En()&&"ionic:"!==En()&&"capacitor:"!==En()||!qe.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const qe=self.localStorage,Ce=k.aI();if(qe)return qe.setItem(Ce,"1"),qe.removeItem(Ce),!function Yr(qe=(0,fe.z$)()){return function cr(){return(0,fe.w1)()&&11===document?.documentMode}()||function tn(qe=(0,fe.z$)()){return/Edge\/\d+/.test(qe)}(qe)}()||(0,fe.hl)()}catch{return Cr()&&(0,fe.hl)()}return!1}function Cr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function bn(){return"http:"===En()||"https:"===En()}()||(0,fe.ru)()||Wn())&&!function Ar(){return(0,fe.b$)()||(0,fe.UG)()}()&&$n()&&!Cr()}function sr(){return Wn()&&typeof document<"u"}function Yn(){return(Yn=(0,h.Z)(function*(){return!!sr()&&new Promise(qe=>{const Ce=setTimeout(()=>{qe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ce),qe(!0)})})})).apply(this,arguments)}const vn={LOCAL:"local",NONE:"none",SESSION:"session"},xn=k.ax,br="persistence";function Zn(qe){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(qe){yield qe._initializationPromise;const Ce=kn(),Se=k.az(br,qe.config.apiKey,qe.name);Ce&&Ce.setItem(Se,qe._getPersistence())})).apply(this,arguments)}function kn(){var qe;try{return(null===(qe=function Fn(){return typeof window<"u"?window:null}())||void 0===qe?void 0:qe.sessionStorage)||null}catch{return null}}const qt=k.ax;class Jt{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class Ot{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Ce){var Se=this;return(0,h.Z)(function*(){const It=Ce._key();let Bt=Se.eventManagers.get(It);return Bt||(Bt=new de(Ce),Se.eventManagers.set(It,Bt),Se.attachCallbackListeners(Ce,Bt)),Bt})()}_openPopup(Ce){(0,k.at)(Ce,"operation-not-supported-in-this-environment")}_openRedirect(Ce,Se,It,Bt){var In=this;return(0,h.Z)(function*(){!function tt(qe){var Ce,Se,It,Bt,In,Mt,sn,Le,Re,ve;const Fe=Z();(0,k.ax)("function"==typeof(null===(Ce=Fe?.universalLinks)||void 0===Ce?void 0:Ce.subscribe),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(Se=Fe?.BuildInfo)||void 0===Se?void 0:Se.packageName)<"u",qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(In=null===(Bt=null===(It=Fe?.cordova)||void 0===It?void 0:It.plugins)||void 0===Bt?void 0:Bt.browsertab)||void 0===In?void 0:In.openUrl),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Le=null===(sn=null===(Mt=Fe?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===Le?void 0:Le.isAvailable),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(ve=null===(Re=Fe?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===ve?void 0:ve.open),qe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ce);const Mt=yield In._initialize(Ce);yield Mt.initialized(),Mt.resetRedirect(),(0,k.aD)(),yield In._originValidation(Ce);const sn=function Ze(qe,Ce,Se=null){return{type:Ce,eventId:Se,urlResponse:null,sessionId:Be(),postBody:null,tenantId:qe.tenantId,error:(0,k.aw)(qe,"no-auth-event")}}(Ce,It,Bt);yield function Ie(qe,Ce){return et()._set(Ue(qe),Ce)}(Ce,sn);const Le=yield function K(qe,Ce,Se){return ne.apply(this,arguments)}(Ce,sn,Se),Re=yield function Ae(qe){const{cordova:Ce}=Z();return new Promise(Se=>{Ce.plugins.browsertab.isAvailable(It=>{let Bt=null;It?Ce.plugins.browsertab.openUrl(qe):Bt=Ce.InAppBrowser.open(qe,(0,k.ap)()?"_blank":"_system","location=yes"),Se(Bt)})})}(Le);return function Qe(qe,Ce,Se){return wt.apply(this,arguments)}(Ce,Mt,Re)})()}_isIframeWebStorageSupported(Ce,Se){throw new Error("Method not implemented.")}_originValidation(Ce){const Se=Ce._key();return this.originValidationPromises[Se]||(this.originValidationPromises[Se]=function ge(qe){return Ge.apply(this,arguments)}(Ce)),this.originValidationPromises[Se]}attachCallbackListeners(Ce,Se){const{universalLinks:It,handleOpenURL:Bt,BuildInfo:In}=Z(),Mt=setTimeout((0,h.Z)(function*(){yield he(Ce),Se.onEvent(lt())}),500),sn=function(){var ve=(0,h.Z)(function*(Fe){clearTimeout(Mt);const xt=yield he(Ce);let Xt=null;xt&&Fe?.url&&(Xt=function dt(qe,Ce){var Se,It;const Bt=function nt(qe){const Ce=Ft(qe),Se=Ce.link?decodeURIComponent(Ce.link):void 0,It=Ft(Se).link,Bt=Ce.deep_link_id?decodeURIComponent(Ce.deep_link_id):void 0;return Ft(Bt).link||Bt||It||Se||qe}(Ce);if(Bt.includes("/__/auth/callback")){const In=Ft(Bt),Mt=In.firebaseError?function pt(qe){try{return JSON.parse(qe)}catch{return null}}(decodeURIComponent(In.firebaseError)):null,sn=null===(It=null===(Se=Mt?.code)||void 0===Se?void 0:Se.split("auth/"))||void 0===It?void 0:It[1],Le=sn?(0,k.aw)(sn):null;return Le?{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:qe.type,eventId:qe.eventId,tenantId:qe.tenantId,sessionId:qe.sessionId,urlResponse:Bt,postBody:null}}return null}(xt,Fe.url)),Se.onEvent(Xt||lt())});return function(xt){return ve.apply(this,arguments)}}();typeof It<"u"&&"function"==typeof It.subscribe&&It.subscribe(null,sn);const Le=Bt,Re=`${In.packageName.toLowerCase()}://`;Z().handleOpenURL=function(){var ve=(0,h.Z)(function*(Fe){if(Fe.toLowerCase().startsWith(Re)&&sn({url:Fe}),"function"==typeof Le)try{Le(Fe)}catch(xt){console.error(xt)}});return function(Fe){return ve.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(Ce){var Se=this;return(0,h.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._initialize(Ce)})()}_openPopup(Ce,Se,It,Bt){var In=this;return(0,h.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openPopup(Ce,Se,It,Bt)})()}_openRedirect(Ce,Se,It,Bt){var In=this;return(0,h.Z)(function*(){return yield In.selectUnderlyingResolver(),In.assertedUnderlyingResolver._openRedirect(Ce,Se,It,Bt)})()}_isIframeWebStorageSupported(Ce,Se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ce,Se)}_originValidation(Ce){return this.assertedUnderlyingResolver._originValidation(Ce)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ce=this;return(0,h.Z)(function*(){if(Ce.underlyingResolver)return;const Se=yield function nn(){return Yn.apply(this,arguments)}();Ce.underlyingResolver=Se?Ce.cordovaResolver:Ce.browserResolver})()}}function $r(qe){return qe.unwrap()}function Tn(qe){return or(qe)}function or(qe){const{_tokenResponse:Ce}=qe instanceof fe.ZR?qe.customData:qe;if(!Ce)return null;if(!(qe instanceof fe.ZR)&&"temporaryProof"in Ce&&"phoneNumber"in Ce)return k.P.credentialFromResult(qe);const Se=Ce.providerId;if(!Se||Se===k.o.PASSWORD)return null;let It;switch(Se){case k.o.GOOGLE:It=k.Q;break;case k.o.FACEBOOK:It=k.N;break;case k.o.GITHUB:It=k.T;break;case k.o.TWITTER:It=k.W;break;default:const{oauthIdToken:Bt,oauthAccessToken:In,oauthTokenSecret:Mt,pendingToken:sn,nonce:Le}=Ce;return In||Mt||Bt||sn?sn?Se.startsWith("saml.")?k.aL._create(Se,sn):k.J._fromParams({providerId:Se,signInMethod:Se,pendingToken:sn,idToken:Bt,accessToken:In}):new k.U(Se).credential({idToken:Bt,accessToken:In,rawNonce:Le}):null}return qe instanceof fe.ZR?It.credentialFromError(qe):It.credentialFromResult(qe)}function Yt(qe,Ce){return Ce.catch(Se=>{throw Se instanceof fe.ZR&&function Mr(qe,Ce){var Se,It;const Bt=null===(Se=Ce.customData)||void 0===Se?void 0:Se._tokenResponse;if("auth/multi-factor-auth-required"===(null===(It=Ce)||void 0===It?void 0:It.code))Ce.resolver=new Pe(qe,k.an(qe,Ce));else if(Bt){const In=or(Ce),Mt=Ce;In&&(Mt.credential=In,Mt.tenantId=Bt.tenantId||void 0,Mt.email=Bt.email||void 0,Mt.phoneNumber=Bt.phoneNumber||void 0)}}(qe,Se),Se}).then(Se=>{const Bt=Se.user;return{operationType:Se.operationType,credential:Tn(Se),additionalUserInfo:k.al(Se),user:ke.getOrCreate(Bt)}})}function jn(qe,Ce){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(qe,Ce){const Se=yield Ce;return{verificationId:Se.verificationId,confirm:It=>Yt(qe,Se.confirm(It))}})).apply(this,arguments)}class Pe{constructor(Ce,Se){this.resolver=Se,this.auth=function Nr(qe){return qe.wrapped()}(Ce)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ce){return Yt($r(this.auth),this.resolver.resolveSignIn(Ce))}}class ke{constructor(Ce){this._delegate=Ce,this.multiFactor=k.ao(Ce)}static getOrCreate(Ce){return ke.USER_MAP.has(Ce)||ke.USER_MAP.set(Ce,new ke(Ce)),ke.USER_MAP.get(Ce)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ce){return this._delegate.getIdTokenResult(Ce)}getIdToken(Ce){return this._delegate.getIdToken(Ce)}linkAndRetrieveDataWithCredential(Ce){return this.linkWithCredential(Ce)}linkWithCredential(Ce){var Se=this;return(0,h.Z)(function*(){return Yt(Se.auth,k.Z(Se._delegate,Ce))})()}linkWithPhoneNumber(Ce,Se){var It=this;return(0,h.Z)(function*(){return jn(It.auth,k.l(It._delegate,Ce,Se))})()}linkWithPopup(Ce){var Se=this;return(0,h.Z)(function*(){return Yt(Se.auth,k.d(Se._delegate,Ce,Jt))})()}linkWithRedirect(Ce){var Se=this;return(0,h.Z)(function*(){return yield Zn(k.aE(Se.auth)),k.g(Se._delegate,Ce,Jt)})()}reauthenticateAndRetrieveDataWithCredential(Ce){return this.reauthenticateWithCredential(Ce)}reauthenticateWithCredential(Ce){var Se=this;return(0,h.Z)(function*(){return Yt(Se.auth,k._(Se._delegate,Ce))})()}reauthenticateWithPhoneNumber(Ce,Se){return jn(this.auth,k.r(this._delegate,Ce,Se))}reauthenticateWithPopup(Ce){return Yt(this.auth,k.e(this._delegate,Ce,Jt))}reauthenticateWithRedirect(Ce){var Se=this;return(0,h.Z)(function*(){return yield Zn(k.aE(Se.auth)),k.h(Se._delegate,Ce,Jt)})()}sendEmailVerification(Ce){return k.ab(this._delegate,Ce)}unlink(Ce){var Se=this;return(0,h.Z)(function*(){return yield k.ak(Se._delegate,Ce),Se})()}updateEmail(Ce){return k.ag(this._delegate,Ce)}updatePassword(Ce){return k.ah(this._delegate,Ce)}updatePhoneNumber(Ce){return k.u(this._delegate,Ce)}updateProfile(Ce){return k.af(this._delegate,Ce)}verifyBeforeUpdateEmail(Ce,Se){return k.ac(this._delegate,Ce,Se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ke.USER_MAP=new WeakMap;const ee=k.ax;let L=(()=>{class qe{constructor(Se,It){if(this.app=Se,It.isInitialized())return this._delegate=It.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Bt}=Se.options;ee(Bt,"invalid-api-key",{appName:Se.name}),ee(Bt,"invalid-api-key",{appName:Se.name});const In=typeof window<"u"?Jt:void 0;this._delegate=It.initialize({options:{persistence:De(Bt,Se.name),popupRedirectResolver:In}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Se){this._delegate.languageCode=Se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Se){this._delegate.tenantId=Se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Se,It){k.G(this._delegate,Se,It)}applyActionCode(Se){return k.a2(this._delegate,Se)}checkActionCode(Se){return k.a3(this._delegate,Se)}confirmPasswordReset(Se,It){return k.a1(this._delegate,Se,It)}createUserWithEmailAndPassword(Se,It){var Bt=this;return(0,h.Z)(function*(){return Yt(Bt._delegate,k.a5(Bt._delegate,Se,It))})()}fetchProvidersForEmail(Se){return this.fetchSignInMethodsForEmail(Se)}fetchSignInMethodsForEmail(Se){return k.aa(this._delegate,Se)}isSignInWithEmailLink(Se){return k.a8(this._delegate,Se)}getRedirectResult(){var Se=this;return(0,h.Z)(function*(){ee(Jn(),Se._delegate,"operation-not-supported-in-this-environment");const It=yield k.j(Se._delegate,Jt);return It?Yt(Se._delegate,Promise.resolve(It)):{credential:null,user:null}})()}addFrameworkForLogging(Se){!function Pt(qe,Ce){(0,k.aE)(qe)._logFramework(Ce)}(this._delegate,Se)}onAuthStateChanged(Se,It,Bt){const{next:In,error:Mt,complete:sn}=z(Se,It,Bt);return this._delegate.onAuthStateChanged(In,Mt,sn)}onIdTokenChanged(Se,It,Bt){const{next:In,error:Mt,complete:sn}=z(Se,It,Bt);return this._delegate.onIdTokenChanged(In,Mt,sn)}sendSignInLinkToEmail(Se,It){return k.a7(this._delegate,Se,It)}sendPasswordResetEmail(Se,It){return k.a0(this._delegate,Se,It||void 0)}setPersistence(Se){var It=this;return(0,h.Z)(function*(){let Bt;switch(function zr(qe,Ce){xn(Object.values(vn).includes(Ce),qe,"invalid-persistence-type"),(0,fe.b$)()?xn(Ce!==vn.SESSION,qe,"unsupported-persistence-type"):(0,fe.UG)()?xn(Ce===vn.NONE,qe,"unsupported-persistence-type"):Cr()?xn(Ce===vn.NONE||Ce===vn.LOCAL&&(0,fe.hl)(),qe,"unsupported-persistence-type"):xn(Ce===vn.NONE||$n(),qe,"unsupported-persistence-type")}(It._delegate,Se),Se){case vn.SESSION:Bt=k.a;break;case vn.LOCAL:Bt=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case vn.NONE:Bt=k.L;break;default:return k.at("argument-error",{appName:It._delegate.name})}return It._delegate.setPersistence(Bt)})()}signInAndRetrieveDataWithCredential(Se){return this.signInWithCredential(Se)}signInAnonymously(){return Yt(this._delegate,k.X(this._delegate))}signInWithCredential(Se){return Yt(this._delegate,k.Y(this._delegate,Se))}signInWithCustomToken(Se){return Yt(this._delegate,k.$(this._delegate,Se))}signInWithEmailAndPassword(Se,It){return Yt(this._delegate,k.a6(this._delegate,Se,It))}signInWithEmailLink(Se,It){return Yt(this._delegate,k.a9(this._delegate,Se,It))}signInWithPhoneNumber(Se,It){return jn(this._delegate,k.s(this._delegate,Se,It))}signInWithPopup(Se){var It=this;return(0,h.Z)(function*(){return ee(Jn(),It._delegate,"operation-not-supported-in-this-environment"),Yt(It._delegate,k.c(It._delegate,Se,Jt))})()}signInWithRedirect(Se){var It=this;return(0,h.Z)(function*(){return ee(Jn(),It._delegate,"operation-not-supported-in-this-environment"),yield Zn(It._delegate),k.f(It._delegate,Se,Jt)})()}updateCurrentUser(Se){return this._delegate.updateCurrentUser(Se)}verifyPasswordResetCode(Se){return k.a4(this._delegate,Se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return qe.Persistence=vn,qe})();function z(qe,Ce,Se){let It=qe;"function"!=typeof qe&&({next:It,error:Ce,complete:Se}=qe);const Bt=It;return{next:Mt=>Bt(Mt&&ke.getOrCreate(Mt)),error:Ce,complete:Se}}function De(qe,Ce){const Se=function oi(qe,Ce){const Se=kn();if(!Se)return[];const It=k.az(br,qe,Ce);switch(Se.getItem(It)){case vn.NONE:return[k.L];case vn.LOCAL:return[k.i,k.a];case vn.SESSION:return[k.a];default:return[]}}(qe,Ce);if(typeof self<"u"&&!Se.includes(k.i)&&Se.push(k.i),typeof window<"u")for(const It of[k.b,k.a])Se.includes(It)||Se.push(It);return Se.includes(k.L)||Se.push(k.L),Se}class ot{constructor(){this.providerId="phone",this._delegate=new k.P($r(u.Z.auth()))}static credential(Ce,Se){return k.P.credential(Ce,Se)}verifyPhoneNumber(Ce,Se){return this._delegate.verifyPhoneNumber(Ce,Se)}unwrap(){return this._delegate}}ot.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,ot.PROVIDER_ID=k.P.PROVIDER_ID;const zt=k.ax;class On{constructor(Ce,Se,It=u.Z.app()){var Bt;zt(null===(Bt=It.options)||void 0===Bt?void 0:Bt.apiKey,"invalid-api-key",{appName:It.name}),this._delegate=new k.R(Ce,Se,It.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dn(qe){qe.INTERNAL.registerComponent(new te.wA("auth-compat",Ce=>{const Se=Ce.getProvider("app-compat").getImmediate(),It=Ce.getProvider("auth");return new L(Se,It)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:ot,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:On,TwitterAuthProvider:k.W,Auth:L,AuthCredential:k.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qe.registerVersion("@firebase/auth-compat","0.2.18")}(u.Z)},1135:(jt,Ke,M)=>{M.d(Ke,{X:()=>u});var h=M(7579);class u extends h.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const j=super._subscribe(fe);return!j.closed&&fe.next(this._value),j}getValue(){const{hasError:fe,thrownError:j,_value:J}=this;if(fe)throw j;return this._throwIfClosed(),J}next(fe){super.next(this._value=fe)}}},9751:(jt,Ke,M)=>{M.d(Ke,{y:()=>Z});var h=M(930),u=M(727),k=M(8822),fe=M(9635),j=M(2416),J=M(576),te=M(2806);let Z=(()=>{class ge{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Qe=new ge;return Qe.source=this,Qe.operator=Ae,Qe}subscribe(Ae,Qe,wt){const tt=function ne(ge){return ge&&ge instanceof h.Lv||function K(ge){return ge&&(0,J.m)(ge.next)&&(0,J.m)(ge.error)&&(0,J.m)(ge.complete)}(ge)&&(0,u.Nn)(ge)}(Ae)?Ae:new h.Hp(Ae,Qe,wt);return(0,te.x)(()=>{const{operator:Ne,source:Oe}=this;tt.add(Ne?Ne.call(tt,Oe):Oe?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Qe){Ae.error(Qe)}}forEach(Ae,Qe){return new(Qe=oe(Qe))((wt,tt)=>{const Ne=new h.Hp({next:Oe=>{try{Ae(Oe)}catch(Lt){tt(Lt),Ne.unsubscribe()}},error:tt,complete:wt});this.subscribe(Ne)})}_subscribe(Ae){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Ae)}[k.L](){return this}pipe(...Ae){return(0,fe.U)(Ae)(this)}toPromise(Ae){return new(Ae=oe(Ae))((Qe,wt)=>{let tt;this.subscribe(Ne=>tt=Ne,Ne=>wt(Ne),()=>Qe(tt))})}}return ge.create=Ge=>new ge(Ge),ge})();function oe(ge){var Ge;return null!==(Ge=ge??j.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(jt,Ke,M)=>{M.d(Ke,{x:()=>te});var h=M(9751),u=M(727);const fe=(0,M(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=M(6852),J=M(2806);let te=(()=>{class oe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ge=new Z(this,this);return ge.operator=ne,ge}_throwIfClosed(){if(this.closed)throw new fe}next(ne){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ne)}})}error(ne){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ne)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ge,isStopped:Ge,observers:Ae}=this;return ge||Ge?u.Lc:(this.currentObservers=null,Ae.push(ne),new u.w0(()=>{this.currentObservers=null,(0,j.P)(Ae,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ge,thrownError:Ge,isStopped:Ae}=this;ge?ne.error(Ge):Ae&&ne.complete()}asObservable(){const ne=new h.y;return ne.source=this,ne}}return oe.create=(K,ne)=>new Z(K,ne),oe})();class Z extends te{constructor(K,ne){super(),this.destination=K,this.source=ne}next(K){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ge||ge.call(ne,K)}error(K){var ne,ge;null===(ge=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ge||ge.call(ne,K)}complete(){var K,ne;null===(ne=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ne||ne.call(K)}_subscribe(K){var ne,ge;return null!==(ge=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(K))&&void 0!==ge?ge:u.Lc}}},930:(jt,Ke,M)=>{M.d(Ke,{Hp:()=>wt,Lv:()=>ge});var h=M(576),u=M(727),k=M(2416),fe=M(7849),j=M(5032);const J=oe("C",void 0,void 0);function oe(Xe,de,Ze){return{kind:Xe,value:de,error:Ze}}var K=M(3410),ne=M(2806);class ge extends u.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,u.Nn)(de)&&de.add(this)):this.destination=Lt}static create(de,Ze,Ie){return new wt(de,Ze,Ie)}next(de){this.isStopped?Oe(function Z(Xe){return oe("N",Xe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Oe(function te(Xe){return oe("E",void 0,Xe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Oe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ae(Xe,de){return Ge.call(Xe,de)}class Qe{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(de)}catch(Ie){tt(Ie)}}error(de){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(de)}catch(Ie){tt(Ie)}else tt(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ze){tt(Ze)}}}class wt extends ge{constructor(de,Ze,Ie){let he;if(super(),(0,h.m)(de)||!de)he={next:de??void 0,error:Ze??void 0,complete:Ie??void 0};else{let ze;this&&k.v.useDeprecatedNextContext?(ze=Object.create(de),ze.unsubscribe=()=>this.unsubscribe(),he={next:de.next&&Ae(de.next,ze),error:de.error&&Ae(de.error,ze),complete:de.complete&&Ae(de.complete,ze)}):he=de}this.destination=new Qe(he)}}function tt(Xe){k.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Xe):(0,fe.h)(Xe)}function Oe(Xe,de){const{onStoppedNotification:Ze}=k.v;Ze&&K.z.setTimeout(()=>Ze(Xe,de))}const Lt={closed:!0,next:j.Z,error:function Ne(Xe){throw Xe},complete:j.Z}},727:(jt,Ke,M)=>{M.d(Ke,{Lc:()=>J,w0:()=>j,Nn:()=>te});var h=M(576);const k=(0,M(3888).d)(oe=>function(ne){oe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ge,Ge)=>`${Ge+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var fe=M(6852);class j{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ae of ne)Ae.remove(this);else ne.remove(this);const{initialTeardown:ge}=this;if((0,h.m)(ge))try{ge()}catch(Ae){K=Ae instanceof k?Ae.errors:[Ae]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ae of Ge)try{Z(Ae)}catch(Qe){K=K??[],Qe instanceof k?K=[...K,...Qe.errors]:K.push(Qe)}}if(K)throw new k(K)}}add(K){var ne;if(K&&K!==this)if(this.closed)Z(K);else{if(K instanceof j){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(K)}}_hasParent(K){const{_parentage:ne}=this;return ne===K||Array.isArray(ne)&&ne.includes(K)}_addParent(K){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(K),ne):ne?[ne,K]:K}_removeParent(K){const{_parentage:ne}=this;ne===K?this._parentage=null:Array.isArray(ne)&&(0,fe.P)(ne,K)}remove(K){const{_finalizers:ne}=this;ne&&(0,fe.P)(ne,K),K instanceof j&&K._removeParent(this)}}j.EMPTY=(()=>{const oe=new j;return oe.closed=!0,oe})();const J=j.EMPTY;function te(oe){return oe instanceof j||oe&&"closed"in oe&&(0,h.m)(oe.remove)&&(0,h.m)(oe.add)&&(0,h.m)(oe.unsubscribe)}function Z(oe){(0,h.m)(oe)?oe():oe.unsubscribe()}},2416:(jt,Ke,M)=>{M.d(Ke,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(jt,Ke,M)=>{M.d(Ke,{c:()=>J});var h=M(9751),u=M(727),k=M(8343),fe=M(5403),j=M(4482);class J extends h.y{constructor(Z,oe){super(),this.source=Z,this.subjectFactory=oe,this._subject=null,this._refCount=0,this._connection=null,(0,j.A)(Z)&&(this.lift=Z.lift)}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Z}=this;this._subject=this._connection=null,Z?.unsubscribe()}connect(){let Z=this._connection;if(!Z){Z=this._connection=new u.w0;const oe=this.getSubject();Z.add(this.source.subscribe((0,fe.x)(oe,void 0,()=>{this._teardown(),oe.complete()},K=>{this._teardown(),oe.error(K)},()=>this._teardown()))),Z.closed&&(this._connection=null,Z=u.w0.EMPTY)}return Z}refCount(){return(0,k.x)()(this)}}},7272:(jt,Ke,M)=>{M.d(Ke,{z:()=>j});var h=M(8189),k=M(3269),fe=M(8996);function j(...J){return function u(){return(0,h.J)(1)}()((0,fe.D)(J,(0,k.yG)(J)))}},9770:(jt,Ke,M)=>{M.d(Ke,{P:()=>k});var h=M(9751),u=M(8421);function k(fe){return new h.y(j=>{(0,u.Xf)(fe()).subscribe(j)})}},515:(jt,Ke,M)=>{M.d(Ke,{E:()=>u});const u=new(M(9751).y)(j=>j.complete())},8996:(jt,Ke,M)=>{M.d(Ke,{D:()=>de});var h=M(8421),u=M(5363),k=M(9468),J=M(9751),Z=M(2202),oe=M(576),K=M(9672);function ge(Ze,Ie){if(!Ze)throw new Error("Iterable cannot be null");return new J.y(he=>{(0,K.f)(he,Ie,()=>{const ze=Ze[Symbol.asyncIterator]();(0,K.f)(he,Ie,()=>{ze.next().then(dt=>{dt.done?he.complete():he.next(dt.value)})},0,!0)})})}var Ge=M(3670),Ae=M(8239),Qe=M(1144),wt=M(6495),tt=M(2206),Ne=M(4532),Oe=M(3260);function de(Ze,Ie){return Ie?function Xe(Ze,Ie){if(null!=Ze){if((0,Ge.c)(Ze))return function fe(Ze,Ie){return(0,h.Xf)(Ze).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Ze,Ie);if((0,Qe.z)(Ze))return function te(Ze,Ie){return new J.y(he=>{let ze=0;return Ie.schedule(function(){ze===Ze.length?he.complete():(he.next(Ze[ze++]),he.closed||this.schedule())})})}(Ze,Ie);if((0,Ae.t)(Ze))return function j(Ze,Ie){return(0,h.Xf)(Ze).pipe((0,k.R)(Ie),(0,u.Q)(Ie))}(Ze,Ie);if((0,tt.D)(Ze))return ge(Ze,Ie);if((0,wt.T)(Ze))return function ne(Ze,Ie){return new J.y(he=>{let ze;return(0,K.f)(he,Ie,()=>{ze=Ze[Z.h](),(0,K.f)(he,Ie,()=>{let dt,Be;try{({value:dt,done:Be}=ze.next())}catch(et){return void he.error(et)}Be?he.complete():he.next(dt)},0,!0)}),()=>(0,oe.m)(ze?.return)&&ze.return()})}(Ze,Ie);if((0,Oe.L)(Ze))return function Lt(Ze,Ie){return ge((0,Oe.Q)(Ze),Ie)}(Ze,Ie)}throw(0,Ne.z)(Ze)}(Ze,Ie):(0,h.Xf)(Ze)}},8421:(jt,Ke,M)=>{M.d(Ke,{Xf:()=>Ge});var h=M(655),u=M(1144),k=M(8239),fe=M(9751),j=M(3670),J=M(2206),te=M(4532),Z=M(6495),oe=M(3260),K=M(576),ne=M(7849),ge=M(8822);function Ge(Xe){if(Xe instanceof fe.y)return Xe;if(null!=Xe){if((0,j.c)(Xe))return function Ae(Xe){return new fe.y(de=>{const Ze=Xe[ge.L]();if((0,K.m)(Ze.subscribe))return Ze.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,u.z)(Xe))return function Qe(Xe){return new fe.y(de=>{for(let Ze=0;Ze<Xe.length&&!de.closed;Ze++)de.next(Xe[Ze]);de.complete()})}(Xe);if((0,k.t)(Xe))return function wt(Xe){return new fe.y(de=>{Xe.then(Ze=>{de.closed||(de.next(Ze),de.complete())},Ze=>de.error(Ze)).then(null,ne.h)})}(Xe);if((0,J.D)(Xe))return Ne(Xe);if((0,Z.T)(Xe))return function tt(Xe){return new fe.y(de=>{for(const Ze of Xe)if(de.next(Ze),de.closed)return;de.complete()})}(Xe);if((0,oe.L)(Xe))return function Oe(Xe){return Ne((0,oe.Q)(Xe))}(Xe)}throw(0,te.z)(Xe)}function Ne(Xe){return new fe.y(de=>{(function Lt(Xe,de){var Ze,Ie,he,ze;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,h.KL)(Xe);!(Ie=yield Ze.next()).done;)if(de.next(Ie.value),de.closed)return}catch(dt){he={error:dt}}finally{try{Ie&&!Ie.done&&(ze=Ze.return)&&(yield ze.call(Ze))}finally{if(he)throw he.error}}de.complete()})})(Xe,de).catch(Ze=>de.error(Ze))})}},6451:(jt,Ke,M)=>{M.d(Ke,{T:()=>J});var h=M(8189),u=M(8421),k=M(515),fe=M(3269),j=M(8996);function J(...te){const Z=(0,fe.yG)(te),oe=(0,fe._6)(te,1/0),K=te;return K.length?1===K.length?(0,u.Xf)(K[0]):(0,h.J)(oe)((0,j.D)(K,Z)):k.E}},9646:(jt,Ke,M)=>{M.d(Ke,{of:()=>k});var h=M(3269),u=M(8996);function k(...fe){const j=(0,h.yG)(fe);return(0,u.D)(fe,j)}},2843:(jt,Ke,M)=>{M.d(Ke,{_:()=>k});var h=M(9751),u=M(576);function k(fe,j){const J=(0,u.m)(fe)?fe:()=>fe,te=Z=>Z.error(J());return new h.y(j?Z=>j.schedule(te,0,Z):te)}},5403:(jt,Ke,M)=>{M.d(Ke,{x:()=>u});var h=M(930);function u(fe,j,J,te,Z){return new k(fe,j,J,te,Z)}class k extends h.Lv{constructor(j,J,te,Z,oe,K){super(j),this.onFinalize=oe,this.shouldUnsubscribe=K,this._next=J?function(ne){try{J(ne)}catch(ge){j.error(ge)}}:super._next,this._error=Z?function(ne){try{Z(ne)}catch(ge){j.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(ne){j.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},4351:(jt,Ke,M)=>{M.d(Ke,{b:()=>k});var h=M(5577),u=M(576);function k(fe,j){return(0,u.m)(j)?(0,h.z)(fe,j,1):(0,h.z)(fe,1)}},6590:(jt,Ke,M)=>{M.d(Ke,{d:()=>k});var h=M(4482),u=M(5403);function k(fe){return(0,h.e)((j,J)=>{let te=!1;j.subscribe((0,u.x)(J,Z=>{te=!0,J.next(Z)},()=>{te||J.next(fe),J.complete()}))})}},1884:(jt,Ke,M)=>{M.d(Ke,{x:()=>fe});var h=M(4671),u=M(4482),k=M(5403);function fe(J,te=h.y){return J=J??j,(0,u.e)((Z,oe)=>{let K,ne=!0;Z.subscribe((0,k.x)(oe,ge=>{const Ge=te(ge);(ne||!J(K,Ge))&&(ne=!1,K=Ge,oe.next(ge))}))})}function j(J,te){return J===te}},9300:(jt,Ke,M)=>{M.d(Ke,{h:()=>k});var h=M(4482),u=M(5403);function k(fe,j){return(0,h.e)((J,te)=>{let Z=0;J.subscribe((0,u.x)(te,oe=>fe.call(j,oe,Z++)&&te.next(oe)))})}},590:(jt,Ke,M)=>{M.d(Ke,{P:()=>te});var h=M(6805),u=M(9300),k=M(5698),fe=M(6590),j=M(8068),J=M(4671);function te(Z,oe){const K=arguments.length>=2;return ne=>ne.pipe(Z?(0,u.h)((ge,Ge)=>Z(ge,Ge,ne)):J.y,(0,k.q)(1),K?(0,fe.d)(oe):(0,j.T)(()=>new h.K))}},3103:(jt,Ke,M)=>{M.d(Ke,{Z:()=>te});var h=M(6805),u=M(9300),k=M(2035),fe=M(8068),j=M(6590),J=M(4671);function te(Z,oe){const K=arguments.length>=2;return ne=>ne.pipe(Z?(0,u.h)((ge,Ge)=>Z(ge,Ge,ne)):J.y,(0,k.h)(1),K?(0,j.d)(oe):(0,fe.T)(()=>new h.K))}},4004:(jt,Ke,M)=>{M.d(Ke,{U:()=>k});var h=M(4482),u=M(5403);function k(fe,j){return(0,h.e)((J,te)=>{let Z=0;J.subscribe((0,u.x)(te,oe=>{te.next(fe.call(j,oe,Z++))}))})}},9718:(jt,Ke,M)=>{M.d(Ke,{h:()=>u});var h=M(4004);function u(k){return(0,h.U)(()=>k)}},8189:(jt,Ke,M)=>{M.d(Ke,{J:()=>k});var h=M(5577),u=M(4671);function k(fe=1/0){return(0,h.z)(u.y,fe)}},5577:(jt,Ke,M)=>{M.d(Ke,{z:()=>Z});var h=M(4004),u=M(8421),k=M(4482),fe=M(9672),j=M(5403),te=M(576);function Z(oe,K,ne=1/0){return(0,te.m)(K)?Z((ge,Ge)=>(0,h.U)((Ae,Qe)=>K(ge,Ae,Ge,Qe))((0,u.Xf)(oe(ge,Ge))),ne):("number"==typeof K&&(ne=K),(0,k.e)((ge,Ge)=>function J(oe,K,ne,ge,Ge,Ae,Qe,wt){const tt=[];let Ne=0,Oe=0,Lt=!1;const Xe=()=>{Lt&&!tt.length&&!Ne&&K.complete()},de=Ie=>Ne<ge?Ze(Ie):tt.push(Ie),Ze=Ie=>{Ae&&K.next(Ie),Ne++;let he=!1;(0,u.Xf)(ne(Ie,Oe++)).subscribe((0,j.x)(K,ze=>{Ge?.(ze),Ae?de(ze):K.next(ze)},()=>{he=!0},void 0,()=>{if(he)try{for(Ne--;tt.length&&Ne<ge;){const ze=tt.shift();Qe?(0,fe.f)(K,Qe,()=>Ze(ze)):Ze(ze)}Xe()}catch(ze){K.error(ze)}}))};return oe.subscribe((0,j.x)(K,de,()=>{Lt=!0,Xe()})),()=>{wt?.()}}(ge,Ge,oe,ne)))}},5363:(jt,Ke,M)=>{M.d(Ke,{Q:()=>fe});var h=M(9672),u=M(4482),k=M(5403);function fe(j,J=0){return(0,u.e)((te,Z)=>{te.subscribe((0,k.x)(Z,oe=>(0,h.f)(Z,j,()=>Z.next(oe),J),()=>(0,h.f)(Z,j,()=>Z.complete(),J),oe=>(0,h.f)(Z,j,()=>Z.error(oe),J)))})}},8343:(jt,Ke,M)=>{M.d(Ke,{x:()=>k});var h=M(4482),u=M(5403);function k(){return(0,h.e)((fe,j)=>{let J=null;fe._refCount++;const te=(0,u.x)(j,void 0,void 0,void 0,()=>{if(!fe||fe._refCount<=0||0<--fe._refCount)return void(J=null);const Z=fe._connection,oe=J;J=null,Z&&(!oe||Z===oe)&&Z.unsubscribe(),j.unsubscribe()});fe.subscribe(te),te.closed||(J=fe.connect())})}},5026:(jt,Ke,M)=>{M.d(Ke,{R:()=>fe});var h=M(4482),u=M(5403);function k(j,J,te,Z,oe){return(K,ne)=>{let ge=te,Ge=J,Ae=0;K.subscribe((0,u.x)(ne,Qe=>{const wt=Ae++;Ge=ge?j(Ge,Qe,wt):(ge=!0,Qe),Z&&ne.next(Ge)},oe&&(()=>{ge&&ne.next(Ge),ne.complete()})))}}function fe(j,J){return(0,h.e)(k(j,J,arguments.length>=2,!0))}},3099:(jt,Ke,M)=>{M.d(Ke,{B:()=>j});var h=M(8421),u=M(7579),k=M(930),fe=M(4482);function j(te={}){const{connector:Z=(()=>new u.x),resetOnError:oe=!0,resetOnComplete:K=!0,resetOnRefCountZero:ne=!0}=te;return ge=>{let Ge,Ae,Qe,wt=0,tt=!1,Ne=!1;const Oe=()=>{Ae?.unsubscribe(),Ae=void 0},Lt=()=>{Oe(),Ge=Qe=void 0,tt=Ne=!1},Xe=()=>{const de=Ge;Lt(),de?.unsubscribe()};return(0,fe.e)((de,Ze)=>{wt++,!Ne&&!tt&&Oe();const Ie=Qe=Qe??Z();Ze.add(()=>{wt--,0===wt&&!Ne&&!tt&&(Ae=J(Xe,ne))}),Ie.subscribe(Ze),!Ge&&wt>0&&(Ge=new k.Hp({next:he=>Ie.next(he),error:he=>{Ne=!0,Oe(),Ae=J(Lt,oe,he),Ie.error(he)},complete:()=>{tt=!0,Oe(),Ae=J(Lt,K),Ie.complete()}}),(0,h.Xf)(de).subscribe(Ge))})(ge)}}function J(te,Z,...oe){if(!0===Z)return void te();if(!1===Z)return;const K=new k.Hp({next:()=>{K.unsubscribe(),te()}});return Z(...oe).subscribe(K)}},8675:(jt,Ke,M)=>{M.d(Ke,{O:()=>fe});var h=M(7272),u=M(3269),k=M(4482);function fe(...j){const J=(0,u.yG)(j);return(0,k.e)((te,Z)=>{(J?(0,h.z)(j,te,J):(0,h.z)(j,te)).subscribe(Z)})}},9468:(jt,Ke,M)=>{M.d(Ke,{R:()=>u});var h=M(4482);function u(k,fe=0){return(0,h.e)((j,J)=>{J.add(k.schedule(()=>j.subscribe(J),fe))})}},3900:(jt,Ke,M)=>{M.d(Ke,{w:()=>fe});var h=M(8421),u=M(4482),k=M(5403);function fe(j,J){return(0,u.e)((te,Z)=>{let oe=null,K=0,ne=!1;const ge=()=>ne&&!oe&&Z.complete();te.subscribe((0,k.x)(Z,Ge=>{oe?.unsubscribe();let Ae=0;const Qe=K++;(0,h.Xf)(j(Ge,Qe)).subscribe(oe=(0,k.x)(Z,wt=>Z.next(J?J(Ge,wt,Qe,Ae++):wt),()=>{oe=null,ge()}))},()=>{ne=!0,ge()}))})}},5698:(jt,Ke,M)=>{M.d(Ke,{q:()=>fe});var h=M(515),u=M(4482),k=M(5403);function fe(j){return j<=0?()=>h.E:(0,u.e)((J,te)=>{let Z=0;J.subscribe((0,k.x)(te,oe=>{++Z<=j&&(te.next(oe),j<=Z&&te.complete())}))})}},2035:(jt,Ke,M)=>{M.d(Ke,{h:()=>fe});var h=M(515),u=M(4482),k=M(5403);function fe(j){return j<=0?()=>h.E:(0,u.e)((J,te)=>{let Z=[];J.subscribe((0,k.x)(te,oe=>{Z.push(oe),j<Z.length&&Z.shift()},()=>{for(const oe of Z)te.next(oe);te.complete()},void 0,()=>{Z=null}))})}},8505:(jt,Ke,M)=>{M.d(Ke,{b:()=>j});var h=M(576),u=M(4482),k=M(5403),fe=M(4671);function j(J,te,Z){const oe=(0,h.m)(J)||te||Z?{next:J,error:te,complete:Z}:J;return oe?(0,u.e)((K,ne)=>{var ge;null===(ge=oe.subscribe)||void 0===ge||ge.call(oe);let Ge=!0;K.subscribe((0,k.x)(ne,Ae=>{var Qe;null===(Qe=oe.next)||void 0===Qe||Qe.call(oe,Ae),ne.next(Ae)},()=>{var Ae;Ge=!1,null===(Ae=oe.complete)||void 0===Ae||Ae.call(oe),ne.complete()},Ae=>{var Qe;Ge=!1,null===(Qe=oe.error)||void 0===Qe||Qe.call(oe,Ae),ne.error(Ae)},()=>{var Ae,Qe;Ge&&(null===(Ae=oe.unsubscribe)||void 0===Ae||Ae.call(oe)),null===(Qe=oe.finalize)||void 0===Qe||Qe.call(oe)}))}):fe.y}},8068:(jt,Ke,M)=>{M.d(Ke,{T:()=>fe});var h=M(6805),u=M(4482),k=M(5403);function fe(J=j){return(0,u.e)((te,Z)=>{let oe=!1;te.subscribe((0,k.x)(Z,K=>{oe=!0,Z.next(K)},()=>oe?Z.complete():Z.error(J())))})}function j(){return new h.K}},4408:(jt,Ke,M)=>{M.d(Ke,{o:()=>j});var h=M(727);class u extends h.w0{constructor(te,Z){super()}schedule(te,Z=0){return this}}const k={setInterval(J,te,...Z){const{delegate:oe}=k;return oe?.setInterval?oe.setInterval(J,te,...Z):setInterval(J,te,...Z)},clearInterval(J){const{delegate:te}=k;return(te?.clearInterval||clearInterval)(J)},delegate:void 0};var fe=M(6852);class j extends u{constructor(te,Z){super(te,Z),this.scheduler=te,this.work=Z,this.pending=!1}schedule(te,Z=0){if(this.closed)return this;this.state=te;const oe=this.id,K=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(K,oe,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(K,this.id,Z),this}requestAsyncId(te,Z,oe=0){return k.setInterval(te.flush.bind(te,this),oe)}recycleAsyncId(te,Z,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return Z;k.clearInterval(Z)}execute(te,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(te,Z);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Z){let K,oe=!1;try{this.work(te)}catch(ne){oe=!0,K=ne||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:te,scheduler:Z}=this,{actions:oe}=Z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(oe,this),null!=te&&(this.id=this.recycleAsyncId(Z,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,Ke,M)=>{M.d(Ke,{v:()=>k});var h=M(6063);class u{constructor(j,J=u.now){this.schedulerActionCtor=j,this.now=J}schedule(j,J=0,te){return new this.schedulerActionCtor(this,j).schedule(te,J)}}u.now=h.l.now;class k extends u{constructor(j,J=u.now){super(j,J),this.actions=[],this._active=!1,this._scheduled=void 0}flush(j){const{actions:J}=this;if(this._active)return void J.push(j);let te;this._active=!0;do{if(te=j.execute(j.state,j.delay))break}while(j=J.shift());if(this._active=!1,te){for(;j=J.shift();)j.unsubscribe();throw te}}}},4986:(jt,Ke,M)=>{M.d(Ke,{P:()=>fe,z:()=>k});var h=M(4408);const k=new(M(7565).v)(h.o),fe=k},6063:(jt,Ke,M)=>{M.d(Ke,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},233:(jt,Ke,M)=>{M.d(Ke,{N:()=>j});var h=M(4408),k=M(7565);const j=new class fe extends k.v{}(class u extends h.o{constructor(Z,oe){super(Z,oe),this.scheduler=Z,this.work=oe}schedule(Z,oe=0){return oe>0?super.schedule(Z,oe):(this.delay=oe,this.state=Z,this.scheduler.flush(this),this)}execute(Z,oe){return oe>0||this.closed?super.execute(Z,oe):this._execute(Z,oe)}requestAsyncId(Z,oe,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(Z,oe,K):Z.flush(this)}})},3410:(jt,Ke,M)=>{M.d(Ke,{z:()=>h});const h={setTimeout(u,k,...fe){const{delegate:j}=h;return j?.setTimeout?j.setTimeout(u,k,...fe):setTimeout(u,k,...fe)},clearTimeout(u){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(jt,Ke,M)=>{M.d(Ke,{h:()=>u});const u=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,Ke,M)=>{M.d(Ke,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(jt,Ke,M)=>{M.d(Ke,{K:()=>u});const u=(0,M(3888).d)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(jt,Ke,M)=>{M.d(Ke,{_6:()=>J,jO:()=>fe,yG:()=>j});var h=M(576),u=M(3532);function k(te){return te[te.length-1]}function fe(te){return(0,h.m)(k(te))?te.pop():void 0}function j(te){return(0,u.K)(k(te))?te.pop():void 0}function J(te,Z){return"number"==typeof k(te)?te.pop():Z}},4742:(jt,Ke,M)=>{M.d(Ke,{D:()=>j});const{isArray:h}=Array,{getPrototypeOf:u,prototype:k,keys:fe}=Object;function j(te){if(1===te.length){const Z=te[0];if(h(Z))return{args:Z,keys:null};if(function J(te){return te&&"object"==typeof te&&u(te)===k}(Z)){const oe=fe(Z);return{args:oe.map(K=>Z[K]),keys:oe}}}return{args:te,keys:null}}},6852:(jt,Ke,M)=>{function h(u,k){if(u){const fe=u.indexOf(k);0<=fe&&u.splice(fe,1)}}M.d(Ke,{P:()=>h})},3888:(jt,Ke,M)=>{function h(u){const fe=u(j=>{Error.call(j),j.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}M.d(Ke,{d:()=>h})},1810:(jt,Ke,M)=>{function h(u,k){return u.reduce((fe,j,J)=>(fe[j]=k[J],fe),{})}M.d(Ke,{n:()=>h})},2806:(jt,Ke,M)=>{M.d(Ke,{O:()=>fe,x:()=>k});var h=M(2416);let u=null;function k(j){if(h.v.useDeprecatedSynchronousErrorHandling){const J=!u;if(J&&(u={errorThrown:!1,error:null}),j(),J){const{errorThrown:te,error:Z}=u;if(u=null,te)throw Z}}else j()}function fe(j){h.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=j)}},9672:(jt,Ke,M)=>{function h(u,k,fe,j=0,J=!1){const te=k.schedule(function(){fe(),J?u.add(this.schedule(null,j)):this.unsubscribe()},j);if(u.add(te),!J)return te}M.d(Ke,{f:()=>h})},4671:(jt,Ke,M)=>{function h(u){return u}M.d(Ke,{y:()=>h})},1144:(jt,Ke,M)=>{M.d(Ke,{z:()=>h});const h=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(jt,Ke,M)=>{M.d(Ke,{D:()=>u});var h=M(576);function u(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},576:(jt,Ke,M)=>{function h(u){return"function"==typeof u}M.d(Ke,{m:()=>h})},3670:(jt,Ke,M)=>{M.d(Ke,{c:()=>k});var h=M(8822),u=M(576);function k(fe){return(0,u.m)(fe[h.L])}},6495:(jt,Ke,M)=>{M.d(Ke,{T:()=>k});var h=M(2202),u=M(576);function k(fe){return(0,u.m)(fe?.[h.h])}},8239:(jt,Ke,M)=>{M.d(Ke,{t:()=>u});var h=M(576);function u(k){return(0,h.m)(k?.then)}},3260:(jt,Ke,M)=>{M.d(Ke,{L:()=>fe,Q:()=>k});var h=M(655),u=M(576);function k(j){return(0,h.FC)(this,arguments,function*(){const te=j.getReader();try{for(;;){const{value:Z,done:oe}=yield(0,h.qq)(te.read());if(oe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Z)}}finally{te.releaseLock()}})}function fe(j){return(0,u.m)(j?.getReader)}},3532:(jt,Ke,M)=>{M.d(Ke,{K:()=>u});var h=M(576);function u(k){return k&&(0,h.m)(k.schedule)}},4482:(jt,Ke,M)=>{M.d(Ke,{A:()=>u,e:()=>k});var h=M(576);function u(fe){return(0,h.m)(fe?.lift)}function k(fe){return j=>{if(u(j))return j.lift(function(J){try{return fe(J,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(jt,Ke,M)=>{M.d(Ke,{Z:()=>fe});var h=M(4004);const{isArray:u}=Array;function fe(j){return(0,h.U)(J=>function k(j,J){return u(J)?j(...J):j(J)}(j,J))}},5032:(jt,Ke,M)=>{function h(){}M.d(Ke,{Z:()=>h})},9635:(jt,Ke,M)=>{M.d(Ke,{U:()=>k,z:()=>u});var h=M(4671);function u(...fe){return k(fe)}function k(fe){return 0===fe.length?h.y:1===fe.length?fe[0]:function(J){return fe.reduce((te,Z)=>Z(te),J)}}},7849:(jt,Ke,M)=>{M.d(Ke,{h:()=>k});var h=M(2416),u=M(3410);function k(fe){u.z.setTimeout(()=>{const{onUnhandledError:j}=h.v;if(!j)throw fe;j(fe)})}},4532:(jt,Ke,M)=>{function h(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Ke,{z:()=>h})},655:(jt,Ke,M)=>{function fe(Be,et){var Ue={};for(var pt in Be)Object.prototype.hasOwnProperty.call(Be,pt)&&et.indexOf(pt)<0&&(Ue[pt]=Be[pt]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(pt=Object.getOwnPropertySymbols(Be);nt<pt.length;nt++)et.indexOf(pt[nt])<0&&Object.prototype.propertyIsEnumerable.call(Be,pt[nt])&&(Ue[pt[nt]]=Be[pt[nt]])}return Ue}function Z(Be,et,Ue,pt){return new(Ue||(Ue=Promise))(function(Ft,at){function Ot(Pt){try{lt(pt.next(Pt))}catch(_n){at(_n)}}function Et(Pt){try{lt(pt.throw(Pt))}catch(_n){at(_n)}}function lt(Pt){Pt.done?Ft(Pt.value):function nt(Ft){return Ft instanceof Ue?Ft:new Ue(function(at){at(Ft)})}(Pt.value).then(Ot,Et)}lt((pt=pt.apply(Be,et||[])).next())})}function tt(Be){return this instanceof tt?(this.v=Be,this):new tt(Be)}function Ne(Be,et,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,pt=Ue.apply(Be,et||[]),Ft=[];return nt={},at("next"),at("throw"),at("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function at(wn){pt[wn]&&(nt[wn]=function(pn){return new Promise(function(En,bn){Ft.push([wn,pn,En,bn])>1||Ot(wn,pn)})})}function Ot(wn,pn){try{!function Et(wn){wn.value instanceof tt?Promise.resolve(wn.value.v).then(lt,Pt):_n(Ft[0][2],wn)}(pt[wn](pn))}catch(En){_n(Ft[0][3],En)}}function lt(wn){Ot("next",wn)}function Pt(wn){Ot("throw",wn)}function _n(wn,pn){wn(pn),Ft.shift(),Ft.length&&Ot(Ft[0][0],Ft[0][1])}}function Lt(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,et=Be[Symbol.asyncIterator];return et?et.call(Be):(Be=function ge(Be){var et="function"==typeof Symbol&&Symbol.iterator,Ue=et&&Be[et],pt=0;if(Ue)return Ue.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&pt>=Be.length&&(Be=void 0),{value:Be&&Be[pt++],done:!Be}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ue={},pt("next"),pt("throw"),pt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function pt(Ft){Ue[Ft]=Be[Ft]&&function(at){return new Promise(function(Ot,Et){!function nt(Ft,at,Ot,Et){Promise.resolve(Et).then(function(lt){Ft({value:lt,done:Ot})},at)}(Ot,Et,(at=Be[Ft](at)).done,at.value)})}}}M.d(Ke,{FC:()=>Ne,KL:()=>Lt,_T:()=>fe,mG:()=>Z,qq:()=>tt})},7340:(jt,Ke,M)=>{M.d(Ke,{IO:()=>Qe,LC:()=>u,SB:()=>oe,X$:()=>fe,ZE:()=>Oe,ZN:()=>Ne,_7:()=>Ae,_j:()=>h,eR:()=>ne,jt:()=>j,k1:()=>Lt,l3:()=>k,oB:()=>Z,oQ:()=>ge,pV:()=>Ge,vP:()=>te});class h{}class u{}const k="*";function fe(Xe,de){return{type:7,name:Xe,definitions:de,options:{}}}function j(Xe,de=null){return{type:4,styles:de,timings:Xe}}function te(Xe,de=null){return{type:2,steps:Xe,options:de}}function Z(Xe){return{type:6,styles:Xe,offset:null}}function oe(Xe,de,Ze){return{type:0,name:Xe,styles:de,options:Ze}}function ne(Xe,de,Ze=null){return{type:1,expr:Xe,animation:de,options:Ze}}function ge(Xe,de=null){return{type:8,animation:Xe,options:de}}function Ge(Xe=null){return{type:9,options:Xe}}function Ae(Xe,de=null){return{type:10,animation:Xe,options:de}}function Qe(Xe,de,Ze=null){return{type:11,selector:Xe,animation:de,options:Ze}}function tt(Xe){Promise.resolve(null).then(Xe)}class Ne{constructor(de=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Ze="start"==de?this._onStartFns:this._onDoneFns;Ze.forEach(Ie=>Ie()),Ze.length=0}}class Oe{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Ze=0,Ie=0,he=0;const ze=this.players.length;0==ze?tt(()=>this._onFinish()):this.players.forEach(dt=>{dt.onDone(()=>{++Ze==ze&&this._onFinish()}),dt.onDestroy(()=>{++Ie==ze&&this._onDestroy()}),dt.onStart(()=>{++he==ze&&this._onStart()})}),this.totalTime=this.players.reduce((dt,Be)=>Math.max(dt,Be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Ze=de*this.totalTime;this.players.forEach(Ie=>{const he=Ie.totalTime?Math.min(1,Ze/Ie.totalTime):1;Ie.setPosition(he)})}getPosition(){const de=this.players.reduce((Ze,Ie)=>null===Ze||Ie.totalTime>Ze.totalTime?Ie:Ze,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Ze="start"==de?this._onStartFns:this._onDoneFns;Ze.forEach(Ie=>Ie()),Ze.length=0}}const Lt="!"},6895:(jt,Ke,M)=>{M.d(Ke,{Do:()=>Xe,EM:()=>yn,HT:()=>j,JF:()=>Lr,K0:()=>te,Mx:()=>Fi,NF:()=>Ve,O5:()=>St,Ov:()=>Us,PC:()=>Dr,PM:()=>ut,S$:()=>tt,V_:()=>K,Ye:()=>de,b0:()=>Lt,bD:()=>ai,ez:()=>Br,mk:()=>Mi,q:()=>k,sg:()=>Ye,tP:()=>mr,w_:()=>J});var h=M(4650);let u=null;function k(){return u}function j(V){u||(u=V)}class J{}const te=new h.OlP("DocumentToken");let Z=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function oe(){return(0,h.LFG)(ne)}()},providedIn:"platform"}),V})();const K=new h.OlP("Location Initialized");let ne=(()=>{class V extends Z{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",U,!1),()=>ce.removeEventListener("popstate",U)}onHashChange(U){const ce=k().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",U,!1),()=>ce.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ce,He){ge()?this._history.pushState(U,ce,He):this.location.hash=He}replaceState(U,ce,He){ge()?this._history.replaceState(U,ce,He):this.location.hash=He}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return V.\u0275fac=function(U){return new(U||V)(h.LFG(te))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function Ge(){return new ne((0,h.LFG)(te))}()},providedIn:"platform"}),V})();function ge(){return!!window.history.pushState}function Ae(V,ie){if(0==V.length)return ie;if(0==ie.length)return V;let U=0;return V.endsWith("/")&&U++,ie.startsWith("/")&&U++,2==U?V+ie.substring(1):1==U?V+ie:V+"/"+ie}function Qe(V){const ie=V.match(/#|\?|$/),U=ie&&ie.index||V.length;return V.slice(0,U-("/"===V[U-1]?1:0))+V.slice(U)}function wt(V){return V&&"?"!==V[0]?"?"+V:V}let tt=(()=>{class V{historyGo(U){throw new Error("Not implemented")}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function Ne(){const V=(0,h.LFG)(te).location;return new Lt((0,h.LFG)(Z),V&&V.origin||"")}()},providedIn:"root"}),V})();const Oe=new h.OlP("appBaseHref");let Lt=(()=>{class V extends tt{constructor(U,ce){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ae(this._baseHref,U)}path(U=!1){const ce=this._platformLocation.pathname+wt(this._platformLocation.search),He=this._platformLocation.hash;return He&&U?`${ce}${He}`:ce}pushState(U,ce,He,_t){const rt=this.prepareExternalUrl(He+wt(_t));this._platformLocation.pushState(U,ce,rt)}replaceState(U,ce,He,_t){const rt=this.prepareExternalUrl(He+wt(_t));this._platformLocation.replaceState(U,ce,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return V.\u0275fac=function(U){return new(U||V)(h.LFG(Z),h.LFG(Oe,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),Xe=(()=>{class V extends tt{constructor(U,ce){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(U){const ce=Ae(this._baseHref,U);return ce.length>0?"#"+ce:ce}pushState(U,ce,He,_t){let rt=this.prepareExternalUrl(He+wt(_t));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(U,ce,rt)}replaceState(U,ce,He,_t){let rt=this.prepareExternalUrl(He+wt(_t));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(U,ce,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return V.\u0275fac=function(U){return new(U||V)(h.LFG(Z),h.LFG(Oe,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),de=(()=>{class V{constructor(U){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ce=this._locationStrategy.getBaseHref();this._baseHref=Qe(he(ce)),this._locationStrategy.onPopState(He=>{this._subject.emit({url:this.path(!0),pop:!0,state:He.state,type:He.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ce=""){return this.path()==this.normalize(U+wt(ce))}normalize(U){return V.stripTrailingSlash(function Ie(V,ie){return V&&ie.startsWith(V)?ie.substring(V.length):ie}(this._baseHref,he(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ce="",He=null){this._locationStrategy.pushState(He,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+wt(ce)),He)}replaceState(U,ce="",He=null){this._locationStrategy.replaceState(He,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+wt(ce)),He)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ce){this._urlChangeListeners.forEach(He=>He(U,ce))}subscribe(U,ce,He){return this._subject.subscribe({next:U,error:ce,complete:He})}}return V.normalizeQueryParams=wt,V.joinWithSlash=Ae,V.stripTrailingSlash=Qe,V.\u0275fac=function(U){return new(U||V)(h.LFG(tt))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function Ze(){return new de((0,h.LFG)(tt))}()},providedIn:"root"}),V})();function he(V){return V.replace(/\/index.html$/,"")}function Fi(V,ie){ie=encodeURIComponent(ie);for(const U of V.split(";")){const ce=U.indexOf("="),[He,_t]=-1==ce?[U,""]:[U.slice(0,ce),U.slice(ce+1)];if(He.trim()===ie)return decodeURIComponent(_t)}return null}let Mi=(()=>{class V{constructor(U,ce,He,_t){this._iterableDiffers=U,this._keyValueDiffers=ce,this._ngEl=He,this._renderer=_t,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),U.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!!U[ce])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(U,ce){(U=U.trim())&&U.split(/\s+/g).forEach(He=>{ce?this._renderer.addClass(this._ngEl.nativeElement,He):this._renderer.removeClass(this._ngEl.nativeElement,He)})}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class Ri{constructor(ie,U,ce,He){this.$implicit=ie,this.ngForOf=U,this.index=ce,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class V{constructor(U,ce,He){this._viewContainer=U,this._template=ce,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ce=this._viewContainer;U.forEachOperation((He,_t,rt)=>{if(null==He.previousIndex)ce.createEmbeddedView(this._template,new Ri(He.item,this._ngForOf,-1,-1),null===rt?void 0:rt);else if(null==rt)ce.remove(null===_t?void 0:_t);else if(null!==_t){const un=ce.get(_t);ce.move(un,rt),$e(un,He)}});for(let He=0,_t=ce.length;He<_t;He++){const un=ce.get(He).context;un.index=He,un.count=_t,un.ngForOf=this._ngForOf}U.forEachIdentityChange(He=>{$e(ce.get(He.currentIndex),He)})}static ngTemplateContextGuard(U,ce){return!0}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function $e(V,ie){V.context.$implicit=ie.item}let St=(()=>{class V{constructor(U,ce){this._viewContainer=U,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){dn("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){dn("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ce){return!0}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.s_b),h.Y36(h.Rgc))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function dn(V,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,h.AaK)(ie)}'.`)}let Dr=(()=>{class V{constructor(U,ce,He){this._ngEl=U,this._differs=ce,this._renderer=He,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,ce){const[He,_t]=U.split("."),rt=-1===He.indexOf("-")?void 0:h.JOm.DashCase;null!=ce?this._renderer.setStyle(this._ngEl.nativeElement,He,_t?`${ce}${_t}`:ce,rt):this._renderer.removeStyle(this._ngEl.nativeElement,He,rt)}_applyChanges(U){U.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),U.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),V})(),mr=(()=>{class V{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:He,ngTemplateOutletContext:_t,ngTemplateOutletInjector:rt}=this;this._viewRef=ce.createEmbeddedView(He,_t,rt?{injector:rt}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.s_b))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),V})();class ui{createSubscription(ie,U){return ie.subscribe({next:U,error:ce=>{throw ce}})}dispose(ie){ie.unsubscribe()}}class Ps{createSubscription(ie,U){return ie.then(U,ce=>{throw ce})}dispose(ie){}}const Ts=new Ps,Rs=new ui;let Us=(()=>{class V{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ce=>this._updateLatestValue(U,ce))}_selectStrategy(U){if((0,h.QGY)(U))return Ts;if((0,h.F4k)(U))return Rs;throw function hr(V,ie){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ce){U===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return V.\u0275fac=function(U){return new(U||V)(h.Y36(h.sBO,16))},V.\u0275pipe=h.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})(),Br=(()=>{class V{}return V.\u0275fac=function(U){return new(U||V)},V.\u0275mod=h.oAB({type:V}),V.\u0275inj=h.cJS({}),V})();const ai="browser";function Ve(V){return V===ai}function ut(V){return"server"===V}let yn=(()=>{class V{}return V.\u0275prov=(0,h.Yz7)({token:V,providedIn:"root",factory:()=>new Bn((0,h.LFG)(te),window)}),V})();class Bn{constructor(ie,U){this.document=ie,this.window=U,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const U=function yr(V,ie){const U=V.getElementById(ie)||V.getElementsByName(ie)[0];if(U)return U;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ce=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let He=ce.currentNode;for(;He;){const _t=He.shadowRoot;if(_t){const rt=_t.getElementById(ie)||_t.querySelector(`[name="${ie}"]`);if(rt)return rt}He=ce.nextNode()}}return null}(this.document,ie);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=ie)}}scrollToElement(ie){const U=ie.getBoundingClientRect(),ce=U.left+this.window.pageXOffset,He=U.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(ce-_t[0],He-_t[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=ar(this.window.history)||ar(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ar(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Lr{}},4650:(jt,Ke,M)=>{M.d(Ke,{$8M:()=>po,$Z:()=>jg,AFp:()=>eE,ALo:()=>E0,AaK:()=>Z,Akn:()=>i,AsE:()=>$y,BQk:()=>Vh,CHM:()=>$i,CRH:()=>x0,CZH:()=>Hm,CqO:()=>_m,D6c:()=>BI,DdM:()=>a0,EJc:()=>eI,EiD:()=>Kd,EpF:()=>ym,F$t:()=>Wp,F4k:()=>Bp,FYo:()=>qi,FiY:()=>zn,G48:()=>wI,Gf:()=>A0,GfV:()=>jl,GkF:()=>Vp,Gpc:()=>ne,HTZ:()=>f0,Hsn:()=>Gp,JOm:()=>xl,JVY:()=>Tl,KtG:()=>ds,L6k:()=>pl,LAX:()=>Dl,LFG:()=>H,LSH:()=>qd,Lbi:()=>Yw,Lck:()=>Qb,MAs:()=>Fu,MMx:()=>Qy,NdJ:()=>Hp,O4$:()=>No,OlP:()=>qr,Oqu:()=>aa,PXZ:()=>gI,Q6J:()=>du,QGY:()=>Up,QP$:()=>Zh,QbO:()=>Qw,Qsj:()=>ld,R0b:()=>Nl,RDi:()=>Bl,Rgc:()=>eg,SBq:()=>Vo,Sil:()=>nI,Suo:()=>M0,TTD:()=>Hi,TgZ:()=>Nh,Tol:()=>n,Udp:()=>Pm,VKq:()=>l0,W1O:()=>N0,WLB:()=>u0,X6Q:()=>bI,XFs:()=>nn,Xpm:()=>ee,Xts:()=>Ic,Y36:()=>Mu,YKP:()=>Jv,YNc:()=>mm,Yjl:()=>qe,Yz7:()=>pn,ZZ4:()=>w_,_Bn:()=>Qv,_UZ:()=>Lh,_Vd:()=>dr,_c5:()=>VI,_uU:()=>Ys,aQg:()=>I_,c2e:()=>Jw,cJS:()=>bn,cg1:()=>jy,dDg:()=>dI,deG:()=>Fl,dqk:()=>qt,eBb:()=>zu,eFA:()=>fE,ekj:()=>$h,eoX:()=>cE,f3M:()=>Te,g9A:()=>nE,h0i:()=>zh,hGG:()=>UI,hij:()=>Uu,iGM:()=>S0,ifc:()=>kn,ip1:()=>X0,kEZ:()=>c0,kL8:()=>Iv,l5B:()=>d0,lG2:()=>Dn,lcZ:()=>b0,lqb:()=>ci,lri:()=>lE,mCW:()=>kt,n5z:()=>Ii,oAB:()=>zt,oJD:()=>Zd,oxw:()=>bm,pB0:()=>vc,q3G:()=>Li,q4F:()=>Ta,qLn:()=>yl,qOj:()=>qs,qZA:()=>kh,qbA:()=>h0,qzn:()=>Cl,rFY:()=>p0,rWj:()=>uE,s9C:()=>Uh,sBO:()=>II,sIi:()=>jc,s_b:()=>Vm,soG:()=>$m,tBr:()=>_r,tb:()=>rE,tp0:()=>vr,uIk:()=>Np,vHH:()=>Qe,vpe:()=>Bu,wAp:()=>Or,xp6:()=>Og,ynx:()=>Fh,z2F:()=>jm,z3N:()=>wa,zSh:()=>Vn,zs3:()=>ic});var h=M(7579),u=M(727),k=M(9751),fe=M(6451),j=M(3099);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function te(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function oe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const K=J({__forward_ref__:J});function ne(t){return t.__forward_ref__=ne,t.toString=function(){return Z(this())},t}function ge(t){return Ge(t)?t():t}function Ge(t){return"function"==typeof t&&t.hasOwnProperty(K)&&t.__forward_ref__===ne}class Qe extends Error{constructor(r,s){super(function wt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function tt(t){return"string"==typeof t?t:null==t?"":String(t)}function de(t,r){throw new Qe(-201,!1)}function Et(t,r){null==t&&function lt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wn(t){return Ar(t,$n)||Ar(t,Jn)}function Ar(t,r){return t.hasOwnProperty(r)?t[r]:null}function Yr(t){return t&&(t.hasOwnProperty(Cr)||t.hasOwnProperty(sr))?t[Cr]:null}const $n=J({\u0275prov:J}),Cr=J({\u0275inj:J}),Jn=J({ngInjectableDef:J}),sr=J({ngInjectorDef:J});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let Yn;function vn(t){const r=Yn;return Yn=t,r}function xn(t,r,s){const a=Wn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&nn.Optional?null:void 0!==r?r:void de(Z(t))}function zr(t){return{toString:t}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),kn=(()=>{return(t=kn||(kn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kn;var t})();const qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nr={},Tn=[],Mr=J({\u0275cmp:J}),or=J({\u0275dir:J}),Yt=J({\u0275pipe:J}),jn=J({\u0275mod:J}),Ur=J({\u0275fac:J}),Pe=J({__NG_ELEMENT_ID__:J});let ke=0;function ee(t){return zr(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,id:"c"+ke++,styles:t.styles||Tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.dependencies,E=t.features;return c.inputs=gn(t.inputs,a),c.outputs=gn(t.outputs),E&&E.forEach(D=>D(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(z).filter(De):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(It).filter(De):null,c})}function z(t){return Ce(t)||Se(t)}function De(t){return null!==t}const ot={};function zt(t){return zr(()=>{const r={type:t.type,bootstrap:t.bootstrap||Tn,declarations:t.declarations||Tn,imports:t.imports||Tn,exports:t.exports||Tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ot[t.id]=t.type),r})}function gn(t,r){if(null==t)return Nr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=a,r&&(r[c]=p)}return s}const Dn=ee;function qe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ce(t){return t[Mr]||null}function Se(t){return t[or]||null}function It(t){return t[Yt]||null}function Bt(t,r){const s=t[jn]||null;if(!s&&!0===r)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return s}function St(t){return Array.isArray(t)&&"object"==typeof t[1]}function $t(t){return Array.isArray(t)&&!0===t[1]}function dn(t){return 0!=(8&t.flags)}function _e(t){return 2==(2&t.flags)}function ct(t){return 1==(1&t.flags)}function je(t){return null!==t.template}function ht(t){return 0!=(256&t[2])}function Yi(t,r){return t.hasOwnProperty(Ur)?t[Ur]:null}class Ki{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Hi(){return Hs}function Hs(t){return t.type.prototype.ngOnChanges&&(t.setInput=_s),ys}function ys(){const t=Es(this),r=t?.current;if(r){const s=t.previous;if(s===Nr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function _s(t,r,s,a){const c=Es(t)||function $s(t,r){return t[vs]=r}(t,{previous:Nr,current:null}),p=c.current||(c.current={}),E=c.previous,D=this.declaredInputs[s],x=E[D];p[D]=new Ki(x&&x.currentValue,r,E===Nr),t[a]=r}Hi.ngInherit=!0;const vs="__ngSimpleChanges__";function Es(t){return t[vs]||null}function yt(t){for(;Array.isArray(t);)t=t[0];return t}function yn(t,r){return yt(r[t])}function Bn(t,r){return yt(r[t.index])}function yr(t,r){return t.data[r]}function ti(t,r){return t[r]}function Lr(t,r){const s=r[t];return St(s)?s:s[0]}function V(t){return 4==(4&t[2])}function ie(t){return 64==(64&t[2])}function ce(t,r){return null==r?null:t[r]}function He(t){t[18]=0}function _t(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const rt={lFrame:Oi(null),bindingsEnabled:!0};function vi(){return rt.bindingsEnabled}function Vt(){return rt.lFrame.lView}function lr(){return rt.lFrame.tView}function $i(t){return rt.lFrame.contextLView=t,t[8]}function ds(t){return rt.lFrame.contextLView=null,t}function si(){let t=ho();for(;null!==t&&64===t.type;)t=t.parent;return t}function ho(){return rt.lFrame.currentTNode}function ns(t,r){const s=rt.lFrame;s.currentTNode=t,s.isParent=r}function vo(){return rt.lFrame.isParent}function Di(){rt.lFrame.isParent=!1}function F(){const t=rt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function vt(){return rt.lFrame.bindingIndex++}function hn(t){const r=rt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Js(t,r){const s=rt.lFrame;s.bindingIndex=s.bindingRootIndex=t,io(r)}function io(t){rt.lFrame.currentDirectiveIndex=t}function il(){return rt.lFrame.currentQueryIndex}function $o(t){rt.lFrame.currentQueryIndex=t}function sl(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Ui(t,r,s){if(s&nn.SkipSelf){let c=r,p=t;for(;!(c=c.parent,null!==c||s&nn.Host||(c=sl(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;r=c,t=p}const a=rt.lFrame=hi();return a.currentTNode=r,a.lView=t,!0}function jo(t){const r=hi(),s=t[1];rt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function hi(){const t=rt.lFrame,r=null===t?null:t.child;return null===r?Oi(t):r}function Oi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Hr(){const t=rt.lFrame;return rt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Wo=Hr;function vl(){const t=Hr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ji(){return rt.lFrame.selectedIndex}function Ls(t){rt.lFrame.selectedIndex=t}function yi(){const t=rt.lFrame;return yr(t.tView,t.selectedIndex)}function No(){rt.lFrame.currentNamespace="svg"}function El(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:G,ngOnDestroy:le}=p;E&&(t.contentHooks||(t.contentHooks=[])).push(-s,E),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),x&&(t.viewHooks||(t.viewHooks=[])).push(-s,x),G&&((t.viewHooks||(t.viewHooks=[])).push(s,G),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,G)),null!=le&&(t.destroyHooks||(t.destroyHooks=[])).push(s,le)}}function Ba(t,r,s){ol(t,r,3,s)}function Qi(t,r,s,a){(3&t[2])===s&&ol(t,r,s,a)}function bl(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function ol(t,r,s,a){const p=a??-1,E=r.length-1;let D=0;for(let x=void 0!==a?65535&t[18]:0;x<E;x++)if("number"==typeof r[x+1]){if(D=r[x],null!=a&&D>=a)break}else r[x]<0&&(t[18]+=65536),(D<p||-1==p)&&(Go(t,s,r,x),t[18]=(4294901760&t[18])+x+2),x++}function Go(t,r,s,a){const c=s[a]<0,p=s[a+1],D=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class ko{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function wi(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const p=s[a++],E=s[a++],D=s[a++];t.setAttribute(r,E,D,p)}else{const p=c,E=s[++a];Gs(p)?t.setProperty(r,p,E):t.setAttribute(r,p,E),a++}}return a}function fo(t){return 3===t||4===t||6===t}function Gs(t){return 64===t.charCodeAt(0)}function xa(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||al(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function al(t,r,s,a,c){let p=0,E=t.length;if(-1===r)E=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===r){E=-1;break}if(D>r){E=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==c&&(t[p+1]=c));if(a===t[p+1])return void(t[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==E&&(t.splice(E,0,r),p=E+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==c&&t.splice(p++,0,c)}function Kt(t){return-1!==t}function ki(t){return 32767&t}function Fs(t,r){let s=function hs(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Pn=!0;function Xn(t){const r=Pn;return Pn=t,r}let Nt=0;const _i={};function Ko(t,r){const s=fa(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,ha(a.data,t),ha(r,null),ha(a.blueprint,null));const c=pa(t,r),p=t.injectorIndex;if(Kt(c)){const E=ki(c),D=Fs(c,r),x=D[1].data;for(let G=0;G<8;G++)r[p+G]=D[E+G]|x[E+G]}return r[p+8]=c,p}function ha(t,r){t.push(0,0,0,0,0,0,0,0,r)}function fa(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Wa(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Zo(t,r,s){!function zo(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Pe)&&(a=s[Pe]),null==a&&(a=s[Pe]=Nt++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function ja(t,r,s){if(s&nn.Optional)return t;de()}function Oa(t,r,s,a){if(s&nn.Optional&&void 0===a&&(a=null),0==(s&(nn.Self|nn.Host))){const c=t[9],p=vn(void 0);try{return c?c.get(r,a,s&nn.Optional):xn(r,a,s&nn.Optional)}finally{vn(p)}}return ja(a,0,s)}function Bi(t,r,s,a=nn.Default,c){if(null!==t){if(1024&r[2]){const E=function Yo(t,r,s,a,c){let p=t,E=r;for(;null!==p&&null!==E&&1024&E[2]&&!(256&E[2]);){const D=qo(p,E,s,a|nn.Self,_i);if(D!==_i)return D;let x=p.parent;if(!x){const G=E[21];if(G){const le=G.get(s,_i,a);if(le!==_i)return le}x=Wa(E),E=E[15]}p=x}return c}(t,r,s,a,_i);if(E!==_i)return E}const p=qo(t,r,s,a,_i);if(p!==_i)return p}return Oa(r,s,a,c)}function qo(t,r,s,a,c){const p=function fi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Pe)?t[Pe]:void 0;return"number"==typeof r?r>=0?255&r:rs:r}(s);if("function"==typeof p){if(!Ui(r,t,a))return a&nn.Host?ja(c,0,a):Oa(r,s,a,c);try{const E=p(a);if(null!=E||a&nn.Optional)return E;de()}finally{Wo()}}else if("number"==typeof p){let E=null,D=fa(t,r),x=-1,G=a&nn.Host?r[16][6]:null;for((-1===D||a&nn.SkipSelf)&&(x=-1===D?pa(t,r):r[D+8],-1!==x&&xr(a,!1)?(E=r[1],D=ki(x),r=Fs(x,r)):D=-1);-1!==D;){const le=r[1];if(er(p,D,le.data)){const be=Ir(D,r,s,E,a,G);if(be!==_i)return be}x=r[D+8],-1!==x&&xr(a,r[1].data[D+8]===G)&&er(p,D,r)?(E=le,D=ki(x),r=Fs(x,r)):D=-1}}return c}function Ir(t,r,s,a,c,p){const E=r[1],D=E.data[t+8],le=Ds(D,E,s,null==a?_e(D)&&Pn:a!=E&&0!=(3&D.type),c&nn.Host&&p===D);return null!==le?wo(r,E,le,D):_i}function Ds(t,r,s,a,c){const p=t.providerIndexes,E=r.data,D=1048575&p,x=t.directiveStart,le=p>>20,Je=c?D+le:t.directiveEnd;for(let mt=a?D:D+le;mt<Je;mt++){const Ht=E[mt];if(mt<x&&s===Ht||mt>=x&&Ht.type===s)return mt}if(c){const mt=E[x];if(mt&&je(mt)&&mt.type===s)return x}return null}function wo(t,r,s,a){let c=t[s];const p=r.data;if(function bo(t){return t instanceof ko}(c)){const E=c;E.resolving&&function Oe(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():tt(t)}(p[s]));const D=Xn(E.canSeeViewProviders);E.resolving=!0;const x=E.injectImpl?vn(E.injectImpl):null;Ui(t,a,nn.Default);try{c=t[s]=E.factory(void 0,p,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Yl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const E=Hs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,E)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p))}(s,p[s],r)}finally{null!==x&&vn(x),Xn(D),E.resolving=!1,Wo()}}return c}function er(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function xr(t,r){return!(t&nn.Self||t&nn.Host&&r)}class fr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Bi(this._tNode,this._lView,r,a,s)}}function rs(){return new fr(si(),Vt())}function Ii(t){return zr(()=>{const r=t.prototype.constructor,s=r[Ur]||en(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const p=c[Ur]||en(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function en(t){return Ge(t)?()=>{const r=en(ge(t));return r&&r()}:Yi(t)}function Wa(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function po(t){return function ll(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const p=s[c];if(fo(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(p===r)return s[c+1];c+=2}}}return null}(si(),t)}const is="__parameters__";function Co(t,r,s){return zr(()=>{const a=function Ji(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const E=new c(...p);return D.annotation=E,D;function D(x,G,le){const be=x.hasOwnProperty(is)?x[is]:Object.defineProperty(x,is,{value:[]})[is];for(;be.length<=le;)be.push(null);return(be[le]=be[le]||[]).push(E),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class qr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=pn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fl=new qr("AnalyzeForEntryComponents");function es(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),es(a,r)):r!==t&&r.push(a)}return r}function so(t,r){t.forEach(s=>Array.isArray(s)?so(s,r):r(s))}function Wi(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function T(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function C(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function bt(t,r,s){let a=Mn(t,r);return a>=0?t[1|a]=s:(a=~a,function B(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function on(t,r){const s=Mn(t,r);if(s>=0)return t[1|s]}function Mn(t,r){return function Qr(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const p=a+(c-a>>1),E=t[p<<s];if(r===E)return p<<s;E>r?c=p:a=p+1}return~(c<<s)}(t,r,1)}const as={},Do="__NG_DI_FLAG__",ao="ngTempTokenPath",Jl=/\n/gm,Vl="__source";let So;function va(t){const r=So;return So=t,r}function R(t,r=nn.Default){if(void 0===So)throw new Qe(-203,!1);return null===So?xn(t,void 0,r):So.get(t,r&nn.Optional?null:void 0,r)}function H(t,r=nn.Default){return(function Fn(){return Yn}()||R)(ge(t),r)}function Te(t,r=nn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),H(t,r)}function it(t){const r=[];for(let s=0;s<t.length;s++){const a=ge(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Qe(900,!1);let c,p=nn.Default;for(let E=0;E<a.length;E++){const D=a[E],x=Gt(D);"number"==typeof x?-1===x?c=D.token:p|=x:c=D}r.push(H(c,p))}else r.push(H(a))}return r}function Tt(t,r){return t[Do]=r,t.prototype[Do]=r,t}function Gt(t){return t[Do]}const _r=Tt(Co("Inject",t=>({token:t})),-1),zn=Tt(Co("Optional"),8),vr=Tt(Co("SkipSelf"),4);let yu,hl,qa;function Bl(t){yu=t}function fl(t){return function Xl(){if(void 0===hl&&(hl=null,qt.trustedTypes))try{hl=qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hl}()?.createHTML(t)||t}function vu(t){return function _u(){if(void 0===qa&&(qa=null,qt.trustedTypes))try{qa=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qa}()?.createHTML(t)||t}class Na{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ed extends Na{getTypeName(){return"HTML"}}class bu extends Na{getTypeName(){return"Style"}}class _c extends Na{getTypeName(){return"Script"}}class ws extends Na{getTypeName(){return"URL"}}class eu extends Na{getTypeName(){return"ResourceURL"}}function wa(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function Cl(t,r){const s=function Gu(t){return t instanceof Na&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function Tl(t){return new ed(t)}function pl(t){return new bu(t)}function zu(t){return new _c(t)}function Dl(t){return new ws(t)}function vc(t){return new eu(t)}class g{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(fl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class y{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=fl(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=fl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let c=s.length-1;0<c;c--){const E=s.item(c).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const re=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,st=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kt(t){return(t=String(t)).match(re)||t.match(st)?t:"unsafe:"+t}function Ln(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Vr(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Pi=Ln("area,br,col,hr,img,wbr"),Ia=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),na=Ln("rp,rt"),Sl=Vr(Pi,Vr(Ia,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vr(na,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vr(na,Ia)),tu=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=Ln("srcset"),ls=Vr(tu,ka,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),li=Ln("script,style,template");class nd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Sl.hasOwnProperty(s))return this.sanitizedSomething=!0,!li.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),E=p.name,D=E.toLowerCase();if(!ls.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=p.value;tu[D]&&(x=kt(x)),ka[D]&&(t=x,x=(t=String(t)).split(",").map(r=>kt(r.trim())).join(", ")),this.buf.push(" ",E,'="',Yh(x),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Sl.hasOwnProperty(s)&&!Pi.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Yh(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Zu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function Yh(t){return t.replace(/&/g,"&amp;").replace(Zu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mo;function Kd(t,r){let s=null;try{Mo=Mo||function I(t){const r=new y(t);return function S(){try{return!!(new window.DOMParser).parseFromString(fl(""),"text/html")}catch{return!1}}()?new g(r):r}(t);let a=r?String(r):"";s=Mo.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=s.innerHTML,s=Mo.getInertBodyElement(a)}while(a!==p);return fl((new nd).sanitizeChildren(wu(s)||s))}finally{if(s){const a=wu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function wu(t){return"content"in t&&function Qh(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Li=(()=>((Li=Li||{})[Li.NONE=0]="NONE",Li[Li.HTML=1]="HTML",Li[Li.STYLE=2]="STYLE",Li[Li.SCRIPT=3]="SCRIPT",Li[Li.URL=4]="URL",Li[Li.RESOURCE_URL=5]="RESOURCE_URL",Li))();function Zd(t){const r=Iu();return r?vu(r.sanitize(Li.HTML,t)||""):Cl(t,"HTML")?vu(wa(t)):Kd(function yc(){return void 0!==yu?yu:typeof document<"u"?document:void 0}(),tt(t))}function qd(t){const r=Iu();return r?r.sanitize(Li.URL,t)||"":Cl(t,"URL")?wa(t):kt(tt(t))}function Iu(){const t=Vt();return t&&t[12]}const Ic=new qr("ENVIRONMENT_INITIALIZER"),Yd=new qr("INJECTOR",-1),sd=new qr("INJECTOR_DEF_TYPES");class od{get(r,s=as){if(s===as){const a=new Error(`NullInjectorError: No provider for ${Z(r)}!`);throw a.name="NullInjectorError",a}return s}}function b(...t){return{\u0275providers:m(0,t)}}function m(t,...r){const s=[],a=new Set;let c;return so(r,p=>{const E=p;_(E,s,[],a)&&(c||(c=[]),c.push(E))}),void 0!==c&&d(c,s),s}function d(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];so(c,p=>{r.push(p)})}}function _(t,r,s,a){if(!(t=ge(t)))return!1;let c=null,p=Yr(t);const E=!p&&Ce(t);if(p||E){if(E&&!E.standalone)return!1;c=t}else{const x=t.ngModule;if(p=Yr(x),!p)return!1;c=x}const D=a.has(c);if(E){if(D)return!1;if(a.add(c),E.dependencies){const x="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const G of x)_(G,r,s,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let G;a.add(c);try{so(p.imports,le=>{_(le,r,s,a)&&(G||(G=[]),G.push(le))})}finally{}void 0!==G&&d(G,r)}if(!D){const G=Yi(c)||(()=>new c);r.push({provide:c,useFactory:G,deps:Tn},{provide:sd,useValue:c,multi:!0},{provide:Ic,useValue:()=>H(c),multi:!0})}const x=p.providers;null==x||D||so(x,le=>{r.push(le)})}}return c!==t&&void 0!==t.providers}const q=J({provide:String,useValue:J});function pe(t){return null!==t&&"object"==typeof t&&q in t}function Rt(t){return"function"==typeof t}const Vn=new qr("Set Injector scope."),Jr={},Gr={};let pr;function Sr(){return void 0===pr&&(pr=new od),pr}class ci{}class Zi extends ci{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cc(r,E=>this.processProvider(E)),this.records.set(Yd,xo(void 0,this)),c.has("environment")&&this.records.set(ci,xo(void 0,this));const p=this.records.get(Vn);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sd.multi,Tn,nn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=va(this),a=vn(void 0);try{return r()}finally{va(s),vn(a)}}get(r,s=as,a=nn.Default){this.assertNotDestroyed();const c=va(this),p=vn(void 0);try{if(!(a&nn.SkipSelf)){let D=this.records.get(r);if(void 0===D){const x=function Ml(t){return"function"==typeof t||"object"==typeof t&&t instanceof qr}(r)&&Wn(r);D=x&&this.injectableDefInScope(x)?xo(Zs(r),Jr):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&nn.Self?Sr():this.parent).get(r,s=a&nn.Optional&&s===as?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[ao]=E[ao]||[]).unshift(Z(r)),c)throw E;return function Cn(t,r,s,a){const c=t[ao];throw r[Vl]&&c.unshift(r[Vl]),t.message=function ir(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Z(r);if(Array.isArray(r))c=r.map(Z).join(" -> ");else if("object"==typeof r){let p=[];for(let E in r)if(r.hasOwnProperty(E)){let D=r[E];p.push(E+":"+("string"==typeof D?JSON.stringify(D):Z(D)))}c=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Jl,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[ao]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{vn(p),va(c)}}resolveInjectorInitializers(){const r=va(this),s=vn(void 0);try{const a=this.get(Ic.multi,Tn,nn.Self);for(const c of a)c()}finally{va(r),vn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Z(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(r){let s=Rt(r=ge(r))?r:ge(r&&r.provide);const a=function no(t){return pe(t)?xo(void 0,t.useValue):xo(nu(t),Jr)}(r);if(Rt(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=xo(void 0,Jr,!0),c.factory=()=>it(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Jr&&(s.value=Gr,s.value=s.factory()),"object"==typeof s.value&&s.value&&function gl(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ge(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Zs(t){const r=Wn(t),s=null!==r?r.factory:Yi(t);if(null!==s)return s;if(t instanceof qr)throw new Qe(204,!1);if(t instanceof Function)return function to(t){const r=t.length;if(r>0)throw C(r,"?"),new Qe(204,!1);const s=function cr(t){const r=t&&(t[$n]||t[Jn]);if(r){const s=function tn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Qe(204,!1)}function nu(t,r,s){let a;if(Rt(t)){const c=ge(t);return Yi(c)||Zs(c)}if(pe(t))a=()=>ge(t.useValue);else if(function ft(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...it(t.deps||[]));else if(function xe(t){return!(!t||!t.useExisting)}(t))a=()=>H(ge(t.useExisting));else{const c=ge(t&&(t.useClass||t.provide));if(!function Oo(t){return!!t.deps}(t))return Yi(c)||Zs(c);a=()=>new c(...it(t.deps))}return a}function xo(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function ml(t){return!!t.\u0275providers}function Cc(t,r){for(const s of t)Array.isArray(s)?Cc(s,r):ml(s)?Cc(s.\u0275providers,r):r(s)}class Ca{}class gr{resolveComponentFactory(r){throw function ru(t){const r=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let dr=(()=>{class t{}return t.NULL=new gr,t})();function Pr(){return Is(si(),Vt())}function Is(t,r){return new Vo(Bn(t,r))}let Vo=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Pr,t})();function As(t){return t instanceof Vo?t.nativeElement:t}class qi{}let ld=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function ef(){const t=Vt(),s=Lr(si().index,t);return(St(s)?s:t)[11]}(),t})(),Po=(()=>{class t{}return t.\u0275prov=pn({token:t,providedIn:"root",factory:()=>null}),t})();class jl{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ta=new jl("14.1.0"),Cu={};function dd(t){return t.ngOriginalError}class yl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&dd(r);for(;s&&dd(s);)s=dd(s);return s||null}}const Jd=new Map;let lf=0;const iu="__ngContext__";function ia(t,r){St(r)?(t[iu]=r[20],function og(t){Jd.set(t[20],t)}(r)):t[iu]=r}function Sc(t){const r=t[iu];return"number"==typeof r?function cf(t){return Jd.get(t)||null}(r):r||null}function df(t){const r=Sc(t);return r?St(r)?r:r.lView:null}const Xd=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(qt))();function Ja(t){return t instanceof Function?t():t}var xl=(()=>((xl=xl||{})[xl.Important=1]="Important",xl[xl.DashCase=2]="DashCase",xl))();function Du(t,r){return undefined(t,r)}function Gl(t){const r=t[3];return $t(r)?r[3]:r}function eh(t){return gg(t[13])}function pf(t){return gg(t[4])}function gg(t){for(;null!==t&&!$t(t);)t=t[4];return t}function Mc(t,r,s,a,c){if(null!=a){let p,E=!1;$t(a)?p=a:St(a)&&(E=!0,a=a[0]);const D=yt(a);0===t&&null!==s?null==c?Ig(r,s,D):nc(r,s,D,c||null,!0):1===t&&null!==s?nc(r,s,D,c||null,!0):2===t?function Ef(t,r,s){const a=rh(t,r);a&&function oy(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,E):3===t&&r.destroyNode(D),null!=p&&function Ag(t,r,s,a,c){const p=s[7];p!==yt(s)&&Mc(r,t,a,p,c);for(let D=10;D<s.length;D++){const x=s[D];vd(x[1],x,t,r,a,p)}}(r,t,p,s,c)}}function th(t,r,s){return t.createElement(r,s)}function vg(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,_t(c,-1)),s.splice(a,1)}function nh(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&vg(c,a),r>0&&(t[s-1][4]=a[4]);const p=T(t,10+r);!function sy(t,r){vd(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const E=p[19];null!==E&&E.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Eg(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&vd(t,r,s,3,null,null),function md(t){let r=t[13];if(!r)return mf(t[1],t);for(;r;){let s=null;if(St(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)St(r)&&mf(r[1],r),r=r[3];null===r&&(r=t),St(r)&&mf(r[1],r),s=r&&r[4]}r=s}}(r)}}function mf(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Ro(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ko)){const p=s[a+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const D=c[p[E]],x=p[E+1];try{x.call(D)}finally{}}else try{p.call(c)}finally{}}}}(t,r),function yf(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const E=s[p+1],D="function"==typeof E?E(r):yt(r[E]),x=a[c=s[p+2]],G=s[p+3];"boolean"==typeof G?D.removeEventListener(s[p],x,G):G>=0?a[c=G]():a[c=-G].unsubscribe(),p+=2}else{const E=a[c=s[p+1]];s[p].call(E)}if(null!==a){for(let p=c+1;p<a.length;p++)(0,a[p])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&$t(r[3])){s!==r[3]&&vg(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Qm(t){Jd.delete(t[20])}(r)}}function bg(t,r,s){return function wg(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===kn.None||c===kn.Emulated)return null}return Bn(a,s)}(t,r.parent,s)}function nc(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Ig(t,r,s){t.appendChild(r,s)}function _f(t,r,s,a,c){null!==a?nc(t,r,s,a,c):Ig(t,r,s)}function rh(t,r){return t.parentNode(r)}function ih(t,r,s){return Oc(t,r,s)}let Oc=function sh(t,r,s){return 40&t.type?Bn(t,s):null};function Rc(t,r,s,a){const c=bg(t,a,r),p=r[11],D=ih(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)_f(p,c,s[x],D,!1);else _f(p,c,s,D,!1)}function yd(t,r){if(null!==r){const s=r.type;if(3&s)return Bn(r,t);if(4&s)return ah(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return yd(t,a);{const c=t[r.index];return $t(c)?ah(-1,c):yt(c)}}if(32&s)return Du(r,t)()||yt(t[r.index]);{const a=Tg(t,r);return null!==a?Array.isArray(a)?a[0]:yd(Gl(t[16]),a):yd(t,r.next)}}return null}function Tg(t,r){return null!==r?t[16][6].projection[r.projection]:null}function ah(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return yd(a,c)}return r[7]}function _d(t,r,s,a,c,p,E){for(;null!=s;){const D=a[s.index],x=s.type;if(E&&0===r&&(D&&ia(yt(D),a),s.flags|=4),64!=(64&s.flags))if(8&x)_d(t,r,s.child,a,c,p,!1),Mc(r,t,c,D,p);else if(32&x){const G=Du(s,a);let le;for(;le=G();)Mc(r,t,c,le,p);Mc(r,t,c,D,p)}else 16&x?Sg(t,r,a,s,c,p):Mc(r,t,c,D,p);s=E?s.projectionNext:s.next}}function vd(t,r,s,a,c,p){_d(s,a,t.firstChild,r,c,p,!1)}function Sg(t,r,s,a,c,p){const E=s[16],x=E[6].projection[a.projection];if(Array.isArray(x))for(let G=0;G<x.length;G++)Mc(r,t,c,x[G],p);else _d(t,r,x,E[3],c,p,!0)}function rc(t,r,s){t.setAttribute(r,"style",s)}function Au(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function lh(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||t.charCodeAt(c+p)<=32)return c}s=c+1}}const wf="ng-template";function Mg(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==lh(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function If(t){return 4===t.type&&t.value!==wf}function ly(t,r,s){return r===(4!==t.type||s?t.value:wf)}function Cf(t,r,s){let a=4;const c=t.attrs||[],p=function Sf(t){for(let r=0;r<t.length;r++)if(fo(t[r]))return r;return t.length}(c);let E=!1;for(let D=0;D<r.length;D++){const x=r[D];if("number"!=typeof x){if(!E)if(4&a){if(a=2|1&a,""!==x&&!ly(t,x,s)||""===x&&1===r.length){if(Ol(a))return!1;E=!0}}else{const G=8&a?x:r[++D];if(8&a&&null!==t.attrs){if(!Mg(t.attrs,G,s)){if(Ol(a))return!1;E=!0}continue}const be=Tf(8&a?"class":x,c,If(t),s);if(-1===be){if(Ol(a))return!1;E=!0;continue}if(""!==G){let Je;Je=be>p?"":c[be+1].toLowerCase();const mt=8&a?Je:null;if(mt&&-1!==lh(mt,G,0)||2&a&&G!==Je){if(Ol(a))return!1;E=!0}}}}else{if(!E&&!Ol(a)&&!Ol(x))return!1;if(E&&Ol(x))continue;E=!1,a=x|1&a}}return Ol(a)||E}function Ol(t){return 0==(1&t)}function Tf(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let p=!1;for(;c<r.length;){const E=r[c];if(E===t)return c;if(3===E||6===E)p=!0;else{if(1===E||2===E){let D=r[++c];for(;"string"==typeof D;)D=r[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=p?1:2}return-1}return function uh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Df(t,r,s=!1){for(let a=0;a<r.length;a++)if(Cf(t,r[a],s))return!0;return!1}function Ed(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function bd(t,r){return t?":not("+r.trim()+")":r}function Af(t){let r=t[0],s=1,a=2,c="",p=!1;for(;s<t.length;){let E=t[s];if("string"==typeof E)if(2&a){const D=t[++s];c+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?c+="."+E:4&a&&(c+=" "+E);else""!==c&&!Ol(E)&&(r+=bd(p,c),c=""),a=E,p=p||!Ol(a);s++}return""!==c&&(r+=bd(p,c)),r}const Zr={};function Og(t){Of(lr(),Vt(),ji()+t,!1)}function Of(t,r,s,a){if(!a)if(3==(3&r[2])){const p=t.preOrderCheckHooks;null!==p&&Ba(r,p,s)}else{const p=t.preOrderHooks;null!==p&&Qi(r,p,0,s)}Ls(s)}function Ng(t,r=null,s=null,a){const c=kg(t,r,s,a);return c.resolveInjectorInitializers(),c}function kg(t,r=null,s=null,a,c=new Set){const p=[s||Tn,b(t)];return a=a||("object"==typeof t?void 0:Z(t)),new Zi(p,r||Sr(),a||null,c)}let ic=(()=>{class t{static create(s,a){if(Array.isArray(s))return Ng({name:""},a,s,"");{const c=s.name??"";return Ng({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=as,t.NULL=new od,t.\u0275prov=pn({token:t,providedIn:"any",factory:()=>H(Yd)}),t.__NG_ELEMENT_ID__=-1,t})();function Mu(t,r=nn.Default){const s=Vt();return null===s?H(t,r):Bi(si(),s,ge(t),r)}function jg(){throw new Error("invalid")}function mh(t,r){return t<<17|r<<2}function tl(t){return t>>17&32767}function Id(t){return 2|t}function Pl(t){return(131068&t)>>2}function xu(t,r){return-131069&t|r<<2}function Cd(t){return 1|t}function Ih(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],p=s[a+1];if(-1!==p){const E=t.data[p];$o(c),E.contentQueries(2,r[p],p)}}}function Vc(t,r,s,a,c,p,E,D,x,G,le){const be=r.blueprint.slice();return be[0]=c,be[2]=76|a,(null!==le||t&&1024&t[2])&&(be[2]|=1024),He(be),be[3]=be[15]=t,be[8]=s,be[10]=E||t&&t[10],be[11]=D||t&&t[11],be[12]=x||t&&t[12]||null,be[9]=G||t&&t[9]||null,be[6]=p,be[20]=function uf(){return lf++}(),be[21]=le,be[16]=2==r.type?t[16]:be,be}function Uc(t,r,s,a,c){let p=t.data[r];if(null===p)p=function Md(t,r,s,a,c){const p=ho(),E=vo(),x=t.data[r]=function lp(t,r,s,a,c,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=x),null!==p&&(E?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}(t,r,s,a,c),function Ei(){return rt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=c;const E=function nr(){const t=rt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return ns(p,!0),p}function La(t,r,s,a){if(0===s)return-1;const c=r.length;for(let p=0;p<s;p++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Bc(t,r,s){jo(r);try{const a=t.viewQuery;null!==a&&Sp(1,a,s);const c=t.template;null!==c&&Jg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ih(t,r),t.staticViewQueries&&Sp(2,t.viewQuery,s);const p=t.components;null!==p&&function Qg(t,r){for(let s=0;s<r.length;s++)Hc(t,r[s])}(r,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,vl()}}function xd(t,r,s,a){const c=r[2];if(128!=(128&c)){jo(r);try{He(r),function ue(t){return rt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Jg(t,r,s,2,a);const E=3==(3&c);if(E){const G=t.preOrderCheckHooks;null!==G&&Ba(r,G,null)}else{const G=t.preOrderHooks;null!==G&&Qi(r,G,0,null),bl(r,0)}if(function bp(t){for(let r=eh(t);null!==r;r=pf(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],p=c[3];0==(512&c[2])&&_t(p,1),c[2]|=512}}}(r),function om(t){for(let r=eh(t);null!==r;r=pf(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];ie(a)&&xd(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&Ih(t,r),E){const G=t.contentCheckHooks;null!==G&&Ba(r,G)}else{const G=t.contentHooks;null!==G&&Qi(r,G,1),bl(r,1)}!function tp(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ls(~c);else{const p=c,E=s[++a],D=s[++a];Js(E,p),D(2,r[p])}}}finally{Ls(-1)}}(t,r);const D=t.components;null!==D&&function Fc(t,r){for(let s=0;s<r.length;s++)am(t,r[s])}(r,D);const x=t.viewQuery;if(null!==x&&Sp(2,x,a),E){const G=t.viewCheckHooks;null!==G&&Ba(r,G)}else{const G=t.viewHooks;null!==G&&Qi(r,G,2),bl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,_t(r[3],-1))}finally{vl()}}}function np(t,r,s,a){const c=r[10],E=V(r);try{!E&&c.begin&&c.begin(),E&&Bc(t,r,a),xd(t,r,s,a)}finally{!E&&c.end&&c.end()}}function Jg(t,r,s,a,c){const p=ji(),E=2&a;try{Ls(-1),E&&r.length>22&&Of(t,r,22,!1),s(a,c)}finally{Ls(p)}}function Xg(t,r,s){if(dn(r)){const c=r.directiveEnd;for(let p=r.directiveStart;p<c;p++){const E=t.data[p];E.contentQueries&&E.contentQueries(1,s[p],p)}}}function Od(t,r,s){!vi()||(function Ey(t,r,s,a){const c=s.directiveStart,p=s.directiveEnd;t.firstCreatePass||Ko(s,r),ia(a,r);const E=s.initialInputs;for(let D=c;D<p;D++){const x=t.data[D],G=je(x);G&&yp(r,s,x);const le=wo(r,t,D,s);ia(le,r),null!==E&&_p(0,D-c,le,x,0,E),G&&(Lr(s.index,r)[8]=le)}}(t,r,s,Bn(s,r)),128==(128&s.flags)&&function pp(t,r,s){const a=s.directiveStart,c=s.directiveEnd,p=s.index,E=function ro(){return rt.lFrame.currentDirectiveIndex}();try{Ls(p);for(let D=a;D<c;D++){const x=t.data[D],G=r[D];io(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&gp(x,G)}}finally{Ls(-1),io(E)}}(t,r,s))}function rp(t,r,s=Bn){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const E=a[p+1],D=-1===E?s(r,t):t[E];t[c++]=D}}}function Ch(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ip(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function ip(t,r,s,a,c,p,E,D,x,G){const le=22+a,be=le+c,Je=function sp(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Zr);return s}(le,be),mt="function"==typeof G?G():G;return Je[1]={type:t,blueprint:Je,template:s,queries:null,viewQuery:D,declTNode:r,data:Je.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:mt,incompleteFirstPass:!1}}function ap(t,r,s,a){const c=Ah(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Ap(t).push(a,c.length-1))}function up(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function em(t,r){const a=r.directiveEnd,c=t.data,p=r.attrs,E=[];let D=null,x=null;for(let G=r.directiveStart;G<a;G++){const le=c[G],be=le.inputs,Je=null===p||If(r)?null:vp(be,p);E.push(Je),D=up(be,G,D),x=up(le.outputs,G,x)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=D,r.outputs=x}function Da(t,r,s,a,c,p,E,D){const x=Bn(r,s);let le,G=r.inputs;!D&&null!=G&&(le=G[a])?($c(t,s,le,a,c),_e(r)&&tm(s,r.index)):3&r.type&&(a=function vy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=E?E(c,r.value||"",a):c,p.setProperty(x,a,c))}function tm(t,r){const s=Lr(r,t);16&s[2]||(s[2]|=32)}function hp(t,r,s,a){let c=!1;if(vi()){const p=function Th(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const E=a[p];Df(s,E.selectors,!1)&&(c||(c=[]),Zo(Ko(s,r),t,E.type),je(E)?(im(t,s),c.unshift(E)):c.push(E))}return c}(t,r,s),E=null===a?null:{"":-1};if(null!==p){c=!0,sm(s,t.data.length,p.length);for(let le=0;le<p.length;le++){const be=p[le];be.providersResolver&&be.providersResolver(be)}let D=!1,x=!1,G=La(t,r,p.length,null);for(let le=0;le<p.length;le++){const be=p[le];s.mergedAttrs=xa(s.mergedAttrs,be.hostAttrs),mp(t,s,r,G,be),wy(G,be,E),null!==be.contentQueries&&(s.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=128);const Je=be.type.prototype;!D&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!x&&(Je.ngOnChanges||Je.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),x=!0),G++}em(t,s)}E&&function by(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const p=s[r[c+1]];if(null==p)throw new Qe(-301,!1);a.push(r[c],p)}}}(s,a,E)}return s.mergedAttrs=xa(s.mergedAttrs,s.attrs),c}function fp(t,r,s,a,c,p){const E=p.hostBindings;if(E){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const x=~r.index;(function rm(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=x&&D.push(x),D.push(a,c,E)}}function gp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function im(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function wy(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;je(r)&&(s[""]=t)}}function sm(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function mp(t,r,s,a,c){t.data[a]=c;const p=c.factory||(c.factory=Yi(c.type)),E=new ko(p,je(c),Mu);t.blueprint[a]=E,s[a]=E,fp(t,r,0,a,La(t,s,c.hostVars,Zr),c)}function yp(t,r,s){const a=Bn(r,t),c=Ch(s),p=t[10],E=Sh(t,Vc(t,c,null,s.onPush?32:16,a,r,p,p.createRenderer(a,s),null,null,null));t[r.index]=E}function Rl(t,r,s,a,c,p){const E=Bn(t,r);!function Pd(t,r,s,a,c,p,E){if(null==p)t.removeAttribute(r,c,s);else{const D=null==E?tt(p):E(p,a||"",c);t.setAttribute(r,c,D,s)}}(r[11],E,p,t.value,s,a,c)}function _p(t,r,s,a,c,p){const E=p[r];if(null!==E){const D=a.setInput;for(let x=0;x<E.length;){const G=E[x++],le=E[x++],be=E[x++];null!==D?a.setInput(s,be,G,le):s[le]=be}}}function vp(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Dh(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function am(t,r){const s=Lr(r,t);if(ie(s)){const a=s[1];48&s[2]?xd(a,s,a.template,s[8]):s[5]>0&&Rd(s)}}function Rd(t){for(let a=eh(t);null!==a;a=pf(a))for(let c=10;c<a.length;c++){const p=a[c];if(512&p[2]){const E=p[1];xd(E,p,E.template,p[8])}else p[5]>0&&Rd(p)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Lr(s[a],t);ie(c)&&c[5]>0&&Rd(c)}}function Hc(t,r){const s=Lr(r,t),a=s[1];(function wp(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Bc(a,s,s[8])}function Sh(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Ip(t){for(;t;){t[2]|=32;const r=Gl(t);if(ht(t)&&!r)return t;t=r}return null}function Dp(t){!function Cp(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=df(s);if(null!==a){const c=a[1];np(c,a,c.template,s)}}}(t[8])}function Sp(t,r,s){$o(0),r(t,s)}const lm=(()=>Promise.resolve(null))();function Ah(t){return t[7]||(t[7]=[])}function Ap(t){return t.cleanup||(t.cleanup=[])}function xp(t,r){const s=t[9],a=s?s.get(yl,null):null;a&&a.handleError(r)}function $c(t,r,s,a,c){for(let p=0;p<s.length;){const E=s[p++],D=s[p++],x=r[E],G=t.data[E];null!==G.setInput?G.setInput(x,c,a,D):x[D]=c}}function Xr(t,r,s){const a=yn(r,t);!function gf(t,r,s){t.setValue(r,s)}(t[11],a,s)}function Nd(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,p=0;if(null!==r)for(let E=0;E<r.length;E++){const D=r[E];"number"==typeof D?p=D:1==p?c=oe(c,D):2==p&&(a=oe(a,D+": "+r[++E]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function kd(t,r,s,a,c=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push(yt(p)),$t(p))for(let D=10;D<p.length;D++){const x=p[D],G=x[1].firstChild;null!==G&&kd(x[1],x,G,a)}const E=s.type;if(8&E)kd(t,r,s.child,a);else if(32&E){const D=Du(s,r);let x;for(;x=D();)a.push(x)}else if(16&E){const D=Tg(r,s);if(Array.isArray(D))a.push(...D);else{const x=Gl(r[16]);kd(x[1],x,D,a,!0)}}s=c?s.projectionNext:s.next}return a}class uu{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return kd(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if($t(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(nh(r,a),T(s,a))}this._attachedToViewContainer=!1}Eg(this._lView[1],this._lView)}onDestroy(r){ap(this._lView[1],this._lView,null,r)}markForCheck(){Ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Tp(t,r,s){const a=r[10];a.begin&&a.begin();try{xd(t,r,t.template,s)}catch(c){throw xp(r,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tc(t,r){vd(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=r}}class Cy extends uu{constructor(r){super(r),this._view=r}detectChanges(){Dp(this._view)}checkNoChanges(){}get context(){return null}}class Ms extends dr{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ce(r);return new Ld(s,this.ngModule)}}function Uo(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ty{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Cu,a);return c!==Cu||s===Cu?c:this.parentInjector.get(r,s,a)}}class Ld extends Ca{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Mf(t){return t.map(Af).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uo(this.componentDef.inputs)}get outputs(){return Uo(this.componentDef.outputs)}create(r,s,a,c){let p=(c=c||this.ngModule)instanceof ci?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const E=p?new Ty(r,p):r,D=E.get(qi,null);if(null===D)throw new Qe(407,!1);const x=E.get(Po,null),G=D.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",be=a?function op(t,r,s){return t.selectRootElement(r,s===kn.ShadowDom)}(G,a,this.componentDef.encapsulation):th(D.createRenderer(null,this.componentDef),le,function Kl(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(le)),Je=this.componentDef.onPush?288:272,mt=function Sy(t,r){return{components:[],scheduler:t||Xd,clean:lm,playerHandler:r||null,flags:0}}(),Ht=ip(0,null,null,1,0,null,null,null,null,null),ln=Vc(null,Ht,mt,Je,null,null,D,G,x,E,null);let Nn,Kn;jo(ln);try{const Rr=function Op(t,r,s,a,c,p){const E=s[1];s[22]=t;const x=Uc(E,22,2,"#host",null),G=x.mergedAttrs=r.hostAttrs;null!==G&&(Nd(x,G,!0),null!==t&&(wi(c,t,G),null!==x.classes&&Au(c,t,x.classes),null!==x.styles&&rc(c,t,x.styles)));const le=a.createRenderer(t,r),be=Vc(s,Ch(r),null,r.onPush?32:16,s[22],x,a,le,p||null,null,null);return E.firstCreatePass&&(Zo(Ko(x,s),E,r.type),im(E,x),sm(x,s.length,1)),Sh(s,be),s[22]=be}(be,this.componentDef,ln,D,G);if(be)if(a)wi(G,be,["ng-version",Ta.full]);else{const{attrs:Qt,classes:Er}=function xf(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===c?""!==p&&r.push(p,t[++a]):8===c&&s.push(p);else{if(!Ol(c))break;c=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Qt&&wi(G,be,Qt),Er&&Er.length>0&&Au(G,be,Er.join(" "))}if(Kn=yr(Ht,22),void 0!==s){const Qt=Kn.projection=[];for(let Er=0;Er<this.ngContentSelectors.length;Er++){const Si=s[Er];Qt.push(null!=Si?Array.from(Si):null)}}Nn=function Dy(t,r,s,a,c){const p=s[1],E=function dp(t,r,s){const a=si();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),mp(t,a,r,La(t,r,1,null),s),em(t,a));const c=wo(r,t,a.directiveStart,a);ia(c,r);const p=Bn(a,r);return p&&ia(p,r),c}(p,s,r);if(a.components.push(E),t[8]=E,null!==c)for(const x of c)x(E,r);if(r.contentQueries){const x=si();r.contentQueries(1,E,x.directiveStart)}const D=si();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ls(D.index),fp(s[1],D,0,D.directiveStart,D.directiveEnd,r),gp(r,E)),E}(Rr,this.componentDef,ln,mt,[xs]),Bc(Ht,ln,null)}finally{vl()}return new cm(this.componentType,Nn,Is(Kn,ln),ln,Kn)}}class cm extends class Yu{}{constructor(r,s,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new Cy(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const p=this._rootLView;$c(p[1],p,c,r,s),tm(p,this._tNode.index)}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function xs(){const t=si();El(Vt()[1],t)}function qs(t){let r=function dm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(je(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Qe(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const E=t;E.inputs=Pp(t.inputs),E.declaredInputs=Pp(t.declaredInputs),E.outputs=Pp(t.outputs);const D=c.hostBindings;D&&My(t,D);const x=c.viewQuery,G=c.contentQueries;if(x&&Ay(t,x),G&&fm(t,G),te(t.inputs,c.inputs),te(t.declaredInputs,c.declaredInputs),te(t.outputs,c.outputs),je(c)&&c.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let E=0;E<p.length;E++){const D=p[E];D&&D.ngInherit&&D(t),D===qs&&(s=!1)}}r=Object.getPrototypeOf(r)}!function hm(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=xa(c.hostAttrs,s=xa(s,c.hostAttrs))}}(a)}function Pp(t){return t===Nr?{}:t===Tn?[]:t}function Ay(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function fm(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,p)=>{r(a,c,p),s(a,c,p)}:r}function My(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Rp=null;function lc(){if(!Rp){const t=qt.Symbol;if(t&&t.iterator)Rp=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Rp=a)}}}return Rp}function jc(t){return!!Zl(t)&&(Array.isArray(t)||!(t instanceof Map)&&lc()in t)}function Zl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function nl(t,r,s){return t[r]=s}function Fd(t,r){return t[r]}function sa(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Ru(t,r,s,a){const c=sa(t,r,s);return sa(t,r+1,a)||c}function Sa(t,r,s,a,c,p){const E=Ru(t,r,s,a);return Ru(t,r+2,c,p)||E}function Np(t,r,s,a){const c=Vt();return sa(c,vt(),r)&&(lr(),Rl(yi(),c,t,r,s,a)),Np}function cu(t,r,s,a){return sa(t,vt(),s)?r+tt(s)+a:Zr}function ql(t,r,s,a,c,p){const D=Ru(t,function O(){return rt.lFrame.bindingIndex}(),s,c);return hn(2),D?r+tt(s)+a+tt(c)+p:Zr}function mm(t,r,s,a,c,p,E,D){const x=Vt(),G=lr(),le=t+22,be=G.firstCreatePass?function Bd(t,r,s,a,c,p,E,D,x){const G=r.consts,le=Uc(r,t,4,E||null,ce(G,D));hp(r,s,le,ce(G,x)),El(r,le);const be=le.tViews=ip(2,le,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,le),be.queries=r.queries.embeddedTView(le)),le}(le,G,x,r,s,a,c,p,E):G.data[le];ns(be,!1);const Je=x[11].createComment("");Rc(G,x,Je,be),ia(Je,x),Sh(x,x[le]=Dh(Je,x,Je,be)),ct(be)&&Od(G,x,be),null!=E&&rp(x,be,D)}function Fu(t){return ti(function Fa(){return rt.lFrame.contextLView}(),22+t)}function du(t,r,s){const a=Vt();return sa(a,vt(),r)&&Da(lr(),yi(),a,t,r,a[11],s,!1),du}function dc(t,r,s,a,c){const E=c?"class":"style";$c(t,s,r.inputs[E],E,a)}function Nh(t,r,s,a){const c=Vt(),p=lr(),E=22+t,D=c[11],x=c[E]=th(D,r,function Ua(){return rt.lFrame.currentNamespace}()),G=p.firstCreatePass?function hc(t,r,s,a,c,p,E){const D=r.consts,G=Uc(r,t,2,c,ce(D,p));return hp(r,s,G,ce(D,E)),null!==G.attrs&&Nd(G,G.attrs,!1),null!==G.mergedAttrs&&Nd(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(E,p,c,0,r,s,a):p.data[E];ns(G,!0);const le=G.mergedAttrs;null!==le&&wi(D,x,le);const be=G.classes;null!==be&&Au(D,x,be);const Je=G.styles;return null!==Je&&rc(D,x,Je),64!=(64&G.flags)&&Rc(p,c,x,G),0===function Kr(){return rt.lFrame.elementDepthCount}()&&ia(x,c),function Fr(){rt.lFrame.elementDepthCount++}(),ct(G)&&(Od(p,c,G),Xg(p,G,c)),null!==a&&rp(c,G),Nh}function kh(){let t=si();vo()?Di():(t=t.parent,ns(t,!1));const r=t;!function wr(){rt.lFrame.elementDepthCount--}();const s=lr();return s.firstCreatePass&&(El(s,t),dn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function kl(t){return 0!=(16&t.flags)}(r)&&dc(s,r,Vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function $a(t){return 0!=(32&t.flags)}(r)&&dc(s,r,Vt(),r.stylesWithoutHost,!1),kh}function Lh(t,r,s,a){return Nh(t,r,s,a),kh(),Lh}function Fh(t,r,s){const a=Vt(),c=lr(),p=t+22,E=c.firstCreatePass?function Hd(t,r,s,a,c){const p=r.consts,E=ce(p,a),D=Uc(r,t,8,"ng-container",E);return null!==E&&Nd(D,E,!0),hp(r,s,D,ce(p,c)),null!==r.queries&&r.queries.elementStart(r,D),D}(p,c,a,r,s):c.data[p];ns(E,!0);const D=a[p]=a[11].createComment("");return Rc(c,a,D,E),ia(D,a),ct(E)&&(Od(c,a,E),Xg(c,E,a)),null!=s&&rp(a,E),Fh}function Vh(){let t=si();const r=lr();return vo()?Di():(t=t.parent,ns(t,!1)),r.firstCreatePass&&(El(r,t),dn(t)&&r.queries.elementEnd(t)),Vh}function Vp(t,r,s){return Fh(t,r,s),Vh(),Vp}function ym(){return Vt()}function Up(t){return!!t&&"function"==typeof t.then}function Bp(t){return!!t&&"function"==typeof t.subscribe}const _m=Bp;function Hp(t,r,s,a){const c=Vt(),p=lr(),E=si();return function vm(t,r,s,a,c,p,E,D){const x=ct(a),le=t.firstCreatePass&&Ap(t),be=r[8],Je=Ah(r);let mt=!0;if(3&a.type||D){const Nn=Bn(a,r),Kn=D?D(Nn):Nn,Rr=Je.length,Qt=D?Si=>D(yt(Si[a.index])):a.index;let Er=null;if(!D&&x&&(Er=function Ry(t,r,s,a){const c=t.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const E=c[p];if(E===s&&c[p+1]===a){const D=r[7],x=c[p+2];return D.length>x?D[x]:null}"string"==typeof E&&(p+=2)}return null}(t,r,c,a.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=p,Er.__ngLastListenerFn__=p,mt=!1;else{p=Em(a,r,be,p,!1);const Si=s.listen(Kn,c,p);Je.push(p,Si),le&&le.push(c,Qt,Rr,Rr+1)}}else p=Em(a,r,be,p,!1);const Ht=a.outputs;let ln;if(mt&&null!==Ht&&(ln=Ht[c])){const Nn=ln.length;if(Nn)for(let Kn=0;Kn<Nn;Kn+=2){const Vs=r[ln[Kn]][ln[Kn+1]].subscribe(p),Gd=Je.length;Je.push(p,Vs),le&&le.push(c,a.index,Gd,-(Gd+1))}}}(p,c,c[11],E,t,r,0,a),Hp}function jp(t,r,s,a){try{return!1!==s(a)}catch(c){return xp(t,c),!1}}function Em(t,r,s,a,c){return function p(E){if(E===Function)return a;Ip(2&t.flags?Lr(t.index,r):r);let x=jp(r,0,a,E),G=p.__ngNextListenerFn__;for(;G;)x=jp(r,0,G,E)&&x,G=G.__ngNextListenerFn__;return c&&!1===x&&(E.preventDefault(),E.returnValue=!1),x}}function bm(t=1){return function Va(t){return(rt.lFrame.contextLView=function Ma(t,r){for(;t>0;)r=r[15],t--;return r}(t,rt.lFrame.contextLView))[8]}(t)}function wm(t,r){let s=null;const a=function xg(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?Df(t,p,!0):Ed(a,p))return c}else s=c}return s}function Wp(t){const r=Vt()[16][6];if(!r.projection){const a=r.projection=C(t?t.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const E=t?wm(p,t):0;null!==E&&(c[E]?c[E].projectionNext=p:a[E]=p,c[E]=p),p=p.next}}}function Gp(t,r=0,s){const a=Vt(),c=lr(),p=Uc(c,22+t,16,null,s||null);null===p.projection&&(p.projection=r),Di(),64!=(64&p.flags)&&function Dg(t,r,s){Sg(r[11],0,r,s,bg(t,s,r),ih(s.parent||r[6],s,r))}(c,a,p)}function Uh(t,r,s){return zp(t,"",r,"",s),Uh}function zp(t,r,s,a,c){const p=Vt(),E=cu(p,r,s,a);return E!==Zr&&Da(lr(),yi(),p,t,E,p[11],c,!1),zp}function Dm(t,r,s,a,c){const p=t[s+1],E=null===r;let D=a?tl(p):Pl(p),x=!1;for(;0!==D&&(!1===x||E);){const le=t[D+1];Ly(t[D],r)&&(x=!0,t[D+1]=a?Cd(le):Id(le)),D=a?tl(le):Pl(le)}x&&(t[s+1]=a?Id(p):Cd(p))}function Ly(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Mn(t,r)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sm(t){return t.substring(_o.key,_o.keyEnd)}function Fy(t){return t.substring(_o.value,_o.valueEnd)}function Am(t,r){const s=_o.textEnd;return s===r?-1:(r=_o.keyEnd=function Uy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,_o.key=r,s),Zc(t,r,s))}function Hh(t,r){const s=_o.textEnd;let a=_o.key=Zc(t,r,s);return s===a?-1:(a=_o.keyEnd=function By(t,r,s){let a;for(;r<s&&(45===(a=t.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(t,a,s),a=xm(t,a,s),a=_o.value=Zc(t,a,s),a=_o.valueEnd=function Hy(t,r,s){let a=-1,c=-1,p=-1,E=r,D=E;for(;E<s;){const x=t.charCodeAt(E++);if(59===x)return D;34===x||39===x?D=E=Om(t,x,E,s):r===E-4&&85===p&&82===c&&76===a&&40===x?D=E=Om(t,41,E,s):x>32&&(D=E),p=c,c=a,a=-33&x}return D}(t,a,s),xm(t,a,s))}function Mm(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}function Zc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function xm(t,r,s,a){return(r=Zc(t,r,s))<s&&r++,r}function Om(t,r,s,a){let c=-1,p=s;for(;p<a;){const E=t.charCodeAt(p++);if(E==r&&92!==c)return p;c=92==E&&92===c?0:E}throw new Error}function Pm(t,r,s){return l(t,r,s,!1),Pm}function $h(t,r){return l(t,r,null,!0),$h}function i(t){f(Hn,e,t,!1)}function e(t,r){for(let s=function Kc(t){return Mm(t),Hh(t,Zc(t,0,_o.textEnd))}(r);s>=0;s=Hh(r,s))Hn(t,Sm(r),Fy(r))}function n(t){f(bt,o,t,!0)}function o(t,r){for(let s=function Vy(t){return Mm(t),Am(t,Zc(t,0,_o.textEnd))}(r);s>=0;s=Am(r,s))bt(t,Sm(r),!0)}function l(t,r,s,a){const c=Vt(),p=lr(),E=hn(2);p.firstUpdatePass&&A(p,t,E,a),r!==Zr&&sa(c,E,r)&&Gi(p,p.data[ji()],c,c[11],t,c[E+1]=function oa(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Z(wa(t)))),t}(r,s),a,E)}function f(t,r,s,a){const c=lr(),p=hn(2);c.firstUpdatePass&&A(c,null,p,a);const E=Vt();if(s!==Zr&&sa(E,p,s)){const D=c.data[ji()];if(lo(D,a)&&!v(c,p)){let x=a?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(s=oe(x,s||"")),dc(c,D,E,s,a)}else!function ur(t,r,s,a,c,p,E,D){c===Zr&&(c=Tn);let x=0,G=0,le=0<c.length?c[0]:null,be=0<p.length?p[0]:null;for(;null!==le||null!==be;){const Je=x<c.length?c[x+1]:void 0,mt=G<p.length?p[G+1]:void 0;let ln,Ht=null;le===be?(x+=2,G+=2,Je!==mt&&(Ht=be,ln=mt)):null===be||null!==le&&le<be?(x+=2,Ht=le):(G+=2,Ht=be,ln=mt),null!==Ht&&Gi(t,r,s,a,Ht,ln,E,D),le=x<c.length?c[x]:null,be=G<p.length?p[G]:null}}(c,D,E,E[11],E[p+1],E[p+1]=function Zt(t,r,s){if(null==s||""===s)return Tn;const a=[],c=wa(s);if(Array.isArray(c))for(let p=0;p<c.length;p++)t(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&t(a,p,c[p]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,p)}}function v(t,r){return r>=t.expandoStartIndex}function A(t,r,s,a){const c=t.data;if(null===c[s+1]){const p=c[ji()],E=v(t,s);lo(p,a)&&null===r&&!E&&(r=!1),r=function W(t,r,s,a){const c=function ks(t){const r=rt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Ut(s=Dt(null,t,r,s,a),r.attrs,a),p=null);else{const E=r.directiveStylingLast;if(-1===E||t[E]!==c)if(s=Dt(c,t,r,s,a),null===p){let x=function Q(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Pl(a))return t[tl(a)]}(t,r,a);void 0!==x&&Array.isArray(x)&&(x=Dt(null,t,r,x[1],a),x=Ut(x,r.attrs,a),function ye(t,r,s,a){t[tl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,x))}else p=function We(t,r,s){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=Ut(a,t[p].hostAttrs,s);return Ut(a,r.attrs,s)}(t,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(c,p,r,a),function Ny(t,r,s,a,c,p){let E=p?r.classBindings:r.styleBindings,D=tl(E),x=Pl(E);t[a]=s;let le,G=!1;if(Array.isArray(s)){const be=s;le=be[1],(null===le||Mn(be,le)>0)&&(G=!0)}else le=s;if(c)if(0!==x){const Je=tl(t[D+1]);t[a+1]=mh(Je,D),0!==Je&&(t[Je+1]=xu(t[Je+1],a)),t[D+1]=function Wf(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=mh(D,0),0!==D&&(t[D+1]=xu(t[D+1],a)),D=a;else t[a+1]=mh(x,0),0===D?D=a:t[x+1]=xu(t[x+1],a),x=a;G&&(t[a+1]=Id(t[a+1])),Dm(t,le,a,!0),Dm(t,le,a,!1),function ky(t,r,s,a,c){const p=c?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof r&&Mn(p,r)>=0&&(s[a+1]=Cd(s[a+1]))}(r,le,t,a,p),E=mh(D,x),p?r.classBindings=E:r.styleBindings=E}(c,p,r,s,E,a)}}function Dt(t,r,s,a,c){let p=null;const E=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<E&&(p=r[D],a=Ut(a,p.hostAttrs,c),p!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function Ut(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const E=r[p];"number"==typeof E?c=E:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,E,!!s||r[++p]))}return void 0===t?null:t}function Hn(t,r,s){bt(t,r,wa(s))}function Gi(t,r,s,a,c,p,E,D){if(!(3&r.type))return;const x=t.data,G=x[D+1];ps(function au(t){return 1==(1&t)}(G)?Cs(x,r,s,c,Pl(G),E):void 0)||(ps(p)||function jf(t){return 2==(2&t)}(G)&&(p=Cs(x,null,s,c,D,E)),function ay(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let p=-1===a.indexOf("-")?void 0:xl.DashCase;null==c?t.removeStyle(s,a,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=xl.Important),t.setStyle(s,a,c,p))}}(a,E,yn(ji(),s),c,p))}function Cs(t,r,s,a,c,p){const E=null===r;let D;for(;c>0;){const x=t[c],G=Array.isArray(x),le=G?x[1]:x,be=null===le;let Je=s[c+1];Je===Zr&&(Je=be?Tn:void 0);let mt=be?on(Je,a):le===a?Je:void 0;if(G&&!ps(mt)&&(mt=on(x,a)),ps(mt)&&(D=mt,E))return D;const Ht=t[c+1];c=E?tl(Ht):Pl(Ht)}if(null!==r){let x=p?r.residualClasses:r.residualStyles;null!=x&&(D=on(x,a))}return D}function ps(t){return void 0!==t}function lo(t,r){return 0!=(t.flags&(r?16:32))}function Ys(t,r=""){const s=Vt(),a=lr(),c=t+22,p=a.firstCreatePass?Uc(a,c,1,r,null):a.data[c],E=s[c]=function xc(t,r){return t.createText(r)}(s[11],r);Rc(a,s,E,p),ns(p,!1)}function aa(t){return Uu("",t,""),aa}function Uu(t,r,s){const a=Vt(),c=cu(a,t,r,s);return c!==Zr&&Xr(a,ji(),c),Uu}function $y(t,r,s,a,c){const p=Vt(),E=ql(p,t,r,s,a,c);return E!==Zr&&Xr(p,ji(),E),$y}const jd=void 0;var JE=["en",[["a","p"],["AM","PM"],jd],[["AM","PM"],jd,jd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jd,"{1} 'at' {0}",jd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let jh={};function jy(t){const r=function XE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Cv(r);if(s)return s;const a=r.split("-")[0];if(s=Cv(a),s)return s;if("en"===a)return JE;throw new Qe(701,!1)}function Iv(t){return jy(t)[Or.PluralCase]}function Cv(t){return t in jh||(jh[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),jh[t]}var Or=(()=>((Or=Or||{})[Or.LocaleId=0]="LocaleId",Or[Or.DayPeriodsFormat=1]="DayPeriodsFormat",Or[Or.DayPeriodsStandalone=2]="DayPeriodsStandalone",Or[Or.DaysFormat=3]="DaysFormat",Or[Or.DaysStandalone=4]="DaysStandalone",Or[Or.MonthsFormat=5]="MonthsFormat",Or[Or.MonthsStandalone=6]="MonthsStandalone",Or[Or.Eras=7]="Eras",Or[Or.FirstDayOfWeek=8]="FirstDayOfWeek",Or[Or.WeekendRange=9]="WeekendRange",Or[Or.DateFormat=10]="DateFormat",Or[Or.TimeFormat=11]="TimeFormat",Or[Or.DateTimeFormat=12]="DateTimeFormat",Or[Or.NumberSymbols=13]="NumberSymbols",Or[Or.NumberFormats=14]="NumberFormats",Or[Or.CurrencyCode=15]="CurrencyCode",Or[Or.CurrencySymbol=16]="CurrencySymbol",Or[Or.CurrencyName=17]="CurrencyName",Or[Or.Currencies=18]="Currencies",Or[Or.Directionality=19]="Directionality",Or[Or.PluralCase=20]="PluralCase",Or[Or.ExtraData=21]="ExtraData",Or))();const Wh="en-US";let Tv=Wh;function zy(t,r,s,a,c){if(t=ge(t),Array.isArray(t))for(let p=0;p<t.length;p++)zy(t[p],r,s,a,c);else{const p=lr(),E=Vt();let D=Rt(t)?t:ge(t.provide),x=nu(t);const G=si(),le=1048575&G.providerIndexes,be=G.directiveStart,Je=G.providerIndexes>>20;if(Rt(t)||!t.multi){const mt=new ko(x,c,Mu),Ht=Zy(D,r,c?le:le+Je,be);-1===Ht?(Zo(Ko(G,E),p,D),Ky(p,t,r.length),r.push(D),G.directiveStart++,G.directiveEnd++,c&&(G.providerIndexes+=1048576),s.push(mt),E.push(mt)):(s[Ht]=mt,E[Ht]=mt)}else{const mt=Zy(D,r,le+Je,be),Ht=Zy(D,r,le,le+Je),ln=mt>=0&&s[mt],Nn=Ht>=0&&s[Ht];if(c&&!Nn||!c&&!ln){Zo(Ko(G,E),p,D);const Kn=function Yb(t,r,s,a,c){const p=new ko(t,s,Mu);return p.multi=[],p.index=r,p.componentProviders=0,Yv(p,c,a&&!s),p}(c?qb:Zb,s.length,c,a,x);!c&&Nn&&(s[Ht].providerFactory=Kn),Ky(p,t,r.length,0),r.push(D),G.directiveStart++,G.directiveEnd++,c&&(G.providerIndexes+=1048576),s.push(Kn),E.push(Kn)}else Ky(p,t,mt>-1?mt:Ht,Yv(s[c?Ht:mt],x,!c&&a));!c&&a&&Nn&&s[Ht].componentProviders++}}}function Ky(t,r,s,a){const c=Rt(r),p=function cn(t){return!!t.useClass}(r);if(c||p){const x=(p?ge(r.useClass):r).prototype.ngOnDestroy;if(x){const G=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const le=G.indexOf(s);-1===le?G.push(s,[a,x]):G[le+1].push(a,x)}else G.push(s,x)}}}function Yv(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Zy(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Zb(t,r,s,a){return qy(this.multi,[])}function qb(t,r,s,a){const c=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=wo(s,s[1],this.providerFactory.index,a);p=D.slice(0,E),qy(c,p);for(let x=E;x<D.length;x++)p.push(D[x])}else p=[],qy(c,p);return p}function qy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Qv(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Kb(t,r,s){const a=lr();if(a.firstCreatePass){const c=je(t);zy(s,a.data,a.blueprint,c,!0),zy(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class zh{}class Jv{}function Qb(t,r){return new Xv(t,r??null)}class Xv extends zh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ms(this);const a=Bt(r);this._bootstrapComponents=Ja(a.bootstrap),this._r3Injector=kg(r,s,[{provide:zh,useValue:this},{provide:dr,useValue:this.componentFactoryResolver}],Z(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Yy extends Jv{constructor(r){super(),this.moduleType=r}create(r){return new Xv(this.moduleType,r)}}class Jb extends zh{constructor(r,s,a){super(),this.componentFactoryResolver=new Ms(this),this.instance=null;const c=new Zi([...r,{provide:zh,useValue:this},{provide:dr,useValue:this.componentFactoryResolver}],s||Sr(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qy(t,r,s=null){return new Jb(t,r,s).injector}function a0(t,r,s){const a=F()+t,c=Vt();return c[a]===Zr?nl(c,a,s?r.call(s):r()):Fd(c,a)}function l0(t,r,s,a){return g0(Vt(),F(),t,r,s,a)}function u0(t,r,s,a,c){return function m0(t,r,s,a,c,p,E){const D=r+s;return Ru(t,D,c,p)?nl(t,D+2,E?a.call(E,c,p):a(c,p)):Jp(t,D+2)}(Vt(),F(),t,r,s,a,c)}function c0(t,r,s,a,c,p){return function y0(t,r,s,a,c,p,E,D){const x=r+s;return function Vd(t,r,s,a,c){const p=Ru(t,r,s,a);return sa(t,r+2,c)||p}(t,x,c,p,E)?nl(t,x+3,D?a.call(D,c,p,E):a(c,p,E)):Jp(t,x+3)}(Vt(),F(),t,r,s,a,c,p)}function d0(t,r,s,a,c,p,E){return function _0(t,r,s,a,c,p,E,D,x){const G=r+s;return Sa(t,G,c,p,E,D)?nl(t,G+4,x?a.call(x,c,p,E,D):a(c,p,E,D)):Jp(t,G+4)}(Vt(),F(),t,r,s,a,c,p,E)}function h0(t,r,s,a,c,p,E,D){const x=F()+t,G=Vt(),le=Sa(G,x,s,a,c,p);return sa(G,x+4,E)||le?nl(G,x+5,D?r.call(D,s,a,c,p,E):r(s,a,c,p,E)):Fd(G,x+5)}function f0(t,r,s,a,c,p,E,D,x){const G=F()+t,le=Vt(),be=Sa(le,G,s,a,c,p);return Ru(le,G+4,E,D)||be?nl(le,G+6,x?r.call(x,s,a,c,p,E,D):r(s,a,c,p,E,D)):Fd(le,G+6)}function p0(t,r,s,a){return function v0(t,r,s,a,c,p){let E=r+s,D=!1;for(let x=0;x<c.length;x++)sa(t,E++,c[x])&&(D=!0);return D?nl(t,E,a.apply(p,c)):Jp(t,E)}(Vt(),F(),t,r,s,a)}function Jp(t,r){const s=t[r];return s===Zr?void 0:s}function g0(t,r,s,a,c,p){const E=r+s;return sa(t,E,c)?nl(t,E+1,p?a.call(p,c):a(c)):Jp(t,E+1)}function E0(t,r){const s=lr();let a;const c=t+22;s.firstCreatePass?(a=function dw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const p=a.factory||(a.factory=Yi(a.type)),E=vn(Mu);try{const D=Xn(!1),x=p();return Xn(D),function Rh(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Vt(),c,x),x}finally{vn(E)}}function b0(t,r,s){const a=t+22,c=Vt(),p=ti(c,a);return function Xp(t,r){return t[1].data[r].pure}(c,a)?g0(c,F(),r,p.transform,s,p):p.transform(s)}function Xy(t){return r=>{setTimeout(t,void 0,r)}}const Bu=class mw extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,p=s||(()=>null),E=a;if(r&&"object"==typeof r){const x=r;c=x.next?.bind(x),p=x.error?.bind(x),E=x.complete?.bind(x)}this.__isAsync&&(p=Xy(p),c&&(c=Xy(c)),E&&(E=Xy(E)));const D=super.subscribe({next:c,error:p,complete:E});return r instanceof u.w0&&r.add(D),D}};function yw(){return this._results[lc()]()}class e_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lc(),a=e_.prototype;a[s]||(a[s]=yw)}get changes(){return this._changes||(this._changes=new Bu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=es(r);(this._changesDetected=!function za(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],p=r[a];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let eg=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ew,t})();const _w=eg,vw=class extends _w{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Vc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(c[19]=E.createEmbeddedView(a)),Bc(a,c,r),new uu(c)}};function Ew(){return Fm(si(),Vt())}function Fm(t,r){return 4&t.type?new vw(r,t,Is(t,r)):null}let Vm=(()=>{class t{}return t.__NG_ELEMENT_ID__=bw,t})();function bw(){return C0(si(),Vt())}const ww=Vm,w0=class extends ww{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const r=pa(this._hostTNode,this._hostLView);if(Kt(r)){const s=Fs(r,this._hostLView),a=ki(r);return new fr(s[1].data[a+8],s)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=I0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,p;"number"==typeof a?c=a:null!=a&&(c=a.index,p=a.injector);const E=r.createEmbeddedView(s||{},p);return this.insert(E,c),E}createComponent(r,s,a,c,p){const E=r&&!function ma(t){return"function"==typeof t}(r);let D;if(E)D=s;else{const be=s||{};D=be.index,a=be.injector,c=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const x=E?r:new Ld(Ce(r)),G=a||this.parentInjector;if(!p&&null==x.ngModule){const Je=(E?G:this.parentInjector).get(ci,null);Je&&(p=Je)}const le=x.create(G,c,void 0,p);return this.insert(le.hostView,D),le}insert(r,s){const a=r._lView,c=a[1];if(function U(t){return $t(t[3])}(a)){const le=this.indexOf(r);if(-1!==le)this.detach(le);else{const be=a[3],Je=new w0(be,be[6],be[3]);Je.detach(Je.indexOf(r))}}const p=this._adjustIndex(s),E=this._lContainer;!function yg(t,r,s,a){const c=10+a,p=s.length;a>0&&(s[c-1][4]=r),a<p-10?(r[4]=s[c],Wi(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function _g(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(E,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(c,a,E,p);const D=ah(p,E),x=a[11],G=rh(x,E[7]);return null!==G&&function mg(t,r,s,a,c,p){a[0]=c,a[6]=r,vd(t,a,s,1,c,p)}(c,E[6],x,a,G,D),r.attachToViewContainerRef(),Wi(t_(E),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=I0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=nh(this._lContainer,s);a&&(T(t_(this._lContainer),s),Eg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=nh(this._lContainer,s);return a&&null!=T(t_(this._lContainer),s)?new uu(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function I0(t){return t[8]}function t_(t){return t[8]||(t[8]=[])}function C0(t,r){let s;const a=r[t.index];if($t(a))s=a;else{let c;if(8&t.type)c=yt(a);else{const p=r[11];c=p.createComment("");const E=Bn(t,r);nc(p,rh(p,E),c,function Cg(t,r){return t.nextSibling(r)}(p,E),!1)}r[t.index]=s=Dh(a,r,c,t),Sh(r,s)}return new w0(s,t,r)}class n_{constructor(r){this.queryList=r,this.matches=null}clone(){return new n_(this.queryList)}setDirty(){this.queryList.setDirty()}}class r_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let p=0;p<a;p++){const E=s.getByIndex(p);c.push(this.queries[E.indexInDeclarationView].clone())}return new r_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==R0(r,s).matches&&this.queries[s].setDirty()}}class T0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class i_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new i_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class s_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new s_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,s,Tw(s,p)),this.matchTNodeWithReadOption(r,s,Ds(s,r,p,!1,!1))}else a===eg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ds(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Vo||c===Vm||c===eg&&4&s.type)this.addMatch(s.index,-2);else{const p=Ds(s,r,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Tw(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Sw(t,r,s,a){return-1===s?function Dw(t,r){return 11&t.type?Is(t,r):4&t.type?Fm(t,r):null}(r,t):-2===s?function Aw(t,r,s){return s===Vo?Is(r,t):s===eg?Fm(r,t):s===Vm?C0(r,t):void 0}(t,r,a):wo(t,t[1],s,r)}function D0(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const p=t.data,E=s.matches,D=[];for(let x=0;x<E.length;x+=2){const G=E[x];D.push(G<0?null:Sw(r,p[G],E[x+1],s.metadata.read))}c.matches=D}return c.matches}function o_(t,r,s,a){const c=t.queries.getByIndex(s),p=c.matches;if(null!==p){const E=D0(t,r,c,s);for(let D=0;D<p.length;D+=2){const x=p[D];if(x>0)a.push(E[D/2]);else{const G=p[D+1],le=r[-x];for(let be=10;be<le.length;be++){const Je=le[be];Je[17]===Je[3]&&o_(Je[1],Je,G,a)}if(null!==le[9]){const be=le[9];for(let Je=0;Je<be.length;Je++){const mt=be[Je];o_(mt[1],mt,G,a)}}}}}return a}function S0(t){const r=Vt(),s=lr(),a=il();$o(a+1);const c=R0(s,a);if(t.dirty&&V(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const p=c.crossesNgTemplate?o_(s,r,a,[]):D0(s,r,c,a);t.reset(p,As),t.notifyOnChanges()}return!0}return!1}function A0(t,r,s){const a=lr();a.firstCreatePass&&(P0(a,new T0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),O0(a,Vt(),r)}function M0(t,r,s,a){const c=lr();if(c.firstCreatePass){const p=si();P0(c,new T0(r,s,a),p.index),function xw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}O0(c,Vt(),s)}function x0(){return function Mw(t,r){return t[19].queries[r].queryList}(Vt(),il())}function O0(t,r,s){const a=new e_(4==(4&s));ap(t,r,a,a.destroy),null===r[19]&&(r[19]=new r_),r[19].queries.push(new n_(a))}function P0(t,r,s){null===t.queries&&(t.queries=new i_),t.queries.track(new s_(r,s))}function R0(t,r){return t.queries.getByIndex(r)}function N0(t,r){return Fm(t,r)}function Zh(t){const r=Ce(t)||Se(t)||It(t);return null!==r&&r.standalone}function Bm(...t){}const X0=new qr("Application Initializer");let Hm=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Bm,this.reject=Bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Up(p))s.push(p);else if(_m(p)){const E=new Promise((D,x)=>{p.subscribe({complete:D,error:x})});s.push(E)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(H(X0,8))},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eE=new qr("AppId",{providedIn:"root",factory:function tE(){return`${d_()}${d_()}${d_()}`}});function d_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new qr("Platform Initializer"),Yw=new qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new qr("appBootstrapListener"),Qw=new qr("AnimationModuleType");let Jw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const $m=new qr("LocaleId",{providedIn:"root",factory:()=>Te($m,nn.Optional|nn.SkipSelf)||function Xw(){return typeof $localize<"u"&&$localize.locale||Wh}()}),eI=new qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let nI=(()=>{class t{compileModuleSync(s){return new Yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=Ja(Bt(s).declarations).reduce((E,D)=>{const x=Ce(D);return x&&E.push(new Ld(x)),E},[]);return new tI(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sI=(()=>Promise.resolve(0))();function h_(t){typeof Zone>"u"?sI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bu(!1),this.onMicrotaskEmpty=new Bu(!1),this.onStable=new Bu(!1),this.onError=new Bu(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function oI(){let t=qt.requestAnimationFrame,r=qt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uI(t){const r=()=>{!function lI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,p_(t),t.isCheckStableRunning=!0,f_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),p_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,p,E,D)=>{try{return oE(t),s.invokeTask(c,p,E,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&r(),aE(t)}},onInvoke:(s,a,c,p,E,D,x)=>{try{return oE(t),s.invoke(c,p,E,D,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),aE(t)}},onHasTask:(s,a,c,p)=>{s.hasTask(c,p),a===c&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,p_(t),f_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,c,p)=>(s.handleError(c,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nl.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(Nl.isInAngularZone())throw new Qe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+c,r,aI,Bm,Bm);try{return p.runTask(E,s,a)}finally{p.cancelTask(E)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const aI={};function f_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function p_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,f_(t)}class cI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bu,this.onMicrotaskEmpty=new Bu,this.onStable=new Bu,this.onError=new Bu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const lE=new qr(""),uE=new qr("");let g_,dI=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g_||(function hI(t){g_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nl.assertNotInAngularZone(),h_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())h_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(H(Nl),H(cE),H(uE))},t.\u0275prov=pn({token:t,factory:t.\u0275fac}),t})(),cE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return g_?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),qc=null;const dE=new qr("AllowMultipleToken"),m_=new qr("PlatformDestroyListeners");class gI{constructor(r,s){this.name=r,this.token=s}}function fE(t,r,s=[]){const a=`Platform: ${r}`,c=new qr(a);return(p=[])=>{let E=y_();if(!E||E.injector.get(dE,!1)){const D=[...s,...p,{provide:c,useValue:!0}];t?t(D):function mI(t){if(qc&&!qc.get(dE,!1))throw new Qe(400,!1);qc=t;const r=t.get(gE);(function hE(t){const r=t.get(nE,null);r&&r.forEach(s=>s())})(t)}(function pE(t=[],r){return ic.create({name:r,providers:[{provide:Vn,useValue:"platform"},{provide:m_,useValue:new Set([()=>qc=null])},...t]})}(D,a))}return function _I(t){const r=y_();if(!r)throw new Qe(401,!1);return r}()}}function y_(){return qc?.get(gE)??null}let gE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function vI(t,r){let s;return s="noop"===t?new cI:("zone.js"===t?void 0:t)||new Nl(r),s}(a?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),p=[{provide:Nl,useValue:c}];return c.run(()=>{const E=ic.create({providers:p,parent:this.injector,name:s.moduleType.name}),D=s.create(E),x=D.injector.get(yl,null);if(!x)throw new Qe(402,!1);return c.runOutsideAngular(()=>{const G=c.onError.subscribe({next:le=>{x.handleError(le)}});D.onDestroy(()=>{Wm(this._modules,D),G.unsubscribe()})}),function yE(t,r,s){try{const a=s();return Up(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(x,c,()=>{const G=D.injector.get(Hm);return G.runInitializers(),G.donePromise.then(()=>(function Dv(t){Et(t,"Expected localeId to be defined"),"string"==typeof t&&(Tv=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get($m,Wh)||Wh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const c=_E({},a);return function fI(t,r,s){const a=new Yy(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const a=s.injector.get(jm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Qe(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(m_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(H(ic))},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _E(t,r){return Array.isArray(r)?r.reduce(_E,t):{...t,...r}}let jm=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new k.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Nl.assertNotInAngularZone(),h_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),G.unsubscribe()}});this.isStable=(0,fe.T)(p,E.pipe((0,j.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ca;if(!this._injector.get(Hm).done)throw!c&&Zh(s),new Qe(405,false);let E;E=c?s:this._injector.get(dr).resolveComponentFactory(s),this.componentTypes.push(E.componentType);const D=function pI(t){return t.isBoundToModule}(E)?void 0:this._injector.get(zh),G=E.create(ic.NULL,[],a||E.selector,D),le=G.location.nativeElement,be=G.injector.get(lE,null);return be?.registerApplication(le),G.onDestroy(()=>{this.detachView(G.hostView),Wm(this.components,G),be?.unregisterApplication(le)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Wm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(rE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Wm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Qe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(H(Nl),H(ci),H(yl))},t.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Wm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let EE=!0,bE=!1;function bI(){return bE=!0,EE}function wI(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");EE=!1}let II=(()=>{class t{}return t.__NG_ELEMENT_ID__=CI,t})();function CI(t){return function TI(t,r,s){if(_e(t)&&!s){const a=Lr(t.index,r);return new uu(a,a)}return 47&t.type?new uu(r[16],r):null}(si(),Vt(),16==(16&t))}class TE{constructor(){}supports(r){return jc(r)}create(r){return new OI(r)}}const xI=(t,r)=>r;class OI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,p=null;for(;s||a;){const E=!a||s&&s.currentIndex<SE(a,c,p)?s:a,D=SE(E,c,p),x=E.currentIndex;if(E===a)c--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)c++;else{p||(p=[]);const G=D-c,le=x-c;if(G!=le){for(let Je=0;Je<G;Je++){const mt=Je<p.length?p[Je]:p[Je]=0,Ht=mt+Je;le<=Ht&&Ht<G&&(p[Je]=mt+1)}p[E.previousIndex]=le-G}}D!==x&&r(E,D,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!jc(r))throw new Qe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,E,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)p=r[D],E=this._trackByFn(D,p),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,p,E,D)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,E,D),a=!0),s=s._next}else c=0,function rv(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[lc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{E=this._trackByFn(c,D),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,D,E,c)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,E,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,c)):r=this._addAfter(new PI(s,a),p,c),r}_verifyReinsertion(r,s,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class PI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class DE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new RI,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class AE{constructor(){}supports(r){return r instanceof Map||Zl(r)}create(){return new NI}}class NI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Zl(r)))throw new Qe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const p=c._prev,E=c._next;return p&&(p._next=E),E&&(E._prev=p),c._next=null,c._prev=null,c}const a=new kI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class kI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ME(){return new w_([new TE])}let w_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ME()),deps:[[t,new vr,new zn]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Qe(901,!1)}}return t.\u0275prov=pn({token:t,providedIn:"root",factory:ME}),t})();function xE(){return new I_([new AE])}let I_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||xE()),deps:[[t,new vr,new zn]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Qe(901,!1)}}return t.\u0275prov=pn({token:t,providedIn:"root",factory:xE}),t})();const VI=fE(null,"core",[]);let UI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(H(jm))},t.\u0275mod=zt({type:t}),t.\u0275inj=bn({}),t})();function BI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(jt,Ke,M)=>{M.d(Ke,{Fj:()=>Xe,qu:()=>Di,u:()=>Qs,sg:()=>Hi,u5:()=>ds,qQ:()=>ie,JU:()=>Qe,a5:()=>xn,JJ:()=>Tr,JL:()=>oi,On:()=>Ts,wV:()=>gs,UX:()=>si,kI:()=>Be,_Y:()=>Rs});var h=M(4650),u=M(6895),k=M(9751),fe=M(4742),j=M(8421),J=M(3269),te=M(5403),Z=M(3268),oe=M(1810),ne=M(8996),ge=M(4004);let Ge=(()=>{class ${constructor(O,ue){this._renderer=O,this._elementRef=ue,this.onChange=vt=>{},this.onTouched=()=>{}}setProperty(O,ue){this._renderer.setProperty(this._elementRef.nativeElement,O,ue)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(h.Qsj),h.Y36(h.SBq))},$.\u0275dir=h.lG2({type:$}),$})(),Ae=(()=>{class $ extends Ge{}return $.\u0275fac=function(){let F;return function(ue){return(F||(F=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,features:[h.qOj]}),$})();const Qe=new h.OlP("NgValueAccessor"),Ne={provide:Qe,useExisting:(0,h.Gpc)(()=>Xe),multi:!0},Lt=new h.OlP("CompositionEventMode");let Xe=(()=>{class $ extends Ge{constructor(O,ue,vt){super(O,ue),this._compositionMode=vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const $=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Lt,8))},$.\u0275dir=h.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ue){1&O&&h.NdJ("input",function(hn){return ue._handleInput(hn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(hn){return ue._compositionEnd(hn.target.value)})},features:[h._Bn([Ne]),h.qOj]}),$})();function Ze($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Ie($){return null!=$&&"number"==typeof $.length}const he=new h.OlP("NgValidators"),ze=new h.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(F){return et(F)}static max(F){return function Ue($){return F=>{if(Ze(F.value)||Ze($))return null;const O=parseFloat(F.value);return!isNaN(O)&&O>$?{max:{max:$,actual:F.value}}:null}}(F)}static required(F){return function pt($){return Ze($.value)?{required:!0}:null}(F)}static requiredTrue(F){return function nt($){return!0===$.value?null:{required:!0}}(F)}static email(F){return function Ft($){return Ze($.value)||dt.test($.value)?null:{email:!0}}(F)}static minLength(F){return function at($){return F=>Ze(F.value)||!Ie(F.value)?null:F.value.length<$?{minlength:{requiredLength:$,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Ot($){return F=>Ie(F.value)&&F.value.length>$?{maxlength:{requiredLength:$,actualLength:F.value.length}}:null}(F)}static pattern(F){return function Et($){if(!$)return lt;let F,O;return"string"==typeof $?(O="","^"!==$.charAt(0)&&(O+="^"),O+=$,"$"!==$.charAt($.length-1)&&(O+="$"),F=new RegExp(O)):(O=$.toString(),F=$),ue=>{if(Ze(ue.value))return null;const vt=ue.value;return F.test(vt)?null:{pattern:{requiredPattern:O,actualValue:vt}}}}(F)}static nullValidator(F){return null}static compose(F){return Wn(F)}static composeAsync(F){return cr(F)}}function et($){return F=>{if(Ze(F.value)||Ze($))return null;const O=parseFloat(F.value);return!isNaN(O)&&O<$?{min:{min:$,actual:F.value}}:null}}function lt($){return null}function Pt($){return null!=$}function _n($){return(0,h.QGY)($)?(0,ne.D)($):$}function wn($){let F={};return $.forEach(O=>{F=null!=O?{...F,...O}:F}),0===Object.keys(F).length?null:F}function pn($,F){return F.map(O=>O($))}function bn($){return $.map(F=>function En($){return!$.validate}(F)?F:O=>F.validate(O))}function Wn($){if(!$)return null;const F=$.filter(Pt);return 0==F.length?null:function(O){return wn(pn(O,F))}}function Ar($){return null!=$?Wn(bn($)):null}function cr($){if(!$)return null;const F=$.filter(Pt);return 0==F.length?null:function(O){return function K(...$){const F=(0,J.jO)($),{args:O,keys:ue}=(0,fe.D)($),vt=new k.y(hn=>{const{length:Ei}=O;if(!Ei)return void hn.complete();const Ni=new Array(Ei);let Js=Ei,ro=Ei;for(let io=0;io<Ei;io++){let ks=!1;(0,j.Xf)(O[io]).subscribe((0,te.x)(hn,il=>{ks||(ks=!0,ro--),Ni[io]=il},()=>Js--,void 0,()=>{(!Js||!ks)&&(ro||hn.next(ue?(0,oe.n)(ue,Ni):Ni),hn.complete())}))}});return F?vt.pipe((0,Z.Z)(F)):vt}(pn(O,F).map(_n)).pipe((0,ge.U)(wn))}}function tn($){return null!=$?cr(bn($)):null}function Yr($,F){return null===$?[F]:Array.isArray($)?[...$,F]:[$,F]}function $n($){return $._rawValidators}function Cr($){return $._rawAsyncValidators}function Jn($){return $?Array.isArray($)?$:[$]:[]}function sr($,F){return Array.isArray($)?$.includes(F):$===F}function nn($,F){const O=Jn(F);return Jn($).forEach(vt=>{sr(O,vt)||O.push(vt)}),O}function Yn($,F){return Jn(F).filter(O=>!sr($,O))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Ar(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,O){return!!this.control&&this.control.hasError(F,O)}getError(F,O){return this.control?this.control.getError(F,O):null}}class vn extends Fn{get formDirective(){return null}get path(){return null}}class xn extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tr=(()=>{class $ extends br{constructor(O){super(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(xn,2))},$.\u0275dir=h.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ue){2&O&&h.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[h.qOj]}),$})(),oi=(()=>{class $ extends br{constructor(O){super(O)}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(vn,10))},$.\u0275dir=h.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ue){2&O&&h.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[h.qOj]}),$})();const zt="VALID",On="INVALID",gn="PENDING",Dn="DISABLED";function qe($){return(Bt($)?$.validators:$)||null}function Ce($){return Array.isArray($)?Ar($):$||null}function Se($,F){return(Bt(F)?F.asyncValidators:$)||null}function It($){return Array.isArray($)?tn($):$||null}function Bt($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function In($,F,O){const ue=$.controls;if(!(F?Object.keys(ue):ue).length)throw new h.vHH(1e3,"");if(!ue[O])throw new h.vHH(1001,"")}function Mt($,F,O){$._forEachChild((ue,vt)=>{if(void 0===O[vt])throw new h.vHH(1002,"")})}class sn{constructor(F,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=O,this._composedValidatorFn=Ce(this._rawValidators),this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===On}get pending(){return this.status==gn}get disabled(){return this.status===Dn}get enabled(){return this.status!==Dn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=Ce(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=It(F)}addValidators(F){this.setValidators(nn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(nn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Yn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Yn(F,this._rawAsyncValidators))}hasValidator(F){return sr(this._rawValidators,F)}hasAsyncValidator(F){return sr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=gn,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=Dn,this.errors=null,this._forEachChild(ue=>{ue.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=zt,this._forEachChild(ue=>{ue.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===gn)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dn:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;const O=_n(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,O={}){this.errors=F,this._updateControlsErrors(!1!==O.emitEvent)}get(F){let O=F;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ue,vt)=>ue&&ue._find(vt),this)}getError(F,O){const ue=O?this.get(O):this;return ue&&ue.errors?ue.errors[F]:null}hasError(F,O){return!!this.getError(F,O)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Dn:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(On)?On:zt}_anyControlsHaveStatus(F){return this._anyControls(O=>O.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Bt(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}}class Le extends sn{constructor(F,O,ue){super(qe(O),Se(ue,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,O){return this.controls[F]?this.controls[F]:(this.controls[F]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(F,O,ue={}){this.registerControl(F,O),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(F,O={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(F,O,ue={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],O&&this.registerControl(F,O),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,O={}){Mt(this,0,F),Object.keys(F).forEach(ue=>{In(this,!0,ue),this.controls[ue].setValue(F[ue],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(Object.keys(F).forEach(ue=>{const vt=this.controls[ue];vt&&vt.patchValue(F[ue],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F={},O={}){this._forEachChild((ue,vt)=>{ue.reset(F[vt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(F,O,ue)=>(F[ue]=O.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(O,ue)=>!!ue._syncPendingControls()||O);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(O=>{const ue=this.controls[O];ue&&F(ue,O)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[O,ue]of Object.entries(this.controls))if(this.contains(O)&&F(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ue,vt)=>((ue.enabled||this.disabled)&&(O[vt]=ue.value),O))}_reduceChildren(F,O){let ue=F;return this._forEachChild((vt,hn)=>{ue=O(ue,vt,hn)}),ue}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}function Xt($,F){return[...F.path,$]}function Gn($,F){pi($,F),F.valueAccessor.writeValue($.value),$.disabled&&F.valueAccessor.setDisabledState?.(!0),function zi($,F){F.valueAccessor.registerOnChange(O=>{$._pendingValue=O,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Wr($,F)})}($,F),function Ai($,F){const O=(ue,vt)=>{F.valueAccessor.writeValue(ue),vt&&F.viewToModelUpdate(ue)};$.registerOnChange(O),F._registerOnDestroy(()=>{$._unregisterOnChange(O)})}($,F),function ri($,F){F.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Wr($,F),"submit"!==$.updateOn&&$.markAsTouched()})}($,F),function jr($,F){if(F.valueAccessor.setDisabledState){const O=ue=>{F.valueAccessor.setDisabledState(ue)};$.registerOnDisabledChange(O),F._registerOnDestroy(()=>{$._unregisterOnDisabledChange(O)})}}($,F)}function Un($,F,O=!0){const ue=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(ue),F.valueAccessor.registerOnTouched(ue)),ts($,F),$&&(F._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Sn($,F){$.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(F)})}function pi($,F){const O=$n($);null!==F.validator?$.setValidators(Yr(O,F.validator)):"function"==typeof O&&$.setValidators([O]);const ue=Cr($);null!==F.asyncValidator?$.setAsyncValidators(Yr(ue,F.asyncValidator)):"function"==typeof ue&&$.setAsyncValidators([ue]);const vt=()=>$.updateValueAndValidity();Sn(F._rawValidators,vt),Sn(F._rawAsyncValidators,vt)}function ts($,F){let O=!1;if(null!==$){if(null!==F.validator){const vt=$n($);if(Array.isArray(vt)&&vt.length>0){const hn=vt.filter(Ei=>Ei!==F.validator);hn.length!==vt.length&&(O=!0,$.setValidators(hn))}}if(null!==F.asyncValidator){const vt=Cr($);if(Array.isArray(vt)&&vt.length>0){const hn=vt.filter(Ei=>Ei!==F.asyncValidator);hn.length!==vt.length&&(O=!0,$.setAsyncValidators(hn))}}}const ue=()=>{};return Sn(F._rawValidators,ue),Sn(F._rawAsyncValidators,ue),O}function Wr($,F){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Vi($,F){if(!$.hasOwnProperty("model"))return!1;const O=$.model;return!!O.isFirstChange()||!Object.is(F,O.currentValue)}function Ri($,F){if(!F)return null;let O,ue,vt;return Array.isArray(F),F.forEach(hn=>{hn.constructor===Xe?O=hn:function Os($){return Object.getPrototypeOf($.constructor)===Ae}(hn)?ue=hn:vt=hn}),vt||ue||O||null}function dn($,F){const O=$.indexOf(F);O>-1&&$.splice(O,1)}function _e($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ct=class extends sn{constructor(F=null,O,ue){super(qe(O),Se(ue,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bt(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=_e(F)?F.value:F)}setValue(F,O={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(F,O={}){this.setValue(F,O)}reset(F=this.defaultValue,O={}){this._applyFormState(F),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){dn(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){dn(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){_e(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},ui={provide:xn,useExisting:(0,h.Gpc)(()=>Ts)},Ps=(()=>Promise.resolve(null))();let Ts=(()=>{class $ extends xn{constructor(O,ue,vt,hn,Ei){super(),this._changeDetectorRef=Ei,this.control=new ct,this._registered=!1,this.update=new h.vpe,this._parent=O,this._setValidators(ue),this._setAsyncValidators(vt),this.valueAccessor=Ri(0,hn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const ue=O.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Vi(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Ps.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const ue=O.isDisabled.currentValue,vt=0!==ue&&(0,h.D6c)(ue);Ps.then(()=>{vt&&!this.control.disabled?this.control.disable():!vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?Xt(O,this._parent):[O]}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(vn,9),h.Y36(he,10),h.Y36(ze,10),h.Y36(Qe,10),h.Y36(h.sBO,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([ui]),h.qOj,h.TTD]}),$})(),Rs=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275dir=h.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const Us={provide:Qe,useExisting:(0,h.Gpc)(()=>gs),multi:!0};let gs=(()=>{class $ extends Ae{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ue=>{O(""==ue?null:parseFloat(ue))}}}return $.\u0275fac=function(){let F;return function(ue){return(F||(F=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ue){1&O&&h.NdJ("input",function(hn){return ue.onChange(hn.target.value)})("blur",function(){return ue.onTouched()})},features:[h._Bn([Us]),h.qOj]}),$})(),Ns=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({}),$})();const cs=new h.OlP("NgModelWithFormControlWarning"),Ki={provide:vn,useExisting:(0,h.Gpc)(()=>Hi)};let Hi=(()=>{class $ extends vn{constructor(O,ue){super(),this.validators=O,this.asyncValidators=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(O),this._setAsyncValidators(ue)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ts(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ue=this.form.get(O.path);return Gn(ue,O),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ue}getControl(O){return this.form.get(O.path)}removeControl(O){Un(O.control||null,O,!1),function Ye($,F){const O=$.indexOf(F);O>-1&&$.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ue){this.form.get(O.path).setValue(ue)}onSubmit(O){return this.submitted=!0,function Ci($,F){$._syncPendingControls(),F.forEach(O=>{const ue=O.control;"submit"===ue.updateOn&&ue._pendingChange&&(O.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ue=O.control,vt=this.form.get(O.path);ue!==vt&&(Un(ue||null,O),($=>$ instanceof ct)(vt)&&(Gn(vt,O),O.control=vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ue=this.form.get(O.path);(function ei($,F){pi($,F)})(ue,O),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ue=this.form.get(O.path);ue&&function di($,F){return ts($,F)}(ue,O)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pi(this.form,this),this._oldForm&&ts(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(O){return new(O||$)(h.Y36(he,10),h.Y36(ze,10))},$.\u0275dir=h.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(O,ue){1&O&&h.NdJ("submit",function(hn){return ue.onSubmit(hn)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Ki]),h.qOj,h.TTD]}),$})();const $s={provide:xn,useExisting:(0,h.Gpc)(()=>Qs)};let Qs=(()=>{class $ extends xn{constructor(O,ue,vt,hn,Ei){super(),this._ngModelWarningConfig=Ei,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ue),this._setAsyncValidators(vt),this.valueAccessor=Ri(0,hn)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),Vi(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return Xt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(O){return new(O||$)(h.Y36(vn,13),h.Y36(he,10),h.Y36(ze,10),h.Y36(Qe,10),h.Y36(cs,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([$s]),h.qOj,h.TTD]}),$})();let yr=(()=>{class ${constructor(){this._validator=lt}ngOnChanges(O){if(this.inputName in O){const ue=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):lt,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275dir=h.lG2({type:$,features:[h.TTD]}),$})();const V={provide:he,useExisting:(0,h.Gpc)(()=>ie),multi:!0};let ie=(()=>{class $ extends yr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=O=>function ar($){return"number"==typeof $?$:parseFloat($)}(O),this.createValidator=O=>et(O)}}return $.\u0275fac=function(){let F;return function(ue){return(F||(F=h.n5z($)))(ue||$)}}(),$.\u0275dir=h.lG2({type:$,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,ue){2&O&&h.uIk("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[h._Bn([V]),h.qOj]}),$})(),$i=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[Ns]}),$})(),ds=(()=>{class ${}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[$i]}),$})(),si=(()=>{class ${static withConfig(O){return{ngModule:$,providers:[{provide:cs,useValue:O.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[$i]}),$})();class ho extends sn{constructor(F,O,ue){super(qe(O),Se(ue,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,O={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(F,O,ue={}){this.controls.splice(F,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(F,O={}){let ue=this._adjustIndex(F);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(F,O,ue={}){let vt=this._adjustIndex(F);vt<0&&(vt=0),this.controls[vt]&&this.controls[vt]._registerOnCollectionChange(()=>{}),this.controls.splice(vt,1),O&&(this.controls.splice(vt,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,O={}){Mt(this,0,F),F.forEach((ue,vt)=>{In(this,!1,vt),this.at(vt).setValue(ue,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(F.forEach((ue,vt)=>{this.at(vt)&&this.at(vt).patchValue(ue,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F=[],O={}){this._forEachChild((ue,vt)=>{ue.reset(F[vt],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((O,ue)=>!!ue._syncPendingControls()||O,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((O,ue)=>{F(O,ue)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(O=>O.enabled&&F(O))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function vo($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Di=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const O=new $;return O.useNonNullable=!0,O}group(O,ue=null){const vt=this._reduceControls(O);let hn={};return vo(ue)?hn=ue:null!==ue&&(hn.validators=ue.validator,hn.asyncValidators=ue.asyncValidator),new Le(vt,hn)}control(O,ue,vt){let hn={};return this.useNonNullable?(vo(ue)?hn=ue:(hn.validators=ue,hn.asyncValidators=vt),new ct(O,{...hn,nonNullable:!0})):new ct(O,ue,vt)}array(O,ue,vt){const hn=O.map(Ei=>this._createControl(Ei));return new ho(hn,ue,vt)}_reduceControls(O){const ue={};return Object.keys(O).forEach(vt=>{ue[vt]=this._createControl(O[vt])}),ue}_createControl(O){return O instanceof ct||O instanceof sn?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return $.\u0275fac=function(O){return new(O||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac,providedIn:si}),$})()},1481:(jt,Ke,M)=>{M.d(Ke,{Dx:()=>oi,H7:()=>Bt,b2:()=>xn,q6:()=>nn,se:()=>pt});var h=M(6895),u=M(4650);class k extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends k{static makeCurrent(){(0,h.HT)(new fe)}onAndCancel(Re,ve,Fe){return Re.addEventListener(ve,Fe,!1),()=>{Re.removeEventListener(ve,Fe,!1)}}dispatchEvent(Re,ve){Re.dispatchEvent(ve)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,ve){return(ve=ve||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,ve){return"window"===ve?window:"document"===ve?Re:"body"===ve?Re.body:null}getBaseHref(Re){const ve=function J(){return j=j||document.querySelector("base"),j?j.getAttribute("href"):null}();return null==ve?null:function Z(Le){te=te||document.createElement("a"),te.setAttribute("href",Le);const Re=te.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(ve)}resetBaseElement(){j=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,h.Mx)(document.cookie,Re)}}let te,j=null;const oe=new u.OlP("TRANSITION_ID"),ne=[{provide:u.ip1,useFactory:function K(Le,Re,ve){return()=>{ve.get(u.CZH).donePromise.then(()=>{const Fe=(0,h.q)(),xt=Re.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Xt=0;Xt<xt.length;Xt++)Fe.remove(xt[Xt])})}},deps:[oe,h.K0,u.zs3],multi:!0}];let Ge=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ae=new u.OlP("EventManagerPlugins");let Qe=(()=>{class Le{constructor(ve,Fe){this._zone=Fe,this._eventNameToPlugin=new Map,ve.forEach(xt=>xt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Fe,xt){return this._findPluginFor(Fe).addEventListener(ve,Fe,xt)}addGlobalEventListener(ve,Fe,xt){return this._findPluginFor(Fe).addGlobalEventListener(ve,Fe,xt)}getZone(){return this._zone}_findPluginFor(ve){const Fe=this._eventNameToPlugin.get(ve);if(Fe)return Fe;const xt=this._plugins;for(let Xt=0;Xt<xt.length;Xt++){const Gn=xt[Xt];if(Gn.supports(ve))return this._eventNameToPlugin.set(ve,Gn),Gn}throw new Error(`No event manager plugin found for event ${ve}`)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Ae),u.LFG(u.R0b))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class wt{constructor(Re){this._doc=Re}addGlobalEventListener(Re,ve,Fe){const xt=(0,h.q)().getGlobalEventTarget(this._doc,Re);if(!xt)throw new Error(`Unsupported event target ${xt} for event ${ve}`);return this.addEventListener(xt,ve,Fe)}}let tt=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(ve){const Fe=new Set;ve.forEach(xt=>{this._stylesSet.has(xt)||(this._stylesSet.add(xt),Fe.add(xt))}),this.onStylesAdded(Fe)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Ne=(()=>{class Le extends tt{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Fe,xt){ve.forEach(Xt=>{const Gn=this._doc.createElement("style");Gn.textContent=Xt,xt.push(Fe.appendChild(Gn))})}addHost(ve){const Fe=[];this._addStylesToHost(this._stylesSet,ve,Fe),this._hostNodes.set(ve,Fe)}removeHost(ve){const Fe=this._hostNodes.get(ve);Fe&&Fe.forEach(Oe),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Fe,xt)=>{this._addStylesToHost(ve,xt,Fe)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(Oe))}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function Oe(Le){(0,h.q)().remove(Le)}const Lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g;function Be(Le,Re,ve){for(let Fe=0;Fe<Re.length;Fe++){let xt=Re[Fe];Array.isArray(xt)?Be(Le,xt,ve):(xt=xt.replace(Xe,Le),ve.push(xt))}return ve}function et(Le){return Re=>{if("__ngUnwrap__"===Re)return Le;!1===Le(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let pt=(()=>{class Le{constructor(ve,Fe,xt){this.eventManager=ve,this.sharedStylesHost=Fe,this.appId=xt,this.rendererByCompId=new Map,this.defaultRenderer=new nt(ve)}createRenderer(ve,Fe){if(!ve||!Fe)return this.defaultRenderer;switch(Fe.encapsulation){case u.ifc.Emulated:{let xt=this.rendererByCompId.get(Fe.id);return xt||(xt=new Et(this.eventManager,this.sharedStylesHost,Fe,this.appId),this.rendererByCompId.set(Fe.id,xt)),xt.applyToHost(ve),xt}case 1:case u.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,ve,Fe);default:if(!this.rendererByCompId.has(Fe.id)){const xt=Be(Fe.id,Fe.styles,[]);this.sharedStylesHost.addStyles(xt),this.rendererByCompId.set(Fe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Qe),u.LFG(Ne),u.LFG(u.AFp))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class nt{constructor(Re){this.eventManager=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,ve){return ve?document.createElementNS(Lt[ve]||ve,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,ve){(Ot(Re)?Re.content:Re).appendChild(ve)}insertBefore(Re,ve,Fe){Re&&(Ot(Re)?Re.content:Re).insertBefore(ve,Fe)}removeChild(Re,ve){Re&&Re.removeChild(ve)}selectRootElement(Re,ve){let Fe="string"==typeof Re?document.querySelector(Re):Re;if(!Fe)throw new Error(`The selector "${Re}" did not match any elements`);return ve||(Fe.textContent=""),Fe}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,ve,Fe,xt){if(xt){ve=xt+":"+ve;const Xt=Lt[xt];Xt?Re.setAttributeNS(Xt,ve,Fe):Re.setAttribute(ve,Fe)}else Re.setAttribute(ve,Fe)}removeAttribute(Re,ve,Fe){if(Fe){const xt=Lt[Fe];xt?Re.removeAttributeNS(xt,ve):Re.removeAttribute(`${Fe}:${ve}`)}else Re.removeAttribute(ve)}addClass(Re,ve){Re.classList.add(ve)}removeClass(Re,ve){Re.classList.remove(ve)}setStyle(Re,ve,Fe,xt){xt&(u.JOm.DashCase|u.JOm.Important)?Re.style.setProperty(ve,Fe,xt&u.JOm.Important?"important":""):Re.style[ve]=Fe}removeStyle(Re,ve,Fe){Fe&u.JOm.DashCase?Re.style.removeProperty(ve):Re.style[ve]=""}setProperty(Re,ve,Fe){Re[ve]=Fe}setValue(Re,ve){Re.nodeValue=ve}listen(Re,ve,Fe){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,ve,et(Fe)):this.eventManager.addEventListener(Re,ve,et(Fe))}}function Ot(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class Et extends nt{constructor(Re,ve,Fe,xt){super(Re),this.component=Fe;const Xt=Be(xt+"-"+Fe.id,Fe.styles,[]);ve.addStyles(Xt),this.contentAttr=function ze(Le){return"_ngcontent-%COMP%".replace(Xe,Le)}(xt+"-"+Fe.id),this.hostAttr=function dt(Le){return"_nghost-%COMP%".replace(Xe,Le)}(xt+"-"+Fe.id)}applyToHost(Re){super.setAttribute(Re,this.hostAttr,"")}createElement(Re,ve){const Fe=super.createElement(Re,ve);return super.setAttribute(Fe,this.contentAttr,""),Fe}}class lt extends nt{constructor(Re,ve,Fe,xt){super(Re),this.sharedStylesHost=ve,this.hostEl=Fe,this.shadowRoot=Fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=Be(xt.id,xt.styles,[]);for(let Gn=0;Gn<Xt.length;Gn++){const Un=document.createElement("style");Un.textContent=Xt[Gn],this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Re,ve){return super.appendChild(this.nodeOrShadowRoot(Re),ve)}insertBefore(Re,ve,Fe){return super.insertBefore(this.nodeOrShadowRoot(Re),ve,Fe)}removeChild(Re,ve){return super.removeChild(this.nodeOrShadowRoot(Re),ve)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}}let Pt=(()=>{class Le extends wt{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Fe,xt){return ve.addEventListener(Fe,xt,!1),()=>this.removeEventListener(ve,Fe,xt)}removeEventListener(ve,Fe,xt){return ve.removeEventListener(Fe,xt)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const _n=["alt","control","meta","shift"],pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let Wn=(()=>{class Le extends wt{constructor(ve){super(ve)}supports(ve){return null!=Le.parseEventName(ve)}addEventListener(ve,Fe,xt){const Xt=Le.parseEventName(Fe),Gn=Le.eventCallback(Xt.fullKey,xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(ve,Xt.domEventName,Gn))}static parseEventName(ve){const Fe=ve.toLowerCase().split("."),xt=Fe.shift();if(0===Fe.length||"keydown"!==xt&&"keyup"!==xt)return null;const Xt=Le._normalizeKey(Fe.pop());let Gn="";if(_n.forEach(Sn=>{const jr=Fe.indexOf(Sn);jr>-1&&(Fe.splice(jr,1),Gn+=Sn+".")}),Gn+=Xt,0!=Fe.length||0===Xt.length)return null;const Un={};return Un.domEventName=xt,Un.fullKey=Gn,Un}static getEventFullKey(ve){let Fe="",xt=function Ar(Le){let Re=Le.key;if(null==Re){if(Re=Le.keyIdentifier,null==Re)return"Unidentified";Re.startsWith("U+")&&(Re=String.fromCharCode(parseInt(Re.substring(2),16)),3===Le.location&&En.hasOwnProperty(Re)&&(Re=En[Re]))}return pn[Re]||Re}(ve);return xt=xt.toLowerCase()," "===xt?xt="space":"."===xt&&(xt="dot"),_n.forEach(Xt=>{Xt!=xt&&(0,bn[Xt])(ve)&&(Fe+=Xt+".")}),Fe+=xt,Fe}static eventCallback(ve,Fe,xt){return Xt=>{Le.getEventFullKey(Xt)===ve&&xt.runGuarded(()=>Fe(Xt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const nn=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:h.bD},{provide:u.g9A,useValue:function $n(){fe.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function Jn(){return(0,u.RDi)(document),document},deps:[]}]),Yn=new u.OlP(""),Fn=[{provide:u.rWj,useClass:class ge{addToWindow(Re){u.dqk.getAngularTestability=(Fe,xt=!0)=>{const Xt=Re.findTestabilityInTree(Fe,xt);if(null==Xt)throw new Error("Could not find testability for element.");return Xt},u.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(Fe=>{const xt=u.dqk.getAllAngularTestabilities();let Xt=xt.length,Gn=!1;const Un=function(Sn){Gn=Gn||Sn,Xt--,0==Xt&&Fe(Gn)};xt.forEach(function(Sn){Sn.whenStable(Un)})})}findTestabilityInTree(Re,ve,Fe){return null==ve?null:Re.getTestability(ve)??(Fe?(0,h.q)().isShadowRoot(ve)?this.findTestabilityInTree(Re,ve.host,!0):this.findTestabilityInTree(Re,ve.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],vn=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Cr(){return new u.qLn},deps:[]},{provide:Ae,useClass:Pt,multi:!0,deps:[h.K0,u.R0b,u.Lbi]},{provide:Ae,useClass:Wn,multi:!0,deps:[h.K0]},{provide:pt,useClass:pt,deps:[Qe,Ne,u.AFp]},{provide:u.FYo,useExisting:pt},{provide:tt,useExisting:Ne},{provide:Ne,useClass:Ne,deps:[h.K0]},{provide:Qe,useClass:Qe,deps:[Ae,u.R0b]},{provide:h.JF,useClass:Ge,deps:[]},[]];let xn=(()=>{class Le{constructor(ve){}static withServerTransition(ve){return{ngModule:Le,providers:[{provide:u.AFp,useValue:ve.appId},{provide:oe,useExisting:u.AFp},ne]}}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(Yn,12))},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[...vn,...Fn],imports:[h.ez,u.hGG]}),Le})(),oi=(()=>{class Le{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new ve:function Tr(){return new oi((0,u.LFG)(h.K0))}(),Fe},providedIn:"root"}),Le})();typeof window<"u"&&window;let Bt=(()=>{class Le{}return Le.\u0275fac=function(ve){return new(ve||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new(ve||Le):u.LFG(Mt),Fe},providedIn:"root"}),Le})(),Mt=(()=>{class Le extends Bt{constructor(ve){super(),this._doc=ve}sanitize(ve,Fe){if(null==Fe)return null;switch(ve){case u.q3G.NONE:return Fe;case u.q3G.HTML:return(0,u.qzn)(Fe,"HTML")?(0,u.z3N)(Fe):(0,u.EiD)(this._doc,String(Fe)).toString();case u.q3G.STYLE:return(0,u.qzn)(Fe,"Style")?(0,u.z3N)(Fe):Fe;case u.q3G.SCRIPT:if((0,u.qzn)(Fe,"Script"))return(0,u.z3N)(Fe);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(Fe,"URL")?(0,u.z3N)(Fe):(0,u.mCW)(String(Fe));case u.q3G.RESOURCE_URL:if((0,u.qzn)(Fe,"ResourceURL"))return(0,u.z3N)(Fe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ve){return(0,u.JVY)(ve)}bypassSecurityTrustStyle(ve){return(0,u.L6k)(ve)}bypassSecurityTrustScript(ve){return(0,u.eBb)(ve)}bypassSecurityTrustUrl(ve){return(0,u.LAX)(ve)}bypassSecurityTrustResourceUrl(ve){return(0,u.pB0)(ve)}}return Le.\u0275fac=function(ve){return new(ve||Le)(u.LFG(h.K0))},Le.\u0275prov=u.Yz7({token:Le,factory:function(ve){let Fe=null;return Fe=ve?new ve:function In(Le){return new Mt(Le.get(h.K0))}(u.LFG(u.zs3)),Fe},providedIn:"root"}),Le})()},1441:(jt,Ke,M)=>{M.d(Ke,{gz:()=>ms,F0:()=>Bi,Od:()=>fi,yS:()=>wo,Bz:()=>Xs,lC:()=>yn});var h=M(4650),u=M(9751),k=M(4742),fe=M(8996),j=M(4671),J=M(3268),te=M(3269),Z=M(1810),oe=M(5403),K=M(9672);function ne(...T){const C=(0,te.yG)(T),w=(0,te.jO)(T),{args:P,keys:B}=(0,k.D)(T);if(0===P.length)return(0,fe.D)([],C);const se=new u.y(function ge(T,C,w=j.y){return P=>{Ge(C,()=>{const{length:B}=T,se=new Array(B);let Ee=B,Me=B;for(let bt=0;bt<B;bt++)Ge(C,()=>{const on=(0,fe.D)(T[bt],C);let Mn=!1;on.subscribe((0,oe.x)(P,Rn=>{se[bt]=Rn,Mn||(Mn=!0,Me--),Me||P.next(w(se.slice()))},()=>{--Ee||P.complete()}))},P)},P)}}(P,C,B?Ee=>(0,Z.n)(B,Ee):j.y));return w?se.pipe((0,J.Z)(w)):se}function Ge(T,C,w){T?(0,K.f)(w,T,C):C()}var Ae=M(9646),Qe=M(1135),wt=M(7272),tt=M(9770),Ne=M(9635),Oe=M(2843),Lt=M(6805),Xe=M(515),de=M(4033),Ze=M(7579),Ie=M(6895),he=M(8421),ze=M(4482);function dt(T){return(0,ze.e)((C,w)=>{let se,P=null,B=!1;P=C.subscribe((0,oe.x)(w,void 0,void 0,Ee=>{se=(0,he.Xf)(T(Ee,dt(T)(C))),P?(P.unsubscribe(),P=null,se.subscribe(w)):B=!0})),B&&(P.unsubscribe(),P=null,se.subscribe(w))})}function et(T){return(0,ze.e)((C,w)=>{try{C.subscribe(w)}finally{w.add(T)}})}var Ue=M(4004),pt=M(3900),nt=M(5698),Ft=M(8675),at=M(9300),Ot=M(5577),Et=M(590),lt=M(4351),Pt=M(8505),_n=M(5026),wn=M(3103),pn=M(6590),En=M(2035),bn=M(9718),Wn=M(8343),Ar=M(8189),cr=M(1481);const tn="primary";class Yr{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w[0]:w}return null}getAll(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function $n(T){return new Yr(T)}function Cr(T,C,w){const P=w.path.split("/");if(P.length>T.length||"full"===w.pathMatch&&(C.hasChildren()||P.length<T.length))return null;const B={};for(let se=0;se<P.length;se++){const Ee=P[se],Me=T[se];if(Ee.startsWith(":"))B[Ee.substring(1)]=Me;else if(Ee!==Me.path)return null}return{consumed:T.slice(0,P.length),posParams:B}}function sr(T,C){const w=T?Object.keys(T):void 0,P=C?Object.keys(C):void 0;if(!w||!P||w.length!=P.length)return!1;let B;for(let se=0;se<w.length;se++)if(B=w[se],!nn(T[B],C[B]))return!1;return!0}function nn(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const w=[...T].sort(),P=[...C].sort();return w.every((B,se)=>P[se]===B)}return T===C}function Yn(T){return Array.prototype.concat.apply([],T)}function Fn(T){return T.length>0?T[T.length-1]:null}function xn(T,C){for(const w in T)T.hasOwnProperty(w)&&C(T[w],w)}function br(T){return(0,h.CqO)(T)?T:(0,h.QGY)(T)?(0,fe.D)(Promise.resolve(T)):(0,Ae.of)(T)}const Tr={exact:function Jt(T,C,w){if(!Pe(T.segments,C.segments)||!Mr(T.segments,C.segments,w)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const P in C.children)if(!T.children[P]||!Jt(T.children[P],C.children[P],w))return!1;return!0},subset:Nr},oi={exact:function qt(T,C){return sr(T,C)},subset:function $r(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(w=>nn(T[w],C[w]))},ignored:()=>!0};function kn(T,C,w){return Tr[w.paths](T.root,C.root,w.matrixParams)&&oi[w.queryParams](T.queryParams,C.queryParams)&&!("exact"===w.fragment&&T.fragment!==C.fragment)}function Nr(T,C,w){return Tn(T,C,C.segments,w)}function Tn(T,C,w,P){if(T.segments.length>w.length){const B=T.segments.slice(0,w.length);return!(!Pe(B,w)||C.hasChildren()||!Mr(B,w,P))}if(T.segments.length===w.length){if(!Pe(T.segments,w)||!Mr(T.segments,w,P))return!1;for(const B in C.children)if(!T.children[B]||!Nr(T.children[B],C.children[B],P))return!1;return!0}{const B=w.slice(0,T.segments.length),se=w.slice(T.segments.length);return!!(Pe(T.segments,B)&&Mr(T.segments,B,P)&&T.children[tn])&&Tn(T.children[tn],C,se,P)}}function Mr(T,C,w){return C.every((P,B)=>oi[w](T[B].parameters,P.parameters))}class or{constructor(C,w,P){this.root=C,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return z.serialize(this)}}class Yt{constructor(C,w){this.segments=C,this.children=w,this.parent=null,xn(w,(P,B)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return De(this)}}class jn{constructor(C,w){this.path=C,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return Se(this)}}function Pe(T,C){return T.length===C.length&&T.every((w,P)=>w.path===C[P].path)}class ee{}class L{parse(C){const w=new Fe(C);return new or(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(C){const w=`/${ot(C.root,!0)}`,P=function Bt(T){const C=Object.keys(T).map(w=>{const P=T[w];return Array.isArray(P)?P.map(B=>`${On(w)}=${On(B)}`).join("&"):`${On(w)}=${On(P)}`}).filter(w=>!!w);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${w}${P}${"string"==typeof C.fragment?`#${function gn(T){return encodeURI(T)}(C.fragment)}`:""}`}}const z=new L;function De(T){return T.segments.map(C=>Se(C)).join("/")}function ot(T,C){if(!T.hasChildren())return De(T);if(C){const w=T.children[tn]?ot(T.children[tn],!1):"",P=[];return xn(T.children,(B,se)=>{se!==tn&&P.push(`${se}:${ot(B,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function ke(T,C){let w=[];return xn(T.children,(P,B)=>{B===tn&&(w=w.concat(C(P,B)))}),xn(T.children,(P,B)=>{B!==tn&&(w=w.concat(C(P,B)))}),w}(T,(P,B)=>B===tn?[ot(T.children[tn],!1)]:[`${B}:${ot(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[tn]?`${De(T)}/${w[0]}`:`${De(T)}/(${w.join("//")})`}}function zt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(T){return zt(T).replace(/%3B/gi,";")}function Dn(T){return zt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(T){return decodeURIComponent(T)}function Ce(T){return qe(T.replace(/\+/g,"%20"))}function Se(T){return`${Dn(T.path)}${function It(T){return Object.keys(T).map(C=>`;${Dn(C)}=${Dn(T[C])}`).join("")}(T.parameters)}`}const In=/^[^\/()?;=#]+/;function Mt(T){const C=T.match(In);return C?C[0]:""}const sn=/^[^=?&#]+/,Re=/^[^&#]+/;class Fe{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(C.length>0||Object.keys(w).length>0)&&(P[tn]=new Yt(C,w)),P}parseSegment(){const C=Mt(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(C),new jn(qe(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const w=Mt(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const B=Mt(this.remaining);B&&(P=B,this.capture(P))}C[qe(w)]=qe(P)}parseQueryParam(C){const w=function Le(T){const C=T.match(sn);return C?C[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const Ee=function ve(T){const C=T.match(Re);return C?C[0]:""}(this.remaining);Ee&&(P=Ee,this.capture(P))}const B=Ce(w),se=Ce(P);if(C.hasOwnProperty(B)){let Ee=C[B];Array.isArray(Ee)||(Ee=[Ee],C[B]=Ee),Ee.push(se)}else C[B]=se}parseParens(C){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Mt(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new h.vHH(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):C&&(se=tn);const Ee=this.parseChildren();w[se]=1===Object.keys(Ee).length?Ee[tn]:new Yt([],Ee),this.consumeOptional("//")}return w}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new h.vHH(4011,!1)}}function xt(T){return T.segments.length>0?new Yt([],{[tn]:T}):T}function Xt(T){const C={};for(const P of Object.keys(T.children)){const se=Xt(T.children[P]);(se.segments.length>0||se.hasChildren())&&(C[P]=se)}return function Gn(T){if(1===T.numberOfChildren&&T.children[tn]){const C=T.children[tn];return new Yt(T.segments.concat(C.segments),C.children)}return T}(new Yt(T.segments,C))}function Un(T){return T instanceof or}function zi(T,C,w,P,B){if(0===w.length)return Ai(C.root,C.root,C.root,P,B);const se=function gi(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new di(!0,0,T);let C=0,w=!1;const P=T.reduce((B,se,Ee)=>{if("object"==typeof se&&null!=se){if(se.outlets){const Me={};return xn(se.outlets,(bt,on)=>{Me[on]="string"==typeof bt?bt.split("/"):bt}),[...B,{outlets:Me}]}if(se.segmentPath)return[...B,se.segmentPath]}return"string"!=typeof se?[...B,se]:0===Ee?(se.split("/").forEach((Me,bt)=>{0==bt&&"."===Me||(0==bt&&""===Me?w=!0:".."===Me?C++:""!=Me&&B.push(Me))}),B):[...B,se]},[]);return new di(w,C,P)}(w);return se.toRoot()?Ai(C.root,C.root,new Yt([],{}),P,B):function Ee(bt){const on=function Mi(T,C,w,P){if(T.isAbsolute)return new kr(C.root,!0,0);if(-1===P)return new kr(w,w===C.root,0);return function Vi(T,C,w){let P=T,B=C,se=w;for(;se>B;){if(se-=B,P=P.parent,!P)throw new h.vHH(4005,!1);B=P.segments.length}return new kr(P,!1,B-se)}(w,P+(ri(T.commands[0])?0:1),T.numberOfDoubleDots)}(se,C,T.snapshot?._urlSegment,bt),Mn=on.processChildren?Ri(on.segmentGroup,on.index,se.commands):Ci(on.segmentGroup,on.index,se.commands);return Ai(C.root,on.segmentGroup,Mn,P,B)}(T.snapshot?._lastPathIndex)}function ri(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Wr(T){return"object"==typeof T&&null!=T&&T.outlets}function Ai(T,C,w,P,B){let Ee,se={};P&&xn(P,(bt,on)=>{se[on]=Array.isArray(bt)?bt.map(Mn=>`${Mn}`):`${bt}`}),Ee=T===C?w:ei(T,C,w);const Me=xt(Xt(Ee));return new or(Me,se,B)}function ei(T,C,w){const P={};return xn(T.children,(B,se)=>{P[se]=B===C?w:ei(B,C,w)}),new Yt(T.segments,P)}class di{constructor(C,w,P){if(this.isAbsolute=C,this.numberOfDoubleDots=w,this.commands=P,C&&P.length>0&&ri(P[0]))throw new h.vHH(4003,!1);const B=P.find(Wr);if(B&&B!==Fn(P))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kr{constructor(C,w,P){this.segmentGroup=C,this.processChildren=w,this.index=P}}function Ci(T,C,w){if(T||(T=new Yt([],{})),0===T.segments.length&&T.hasChildren())return Ri(T,C,w);const P=function Ye(T,C,w){let P=0,B=C;const se={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(P>=w.length)return se;const Ee=T.segments[B],Me=w[P];if(Wr(Me))break;const bt=`${Me}`,on=P<w.length-1?w[P+1]:null;if(B>0&&void 0===bt)break;if(bt&&on&&"object"==typeof on&&void 0===on.outlets){if(!$t(bt,on,Ee))return se;P+=2}else{if(!$t(bt,{},Ee))return se;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(T,C,w),B=w.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const se=new Yt(T.segments.slice(0,P.pathIndex),{});return se.children[tn]=new Yt(T.segments.slice(P.pathIndex),T.children),Ri(se,0,B)}return P.match&&0===B.length?new Yt(T.segments,{}):P.match&&!T.hasChildren()?$e(T,C,w):P.match?Ri(T,0,B):$e(T,C,w)}function Ri(T,C,w){if(0===w.length)return new Yt(T.segments,{});{const P=function Os(T){return Wr(T[0])?T[0].outlets:{[tn]:T}}(w),B={};return xn(P,(se,Ee)=>{"string"==typeof se&&(se=[se]),null!==se&&(B[Ee]=Ci(T.children[Ee],C,se))}),xn(T.children,(se,Ee)=>{void 0===P[Ee]&&(B[Ee]=se)}),new Yt(T.segments,B)}}function $e(T,C,w){const P=T.segments.slice(0,C);let B=0;for(;B<w.length;){const se=w[B];if(Wr(se)){const bt=gt(se.outlets);return new Yt(P,bt)}if(0===B&&ri(w[0])){P.push(new jn(T.segments[C].path,St(w[0]))),B++;continue}const Ee=Wr(se)?se.outlets[tn]:`${se}`,Me=B<w.length-1?w[B+1]:null;Ee&&Me&&ri(Me)?(P.push(new jn(Ee,St(Me))),B+=2):(P.push(new jn(Ee,{})),B++)}return new Yt(P,{})}function gt(T){const C={};return xn(T,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(C[P]=$e(new Yt([],{}),0,w))}),C}function St(T){const C={};return xn(T,(w,P)=>C[P]=`${w}`),C}function $t(T,C,w){return T==w.path&&sr(C,w.parameters)}class dn{constructor(C,w){this.id=C,this.url=w}}class _e extends dn{constructor(C,w,P="imperative",B=null){super(C,w),this.type=0,this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ct extends dn{constructor(C,w,P){super(C,w),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class je extends dn{constructor(C,w,P,B){super(C,w),this.reason=P,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ht extends dn{constructor(C,w,P,B){super(C,w),this.error=P,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wt extends dn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn extends dn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends dn{constructor(C,w,P,B,se){super(C,w),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dr extends dn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends dn{constructor(C,w,P,B){super(C,w),this.urlAfterRedirects=P,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hr{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ui{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(C,w,P){this.routerEvent=C,this.position=w,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bs{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const w=this.pathFromRoot(C);return w.length>1?w[w.length-2]:null}children(C){const w=Bo(C,this._root);return w?w.children.map(P=>P.value):[]}firstChild(C){const w=Bo(C,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(C){const w=Ns(C,this._root);return w.length<2?[]:w[w.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Ns(C,this._root).map(w=>w.value)}}function Bo(T,C){if(T===C.value)return C;for(const w of C.children){const P=Bo(T,w);if(P)return P}return null}function Ns(T,C){if(T===C.value)return[C];for(const w of C.children){const P=Ns(T,w);if(P.length)return P.unshift(C),P}return[]}class us{constructor(C,w){this.value=C,this.children=w}toString(){return`TreeNode(${this.value})`}}function xi(T){const C={};return T&&T.children.forEach(w=>C[w.value.outlet]=w),C}class co extends Bs{constructor(C,w){super(C),this.snapshot=w,ys(this,C)}toString(){return this.snapshot.toString()}}function Ho(T,C){const w=function cs(T,C){const Ee=new Hi([],{},{},"",{},tn,C,null,T.root,-1,{});return new Hs("",new us(Ee,[]))}(T,C),P=new Qe.X([new jn("",{})]),B=new Qe.X({}),se=new Qe.X({}),Ee=new Qe.X({}),Me=new Qe.X(""),bt=new ms(P,B,Ee,Me,se,tn,C,w.root);return bt.snapshot=w.root,new co(new us(bt,[]),w)}class ms{constructor(C,w,P,B,se,Ee,Me,bt){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=se,this.outlet=Ee,this.component=Me,this._futureSnapshot=bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(C=>$n(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(C=>$n(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yi(T,C="emptyOnly"){const w=T.pathFromRoot;let P=0;if("always"!==C)for(P=w.length-1;P>=1;){const B=w[P],se=w[P-1];if(B.routeConfig&&""===B.routeConfig.path)P--;else{if(se.component)break;P--}}return function Ki(T){return T.reduce((C,w)=>({params:{...C.params,...w.params},data:{...C.data,...w.data},resolve:{...w.data,...C.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(P))}class Hi{constructor(C,w,P,B,se,Ee,Me,bt,on,Mn,Rn,Qr){this.url=C,this.params=w,this.queryParams=P,this.fragment=B,this.data=se,this.outlet=Ee,this.component=Me,this.routeConfig=bt,this._urlSegment=on,this._lastPathIndex=Mn,this._correctedLastPathIndex=Qr??Mn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends Bs{constructor(C,w){super(w),this.url=C,ys(this,w)}toString(){return _s(this._root)}}function ys(T,C){C.value._routerState=T,C.children.forEach(w=>ys(T,w))}function _s(T){const C=T.children.length>0?` { ${T.children.map(_s).join(", ")} } `:"";return`${T.value}${C}`}function vs(T){if(T.snapshot){const C=T.snapshot,w=T._futureSnapshot;T.snapshot=w,sr(C.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),C.fragment!==w.fragment&&T.fragment.next(w.fragment),sr(C.params,w.params)||T.params.next(w.params),function Jn(T,C){if(T.length!==C.length)return!1;for(let w=0;w<T.length;++w)if(!sr(T[w],C[w]))return!1;return!0}(C.url,w.url)||T.url.next(w.url),sr(C.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Es(T,C){const w=sr(T.params,C.params)&&function Ur(T,C){return Pe(T,C)&&T.every((w,P)=>sr(w.parameters,C[P].parameters))}(T.url,C.url);return w&&!(!T.parent!=!C.parent)&&(!T.parent||Es(T.parent,C.parent))}function Qs(T,C,w){if(w&&T.shouldReuseRoute(C.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=C.value;const B=function Br(T,C,w){return C.children.map(P=>{for(const B of w.children)if(T.shouldReuseRoute(P.value,B.value.snapshot))return Qs(T,P,B);return Qs(T,P)})}(T,C,w);return new us(P,B)}{if(T.shouldAttach(C.value)){const se=T.retrieve(C.value);if(null!==se){const Ee=se.route;return Ee.value._futureSnapshot=C.value,Ee.children=C.children.map(Me=>Qs(T,Me)),Ee}}const P=function ai(T){return new ms(new Qe.X(T.url),new Qe.X(T.params),new Qe.X(T.queryParams),new Qe.X(T.fragment),new Qe.X(T.data),T.outlet,T.component,T)}(C.value),B=C.children.map(se=>Qs(T,se));return new us(P,B)}}const X="ngNavigationCancelingError";function Y(T,C){const{redirectTo:w,navigationBehaviorOptions:P}=Un(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,B=we(!1,0,C);return B.url=w,B.navigationBehaviorOptions=P,B}function we(T,C,w){const P=new Error("NavigationCancelingError: "+(T||""));return P[X]=!0,P.cancellationCode=C,w&&(P.url=w),P}function Ve(T){return ut(T)&&Un(T.url)}function ut(T){return T&&T[X]}class yt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new an,this.attachRef=null}}class an{constructor(){this.contexts=new Map}onChildOutletCreated(C,w){const P=this.getOrCreateContext(C);P.outlet=w,this.contexts.set(C,P)}onChildOutletDestroyed(C){const w=this.getContext(C);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let w=this.getContext(C);return w||(w=new yt,this.contexts.set(C,w)),w}getContext(C){return this.contexts.get(C)||null}}const mn=!1;let yn=(()=>{class T{constructor(w,P,B,se,Ee){this.parentContexts=w,this.location=P,this.changeDetector=se,this.environmentInjector=Ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=B||tn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,mn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,mn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,mn);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new h.vHH(4013,mn);this._activatedRoute=w;const B=this.location,Ee=w._futureSnapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,bt=new Bn(w,Me,B.injector);if(P&&function ar(T){return!!T.resolveComponentFactory}(P)){const on=P.resolveComponentFactory(Ee);this.activated=B.createComponent(on,B.length,bt)}else this.activated=B.createComponent(Ee,{index:B.length,injector:bt,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(an),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},T.\u0275dir=h.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class Bn{constructor(C,w,P){this.route=C,this.childContexts=w,this.parent=P}get(C,w){return C===ms?this.route:C===an?this.childContexts:this.parent.get(C,w)}}let yr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=h.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,P){1&w&&h._UZ(0,"router-outlet")},dependencies:[yn],encapsulation:2}),T})();function ti(T,C){return T.providers&&!T._injector&&(T._injector=(0,h.MMx)(T.providers,C,`Route: ${T.path}`)),T._injector??C}function un(T){const C=T.children&&T.children.map(un),w=C?{...T,children:C}:{...T};return!w.component&&!w.loadComponent&&(C||w.loadChildren)&&w.outlet&&w.outlet!==tn&&(w.component=yr),w}function qn(T){return T.outlet||tn}function Kr(T,C){const w=T.filter(P=>qn(P)===C);return w.push(...T.filter(P=>qn(P)!==C)),w}function Fr(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let C=T.parent;C;C=C.parent){const w=C.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class vi{constructor(C,w,P,B){this.routeReuseStrategy=C,this.futureState=w,this.currState=P,this.forwardEvent=B}activate(C){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,C),vs(this.futureState.root),this.activateChildRoutes(w,P,C)}deactivateChildRoutes(C,w,P){const B=xi(w);C.children.forEach(se=>{const Ee=se.value.outlet;this.deactivateRoutes(se,B[Ee],P),delete B[Ee]}),xn(B,(se,Ee)=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(C,w,P){const B=C.value,se=w?w.value:null;if(B===se)if(B.component){const Ee=P.getContext(B.outlet);Ee&&this.deactivateChildRoutes(C,w,Ee.children)}else this.deactivateChildRoutes(C,w,P);else se&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(C,w){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,w):this.deactivateRouteAndOutlet(C,w)}detachAndStoreRouteSubtree(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,se=xi(C);for(const Ee of Object.keys(se))this.deactivateRouteAndItsChildren(se[Ee],B);if(P&&P.outlet){const Ee=P.outlet.detach(),Me=P.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:Ee,route:C,contexts:Me})}}deactivateRouteAndOutlet(C,w){const P=w.getContext(C.value.outlet),B=P&&C.value.component?P.children:w,se=xi(C);for(const Ee of Object.keys(se))this.deactivateRouteAndItsChildren(se[Ee],B);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(C,w,P){const B=xi(w);C.children.forEach(se=>{this.activateRoutes(se,B[se.value.outlet],P),this.forwardEvent(new Rs(se.value.snapshot))}),C.children.length&&this.forwardEvent(new Ps(C.value.snapshot))}activateRoutes(C,w,P){const B=C.value,se=w?w.value:null;if(vs(B),B===se)if(B.component){const Ee=P.getOrCreateContext(B.outlet);this.activateChildRoutes(C,w,Ee.children)}else this.activateChildRoutes(C,w,P);else if(B.component){const Ee=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Me=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ee.children.onOutletReAttached(Me.contexts),Ee.attachRef=Me.componentRef,Ee.route=Me.route.value,Ee.outlet&&Ee.outlet.attach(Me.componentRef,Me.route.value),vs(Me.route.value),this.activateChildRoutes(C,null,Ee.children)}else{const Me=Fr(B.snapshot),bt=Me?.get(h._Vd)??null;Ee.attachRef=null,Ee.route=B,Ee.resolver=bt,Ee.injector=Me,Ee.outlet&&Ee.outlet.activateWith(B,Ee.injector),this.activateChildRoutes(C,null,Ee.children)}}else this.activateChildRoutes(C,null,P)}}class ii{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class mi{constructor(C,w){this.component=C,this.route=w}}function Vt(T,C,w){const P=T._root;return ds(P,C?C._root:null,w,[P.value])}function $i(T,C,w){return(Fr(C)??w).get(T)}function ds(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const se=xi(C);return T.children.forEach(Ee=>{(function si(T,C,w,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const se=T.value,Ee=C?C.value:null,Me=w?w.getContext(T.value.outlet):null;if(Ee&&se.routeConfig===Ee.routeConfig){const bt=function ho(T,C,w){if("function"==typeof w)return w(T,C);switch(w){case"pathParamsChange":return!Pe(T.url,C.url);case"pathParamsOrQueryParamsChange":return!Pe(T.url,C.url)||!sr(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Es(T,C)||!sr(T.queryParams,C.queryParams);default:return!Es(T,C)}}(Ee,se,se.routeConfig.runGuardsAndResolvers);bt?B.canActivateChecks.push(new ii(P)):(se.data=Ee.data,se._resolvedData=Ee._resolvedData),ds(T,C,se.component?Me?Me.children:null:w,P,B),bt&&Me&&Me.outlet&&Me.outlet.isActivated&&B.canDeactivateChecks.push(new mi(Me.outlet.component,Ee))}else Ee&&nr(C,Me,B),B.canActivateChecks.push(new ii(P)),ds(T,null,se.component?Me?Me.children:null:w,P,B)})(Ee,se[Ee.value.outlet],w,P.concat([Ee.value]),B),delete se[Ee.value.outlet]}),xn(se,(Ee,Me)=>nr(Ee,w.getContext(Me),B)),B}function nr(T,C,w){const P=xi(T),B=T.value;xn(P,(se,Ee)=>{nr(se,B.component?C?C.children.getContext(Ee):null:C,w)}),w.canDeactivateChecks.push(new mi(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}function ns(T){return"function"==typeof T}const ue=Symbol("INITIAL_VALUE");function vt(){return(0,pt.w)(T=>ne(T.map(C=>C.pipe((0,nt.q)(1),(0,Ft.O)(ue)))).pipe((0,Ue.U)(C=>{for(const w of C)if(!0!==w){if(w===ue)return ue;if(!1===w||w instanceof or)return w}return!0}),(0,at.h)(C=>C!==ue),(0,nt.q)(1)))}function sl(T){return(0,Ne.z)((0,Pt.b)(C=>{if(Un(C))throw Y(0,C)}),(0,Ue.U)(C=>!0===C))}const jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hi(T,C,w,P,B){const se=Oi(T,C,w);return se.matched?function Ui(T,C,w,P){const B=C.canMatch;if(!B||0===B.length)return(0,Ae.of)(!0);const se=B.map(Ee=>{const Me=T.get(Ee),bt=function $(T){return T&&ns(T.canMatch)}(Me)?Me.canMatch(C,w):Me(C,w);return br(bt)});return(0,Ae.of)(se).pipe(vt(),sl())}(P=ti(C,P),C,w).pipe((0,Ue.U)(Ee=>!0===Ee?se:{...jo})):(0,Ae.of)(se)}function Oi(T,C,w){if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||w.length>0)?{...jo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const B=(C.matcher||Cr)(w,T,C);if(!B)return{...jo};const se={};xn(B.posParams,(Me,bt)=>{se[bt]=Me.path});const Ee=B.consumed.length>0?{...se,...B.consumed[B.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:B.consumed,remainingSegments:w.slice(B.consumed.length),parameters:Ee,positionalParamSegments:B.posParams??{}}}function Hr(T,C,w,P,B="corrected"){if(w.length>0&&function Va(T,C,w){return w.some(P=>ji(T,C,P)&&qn(P)!==tn)}(T,w,P)){const Ee=new Yt(C,function vl(T,C,w,P){const B={};B[tn]=P,P._sourceSegment=T,P._segmentIndexShift=C.length;for(const se of w)if(""===se.path&&qn(se)!==tn){const Ee=new Yt([],{});Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,B[qn(se)]=Ee}return B}(T,C,P,new Yt(w,T.children)));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:[]}}if(0===w.length&&function Ma(T,C,w){return w.some(P=>ji(T,C,P))}(T,w,P)){const Ee=new Yt(T.segments,function Wo(T,C,w,P,B,se){const Ee={};for(const Me of P)if(ji(T,w,Me)&&!B[qn(Me)]){const bt=new Yt([],{});bt._sourceSegment=T,bt._segmentIndexShift="legacy"===se?T.segments.length:C.length,Ee[qn(Me)]=bt}return{...B,...Ee}}(T,C,w,P,T.children,B));return Ee._sourceSegment=T,Ee._segmentIndexShift=C.length,{segmentGroup:Ee,slicedSegments:w}}const se=new Yt(T.segments,T.children);return se._sourceSegment=T,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:w}}function ji(T,C,w){return(!(T.hasChildren()||C.length>0)||"full"!==w.pathMatch)&&""===w.path}function Ls(T,C,w,P){return!!(qn(T)===P||P!==tn&&ji(C,w,T))&&("**"===T.path||Oi(C,T,w).matched)}function yi(T,C,w){return 0===C.length&&!T.children[w]}const No=!1;class ua{constructor(C){this.segmentGroup=C||null}}class Eo{constructor(C){this.urlTree=C}}function js(T){return(0,Oe._)(new ua(T))}function Ua(T){return(0,Oe._)(new Eo(T))}class Qi{constructor(C,w,P,B,se){this.injector=C,this.configLoader=w,this.urlSerializer=P,this.urlTree=B,this.config=se,this.allowRedirects=!0}apply(){const C=Hr(this.urlTree.root,[],[],this.config).segmentGroup,w=new Yt(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,w,tn).pipe((0,Ue.U)(se=>this.createUrlTree(Xt(se),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dt(se=>{if(se instanceof Eo)return this.allowRedirects=!1,this.match(se.urlTree);throw se instanceof ua?this.noMatchError(se):se}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,tn).pipe((0,Ue.U)(B=>this.createUrlTree(Xt(B),C.queryParams,C.fragment))).pipe(dt(B=>{throw B instanceof ua?this.noMatchError(B):B}))}noMatchError(C){return new h.vHH(4002,No)}createUrlTree(C,w,P){const B=xt(C);return new or(B,w,P)}expandSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(C,w,P).pipe((0,Ue.U)(se=>new Yt([],se))):this.expandSegment(C,P,w,P.segments,B,!0)}expandChildren(C,w,P){const B=[];for(const se of Object.keys(P.children))"primary"===se?B.unshift(se):B.push(se);return(0,fe.D)(B).pipe((0,lt.b)(se=>{const Ee=P.children[se],Me=Kr(w,se);return this.expandSegmentGroup(C,Me,Ee,se).pipe((0,Ue.U)(bt=>({segment:bt,outlet:se})))}),(0,_n.R)((se,Ee)=>(se[Ee.outlet]=Ee.segment,se),{}),(0,wn.Z)())}expandSegment(C,w,P,B,se,Ee){return(0,fe.D)(P).pipe((0,lt.b)(Me=>this.expandSegmentAgainstRoute(C,w,P,Me,B,se,Ee).pipe(dt(on=>{if(on instanceof ua)return(0,Ae.of)(null);throw on}))),(0,Et.P)(Me=>!!Me),dt((Me,bt)=>{if(Me instanceof Lt.K||"EmptyError"===Me.name)return yi(w,B,se)?(0,Ae.of)(new Yt([],{})):js(w);throw Me}))}expandSegmentAgainstRoute(C,w,P,B,se,Ee,Me){return Ls(B,w,se,Ee)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,w,B,se,Ee):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,w,P,B,se,Ee):js(w):js(w)}expandSegmentAgainstRouteUsingRedirect(C,w,P,B,se,Ee){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,P,B,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,se,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,P,B){const se=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ua(se):this.lineralizeSegments(P,se).pipe((0,Ot.z)(Ee=>{const Me=new Yt(Ee,{});return this.expandSegment(C,Me,w,Ee,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,w,P,B,se,Ee){const{matched:Me,consumedSegments:bt,remainingSegments:on,positionalParamSegments:Mn}=Oi(w,B,se);if(!Me)return js(w);const Rn=this.applyRedirectCommands(bt,B.redirectTo,Mn);return B.redirectTo.startsWith("/")?Ua(Rn):this.lineralizeSegments(B,Rn).pipe((0,Ot.z)(Qr=>this.expandSegment(C,w,P,Qr.concat(on),Ee,!1)))}matchSegmentAgainstRoute(C,w,P,B,se){return"**"===P.path?(C=ti(P,C),P.loadChildren?(P._loadedRoutes?(0,Ae.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(C,P)).pipe((0,Ue.U)(Me=>(P._loadedRoutes=Me.routes,P._loadedInjector=Me.injector,new Yt(B,{})))):(0,Ae.of)(new Yt(B,{}))):hi(w,P,B,C).pipe((0,pt.w)(({matched:Ee,consumedSegments:Me,remainingSegments:bt})=>Ee?this.getChildConfig(C=P._injector??C,P,B).pipe((0,Ot.z)(Mn=>{const Rn=Mn.injector??C,Qr=Mn.routes,{segmentGroup:ss,slicedSegments:oo}=Hr(w,Me,bt,Qr),Qo=new Yt(ss.segments,ss.children);if(0===oo.length&&Qo.hasChildren())return this.expandChildren(Rn,Qr,Qo).pipe((0,Ue.U)(ya=>new Yt(Me,ya)));if(0===Qr.length&&0===oo.length)return(0,Ae.of)(new Yt(Me,{}));const os=qn(P)===se;return this.expandSegment(Rn,Qo,Qr,oo,os?tn:se,!0).pipe((0,Ue.U)(Ks=>new Yt(Me.concat(Ks.segments),Ks.children)))})):js(w)))}getChildConfig(C,w,P){return w.children?(0,Ae.of)({routes:w.children,injector:C}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function $o(T,C,w,P){const B=C.canLoad;if(void 0===B||0===B.length)return(0,Ae.of)(!0);const se=B.map(Ee=>{const Me=T.get(Ee),bt=function Di(T){return T&&ns(T.canLoad)}(Me)?Me.canLoad(C,w):Me(C,w);return br(bt)});return(0,Ae.of)(se).pipe(vt(),sl())}(C,w,P).pipe((0,Ot.z)(B=>B?this.configLoader.loadChildren(C,w).pipe((0,Pt.b)(se=>{w._loadedRoutes=se.routes,w._loadedInjector=se.injector})):function El(T){return(0,Oe._)(we(No,3))}())):(0,Ae.of)({routes:[],injector:C})}lineralizeSegments(C,w){let P=[],B=w.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,Ae.of)(P);if(B.numberOfChildren>1||!B.children[tn])return(0,Oe._)(new h.vHH(4e3,No));B=B.children[tn]}}applyRedirectCommands(C,w,P){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),C,P)}applyRedirectCreateUrlTree(C,w,P,B){const se=this.createSegmentGroup(C,w.root,P,B);return new or(se,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(C,w){const P={};return xn(C,(B,se)=>{if("string"==typeof B&&B.startsWith(":")){const Me=B.substring(1);P[se]=w[Me]}else P[se]=B}),P}createSegmentGroup(C,w,P,B){const se=this.createSegments(C,w.segments,P,B);let Ee={};return xn(w.children,(Me,bt)=>{Ee[bt]=this.createSegmentGroup(C,Me,P,B)}),new Yt(se,Ee)}createSegments(C,w,P,B){return w.map(se=>se.path.startsWith(":")?this.findPosParam(C,se,B):this.findOrReturn(se,P))}findPosParam(C,w,P){const B=P[w.path.substring(1)];if(!B)throw new h.vHH(4001,No);return B}findOrReturn(C,w){let P=0;for(const B of w){if(B.path===C.path)return w.splice(P),B;P++}return C}}class Go{}class bo{constructor(C,w,P,B,se,Ee,Me,bt){this.injector=C,this.rootComponentType=w,this.config=P,this.urlTree=B,this.url=se,this.paramsInheritanceStrategy=Ee,this.relativeLinkResolution=Me,this.urlSerializer=bt}recognize(){const C=Hr(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,tn).pipe((0,Ue.U)(w=>{if(null===w)return null;const P=new Hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new us(P,w),se=new Hs(this.url,B);return this.inheritParamsAndData(se._root),se}))}inheritParamsAndData(C){const w=C.value,P=Yi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,w,P,B){return 0===P.segments.length&&P.hasChildren()?this.processChildren(C,w,P):this.processSegment(C,w,P,P.segments,B)}processChildren(C,w,P){return(0,fe.D)(Object.keys(P.children)).pipe((0,lt.b)(B=>{const se=P.children[B],Ee=Kr(w,B);return this.processSegmentGroup(C,Ee,se,B)}),(0,_n.R)((B,se)=>B&&se?(B.push(...se),B):null),function Be(T,C=!1){return(0,ze.e)((w,P)=>{let B=0;w.subscribe((0,oe.x)(P,se=>{const Ee=T(se,B++);(Ee||C)&&P.next(se),!Ee&&P.complete()}))})}(B=>null!==B),(0,pn.d)(null),(0,wn.Z)(),(0,Ue.U)(B=>{if(null===B)return null;const se=kl(B);return function Ha(T){T.sort((C,w)=>C.value.outlet===tn?-1:w.value.outlet===tn?1:C.value.outlet.localeCompare(w.value.outlet))}(se),se}))}processSegment(C,w,P,B,se){return(0,fe.D)(w).pipe((0,lt.b)(Ee=>this.processSegmentAgainstRoute(Ee._injector??C,Ee,P,B,se)),(0,Et.P)(Ee=>!!Ee),dt(Ee=>{if(Ee instanceof Lt.K)return yi(P,B,se)?(0,Ae.of)([]):(0,Ae.of)(null);throw Ee}))}processSegmentAgainstRoute(C,w,P,B,se){if(w.redirectTo||!Ls(w,P,B,se))return(0,Ae.of)(null);let Ee;if("**"===w.path){const Me=B.length>0?Fn(B).parameters:{},bt=Lo(P)+B.length,on=new Hi(B,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fo(w),qn(w),w.component??w._loadedComponent??null,w,Ws(P),bt,Gs(w),bt);Ee=(0,Ae.of)({snapshot:on,consumedSegments:[],remainingSegments:[]})}else Ee=hi(P,w,B,C).pipe((0,Ue.U)(({matched:Me,consumedSegments:bt,remainingSegments:on,parameters:Mn})=>{if(!Me)return null;const Rn=Lo(P)+bt.length;return{snapshot:new Hi(bt,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fo(w),qn(w),w.component??w._loadedComponent??null,w,Ws(P),Rn,Gs(w),Rn),consumedSegments:bt,remainingSegments:on}}));return Ee.pipe((0,pt.w)(Me=>{if(null===Me)return(0,Ae.of)(null);const{snapshot:bt,consumedSegments:on,remainingSegments:Mn}=Me;C=w._injector??C;const Rn=w._loadedInjector??C,Qr=function da(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:ss,slicedSegments:oo}=Hr(P,on,Mn,Qr.filter(os=>void 0===os.redirectTo),this.relativeLinkResolution);if(0===oo.length&&ss.hasChildren())return this.processChildren(Rn,Qr,ss).pipe((0,Ue.U)(os=>null===os?null:[new us(bt,os)]));if(0===Qr.length&&0===oo.length)return(0,Ae.of)([new us(bt,[])]);const Qo=qn(w)===se;return this.processSegment(Rn,Qr,ss,oo,Qo?tn:se).pipe((0,Ue.U)(os=>null===os?null:[new us(bt,os)]))}))}}function bi(T){const C=T.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function kl(T){const C=[],w=new Set;for(const P of T){if(!bi(P)){C.push(P);continue}const B=C.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==B?(B.children.push(...P.children),w.add(B)):C.push(P)}for(const P of w){const B=kl(P.children);C.push(new us(P.value,B))}return C.filter(P=>!w.has(P))}function Ws(T){let C=T;for(;C._sourceSegment;)C=C._sourceSegment;return C}function Lo(T){let C=T,w=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,w+=C._segmentIndexShift??0;return w-1}function fo(T){return T.data||{}}function Gs(T){return T.resolve||{}}const al=Symbol("RouteTitle");function Xn(T){return"string"==typeof T.title||null===T.title}function wl(T){return(0,pt.w)(C=>{const w=T(C);return w?(0,fe.D)(w).pipe((0,Ue.U)(()=>C)):(0,Ae.of)(C)})}class Nt extends class At{shouldDetach(C){return!1}store(C,w){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,w){return C.routeConfig===w.routeConfig}}{}const zo=new h.OlP("ROUTES");let Ko=(()=>{class T{constructor(w,P){this.injector=w,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const P=br(w.loadComponent()).pipe((0,Pt.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=se}),et(()=>{this.componentLoaders.delete(w)})),B=new de.c(P,()=>new Ze.x).pipe((0,Wn.x)());return this.componentLoaders.set(w,B),B}loadChildren(w,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Ae.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Ue.U)(Me=>{this.onLoadEndListener&&this.onLoadEndListener(P);let bt,on,Mn=!1;Array.isArray(Me)?on=Me:(bt=Me.create(w).injector,on=Yn(bt.get(zo,[],h.XFs.Self|h.XFs.Optional)));return{routes:on.map(un),injector:bt}}),et(()=>{this.childrenLoaders.delete(P)})),Ee=new de.c(se,()=>new Ze.x).pipe((0,Wn.x)());return this.childrenLoaders.set(P,Ee),Ee}loadModuleFactoryOrRoutes(w){return br(w()).pipe((0,Ot.z)(P=>P instanceof h.YKP||Array.isArray(P)?(0,Ae.of)(P):(0,fe.D)(this.compiler.compileModuleAsync(P))))}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(h.zs3),h.LFG(h.Sil))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();class fa{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,w){return C}}function Zo(T){throw T}function ll(T,C,w){return C.parse("/")}const ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class T{constructor(w,P,B,se,Ee,Me,bt){this.rootComponentType=w,this.urlSerializer=P,this.rootContexts=B,this.location=se,this.config=bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ze.x,this.errorHandler=Zo,this.malformedUriErrorHandler=ll,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.urlHandlingStrategy=new fa,this.routeReuseStrategy=new Nt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ee.get(Ko),this.configLoader.onLoadEndListener=Qr=>this.triggerEvent(new hr(Qr)),this.configLoader.onLoadStartListener=Qr=>this.triggerEvent(new Ti(Qr)),this.ngModule=Ee.get(h.h0i),this.console=Ee.get(h.c2e);const Rn=Ee.get(h.R0b);this.isNgZoneEnabled=Rn instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(bt),this.currentUrlTree=function Zn(){return new or(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(w){const P=this.events;return w.pipe((0,at.h)(B=>0!==B.id),(0,Ue.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,pt.w)(B=>{let se=!1,Ee=!1;return(0,Ae.of)(B).pipe((0,Pt.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.rawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(Me=>{const bt=this.browserUrlTree.toString(),on=!this.navigated||Me.extractedUrl.toString()!==bt||bt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||on)&&this.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return Ir(Me.source)&&(this.browserUrlTree=Me.extractedUrl),(0,Ae.of)(Me).pipe((0,pt.w)(Rn=>{const Qr=this.transitions.getValue();return P.next(new _e(Rn.id,this.serializeUrl(Rn.extractedUrl),Rn.source,Rn.restoredState)),Qr!==this.transitions.getValue()?Xe.E:Promise.resolve(Rn)}),function bl(T,C,w,P){return(0,pt.w)(B=>function Ba(T,C,w,P,B){return new Qi(T,C,w,P,B).apply()}(T,C,w,B.extractedUrl,P).pipe((0,Ue.U)(se=>({...B,urlAfterRedirects:se}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pt.b)(Rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Rn.urlAfterRedirects},B.urlAfterRedirects=Rn.urlAfterRedirects}),function xa(T,C,w,P,B,se){return(0,Ot.z)(Ee=>function ko(T,C,w,P,B,se,Ee="emptyOnly",Me="legacy"){return new bo(T,C,w,P,B,Ee,Me,se).recognize().pipe((0,pt.w)(bt=>null===bt?function ca(T){return new u.y(C=>C.error(T))}(new Go):(0,Ae.of)(bt)))}(T,C,w,Ee.urlAfterRedirects,P.serialize(Ee.urlAfterRedirects),P,B,se).pipe((0,Ue.U)(Me=>({...Ee,targetSnapshot:Me}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pt.b)(Rn=>{if(B.targetSnapshot=Rn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Rn.extras.skipLocationChange){const ss=this.urlHandlingStrategy.merge(Rn.urlAfterRedirects,Rn.rawUrl);this.setBrowserUrl(ss,Rn)}this.browserUrlTree=Rn.urlAfterRedirects}const Qr=new Wt(Rn.id,this.serializeUrl(Rn.extractedUrl),this.serializeUrl(Rn.urlAfterRedirects),Rn.targetSnapshot);P.next(Qr)}));if(on&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Qr,extractedUrl:ss,source:oo,restoredState:Qo,extras:os}=Me,Jo=new _e(Qr,this.serializeUrl(ss),oo,Qo);P.next(Jo);const Ks=Ho(ss,this.rootComponentType).snapshot;return B={...Me,targetSnapshot:Ks,urlAfterRedirects:ss,extras:{...os,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(B)}return this.rawUrlTree=Me.rawUrl,Me.resolve(null),Xe.E}),(0,Pt.b)(Me=>{const bt=new rn(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);this.triggerEvent(bt)}),(0,Ue.U)(Me=>B={...Me,guards:Vt(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)}),function hn(T,C){return(0,Ot.z)(w=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:se,canDeactivateChecks:Ee}}=w;return 0===Ee.length&&0===se.length?(0,Ae.of)({...w,guardsResult:!0}):function Ei(T,C,w,P){return(0,fe.D)(T).pipe((0,Ot.z)(B=>function il(T,C,w,P,B){const se=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,Ae.of)(!0);const Ee=se.map(Me=>{const bt=$i(Me,C,B);return br(function Aa(T){return T&&ns(T.canDeactivate)}(bt)?bt.canDeactivate(T,C,w,P):bt(T,C,w,P)).pipe((0,Et.P)())});return(0,Ae.of)(Ee).pipe(vt())}(B.component,B.route,w,C,P)),(0,Et.P)(B=>!0!==B,!0))}(Ee,P,B,T).pipe((0,Ot.z)(Me=>Me&&function vo(T){return"boolean"==typeof T}(Me)?function Ni(T,C,w,P){return(0,fe.D)(C).pipe((0,lt.b)(B=>(0,wt.z)(function ro(T,C){return null!==T&&C&&C(new ui(T)),(0,Ae.of)(!0)}(B.route.parent,P),function Js(T,C){return null!==T&&C&&C(new Ts(T)),(0,Ae.of)(!0)}(B.route,P),function ks(T,C,w){const P=C[C.length-1],se=C.slice(0,C.length-1).reverse().map(Ee=>function lr(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>(0,tt.P)(()=>{const Me=Ee.guards.map(bt=>{const on=$i(bt,Ee.node,w);return br(function Fa(T){return T&&ns(T.canActivateChild)}(on)?on.canActivateChild(P,T):on(P,T)).pipe((0,Et.P)())});return(0,Ae.of)(Me).pipe(vt())}));return(0,Ae.of)(se).pipe(vt())}(T,B.path,w),function io(T,C,w){const P=C.routeConfig?C.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ae.of)(!0);const B=P.map(se=>(0,tt.P)(()=>{const Ee=$i(se,C,w);return br(function la(T){return T&&ns(T.canActivate)}(Ee)?Ee.canActivate(C,T):Ee(C,T)).pipe((0,Et.P)())}));return(0,Ae.of)(B).pipe(vt())}(T,B.route,w))),(0,Et.P)(B=>!0!==B,!0))}(P,se,T,C):(0,Ae.of)(Me)),(0,Ue.U)(Me=>({...w,guardsResult:Me})))})}(this.ngModule.injector,Me=>this.triggerEvent(Me)),(0,Pt.b)(Me=>{if(B.guardsResult=Me.guardsResult,Un(Me.guardsResult))throw Y(0,Me.guardsResult);const bt=new rr(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.triggerEvent(bt)}),(0,at.h)(Me=>!!Me.guardsResult||(this.restoreHistory(Me),this.cancelNavigationTransition(Me,"",3),!1)),wl(Me=>{if(Me.guards.canActivateChecks.length)return(0,Ae.of)(Me).pipe((0,Pt.b)(bt=>{const on=new Dr(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);this.triggerEvent(on)}),(0,pt.w)(bt=>{let on=!1;return(0,Ae.of)(bt).pipe(function Kt(T,C){return(0,Ot.z)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=w;if(!B.length)return(0,Ae.of)(w);let se=0;return(0,fe.D)(B).pipe((0,lt.b)(Ee=>function ki(T,C,w,P){const B=T.routeConfig,se=T._resolve;return void 0!==B?.title&&!Xn(B)&&(se[al]=B.title),function hs(T,C,w,P){const B=function Fs(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,Ae.of)({});const se={};return(0,fe.D)(B).pipe((0,Ot.z)(Ee=>function Pn(T,C,w,P){const B=$i(T,C,P);return br(B.resolve?B.resolve(C,w):B(C,w))}(T[Ee],C,w,P).pipe((0,Et.P)(),(0,Pt.b)(Me=>{se[Ee]=Me}))),(0,En.h)(1),(0,bn.h)(se),dt(Ee=>Ee instanceof Lt.K?Xe.E:(0,Oe._)(Ee)))}(se,T,C,P).pipe((0,Ue.U)(Ee=>(T._resolvedData=Ee,T.data=Yi(T,w).resolve,B&&Xn(B)&&(T.data[al]=B.title),null)))}(Ee.route,P,T,C)),(0,Pt.b)(()=>se++),(0,En.h)(1),(0,Ot.z)(Ee=>se===B.length?(0,Ae.of)(w):Xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pt.b)({next:()=>on=!0,complete:()=>{on||(this.restoreHistory(bt),this.cancelNavigationTransition(bt,"",2))}}))}),(0,Pt.b)(bt=>{const on=new mr(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);this.triggerEvent(on)}))}),wl(Me=>{const bt=on=>{const Mn=[];on.routeConfig?.loadComponent&&!on.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(on.routeConfig).pipe((0,Pt.b)(Rn=>{on.component=Rn}),(0,Ue.U)(()=>{})));for(const Rn of on.children)Mn.push(...bt(Rn));return Mn};return ne(bt(Me.targetSnapshot.root)).pipe((0,pn.d)(),(0,nt.q)(1))}),wl(()=>this.afterPreactivation()),(0,Ue.U)(Me=>{const bt=function $s(T,C,w){const P=Qs(T,C._root,w?w._root:void 0);return new co(P,C)}(this.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return B={...Me,targetRouterState:bt}}),(0,Pt.b)(Me=>{this.currentUrlTree=Me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl),this.routerState=Me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Me),this.browserUrlTree=Me.urlAfterRedirects)}),((T,C,w)=>(0,Ue.U)(P=>(new vi(C,P.targetRouterState,P.currentRouterState,w).activate(T),P)))(this.rootContexts,this.routeReuseStrategy,Me=>this.triggerEvent(Me)),(0,Pt.b)({next(){se=!0},complete(){se=!0}}),et(()=>{se||Ee||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),dt(Me=>{if(Ee=!0,ut(Me)){Ve(Me)||(this.navigated=!0,this.restoreHistory(B,!0));const bt=new je(B.id,this.serializeUrl(B.extractedUrl),Me.message,Me.cancellationCode);if(P.next(bt),Ve(Me)){const on=this.urlHandlingStrategy.merge(Me.url,this.rawUrlTree),Mn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ir(B.source)};this.scheduleNavigation(on,"imperative",null,Mn,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{this.restoreHistory(B,!0);const bt=new ht(B.id,this.serializeUrl(B.extractedUrl),Me,B.targetSnapshot??void 0);P.next(bt);try{B.resolve(this.errorHandler(Me))}catch(on){B.reject(on)}}return Xe.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next({...this.transitions.value,...w})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{const B={replaceUrl:!0},se=w.state?.navigationId?w.state:null;if(se){const Me={...se};delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(B.state=Me)}const Ee=this.parseUrl(w.url);this.scheduleNavigation(Ee,P,se,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){this.config=w.map(un),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:B,queryParams:se,fragment:Ee,queryParamsHandling:Me,preserveFragment:bt}=P,on=B||this.routerState.root,Mn=bt?this.currentUrlTree.fragment:Ee;let Rn=null;switch(Me){case"merge":Rn={...this.currentUrlTree.queryParams,...se};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=se||null}return null!==Rn&&(Rn=this.removeEmptyProps(Rn)),zi(on,this.currentUrlTree,w,Rn,Mn??null)}navigateByUrl(w,P={skipLocationChange:!1}){const B=Un(w)?w:this.parseUrl(w),se=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(se,"imperative",null,P)}navigate(w,P={skipLocationChange:!1}){return function qo(T){for(let C=0;C<T.length;C++){if(null==T[C])throw new h.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch(B){P=this.malformedUriErrorHandler(B,this.urlSerializer,w)}return P}isActive(w,P){let B;if(B=!0===P?{...ja}:!1===P?{...Oa}:P,Un(w))return kn(this.currentUrlTree,w,B);const se=this.parseUrl(w);return kn(this.currentUrlTree,se,B)}removeEmptyProps(w){return Object.keys(w).reduce((P,B)=>{const se=w[B];return null!=se&&(P[B]=se),P},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new ct(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,P,B,se,Ee){if(this.disposed)return Promise.resolve(!1);let Me,bt,on;Ee?(Me=Ee.resolve,bt=Ee.reject,on=Ee.promise):on=new Promise((Qr,ss)=>{Me=Qr,bt=ss});const Mn=++this.navigationId;let Rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Rn=B&&B.\u0275routerPageId?B.\u0275routerPageId:se.replaceUrl||se.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Rn=0,this.setTransition({id:Mn,targetPageId:Rn,source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:se,resolve:Me,reject:bt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(Qr=>Promise.reject(Qr))}setBrowserUrl(w,P){const B=this.urlSerializer.serialize(w),se={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl?this.location.replaceState(B,"",se):this.location.go(B,"",se)}restoreHistory(w,P=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,P,B){const se=new je(w.id,this.serializeUrl(w.extractedUrl),P,B);this.triggerEvent(se),w.resolve(!1)}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return T.\u0275fac=function(w){h.$Z()},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();function Ir(T){return"imperative"!==T}let Ds=(()=>{class T{constructor(w,P,B,se,Ee){this.router=w,this.route=P,this.tabIndexAttribute=B,this.renderer=se,this.el=Ee,this.commands=null,this.onChanges=new Ze.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const P=this.renderer,B=this.el.nativeElement;null!==w?P.setAttribute(B,"tabindex",w):P.removeAttribute(B,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:(0,h.D6c)(this.skipLocationChange),replaceUrl:(0,h.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,h.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Bi),h.Y36(ms),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},T.\u0275dir=h.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,P){1&w&&h.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),T})(),wo=(()=>{class T{constructor(w,P,B){this.router=w,this.route=P,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new Ze.x,this.subscription=w.events.subscribe(se=>{se instanceof ct&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,P,B,se,Ee){if(0!==w||P||B||se||Ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Me={skipLocationChange:(0,h.D6c)(this.skipLocationChange),replaceUrl:(0,h.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Me),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,h.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Bi),h.Y36(ms),h.Y36(Ie.S$))},T.\u0275dir=h.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,P){1&w&&h.NdJ("click",function(se){return P.onClick(se.button,se.ctrlKey,se.shiftKey,se.altKey,se.metaKey)}),2&w&&h.uIk("target",P.target)("href",P.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),T})(),fi=(()=>{class T{constructor(w,P,B,se,Ee,Me){this.router=w,this.element=P,this.renderer=B,this.cdr=se,this.link=Ee,this.linkWithHref=Me,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=w.events.subscribe(bt=>{bt instanceof ct&&this.update()})}ngAfterContentInit(){(0,Ae.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ae.of)(null)).pipe((0,Ar.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,fe.D)(w).pipe((0,Ar.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(w){const P=Array.isArray(w)?w:w.split(" ");this.classes=P.filter(B=>!!B)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(P=>{w?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const P=function er(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&w.isActive(B.urlTree,P)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return T.\u0275fac=function(w){return new(w||T)(h.Y36(Bi),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Ds,8),h.Y36(wo,8))},T.\u0275dir=h.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(w,P,B){if(1&w&&(h.Suo(B,Ds,5),h.Suo(B,wo,5)),2&w){let se;h.iGM(se=h.CRH())&&(P.links=se),h.iGM(se=h.CRH())&&(P.linksWithHrefs=se)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.TTD]}),T})(),xr=(()=>{class T{buildTitle(w){let P,B=w.root;for(;void 0!==B;)P=this.getResolvedTitleForRoute(B)??P,B=B.children.find(se=>se.outlet===tn);return P}getResolvedTitleForRoute(w){return w.data[al]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=h.Yz7({token:T,factory:function(){return(0,h.f3M)(fr)},providedIn:"root"}),T})(),fr=(()=>{class T extends xr{constructor(w){super(),this.title=w}updateTitle(w){const P=this.buildTitle(w);void 0!==P&&this.title.setTitle(P)}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(cr.Dx))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class rs{}let Yo=(()=>{class T{constructor(w,P,B,se,Ee){this.router=w,this.injector=B,this.preloadingStrategy=se,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(w=>w instanceof ct),(0,lt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const B=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,h.MMx)(se.providers,w,`Route: ${se.path}`));const Ee=se._injector??w,Me=se._loadedInjector??Ee;se.loadChildren&&!se._loadedRoutes||se.loadComponent&&!se._loadedComponent?B.push(this.preloadConfig(Ee,se)):(se.children||se._loadedRoutes)&&B.push(this.processRoutes(Me,se.children??se._loadedRoutes))}return(0,fe.D)(B).pipe((0,Ar.J)())}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>{let B;B=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(w,P):(0,Ae.of)(null);const se=B.pipe((0,Ot.z)(Ee=>null===Ee?(0,Ae.of)(void 0):(P._loadedRoutes=Ee.routes,P._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??w,Ee.routes))));if(P.loadComponent&&!P._loadedComponent){const Ee=this.loader.loadComponent(P);return(0,fe.D)([se,Ee]).pipe((0,Ar.J)())}return se})}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(Bi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(rs),h.LFG(Ko))},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();const Wa=new h.OlP("");let po=(()=>{class T{constructor(w,P,B={}){this.router=w,this.viewportScroller=P,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ct&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Us&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.router.triggerEvent(new Us(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(w){h.$Z()},T.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac}),T})();const Io=new h.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Pa=new h.OlP("ROUTER_FORROOT_GUARD"),Ji=new h.OlP(""),Co=[Ie.Ye,{provide:ee,useClass:L},{provide:Bi,useFactory:function pu(T,C,w,P,B,se,Ee,Me={},bt,on){const Mn=new Bi(null,T,C,w,P,B,Yn(se));return bt&&(Mn.urlHandlingStrategy=bt),on&&(Mn.routeReuseStrategy=on),Mn.titleStrategy=Ee,function ul(T,C){T.errorHandler&&(C.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(C.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(C.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(C.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(C.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(C.canceledNavigationResolution=T.canceledNavigationResolution)}(Me,Mn),Mn},deps:[ee,an,Ie.Ye,h.zs3,h.Sil,zo,xr,Io,[class ha{},new h.FiY],[class fn{},new h.FiY]]},an,{provide:ms,useFactory:function Fo(T){return T.routerState.root},deps:[Bi]},Ko];function Ll(){return new h.PXZ("Router",Bi)}let Xs=(()=>{class T{constructor(w,P){}static forRoot(w,P){return{ngModule:T,providers:[Co,[],To(w),{provide:Pa,useFactory:Ga,deps:[[Bi,new h.FiY,new h.tp0]]},{provide:Io,useValue:P||{}},P?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:Wa,useFactory:()=>{const T=(0,h.f3M)(Bi),C=(0,h.f3M)(Ie.EM),w=(0,h.f3M)(Io);return w.scrollOffset&&C.setOffset(w.scrollOffset),new po(T,C,w)}},P?.preloadingStrategy?so(P.preloadingStrategy):[],{provide:h.PXZ,multi:!0,useFactory:Ll},P?.initialNavigation?gu(P):[],[{provide:ga,useFactory:cl},{provide:h.tb,multi:!0,useExisting:ga}]]}}static forChild(w){return{ngModule:T,providers:[To(w)]}}}return T.\u0275fac=function(w){return new(w||T)(h.LFG(Pa,8),h.LFG(Bi,8))},T.\u0275mod=h.oAB({type:T}),T.\u0275inj=h.cJS({}),T})();function Ga(T){return"guarded"}function To(T){return[{provide:h.deG,multi:!0,useValue:T},{provide:zo,multi:!0,useValue:T}]}function cl(){const T=(0,h.f3M)(h.zs3);return C=>{const w=T.get(h.z2F);if(C!==w.components[0])return;const P=T.get(Bi),B=T.get(Il);null===T.get(zs,null,h.XFs.Optional)&&P.initialNavigation(),T.get(Ji,null,h.XFs.Optional)?.setUpPreloading(),T.get(Wa,null,h.XFs.Optional)?.init(),P.resetRootComponentType(w.componentTypes[0]),B.next(),B.complete()}}const ga=new h.OlP("");function gu(T){return["disabled"===T.initialNavigation?[{provide:h.ip1,multi:!0,useFactory:()=>{const T=(0,h.f3M)(Bi);return()=>{T.setUpLocationChangeListener()}}},{provide:zs,useValue:"disabled"}]:[],"enabledBlocking"===T.initialNavigation?[{provide:zs,useValue:"enabledBlocking"},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:T=>{const C=T.get(Ie.V_,Promise.resolve(null));let w=!1;return()=>C.then(()=>new Promise(B=>{const se=T.get(Bi),Ee=T.get(Il);(function P(B){T.get(Bi).events.pipe((0,at.h)(Ee=>Ee instanceof ct||Ee instanceof je||Ee instanceof ht),(0,Ue.U)(Ee=>Ee instanceof ct||Ee instanceof je&&(0===Ee.code||1===Ee.code)&&null),(0,at.h)(Ee=>null!==Ee),(0,nt.q)(1)).subscribe(()=>{B()})})(()=>{B(!0),w=!0}),se.afterPreactivation=()=>(B(!0),w||Ee.closed?(0,Ae.of)(void 0):Ee),se.initialNavigation()}))}}]:[]]}const Il=new h.OlP("",{factory:()=>new Ze.x}),zs=new h.OlP("");function so(T){return[Yo,{provide:Ji,useExisting:Yo},{provide:rs,useExisting:T}]}},3942:(jt,Ke,M)=>{M.d(Ke,{Z:()=>Qe});var h=M(2090),u=M(4859),k=M(9681),fe=M(1877);class j{constructor(tt,Ne){this._delegate=tt,this.firebase=Ne,(0,k._addComponent)(tt,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(tt,Ne=k._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Lt=this._delegate.container.getProvider(tt);return!Lt.isInitialized()&&"EXPLICIT"===(null===(Oe=Lt.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Lt.initialize(),Lt.getImmediate({identifier:Ne})}_removeServiceInstance(tt,Ne=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Ne)}_addComponent(tt){(0,k._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,k._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function oe(){const wt=function Z(wt){const tt={},Ne={__esModule:!0,initializeApp:function Xe(he,ze={}){const dt=k.initializeApp(he,ze);if((0,h.r3)(tt,dt.name))return tt[dt.name];const Be=new wt(dt,Ne);return tt[dt.name]=Be,Be},app:Lt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ze(he){const ze=he.name,dt=ze.replace("-compat","");if(k._registerComponent(he)&&"PUBLIC"===he.type){const Be=(et=Lt())=>{if("function"!=typeof et[dt])throw te.create("invalid-app-argument",{appName:ze});return et[dt]()};void 0!==he.serviceProps&&(0,h.ZB)(Be,he.serviceProps),Ne[dt]=Be,wt.prototype[dt]=function(...et){return this._getService.bind(this,ze).apply(this,he.multipleInstances?et:[])}}return"PUBLIC"===he.type?Ne[dt]:null},removeApp:function Oe(he){delete tt[he]},useAsService:function Ie(he,ze){return"serverAuth"===ze?null:ze},modularAPIs:k}};function Lt(he){if(!(0,h.r3)(tt,he=he||k._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:he});return tt[he]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function de(){return Object.keys(tt).map(he=>tt[he])}}),Lt.App=wt,Ne}(j);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function tt(Ne){(0,h.ZB)(wt,Ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),wt}(),ne=new fe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const wt=self.firebase.SDK_VERSION;wt&&wt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=K;!function Ae(wt){(0,k.registerVersion)("@firebase/app-compat","0.1.30",wt)}()},9681:(jt,Ke,M)=>{M.r(Ke),M.d(Ke,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>Et,_addComponent:()=>wn,_addOrOverwriteComponent:()=>pn,_apps:()=>Pt,_clearComponents:()=>Ar,_components:()=>_n,_getProvider:()=>bn,_registerComponent:()=>En,_removeServiceInstance:()=>Wn,deleteApp:()=>nn,getApp:()=>Jn,getApps:()=>sr,initializeApp:()=>Cr,onLog:()=>vn,registerVersion:()=>Fn,setLogLevel:()=>xn});var h=M(5861),u=M(4859),k=M(1877),fe=M(2090),j=M(8766);class J{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function te(ee){return"VERSION"===ee.getComponent()?.type}(z)){const De=z.getImmediate();return`${De.library}/${De.version}`}return null}).filter(z=>z).join(" ")}}const Z="@firebase/app",K=new k.Yd("@firebase/app"),Et="[DEFAULT]",lt={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,_n=new Map;function wn(ee,L){try{ee.container.addComponent(L)}catch(z){K.debug(`Component ${L.name} failed to register with FirebaseApp ${ee.name}`,z)}}function pn(ee,L){ee.container.addOrOverwriteComponent(L)}function En(ee){const L=ee.name;if(_n.has(L))return K.debug(`There were multiple attempts to register component ${L}.`),!1;_n.set(L,ee);for(const z of Pt.values())wn(z,ee);return!0}function bn(ee,L){const z=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),ee.container.getProvider(L)}function Wn(ee,L,z=Et){bn(ee,L).clearInstance(z)}function Ar(){_n.clear()}const tn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Yr{constructor(L,z,De){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const $n="9.9.1";function Cr(ee,L={}){"object"!=typeof L&&(L={name:L});const z=Object.assign({name:Et,automaticDataCollectionEnabled:!1},L),De=z.name;if("string"!=typeof De||!De)throw tn.create("bad-app-name",{appName:String(De)});const ot=Pt.get(De);if(ot){if((0,fe.vZ)(ee,ot.options)&&(0,fe.vZ)(z,ot.config))return ot;throw tn.create("duplicate-app",{appName:De})}const zt=new u.H0(De);for(const gn of _n.values())zt.addComponent(gn);const On=new Yr(ee,z,zt);return Pt.set(De,On),On}function Jn(ee=Et){const L=Pt.get(ee);if(!L)throw tn.create("no-app",{appName:ee});return L}function sr(){return Array.from(Pt.values())}function nn(ee){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(ee){const L=ee.name;Pt.has(L)&&(Pt.delete(L),yield Promise.all(ee.container.getProviders().map(z=>z.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function Fn(ee,L,z){var De;let ot=null!==(De=lt[ee])&&void 0!==De?De:ee;z&&(ot+=`-${z}`);const zt=ot.match(/\s|\//),On=L.match(/\s|\//);if(zt||On){const gn=[`Unable to register library "${ot}" with version "${L}":`];return zt&&gn.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),zt&&On&&gn.push("and"),On&&gn.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void K.warn(gn.join(" "))}En(new u.wA(`${ot}-version`,()=>({library:ot,version:L}),"VERSION"))}function vn(ee,L){if(null!==ee&&"function"!=typeof ee)throw tn.create("invalid-log-argument");(0,k.Am)(ee,L)}function xn(ee){(0,k.Ub)(ee)}const Zn="firebase-heartbeat-store";let Tr=null;function oi(){return Tr||(Tr=(0,j.X3)("firebase-heartbeat-database",1,{upgrade:(ee,L)=>{0===L&&ee.createObjectStore(Zn)}}).catch(ee=>{throw tn.create("storage-open",{originalErrorMessage:ee.message})})),Tr}function qt(){return(qt=(0,h.Z)(function*(ee){var L;try{return(yield oi()).transaction(Zn).objectStore(Zn).get(Nr(ee))}catch(z){throw tn.create("storage-get",{originalErrorMessage:null===(L=z)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function Jt(ee,L){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(ee,L){var z;try{const ot=(yield oi()).transaction(Zn,"readwrite");return yield ot.objectStore(Zn).put(L,Nr(ee)),ot.done}catch(De){throw tn.create("storage-set",{originalErrorMessage:null===(z=De)||void 0===z?void 0:z.message})}})).apply(this,arguments)}function Nr(ee){return`${ee.name}!${ee.options.appId}`}class or{constructor(L){this.container=L,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Ur(z),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var L=this;return(0,h.Z)(function*(){const De=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Yt();if(null===L._heartbeatsCache&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==ot&&!L._heartbeatsCache.heartbeats.some(zt=>zt.date===ot))return L._heartbeatsCache.heartbeats.push({date:ot,agent:De}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(zt=>{const On=new Date(zt.date).valueOf();return Date.now()-On<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,h.Z)(function*(){if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null===L._heartbeatsCache||0===L._heartbeatsCache.heartbeats.length)return"";const z=Yt(),{heartbeatsToSend:De,unsentEntries:ot}=function jn(ee,L=1024){const z=[];let De=ee.slice();for(const ot of ee){const zt=z.find(On=>On.agent===ot.agent);if(zt){if(zt.dates.push(ot.date),Pe(z)>L){zt.dates.pop();break}}else if(z.push({agent:ot.agent,dates:[ot.date]}),Pe(z)>L){z.pop();break}De=De.slice(1)}return{heartbeatsToSend:z,unsentEntries:De}}(L._heartbeatsCache.heartbeats),zt=(0,fe.L)(JSON.stringify({version:2,heartbeats:De}));return L._heartbeatsCache.lastSentHeartbeatDate=z,ot.length>0?(L._heartbeatsCache.heartbeats=ot,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),zt})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class Ur{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,h.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function kn(ee){return qt.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var z=this;return(0,h.Z)(function*(){var De;if(yield z._canUseIndexedDBPromise){const zt=yield z.read();return Jt(z.app,{lastSentHeartbeatDate:null!==(De=L.lastSentHeartbeatDate)&&void 0!==De?De:zt.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var z=this;return(0,h.Z)(function*(){var De;if(yield z._canUseIndexedDBPromise){const zt=yield z.read();return Jt(z.app,{lastSentHeartbeatDate:null!==(De=L.lastSentHeartbeatDate)&&void 0!==De?De:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...L.heartbeats]})}})()}}function Pe(ee){return(0,fe.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function ke(ee){En(new u.wA("platform-logger",L=>new J(L),"PRIVATE")),En(new u.wA("heartbeat",L=>new or(L),"PRIVATE")),Fn(Z,"0.7.29",ee),Fn(Z,"0.7.29","esm2017"),Fn("fire-js","")}("")},4859:(jt,Ke,M)=>{M.d(Ke,{H0:()=>Z,wA:()=>k});var h=M(5861),u=M(2090);class k{constructor(K,ne,ge){this.name=K,this.instanceFactory=ne,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const fe="[DEFAULT]";class j{constructor(K,ne){this.name=K,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ne=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ne)){const ge=new u.BH;if(this.instancesDeferred.set(ne,ge),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ne});Ge&&ge.resolve(Ge)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(K){var ne;const ge=this.normalizeInstanceIdentifier(K?.identifier),Ge=null!==(ne=K?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Ae){if(Ge)return null;throw Ae}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function te(oe){return"EAGER"===oe.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ne,ge]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ne);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ge});ge.resolve(Ae)}catch{}}}}clearInstance(K=fe){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,h.Z)(function*(){const ne=Array.from(K.instances.values());yield Promise.all([...ne.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ne.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=fe){return this.instances.has(K)}getOptions(K=fe){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ne={}}=K,ge=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ge,options:ne});for(const[Ae,Qe]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Ae)&&Qe.resolve(Ge);return Ge}onInit(K,ne){var ge;const Ge=this.normalizeInstanceIdentifier(ne),Ae=null!==(ge=this.onInitCallbacks.get(Ge))&&void 0!==ge?ge:new Set;Ae.add(K),this.onInitCallbacks.set(Ge,Ae);const Qe=this.instances.get(Ge);return Qe&&K(Qe,Ge),()=>{Ae.delete(K)}}invokeOnInitCallbacks(K,ne){const ge=this.onInitCallbacks.get(ne);if(ge)for(const Ge of ge)try{Ge(K,ne)}catch{}}getOrInitializeService({instanceIdentifier:K,options:ne={}}){let ge=this.instances.get(K);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=K,oe===fe?void 0:oe),options:ne}),this.instances.set(K,ge),this.instancesOptions.set(K,ne),this.invokeOnInitCallbacks(ge,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ge)}catch{}var oe;return ge||null}normalizeInstanceIdentifier(K=fe){return this.component?this.component.multipleInstances?K:fe:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ne=this.getProvider(K.name);if(ne.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ne.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ne=new j(K,this);return this.providers.set(K,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,Ke,M)=>{M.d(Ke,{Am:()=>oe,Ub:()=>Z,Yd:()=>te,in:()=>u});const h=[];var u=(()=>{return(K=u||(u={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",u;var K})();const k={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},fe=u.INFO,j={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},J=(K,ne,...ge)=>{if(ne<K.logLevel)return;const Ge=(new Date).toISOString(),Ae=j[ne];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ae](`[${Ge}]  ${K.name}:`,...ge)};class te{constructor(ne){this.name=ne,this._logLevel=fe,this._logHandler=J,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in u))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?k[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ne),this._logHandler(this,u.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ne),this._logHandler(this,u.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ne),this._logHandler(this,u.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ne),this._logHandler(this,u.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ne),this._logHandler(this,u.ERROR,...ne)}}function Z(K){h.forEach(ne=>{ne.setLogLevel(K)})}function oe(K,ne){for(const ge of h){let Ge=null;ne&&ne.level&&(Ge=k[ne.level]),ge.userLogHandler=null===K?null:(Ae,Qe,...wt)=>{const tt=wt.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Qe>=(Ge??Ae.logLevel)&&K({level:u[Qe].toLowerCase(),message:tt,args:wt,type:Ae.name})}}}},6897:(jt,Ke,M)=>{M.d(Ke,{yh:()=>Mr,Aw:()=>Os,PH:()=>Lt,Lq:()=>dn,on:()=>$t,Ky:()=>Xe});var h=M(4650),u=M(1135),k=M(9751),fe=M(7579),j=M(233),J=M(4482),te=M(5403),Z=M(8421),oe=M(4671),K=M(5032),ne=M(3269),Ge=M(4004),Qe=M(5363),wt=M(5026),tt=M(1884);const Ne={};function Lt(_e,ct){if(Ne[_e]=(Ne[_e]||0)+1,"function"==typeof ct)return Ze(_e,(...ht)=>({...ct(...ht),type:_e}));switch(ct?ct._as:"empty"){case"empty":return Ze(_e,()=>({type:_e}));case"props":return Ze(_e,ht=>({...ht,type:_e}));default:throw new Error("Unexpected config.")}}function Xe(){return{_as:"props",_p:void 0}}function Ze(_e,ct){return Object.defineProperty(ct,"type",{value:_e,writable:!1})}const et="@ngrx/store/init";let Ue=(()=>{class _e extends u.X{constructor(){super({type:et})}next(je){if("function"==typeof je)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof je>"u")throw new TypeError("Actions must be objects");if(typeof je.type>"u")throw new TypeError("Actions must have a type property");super.next(je)}complete(){}ngOnDestroy(){super.complete()}}return _e.\u0275fac=function(je){return new(je||_e)},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const pt=[Ue],nt=new h.OlP("@ngrx/store Internal Root Guard"),Ft=new h.OlP("@ngrx/store Internal Initial State"),at=new h.OlP("@ngrx/store Initial State"),Ot=new h.OlP("@ngrx/store Reducer Factory"),Et=new h.OlP("@ngrx/store Internal Reducer Factory Provider"),lt=new h.OlP("@ngrx/store Initial Reducers"),Pt=new h.OlP("@ngrx/store Internal Initial Reducers"),_n=new h.OlP("@ngrx/store Store Features"),wn=new h.OlP("@ngrx/store Internal Store Reducers"),pn=new h.OlP("@ngrx/store Internal Feature Reducers"),En=new h.OlP("@ngrx/store Internal Feature Configs"),bn=new h.OlP("@ngrx/store Internal Store Features"),Wn=new h.OlP("@ngrx/store Internal Feature Reducers Token"),Ar=new h.OlP("@ngrx/store Feature Reducers"),cr=new h.OlP("@ngrx/store User Provided Meta Reducers"),tn=new h.OlP("@ngrx/store Meta Reducers"),Yr=new h.OlP("@ngrx/store Internal Resolved Meta Reducers"),$n=new h.OlP("@ngrx/store User Runtime Checks Config"),Cr=new h.OlP("@ngrx/store Internal User Runtime Checks Config"),Jn=new h.OlP("@ngrx/store Internal Runtime Checks"),sr=new h.OlP("@ngrx/store Check if Action types are unique");function nn(_e,ct={}){const je=Object.keys(_e),ht={};for(let rn=0;rn<je.length;rn++){const rr=je[rn];"function"==typeof _e[rr]&&(ht[rr]=_e[rr])}const Wt=Object.keys(ht);return function(rr,Dr){rr=void 0===rr?ct:rr;let mr=!1;const Ti={};for(let hr=0;hr<Wt.length;hr++){const ui=Wt[hr],Ts=rr[ui],Rs=(0,ht[ui])(Ts,Dr);Ti[ui]=Rs,mr=mr||Rs!==Ts}return mr?Ti:rr}}function Fn(..._e){return function(ct){if(0===_e.length)return ct;const je=_e[_e.length-1];return _e.slice(0,-1).reduceRight((Wt,rn)=>rn(Wt),je(ct))}}function vn(_e,ct){return Array.isArray(ct)&&ct.length>0&&(_e=Fn.apply(null,[...ct,_e])),(je,ht)=>{const Wt=_e(je);return(rn,rr)=>Wt(rn=void 0===rn?ht:rn,rr)}}class br extends k.y{}class zr extends Ue{}let Tr=(()=>{class _e extends u.X{constructor(je,ht,Wt,rn){super(rn(Wt,ht)),this.dispatcher=je,this.initialState=ht,this.reducers=Wt,this.reducerFactory=rn}get currentReducers(){return this.reducers}addFeature(je){this.addFeatures([je])}addFeatures(je){const ht=je.reduce((Wt,{reducers:rn,reducerFactory:rr,metaReducers:Dr,initialState:mr,key:Ti})=>{const hr="function"==typeof rn?function xn(_e){const ct=Array.isArray(_e)&&_e.length>0?Fn(..._e):je=>je;return(je,ht)=>(je=ct(je),(Wt,rn)=>je(Wt=void 0===Wt?ht:Wt,rn))}(Dr)(rn,mr):vn(rr,Dr)(rn,mr);return Wt[Ti]=hr,Wt},{});this.addReducers(ht)}removeFeature(je){this.removeFeatures([je])}removeFeatures(je){this.removeReducers(je.map(ht=>ht.key))}addReducer(je,ht){this.addReducers({[je]:ht})}addReducers(je){this.reducers={...this.reducers,...je},this.updateReducers(Object.keys(je))}removeReducer(je){this.removeReducers([je])}removeReducers(je){je.forEach(ht=>{this.reducers=function Yn(_e,ct){return Object.keys(_e).filter(je=>je!==ct).reduce((je,ht)=>Object.assign(je,{[ht]:_e[ht]}),{})}(this.reducers,ht)}),this.updateReducers(je)}updateReducers(je){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:je})}ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(zr),h.LFG(at),h.LFG(lt),h.LFG(Ot))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const oi=[Tr,{provide:br,useExisting:Tr},{provide:zr,useExisting:Ue}];let kn=(()=>{class _e extends fe.x{ngOnDestroy(){this.complete()}}return _e.\u0275fac=function(){let ct;return function(ht){return(ct||(ct=h.n5z(_e)))(ht||_e)}}(),_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const qt=[kn];class Jt extends k.y{}let $r=(()=>{class _e extends u.X{constructor(je,ht,Wt,rn){super(rn);const Dr=je.pipe((0,Qe.Q)(j.N)).pipe(function ge(..._e){const ct=(0,ne.jO)(_e);return(0,J.e)((je,ht)=>{const Wt=_e.length,rn=new Array(Wt);let rr=_e.map(()=>!1),Dr=!1;for(let mr=0;mr<Wt;mr++)(0,Z.Xf)(_e[mr]).subscribe((0,te.x)(ht,Ti=>{rn[mr]=Ti,!Dr&&!rr[mr]&&(rr[mr]=!0,(Dr=rr.every(oe.y))&&(rr=null))},K.Z));je.subscribe((0,te.x)(ht,mr=>{if(Dr){const Ti=[mr,...rn];ht.next(ct?ct(...Ti):Ti)}}))})}(ht)),Ti=Dr.pipe((0,wt.R)(Nr,{state:rn}));this.stateSubscription=Ti.subscribe(({state:hr,action:ui})=>{this.next(hr),Wt.next(ui)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return _e.INIT=et,_e.\u0275fac=function(je){return new(je||_e)(h.LFG(Ue),h.LFG(br),h.LFG(kn),h.LFG(at))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function Nr(_e={state:void 0},[ct,je]){const{state:ht}=_e;return{state:je(ht,ct),action:ct}}const Tn=[$r,{provide:Jt,useExisting:$r}];let Mr=(()=>{class _e extends k.y{constructor(je,ht,Wt){super(),this.actionsObserver=ht,this.reducerManager=Wt,this.source=je}select(je,...ht){return Yt.call(null,je,...ht)(this)}lift(je){const ht=new _e(this,this.actionsObserver,this.reducerManager);return ht.operator=je,ht}dispatch(je){this.actionsObserver.next(je)}next(je){this.actionsObserver.next(je)}error(je){this.actionsObserver.error(je)}complete(){this.actionsObserver.complete()}addReducer(je,ht){this.reducerManager.addReducer(je,ht)}removeReducer(je){this.reducerManager.removeReducer(je)}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(Jt),h.LFG(Ue),h.LFG(Tr))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const or=[Mr];function Yt(_e,ct,...je){return function(Wt){let rn;if("string"==typeof _e){const rr=[ct,...je].filter(Boolean);rn=Wt.pipe(function Ae(..._e){const ct=_e.length;if(0===ct)throw new Error("list of properties cannot be empty.");return(0,Ge.U)(je=>{let ht=je;for(let Wt=0;Wt<ct;Wt++){const rn=ht?.[_e[Wt]];if(!(typeof rn<"u"))return;ht=rn}return ht})}(_e,...rr))}else{if("function"!=typeof _e)throw new TypeError(`Unexpected type '${typeof _e}' in select operator, expected 'string' or 'function'`);rn=Wt.pipe((0,Ge.U)(rr=>_e(rr,ct)))}return rn.pipe((0,tt.x)())}}const jn="https://ngrx.io/guide/store/configuration/runtime-checks";function Ur(_e){return void 0===_e}function Pe(_e){return null===_e}function ke(_e){return Array.isArray(_e)}function De(_e){return"object"==typeof _e&&null!==_e}function On(_e){return"function"==typeof _e}function Un(_e){Object.freeze(_e);const ct=On(_e);return Object.getOwnPropertyNames(_e).forEach(je=>{if(!je.startsWith("\u0275")&&function Dn(_e,ct){return Object.prototype.hasOwnProperty.call(_e,ct)}(_e,je)&&(!ct||"caller"!==je&&"callee"!==je&&"arguments"!==je)){const ht=_e[je];(De(ht)||On(ht))&&!Object.isFrozen(ht)&&Un(ht)}}),_e}function jr(_e,ct=[]){return(Ur(_e)||Pe(_e))&&0===ct.length?{path:["root"],value:_e}:Object.keys(_e).reduce((ht,Wt)=>{if(ht)return ht;const rn=_e[Wt];return function gn(_e){return On(_e)&&_e.hasOwnProperty("\u0275cmp")}(rn)?ht:!(Ur(rn)||Pe(rn)||function z(_e){return"number"==typeof _e}(rn)||function L(_e){return"boolean"==typeof _e}(rn)||function ee(_e){return"string"==typeof _e}(rn)||ke(rn))&&(function zt(_e){if(!function ot(_e){return De(_e)&&!ke(_e)}(_e))return!1;const ct=Object.getPrototypeOf(_e);return ct===Object.prototype||null===ct}(rn)?jr(rn,[...ct,Wt]):{path:[...ct,Wt],value:rn})},!1)}function pi(_e,ct){if(!1===_e)return;const je=_e.path.join("."),ht=new Error(`Detected unserializable ${ct} at "${je}". ${jn}#strict${ct}serializability`);throw ht.value=_e.value,ht.unserializablePath=je,ht}function zi(_e){return(0,h.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,..._e}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ri({strictActionSerializability:_e,strictStateSerializability:ct}){return je=>_e||ct?function Sn(_e,ct){return function(je,ht){ct.action(ht)&&pi(jr(ht),"action");const Wt=_e(je,ht);return ct.state()&&pi(jr(Wt),"state"),Wt}}(je,{action:ht=>_e&&!Ai(ht),state:()=>ct}):je}function Wr({strictActionImmutability:_e,strictStateImmutability:ct}){return je=>_e||ct?function Gn(_e,ct){return function(je,ht){const Wt=ct.action(ht)?Un(ht):ht,rn=_e(je,Wt);return ct.state()?Un(rn):rn}}(je,{action:ht=>_e&&!Ai(ht),state:()=>ct}):je}function Ai(_e){return _e.type.startsWith("@ngrx")}function ei({strictActionWithinNgZone:_e}){return ct=>_e?function ts(_e,ct){return function(je,ht){if(ct.action(ht)&&!h.R0b.isInAngularZone())throw new Error(`Action '${ht.type}' running outside NgZone. ${jn}#strictactionwithinngzone`);return _e(je,ht)}}(ct,{action:je=>_e&&!Ai(je)}):ct}function di(_e){return[{provide:Cr,useValue:_e},{provide:$n,useFactory:kr,deps:[Cr]},{provide:Jn,deps:[$n],useFactory:zi},{provide:tn,multi:!0,deps:[Jn],useFactory:Wr},{provide:tn,multi:!0,deps:[Jn],useFactory:ri},{provide:tn,multi:!0,deps:[Jn],useFactory:ei}]}function gi(){return[{provide:sr,multi:!0,deps:[Jn],useFactory:Fi}]}function kr(_e){return _e}function Fi(_e){if(!_e.strictActionTypeUniqueness)return;const ct=Object.entries(Ne).filter(([,je])=>je>1).map(([je])=>je);if(ct.length)throw new Error(`Action types are registered more than once, ${ct.map(je=>`"${je}"`).join(", ")}. ${jn}#strictactiontypeuniqueness`)}let Mi=(()=>{class _e{constructor(je,ht,Wt,rn,rr,Dr){}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(Ue),h.LFG(br),h.LFG(kn),h.LFG(Mr),h.LFG(nt,8),h.LFG(sr,8))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})(),Vi=(()=>{class _e{constructor(je,ht,Wt,rn,rr){this.features=je,this.featureReducers=ht,this.reducerManager=Wt;const Dr=je.map((mr,Ti)=>{const ui=ht.shift()[Ti];return{...mr,reducers:ui,initialState:$e(mr.initialState)}});Wt.addFeatures(Dr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return _e.\u0275fac=function(je){return new(je||_e)(h.LFG(bn),h.LFG(Ar),h.LFG(Tr),h.LFG(Mi),h.LFG(sr,8))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})(),Os=(()=>{class _e{static forRoot(je,ht={}){return{ngModule:Mi,providers:[{provide:nt,useFactory:St,deps:[[Mr,new h.FiY,new h.tp0]]},{provide:Ft,useValue:ht.initialState},{provide:at,useFactory:$e,deps:[Ft]},{provide:Pt,useValue:je},{provide:wn,useExisting:je instanceof h.OlP?je:Pt},{provide:lt,deps:[h.zs3,Pt,[new h.tBr(wn)]],useFactory:Ci},{provide:cr,useValue:ht.metaReducers?ht.metaReducers:[]},{provide:Yr,deps:[tn,cr],useFactory:gt},{provide:Et,useValue:ht.reducerFactory?ht.reducerFactory:nn},{provide:Ot,deps:[Et,Yr],useFactory:vn},pt,oi,qt,Tn,or,di(ht.runtimeChecks),gi()]}}static forFeature(je,ht,Wt={}){return{ngModule:Vi,providers:[{provide:En,multi:!0,useValue:je instanceof Object?{}:Wt},{provide:_n,multi:!0,useValue:{key:je instanceof Object?je.name:je,reducerFactory:Wt instanceof h.OlP||!Wt.reducerFactory?nn:Wt.reducerFactory,metaReducers:Wt instanceof h.OlP||!Wt.metaReducers?[]:Wt.metaReducers,initialState:Wt instanceof h.OlP||!Wt.initialState?void 0:Wt.initialState}},{provide:bn,deps:[h.zs3,En,_n],useFactory:Ri},{provide:pn,multi:!0,useValue:je instanceof Object?je.reducer:ht},{provide:Wn,multi:!0,useExisting:ht instanceof h.OlP?ht:pn},{provide:Ar,multi:!0,deps:[h.zs3,pn,[new h.tBr(Wn)]],useFactory:Ye},gi()]}}}return _e.\u0275fac=function(je){return new(je||_e)},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})();function Ci(_e,ct){return ct instanceof h.OlP?_e.get(ct):ct}function Ri(_e,ct,je){return je.map((ht,Wt)=>{if(ct[Wt]instanceof h.OlP){const rn=_e.get(ct[Wt]);return{key:ht.key,reducerFactory:rn.reducerFactory?rn.reducerFactory:nn,metaReducers:rn.metaReducers?rn.metaReducers:[],initialState:rn.initialState}}return ht})}function Ye(_e,ct){return ct.map(ht=>ht instanceof h.OlP?_e.get(ht):ht)}function $e(_e){return"function"==typeof _e?_e():_e}function gt(_e,ct){return _e.concat(ct)}function St(_e){if(_e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function $t(..._e){return{reducer:_e.pop(),types:_e.map(ht=>ht.type)}}function dn(_e,...ct){const je=new Map;for(const ht of ct)for(const Wt of ht.types){const rn=je.get(Wt);je.set(Wt,rn?(Dr,mr)=>ht.reducer(rn(Dr,mr),mr):ht.reducer)}return function(ht=_e,Wt){const rn=je.get(Wt.type);return rn?rn(ht,Wt):ht}}},8766:(jt,Ke,M)=>{M.d(Ke,{Lj:()=>Xe,X3:()=>Lt});var h=M(5861);let k,fe;const te=new WeakMap,Z=new WeakMap,oe=new WeakMap,K=new WeakMap,ne=new WeakMap;let Ae={get(ze,dt,Be){if(ze instanceof IDBTransaction){if("done"===dt)return Z.get(ze);if("objectStoreNames"===dt)return ze.objectStoreNames||oe.get(ze);if("store"===dt)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Ne(ze[dt])},set:(ze,dt,Be)=>(ze[dt]=Be,!0),has:(ze,dt)=>ze instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in ze};function tt(ze){return"function"==typeof ze?function wt(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...dt){return ze.apply(Oe(this),dt),Ne(te.get(this))}:function(...dt){return Ne(ze.apply(Oe(this),dt))}:function(dt,...Be){const et=ze.call(Oe(this),dt,...Be);return oe.set(et,dt.sort?dt.sort():[dt]),Ne(et)}}(ze):(ze instanceof IDBTransaction&&function Ge(ze){if(Z.has(ze))return;const dt=new Promise((Be,et)=>{const Ue=()=>{ze.removeEventListener("complete",pt),ze.removeEventListener("error",nt),ze.removeEventListener("abort",nt)},pt=()=>{Be(),Ue()},nt=()=>{et(ze.error||new DOMException("AbortError","AbortError")),Ue()};ze.addEventListener("complete",pt),ze.addEventListener("error",nt),ze.addEventListener("abort",nt)});Z.set(ze,dt)}(ze),((ze,dt)=>dt.some(Be=>ze instanceof Be))(ze,function j(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,Ae):ze)}function Ne(ze){if(ze instanceof IDBRequest)return function ge(ze){const dt=new Promise((Be,et)=>{const Ue=()=>{ze.removeEventListener("success",pt),ze.removeEventListener("error",nt)},pt=()=>{Be(Ne(ze.result)),Ue()},nt=()=>{et(ze.error),Ue()};ze.addEventListener("success",pt),ze.addEventListener("error",nt)});return dt.then(Be=>{Be instanceof IDBCursor&&te.set(Be,ze)}).catch(()=>{}),ne.set(dt,ze),dt}(ze);if(K.has(ze))return K.get(ze);const dt=tt(ze);return dt!==ze&&(K.set(ze,dt),ne.set(dt,ze)),dt}const Oe=ze=>ne.get(ze);function Lt(ze,dt,{blocked:Be,upgrade:et,blocking:Ue,terminated:pt}={}){const nt=indexedDB.open(ze,dt),Ft=Ne(nt);return et&&nt.addEventListener("upgradeneeded",at=>{et(Ne(nt.result),at.oldVersion,at.newVersion,Ne(nt.transaction))}),Be&&nt.addEventListener("blocked",()=>Be()),Ft.then(at=>{pt&&at.addEventListener("close",()=>pt()),Ue&&at.addEventListener("versionchange",()=>Ue())}).catch(()=>{}),Ft}function Xe(ze,{blocked:dt}={}){const Be=indexedDB.deleteDatabase(ze);return dt&&Be.addEventListener("blocked",()=>dt()),Ne(Be).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ie=new Map;function he(ze,dt){if(!(ze instanceof IDBDatabase)||dt in ze||"string"!=typeof dt)return;if(Ie.get(dt))return Ie.get(dt);const Be=dt.replace(/FromIndex$/,""),et=dt!==Be,Ue=Ze.includes(Be);if(!(Be in(et?IDBIndex:IDBObjectStore).prototype)||!Ue&&!de.includes(Be))return;const pt=function(){var nt=(0,h.Z)(function*(Ft,...at){const Ot=this.transaction(Ft,Ue?"readwrite":"readonly");let Et=Ot.store;return et&&(Et=Et.index(at.shift())),(yield Promise.all([Et[Be](...at),Ue&&Ot.done]))[0]});return function(at){return nt.apply(this,arguments)}}();return Ie.set(dt,pt),pt}!function Qe(ze){Ae=ze(Ae)}(ze=>({...ze,get:(dt,Be,et)=>he(dt,Be)||ze.get(dt,Be,et),has:(dt,Be)=>!!he(dt,Be)||ze.has(dt,Be)}))},805:(jt,Ke,M)=>{M.d(Ke,{$_:()=>Ne,F0:()=>Ae,b4:()=>te,ez:()=>Ge,h4:()=>tt,iZ:()=>ne,jx:()=>Oe,m8:()=>Lt,ws:()=>Z});var h=M(4650),u=M(7579),k=M(982),fe=M(6895);const j=["*"];let J=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.IN="in",de.LESS_THAN="lt",de.LESS_THAN_OR_EQUAL_TO="lte",de.GREATER_THAN="gt",de.GREATER_THAN_OR_EQUAL_TO="gte",de.BETWEEN="between",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.DATE_IS="dateIs",de.DATE_IS_NOT="dateIsNot",de.DATE_BEFORE="dateBefore",de.DATE_AFTER="dateAfter",de})(),te=(()=>{class de{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[J.STARTS_WITH,J.CONTAINS,J.NOT_CONTAINS,J.ENDS_WITH,J.EQUALS,J.NOT_EQUALS],numeric:[J.EQUALS,J.NOT_EQUALS,J.LESS_THAN,J.LESS_THAN_OR_EQUAL_TO,J.GREATER_THAN,J.GREATER_THAN_OR_EQUAL_TO],date:[J.DATE_IS,J.DATE_IS_NOT,J.DATE_BEFORE,J.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new u.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Ie){return this.translation[Ie]}setTranslation(Ie){this.translation={...this.translation,...Ie},this.translationSource.next(this.translation)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Z=(()=>{class de{}return de.STARTS_WITH="startsWith",de.CONTAINS="contains",de.NOT_CONTAINS="notContains",de.ENDS_WITH="endsWith",de.EQUALS="equals",de.NOT_EQUALS="notEquals",de.NO_FILTER="noFilter",de.LT="lt",de.LTE="lte",de.GT="gt",de.GTE="gte",de.IS="is",de.IS_NOT="isNot",de.BEFORE="before",de.AFTER="after",de.CLEAR="clear",de.APPLY="apply",de.MATCH_ALL="matchAll",de.MATCH_ANY="matchAny",de.ADD_RULE="addRule",de.REMOVE_RULE="removeRule",de.ACCEPT="accept",de.REJECT="reject",de.CHOOSE="choose",de.UPLOAD="upload",de.CANCEL="cancel",de.DAY_NAMES="dayNames",de.DAY_NAMES_SHORT="dayNamesShort",de.DAY_NAMES_MIN="dayNamesMin",de.MONTH_NAMES="monthNames",de.MONTH_NAMES_SHORT="monthNamesShort",de.FIRST_DAY_OF_WEEK="firstDayOfWeek",de.TODAY="today",de.WEEK_HEADER="weekHeader",de.WEAK="weak",de.MEDIUM="medium",de.STRONG="strong",de.PASSWORD_PROMPT="passwordPrompt",de.EMPTY_MESSAGE="emptyMessage",de.EMPTY_FILTER_MESSAGE="emptyFilterMessage",de})(),ne=(()=>{class de{constructor(){this.filters={startsWith:(Ie,he,ze)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).slice(0,dt.length)===dt},contains:(Ie,he,ze)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return-1!==k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).indexOf(dt)},notContains:(Ie,he,ze)=>{if(null==he||"string"==typeof he&&""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze);return-1===k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze).indexOf(dt)},endsWith:(Ie,he,ze)=>{if(null==he||""===he.trim())return!0;if(null==Ie)return!1;let dt=k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze),Be=k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze);return-1!==Be.indexOf(dt,Be.length-dt.length)},equals:(Ie,he,ze)=>null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze)),notEquals:(Ie,he,ze)=>!(null==he||"string"==typeof he&&""===he.trim()||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()===he.getTime():k.gb.removeAccents(Ie.toString()).toLocaleLowerCase(ze)==k.gb.removeAccents(he.toString()).toLocaleLowerCase(ze))),in:(Ie,he)=>{if(null==he||0===he.length)return!0;for(let ze=0;ze<he.length;ze++)if(k.gb.equals(Ie,he[ze]))return!0;return!1},between:(Ie,he)=>null==he||null==he[0]||null==he[1]||null!=Ie&&(Ie.getTime?he[0].getTime()<=Ie.getTime()&&Ie.getTime()<=he[1].getTime():he[0]<=Ie&&Ie<=he[1]),lt:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<he.getTime():Ie<he),lte:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()<=he.getTime():Ie<=he),gt:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>he.getTime():Ie>he),gte:(Ie,he,ze)=>null==he||null!=Ie&&(Ie.getTime&&he.getTime?Ie.getTime()>=he.getTime():Ie>=he),is:(Ie,he,ze)=>this.filters.equals(Ie,he,ze),isNot:(Ie,he,ze)=>this.filters.notEquals(Ie,he,ze),before:(Ie,he,ze)=>this.filters.lt(Ie,he,ze),after:(Ie,he,ze)=>this.filters.gt(Ie,he,ze),dateIs:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()===he.toDateString(),dateIsNot:(Ie,he)=>null==he||null!=Ie&&Ie.toDateString()!==he.toDateString(),dateBefore:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()<he.getTime(),dateAfter:(Ie,he)=>null==he||null!=Ie&&Ie.getTime()>he.getTime()}}filter(Ie,he,ze,dt,Be){let et=[];if(Ie)for(let Ue of Ie)for(let pt of he){let nt=k.gb.resolveFieldData(Ue,pt);if(this.filters[dt](nt,ze,Be)){et.push(Ue);break}}return et}register(Ie,he){this.filters[Ie]=he}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Ge=(()=>{class de{constructor(){this.messageSource=new u.x,this.clearSource=new u.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Ie){Ie&&this.messageSource.next(Ie)}addAll(Ie){Ie&&Ie.length&&this.messageSource.next(Ie)}clear(Ie){this.clearSource.next(Ie||null)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})(),Ae=(()=>{class de{constructor(){this.clickSource=new u.x,this.clickObservable=this.clickSource.asObservable()}add(Ie){Ie&&this.clickSource.next(Ie)}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),tt=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=h.Xpm({type:de,selectors:[["p-header"]],ngContentSelectors:j,decls:1,vars:0,template:function(Ie,he){1&Ie&&(h.F$t(),h.Hsn(0))},encapsulation:2}),de})(),Ne=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275cmp=h.Xpm({type:de,selectors:[["p-footer"]],ngContentSelectors:j,decls:1,vars:0,template:function(Ie,he){1&Ie&&(h.F$t(),h.Hsn(0))},encapsulation:2}),de})(),Oe=(()=>{class de{constructor(Ie){this.template=Ie}getType(){return this.name}}return de.\u0275fac=function(Ie){return new(Ie||de)(h.Y36(h.Rgc))},de.\u0275dir=h.lG2({type:de,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),de})(),Lt=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275mod=h.oAB({type:de}),de.\u0275inj=h.cJS({imports:[fe.ez]}),de})()},5593:(jt,Ke,M)=>{M.d(Ke,{Hq:()=>Ge,hJ:()=>Qe,zx:()=>Ae});var h=M(4650),u=M(9592),k=M(6895),fe=M(1795),j=M(805);function J(wt,tt){1&wt&&h.GkF(0)}const te=function(wt,tt,Ne,Oe){return{"p-button-icon":!0,"p-button-icon-left":wt,"p-button-icon-right":tt,"p-button-icon-top":Ne,"p-button-icon-bottom":Oe}};function Z(wt,tt){if(1&wt&&h._UZ(0,"span",4),2&wt){const Ne=h.oxw();h.Tol(Ne.loading?"p-button-loading-icon "+Ne.loadingIcon:Ne.icon),h.Q6J("ngClass",h.l5B(4,te,"left"===Ne.iconPos&&Ne.label,"right"===Ne.iconPos&&Ne.label,"top"===Ne.iconPos&&Ne.label,"bottom"===Ne.iconPos&&Ne.label)),h.uIk("aria-hidden",!0)}}function oe(wt,tt){if(1&wt&&(h.TgZ(0,"span",5),h._uU(1),h.qZA()),2&wt){const Ne=h.oxw();h.uIk("aria-hidden",Ne.icon&&!Ne.label),h.xp6(1),h.Oqu(Ne.label||"\xa0")}}function K(wt,tt){if(1&wt&&(h.TgZ(0,"span",4),h._uU(1),h.qZA()),2&wt){const Ne=h.oxw();h.Tol(Ne.badgeClass),h.Q6J("ngClass",Ne.badgeStyleClass()),h.xp6(1),h.Oqu(Ne.badge)}}const ne=function(wt,tt,Ne,Oe,Lt){return{"p-button p-component":!0,"p-button-icon-only":wt,"p-button-vertical":tt,"p-disabled":Ne,"p-button-loading":Oe,"p-button-loading-label-only":Lt}},ge=["*"];let Ge=(()=>{class wt{constructor(Ne){this.el=Ne,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,u.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let Ne=document.createElement("span");this.icon&&!this.label&&Ne.setAttribute("aria-hidden","true"),Ne.className="p-button-label",this.label?Ne.appendChild(document.createTextNode(this.label)):Ne.innerHTML="&nbsp;",this.el.nativeElement.appendChild(Ne),this.initialized=!0}getStyleClass(){let Ne="p-button p-component";return this.icon&&!this.label&&(Ne+=" p-button-icon-only"),this.loading&&(Ne+=" p-disabled p-button-loading",!this.icon&&this.label&&(Ne+=" p-button-loading-label-only")),Ne}setStyleClass(){let Ne=this.getStyleClass();this.el.nativeElement.className=Ne+" "+this._initialStyleClass}createIconEl(){let Ne=document.createElement("span");Ne.className="p-button-icon",Ne.setAttribute("aria-hidden","true");let Oe=this.label?"p-button-icon-"+this.iconPos:null;Oe&&u.p.addClass(Ne,Oe);let Lt=this.getIconClass();Lt&&u.p.addMultipleClasses(Ne,Lt);let Xe=u.p.findSingle(this.el.nativeElement,".p-button-label");Xe?this.el.nativeElement.insertBefore(Ne,Xe):this.el.nativeElement.appendChild(Ne)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let Ne=u.p.findSingle(this.el.nativeElement,".p-button-icon");Ne?Ne.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let Ne=u.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(Ne)}get label(){return this._label}set label(Ne){this._label=Ne,this.initialized&&(u.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(Ne){this._icon=Ne,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(Ne){this._loading=Ne,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return wt.\u0275fac=function(Ne){return new(Ne||wt)(h.Y36(h.SBq))},wt.\u0275dir=h.lG2({type:wt,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),wt})(),Ae=(()=>{class wt{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new h.vpe,this.onFocus=new h.vpe,this.onBlur=new h.vpe}ngAfterContentInit(){this.templates.forEach(Ne=>{Ne.getType(),this.contentTemplate=Ne.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return wt.\u0275fac=function(Ne){return new(Ne||wt)},wt.\u0275cmp=h.Xpm({type:wt,selectors:[["p-button"]],contentQueries:function(Ne,Oe,Lt){if(1&Ne&&h.Suo(Lt,j.jx,4),2&Ne){let Xe;h.iGM(Xe=h.CRH())&&(Oe.templates=Xe)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:ge,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Ne,Oe){1&Ne&&(h.F$t(),h.TgZ(0,"button",0),h.NdJ("click",function(Xe){return Oe.onClick.emit(Xe)})("focus",function(Xe){return Oe.onFocus.emit(Xe)})("blur",function(Xe){return Oe.onBlur.emit(Xe)}),h.Hsn(1),h.YNc(2,J,1,0,"ng-container",1),h.YNc(3,Z,1,9,"span",2),h.YNc(4,oe,2,2,"span",3),h.YNc(5,K,2,4,"span",2),h.qZA()),2&Ne&&(h.Tol(Oe.styleClass),h.Q6J("ngStyle",Oe.style)("disabled",Oe.disabled||Oe.loading)("ngClass",h.qbA(11,ne,Oe.icon&&!Oe.label,("top"===Oe.iconPos||"bottom"===Oe.iconPos)&&Oe.label,Oe.disabled||Oe.loading,Oe.loading,Oe.loading&&!Oe.icon&&Oe.label)),h.uIk("type",Oe.type)("aria-label",Oe.ariaLabel),h.xp6(2),h.Q6J("ngTemplateOutlet",Oe.contentTemplate),h.xp6(1),h.Q6J("ngIf",!Oe.contentTemplate&&(Oe.icon||Oe.loading)),h.xp6(1),h.Q6J("ngIf",!Oe.contentTemplate),h.xp6(1),h.Q6J("ngIf",!Oe.contentTemplate&&Oe.badge))},dependencies:[k.mk,k.O5,k.tP,k.PC,fe.H],encapsulation:2,changeDetection:0}),wt})(),Qe=(()=>{class wt{}return wt.\u0275fac=function(Ne){return new(Ne||wt)},wt.\u0275mod=h.oAB({type:wt}),wt.\u0275inj=h.cJS({imports:[k.ez,fe.T]}),wt})()},5700:(jt,Ke,M)=>{M.d(Ke,{b:()=>Ft});var h=M(4650),u=M(805),k=M(1795),fe=M(6895);let Ft=(()=>{class at{}return at.\u0275fac=function(Et){return new(Et||at)},at.\u0275mod=h.oAB({type:at}),at.\u0275inj=h.cJS({imports:[fe.ez,u.m8,k.T,fe.ez,u.m8]}),at})()},9592:(jt,Ke,M)=>{M.d(Ke,{V:()=>u,p:()=>h});let h=(()=>{class k{static addClass(j,J){j.classList?j.classList.add(J):j.className+=" "+J}static addMultipleClasses(j,J){if(j.classList){let te=J.trim().split(" ");for(let Z=0;Z<te.length;Z++)j.classList.add(te[Z])}else{let te=J.split(" ");for(let Z=0;Z<te.length;Z++)j.className+=" "+te[Z]}}static removeClass(j,J){j.classList?j.classList.remove(J):j.className=j.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(j,J){return j.classList?j.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(j.className)}static siblings(j){return Array.prototype.filter.call(j.parentNode.children,function(J){return J!==j})}static find(j,J){return Array.from(j.querySelectorAll(J))}static findSingle(j,J){return j?j.querySelector(J):null}static index(j){let J=j.parentNode.childNodes,te=0;for(var Z=0;Z<J.length;Z++){if(J[Z]==j)return te;1==J[Z].nodeType&&te++}return-1}static indexWithinGroup(j,J){let te=j.parentNode?j.parentNode.childNodes:[],Z=0;for(var oe=0;oe<te.length;oe++){if(te[oe]==j)return Z;te[oe].attributes&&te[oe].attributes[J]&&1==te[oe].nodeType&&Z++}return-1}static relativePosition(j,J){let te=j.offsetParent?{width:j.offsetWidth,height:j.offsetHeight}:this.getHiddenElementDimensions(j);const Z=J.offsetHeight,oe=J.getBoundingClientRect(),K=this.getViewport();let ne,ge;oe.top+Z+te.height>K.height?(ne=-1*te.height,j.style.transformOrigin="bottom",oe.top+ne<0&&(ne=-1*oe.top)):(ne=Z,j.style.transformOrigin="top"),ge=te.width>K.width?-1*oe.left:oe.left+te.width>K.width?-1*(oe.left+te.width-K.width):0,j.style.top=ne+"px",j.style.left=ge+"px"}static absolutePosition(j,J){let wt,tt,te=j.offsetParent?{width:j.offsetWidth,height:j.offsetHeight}:this.getHiddenElementDimensions(j),Z=te.height,oe=te.width,K=J.offsetHeight,ne=J.offsetWidth,ge=J.getBoundingClientRect(),Ge=this.getWindowScrollTop(),Ae=this.getWindowScrollLeft(),Qe=this.getViewport();ge.top+K+Z>Qe.height?(wt=ge.top+Ge-Z,j.style.transformOrigin="bottom",wt<0&&(wt=Ge)):(wt=K+ge.top+Ge,j.style.transformOrigin="top"),tt=ge.left+oe>Qe.width?Math.max(0,ge.left+Ae+ne-oe):ge.left+Ae,j.style.top=wt+"px",j.style.left=tt+"px"}static getParents(j,J=[]){return null===j.parentNode?J:this.getParents(j.parentNode,J.concat([j.parentNode]))}static getScrollableParents(j){let J=[];if(j){let te=this.getParents(j);const Z=/(auto|scroll)/,oe=K=>{let ne=window.getComputedStyle(K,null);return Z.test(ne.getPropertyValue("overflow"))||Z.test(ne.getPropertyValue("overflowX"))||Z.test(ne.getPropertyValue("overflowY"))};for(let K of te){let ne=1===K.nodeType&&K.dataset.scrollselectors;if(ne){let ge=ne.split(",");for(let Ge of ge){let Ae=this.findSingle(K,Ge);Ae&&oe(Ae)&&J.push(Ae)}}9!==K.nodeType&&oe(K)&&J.push(K)}}return J}static getHiddenElementOuterHeight(j){j.style.visibility="hidden",j.style.display="block";let J=j.offsetHeight;return j.style.display="none",j.style.visibility="visible",J}static getHiddenElementOuterWidth(j){j.style.visibility="hidden",j.style.display="block";let J=j.offsetWidth;return j.style.display="none",j.style.visibility="visible",J}static getHiddenElementDimensions(j){let J={};return j.style.visibility="hidden",j.style.display="block",J.width=j.offsetWidth,J.height=j.offsetHeight,j.style.display="none",j.style.visibility="visible",J}static scrollInView(j,J){let te=getComputedStyle(j).getPropertyValue("borderTopWidth"),Z=te?parseFloat(te):0,oe=getComputedStyle(j).getPropertyValue("paddingTop"),K=oe?parseFloat(oe):0,ne=j.getBoundingClientRect(),Ge=J.getBoundingClientRect().top+document.body.scrollTop-(ne.top+document.body.scrollTop)-Z-K,Ae=j.scrollTop,Qe=j.clientHeight,wt=this.getOuterHeight(J);Ge<0?j.scrollTop=Ae+Ge:Ge+wt>Qe&&(j.scrollTop=Ae+Ge-Qe+wt)}static fadeIn(j,J){j.style.opacity=0;let te=+new Date,Z=0,oe=function(){Z=+j.style.opacity.replace(",",".")+((new Date).getTime()-te)/J,j.style.opacity=Z,te=+new Date,+Z<1&&(window.requestAnimationFrame&&requestAnimationFrame(oe)||setTimeout(oe,16))};oe()}static fadeOut(j,J){var te=1,K=50/J;let ne=setInterval(()=>{(te-=K)<=0&&(te=0,clearInterval(ne)),j.style.opacity=te},50)}static getWindowScrollTop(){let j=document.documentElement;return(window.pageYOffset||j.scrollTop)-(j.clientTop||0)}static getWindowScrollLeft(){let j=document.documentElement;return(window.pageXOffset||j.scrollLeft)-(j.clientLeft||0)}static matches(j,J){var te=Element.prototype;return(te.matches||te.webkitMatchesSelector||te.mozMatchesSelector||te.msMatchesSelector||function(oe){return-1!==[].indexOf.call(document.querySelectorAll(oe),this)}).call(j,J)}static getOuterWidth(j,J){let te=j.offsetWidth;if(J){let Z=getComputedStyle(j);te+=parseFloat(Z.marginLeft)+parseFloat(Z.marginRight)}return te}static getHorizontalPadding(j){let J=getComputedStyle(j);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(j){let J=getComputedStyle(j);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(j){let J=j.offsetWidth,te=getComputedStyle(j);return J+=parseFloat(te.paddingLeft)+parseFloat(te.paddingRight),J}static width(j){let J=j.offsetWidth,te=getComputedStyle(j);return J-=parseFloat(te.paddingLeft)+parseFloat(te.paddingRight),J}static getInnerHeight(j){let J=j.offsetHeight,te=getComputedStyle(j);return J+=parseFloat(te.paddingTop)+parseFloat(te.paddingBottom),J}static getOuterHeight(j,J){let te=j.offsetHeight;if(J){let Z=getComputedStyle(j);te+=parseFloat(Z.marginTop)+parseFloat(Z.marginBottom)}return te}static getHeight(j){let J=j.offsetHeight,te=getComputedStyle(j);return J-=parseFloat(te.paddingTop)+parseFloat(te.paddingBottom)+parseFloat(te.borderTopWidth)+parseFloat(te.borderBottomWidth),J}static getWidth(j){let J=j.offsetWidth,te=getComputedStyle(j);return J-=parseFloat(te.paddingLeft)+parseFloat(te.paddingRight)+parseFloat(te.borderLeftWidth)+parseFloat(te.borderRightWidth),J}static getViewport(){let j=window,J=document,te=J.documentElement,Z=J.getElementsByTagName("body")[0];return{width:j.innerWidth||te.clientWidth||Z.clientWidth,height:j.innerHeight||te.clientHeight||Z.clientHeight}}static getOffset(j){var J=j.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(j,J){let te=j.parentNode;if(!te)throw"Can't replace element";return te.replaceChild(J,j)}static getUserAgent(){return navigator.userAgent}static isIE(){var j=window.navigator.userAgent;return j.indexOf("MSIE ")>0||(j.indexOf("Trident/")>0?(j.indexOf("rv:"),!0):j.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(j,J){if(this.isElement(J))J.appendChild(j);else{if(!J.el||!J.el.nativeElement)throw"Cannot append "+J+" to "+j;J.el.nativeElement.appendChild(j)}}static removeChild(j,J){if(this.isElement(J))J.removeChild(j);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+j+" from "+J;J.el.nativeElement.removeChild(j)}}static removeElement(j){"remove"in Element.prototype?j.remove():j.parentNode.removeChild(j)}static isElement(j){return"object"==typeof HTMLElement?j instanceof HTMLElement:j&&"object"==typeof j&&null!==j&&1===j.nodeType&&"string"==typeof j.nodeName}static calculateScrollbarWidth(j){if(j){let J=getComputedStyle(j);return j.offsetWidth-j.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let te=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=te,te}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let j=document.createElement("div");j.className="p-scrollbar-measure",document.body.appendChild(j);let J=j.offsetHeight-j.clientHeight;return document.body.removeChild(j),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(j,J,te){j[J].apply(j,te)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let j=this.resolveUserAgent();this.browser={},j.browser&&(this.browser[j.browser]=!0,this.browser.version=j.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let j=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(j)||/(webkit)[ \/]([\w.]+)/.exec(j)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(j)||/(msie) ([\w.]+)/.exec(j)||j.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(j)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(j){return Number.isInteger?Number.isInteger(j):"number"==typeof j&&isFinite(j)&&Math.floor(j)===j}static isHidden(j){return null===j.offsetParent}static getFocusableElements(j){let J=k.find(j,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),te=[];for(let Z of J)"none"!=getComputedStyle(Z).display&&"hidden"!=getComputedStyle(Z).visibility&&te.push(Z);return te}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return k.zindex=1e3,k.calculatedScrollbarWidth=null,k.calculatedScrollbarHeight=null,k})();class u{constructor(fe,j=(()=>{})){this.element=fe,this.listener=j}bindScrollListener(){this.scrollableParents=h.getScrollableParents(this.element);for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},1795:(jt,Ke,M)=>{M.d(Ke,{H:()=>j,T:()=>J});var h=M(4650),u=M(6895),k=M(9592),fe=M(805);let j=(()=>{class te{constructor(oe,K,ne){this.el=oe,this.zone=K,this.config=ne}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(oe){let K=this.getInk();if(!K||"none"===getComputedStyle(K,null).display)return;if(k.p.removeClass(K,"p-ink-active"),!k.p.getHeight(K)&&!k.p.getWidth(K)){let Ae=Math.max(k.p.getOuterWidth(this.el.nativeElement),k.p.getOuterHeight(this.el.nativeElement));K.style.height=Ae+"px",K.style.width=Ae+"px"}let ne=k.p.getOffset(this.el.nativeElement),ge=oe.pageX-ne.left+document.body.scrollTop-k.p.getWidth(K)/2,Ge=oe.pageY-ne.top+document.body.scrollLeft-k.p.getHeight(K)/2;K.style.top=Ge+"px",K.style.left=ge+"px",k.p.addClass(K,"p-ink-active")}getInk(){for(let oe=0;oe<this.el.nativeElement.children.length;oe++)if(-1!==this.el.nativeElement.children[oe].className.indexOf("p-ink"))return this.el.nativeElement.children[oe];return null}resetInk(){let oe=this.getInk();oe&&k.p.removeClass(oe,"p-ink-active")}onAnimationEnd(oe){k.p.removeClass(oe.currentTarget,"p-ink-active")}create(){let oe=document.createElement("span");oe.className="p-ink",this.el.nativeElement.appendChild(oe),this.animationListener=this.onAnimationEnd.bind(this),oe.addEventListener("animationend",this.animationListener)}remove(){let oe=this.getInk();oe&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),oe.removeEventListener("animationend",this.animationListener),k.p.removeElement(oe))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return te.\u0275fac=function(oe){return new(oe||te)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(fe.b4,8))},te.\u0275dir=h.lG2({type:te,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),te})(),J=(()=>{class te{}return te.\u0275fac=function(oe){return new(oe||te)},te.\u0275mod=h.oAB({type:te}),te.\u0275inj=h.cJS({imports:[u.ez]}),te})()},1167:(jt,Ke,M)=>{M.d(Ke,{CO:()=>oe,KZ:()=>K});var h=M(4650),u=M(6895),k=M(1795),fe=M(433);const j=function(ne,ge){return{"p-button-icon":!0,"p-button-icon-left":ne,"p-button-icon-right":ge}};function J(ne,ge){if(1&ne&&h._UZ(0,"span",3),2&ne){const Ge=h.oxw();h.Tol(Ge.checked?Ge.onIcon:Ge.offIcon),h.Q6J("ngClass",h.WLB(3,j,"left"===Ge.iconPos,"right"===Ge.iconPos))}}const te=function(ne,ge,Ge){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":ne,"p-highlight":ge,"p-disabled":Ge}},Z={provide:fe.JU,useExisting:(0,h.Gpc)(()=>oe),multi:!0};let oe=(()=>{class ne{constructor(Ge){this.cd=Ge,this.iconPos="left",this.onChange=new h.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(Ge){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:Ge,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(Ge){this.checked=Ge,this.cd.markForCheck()}registerOnChange(Ge){this.onModelChange=Ge}registerOnTouched(Ge){this.onModelTouched=Ge}setDisabledState(Ge){this.disabled=Ge,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return ne.\u0275fac=function(Ge){return new(Ge||ne)(h.Y36(h.sBO))},ne.\u0275cmp=h.Xpm({type:ne,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[h._Bn([Z])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(Ge,Ae){1&Ge&&(h.TgZ(0,"div",0),h.NdJ("click",function(wt){return Ae.toggle(wt)})("keydown.enter",function(wt){return Ae.toggle(wt)}),h.YNc(1,J,1,6,"span",1),h.TgZ(2,"span",2),h._uU(3),h.qZA()()),2&Ge&&(h.Tol(Ae.styleClass),h.Q6J("ngClass",h.kEZ(8,te,Ae.onIcon&&Ae.offIcon&&!Ae.hasOnLabel&&!Ae.hasOffLabel,Ae.checked,Ae.disabled))("ngStyle",Ae.style),h.uIk("tabindex",Ae.disabled?null:"0")("aria-checked",Ae.checked),h.xp6(1),h.Q6J("ngIf",Ae.onIcon||Ae.offIcon),h.xp6(2),h.Oqu(Ae.checked?Ae.hasOnLabel?Ae.onLabel:"":Ae.hasOffLabel?Ae.offLabel:""))},dependencies:[u.mk,u.O5,u.PC,k.H],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}"],changeDetection:0}),ne})(),K=(()=>{class ne{}return ne.\u0275fac=function(Ge){return new(Ge||ne)},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({imports:[u.ez,k.T]}),ne})()},3608:(jt,Ke,M)=>{M.d(Ke,{u:()=>J,z:()=>te});var h=M(4650),u=M(6895),k=M(9592),fe=M(982),j=M(805);let J=(()=>{class Z{constructor(K,ne,ge){this.el=K,this.zone=ne,this.config=ge,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(K){this._disabled=K,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let K=this.getTarget(this.el.nativeElement);K.addEventListener("focus",this.focusListener),K.addEventListener("blur",this.blurListener)}})}ngOnChanges(K){K.tooltipPosition&&this.setOption({tooltipPosition:K.tooltipPosition.currentValue}),K.tooltipEvent&&this.setOption({tooltipEvent:K.tooltipEvent.currentValue}),K.appendTo&&this.setOption({appendTo:K.appendTo.currentValue}),K.positionStyle&&this.setOption({positionStyle:K.positionStyle.currentValue}),K.tooltipStyleClass&&this.setOption({tooltipStyleClass:K.tooltipStyleClass.currentValue}),K.tooltipZIndex&&this.setOption({tooltipZIndex:K.tooltipZIndex.currentValue}),K.escape&&this.setOption({escape:K.escape.currentValue}),K.showDelay&&this.setOption({showDelay:K.showDelay.currentValue}),K.hideDelay&&this.setOption({hideDelay:K.hideDelay.currentValue}),K.life&&this.setOption({life:K.life.currentValue}),K.positionTop&&this.setOption({positionTop:K.positionTop.currentValue}),K.positionLeft&&this.setOption({positionLeft:K.positionLeft.currentValue}),K.disabled&&this.setOption({disabled:K.disabled.currentValue}),K.text&&(this.setOption({tooltipLabel:K.text.currentValue}),this.active&&(K.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),K.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...K.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(K){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(K){this.deactivate()}onFocus(K){this.activate()}onBlur(K){this.deactivate()}onClick(K){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let K=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},K)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let K=document.createElement("div");K.className="p-tooltip-arrow",this.container.appendChild(K),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?k.p.appendChild(this.container,this.el.nativeElement):k.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),k.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?fe.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&fe.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let K=this.el.nativeElement.getBoundingClientRect();return{left:K.left+k.p.getWindowScrollLeft(),top:K.top+k.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let K=this.getHostOffset(),ne=K.left+k.p.getOuterWidth(this.el.nativeElement),ge=K.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ne+this.getOption("positionLeft")+"px",this.container.style.top=ge+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let K=this.getHostOffset(),ne=K.left-k.p.getOuterWidth(this.container),ge=K.top+(k.p.getOuterHeight(this.el.nativeElement)-k.p.getOuterHeight(this.container))/2;this.container.style.left=ne+this.getOption("positionLeft")+"px",this.container.style.top=ge+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let K=this.getHostOffset(),ne=K.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,ge=K.top-k.p.getOuterHeight(this.container);this.container.style.left=ne+this.getOption("positionLeft")+"px",this.container.style.top=ge+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let K=this.getHostOffset(),ne=K.left+(k.p.getOuterWidth(this.el.nativeElement)-k.p.getOuterWidth(this.container))/2,ge=K.top+k.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ne+this.getOption("positionLeft")+"px",this.container.style.top=ge+this.getOption("positionTop")+"px"}setOption(K){this._tooltipOptions={...this._tooltipOptions,...K}}getOption(K){return this._tooltipOptions[K]}getTarget(K){return k.p.hasClass(K,"p-inputwrapper")?k.p.findSingle(K,"input"):K}preAlign(K){this.container.style.left="-999px",this.container.style.top="-999px";let ne="p-tooltip p-component p-tooltip-"+K;this.container.className=this.getOption("tooltipStyleClass")?ne+" "+this.getOption("tooltipStyleClass"):ne}isOutOfBounds(){let K=this.container.getBoundingClientRect(),ne=K.top,ge=K.left,Ge=k.p.getOuterWidth(this.container),Ae=k.p.getOuterHeight(this.container),Qe=k.p.getViewport();return ge+Ge>Qe.width||ge<0||ne<0||ne+Ae>Qe.height}onWindowResize(K){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new k.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let K=this.getTarget(this.el.nativeElement);K.removeEventListener("focus",this.focusListener),K.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):k.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&fe.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return Z.\u0275fac=function(K){return new(K||Z)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(j.b4))},Z.\u0275dir=h.lG2({type:Z,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[h.TTD]}),Z})(),te=(()=>{class Z{}return Z.\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=h.oAB({type:Z}),Z.\u0275inj=h.cJS({imports:[u.ez]}),Z})()},982:(jt,Ke,M)=>{M.d(Ke,{P9:()=>j,Th:()=>k,gb:()=>h});class h{static equals(te,Z,oe){return oe?this.resolveFieldData(te,oe)===this.resolveFieldData(Z,oe):this.equalsByValue(te,Z)}static equalsByValue(te,Z){if(te===Z)return!0;if(te&&Z&&"object"==typeof te&&"object"==typeof Z){var ne,ge,Ge,oe=Array.isArray(te),K=Array.isArray(Z);if(oe&&K){if((ge=te.length)!=Z.length)return!1;for(ne=ge;0!=ne--;)if(!this.equalsByValue(te[ne],Z[ne]))return!1;return!0}if(oe!=K)return!1;var Ae=te instanceof Date,Qe=Z instanceof Date;if(Ae!=Qe)return!1;if(Ae&&Qe)return te.getTime()==Z.getTime();var wt=te instanceof RegExp,tt=Z instanceof RegExp;if(wt!=tt)return!1;if(wt&&tt)return te.toString()==Z.toString();var Ne=Object.keys(te);if((ge=Ne.length)!==Object.keys(Z).length)return!1;for(ne=ge;0!=ne--;)if(!Object.prototype.hasOwnProperty.call(Z,Ne[ne]))return!1;for(ne=ge;0!=ne--;)if(!this.equalsByValue(te[Ge=Ne[ne]],Z[Ge]))return!1;return!0}return te!=te&&Z!=Z}static resolveFieldData(te,Z){if(te&&Z){if(this.isFunction(Z))return Z(te);if(-1==Z.indexOf("."))return te[Z];{let oe=Z.split("."),K=te;for(let ne=0,ge=oe.length;ne<ge;++ne){if(null==K)return null;K=K[oe[ne]]}return K}}return null}static isFunction(te){return!!(te&&te.constructor&&te.call&&te.apply)}static reorderArray(te,Z,oe){te&&Z!==oe&&(oe>=te.length&&(oe%=te.length,Z%=te.length),te.splice(oe,0,te.splice(Z,1)[0]))}static insertIntoOrderedArray(te,Z,oe,K){if(oe.length>0){let ne=!1;for(let ge=0;ge<oe.length;ge++)if(this.findIndexInList(oe[ge],K)>Z){oe.splice(ge,0,te),ne=!0;break}ne||oe.push(te)}else oe.push(te)}static findIndexInList(te,Z){let oe=-1;if(Z)for(let K=0;K<Z.length;K++)if(Z[K]==te){oe=K;break}return oe}static contains(te,Z){if(null!=te&&Z&&Z.length)for(let oe of Z)if(this.equals(te,oe))return!0;return!1}static removeAccents(te){return te&&te.search(/[\xC0-\xFF]/g)>-1&&(te=te.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),te}static isEmpty(te){return null==te||""===te||Array.isArray(te)&&0===te.length||!(te instanceof Date)&&"object"==typeof te&&0===Object.keys(te).length}static isNotEmpty(te){return!this.isEmpty(te)}}var u=0;function k(){return"pr_id_"+ ++u}var j=function fe(){let J=[];const K=ne=>ne&&parseInt(ne.style.zIndex,10)||0;return{get:K,set:(ne,ge,Ge)=>{ge&&(ge.style.zIndex=String(((ne,ge)=>{let Ge=J.length>0?J[J.length-1]:{key:ne,value:ge},Ae=Ge.value+(Ge.key===ne?0:ge)+1;return J.push({key:ne,value:Ae}),Ae})(ne,Ge)))},clear:ne=>{ne&&((ne=>{J=J.filter(ge=>ge.value!==ne)})(K(ne)),ne.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(jt,Ke,M)=>{function h(k,fe,j,J,te,Z,oe){try{var K=k[Z](oe),ne=K.value}catch(ge){return void j(ge)}K.done?fe(ne):Promise.resolve(ne).then(J,te)}function u(k){return function(){var fe=this,j=arguments;return new Promise(function(J,te){var Z=k.apply(fe,j);function oe(ne){h(Z,J,te,oe,K,"next",ne)}function K(ne){h(Z,J,te,oe,K,"throw",ne)}oe(void 0)})}}M.d(Ke,{Z:()=>u})}},jt=>{jt(jt.s=7638)}]);